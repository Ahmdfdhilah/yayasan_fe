const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/exceljs.min-C9H5vAEu.js","assets/vendor-Csw2ODfV.js","assets/excel-DQzXLhii.js"])))=>i.map(i=>d[i]);
var $5=Object.defineProperty;var F5=(t,e,n)=>e in t?$5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var V5=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Me=(t,e,n)=>F5(t,typeof e!="symbol"?e+"":e,n);import{r as x,R as ve,a as Qi,b as IC,c as pj,L as ra,u as Ei,d as iu,O as BC,e as Ug,N as to,f as $g,B as q5,g as H5,h as kt}from"./router-j06lvBm0.js";import{r as zC,a as G5,g as gj,c as Yo}from"./vendor-Csw2ODfV.js";import{c as UC,R as K5,P as Y5,a as X5,C as W5,T as Z5}from"./charts-MXNALvtl.js";import{c as pl,a as $C,b as Q5,d as J5,F as e6,R as t6,P as n6,e as s6,f as a6,g as r6,p as i6,h as o6,u as Df,i as l6,j as c6}from"./redux-oGszBZzH.js";import{a as d6,b as Bb,c as ph,d as gh,e as u6,f as gn}from"./utils-4E9rYp62.js";import{o as h6,s as f6,a as m6,F as p6,C as FC,u as g6,b as x6,c as Bs,d as Fg,e as rt,f as gs,l as us,n as tl,g as qk,r as v6,z as Od}from"./forms-DAkOKqhU.js";import{E as b6,a as y6,_ as VC}from"./pdf-C4tvgMGH.js";var Qoe=V5((Ia,Ba)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var zb={exports:{}},xh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hk;function j6(){if(Hk)return xh;Hk=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var d in i)d!=="key"&&(o[d]=i[d])}else o=i;return i=o.ref,{$$typeof:t,type:a,key:c,ref:i!==void 0?i:null,props:o}}return xh.Fragment=e,xh.jsx=n,xh.jsxs=n,xh}var Gk;function w6(){return Gk||(Gk=1,zb.exports=j6()),zb.exports}var s=w6(),Ub={exports:{}},vh={},$b={exports:{}},Fb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kk;function N6(){return Kk||(Kk=1,function(t){function e(L,V){var B=L.length;L.push(V);e:for(;0<B;){var Y=B-1>>>1,se=L[Y];if(0<i(se,V))L[Y]=V,L[B]=se,B=Y;else break e}}function n(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var V=L[0],B=L.pop();if(B!==V){L[0]=B;e:for(var Y=0,se=L.length,K=se>>>1;Y<K;){var z=2*(Y+1)-1,W=L[z],q=z+1,H=L[q];if(0>i(W,B))q<se&&0>i(H,W)?(L[Y]=H,L[q]=B,Y=q):(L[Y]=W,L[z]=B,Y=z);else if(q<se&&0>i(H,B))L[Y]=H,L[q]=B,Y=q;else break e}}return V}function i(L,V){var B=L.sortIndex-V.sortIndex;return B!==0?B:L.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],m=[],p=1,g=null,v=3,y=!1,w=!1,j=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function T(L){for(var V=n(m);V!==null;){if(V.callback===null)a(m);else if(V.startTime<=L)a(m),V.sortIndex=V.expirationTime,e(h,V);else break;V=n(m)}}function _(L){if(j=!1,T(L),!w)if(n(h)!==null)w=!0,M||(M=!0,X());else{var V=n(m);V!==null&&te(_,V.startTime-L)}}var M=!1,P=-1,O=5,I=-1;function G(){return S?!0:!(t.unstable_now()-I<O)}function R(){if(S=!1,M){var L=t.unstable_now();I=L;var V=!0;try{e:{w=!1,j&&(j=!1,E(P),P=-1),y=!0;var B=v;try{t:{for(T(L),g=n(h);g!==null&&!(g.expirationTime>L&&G());){var Y=g.callback;if(typeof Y=="function"){g.callback=null,v=g.priorityLevel;var se=Y(g.expirationTime<=L);if(L=t.unstable_now(),typeof se=="function"){g.callback=se,T(L),V=!0;break t}g===n(h)&&a(h),T(L)}else a(h);g=n(h)}if(g!==null)V=!0;else{var K=n(m);K!==null&&te(_,K.startTime-L),V=!1}}break e}finally{g=null,v=B,y=!1}V=void 0}}finally{V?X():M=!1}}}var X;if(typeof A=="function")X=function(){A(R)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Z=$.port2;$.port1.onmessage=R,X=function(){Z.postMessage(null)}}else X=function(){k(R,0)};function te(L,V){P=k(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(L){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var B=v;v=V;try{return L()}finally{v=B}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var B=v;v=L;try{return V()}finally{v=B}},t.unstable_scheduleCallback=function(L,V,B){var Y=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Y+B:Y):B=Y,L){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=B+se,L={id:p++,callback:V,priorityLevel:L,startTime:B,expirationTime:se,sortIndex:-1},B>Y?(L.sortIndex=B,e(m,L),n(h)===null&&L===n(m)&&(j?(E(P),P=-1):j=!0,te(_,B-Y))):(L.sortIndex=se,e(h,L),w||y||(w=!0,M||(M=!0,X()))),L},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(L){var V=v;return function(){var B=v;v=V;try{return L.apply(this,arguments)}finally{v=B}}}}(Fb)),Fb}var Yk;function S6(){return Yk||(Yk=1,$b.exports=N6()),$b.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xk;function k6(){if(Xk)return vh;Xk=1;var t=S6(),e=zC(),n=G5();function a(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)l+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var l=r,u=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(u=l.return),r=l.return;while(r)}return l.tag===3?u:null}function c(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(a(188))}function h(r){var l=r.alternate;if(!l){if(l=o(r),l===null)throw Error(a(188));return l!==r?null:r}for(var u=r,f=l;;){var b=u.return;if(b===null)break;var N=b.alternate;if(N===null){if(f=b.return,f!==null){u=f;continue}break}if(b.child===N.child){for(N=b.child;N;){if(N===u)return d(b),r;if(N===f)return d(b),l;N=N.sibling}throw Error(a(188))}if(u.return!==f.return)u=b,f=N;else{for(var D=!1,U=b.child;U;){if(U===u){D=!0,u=b,f=N;break}if(U===f){D=!0,f=b,u=N;break}U=U.sibling}if(!D){for(U=N.child;U;){if(U===u){D=!0,u=N,f=b;break}if(U===f){D=!0,f=N,u=b;break}U=U.sibling}if(!D)throw Error(a(189))}}if(u.alternate!==f)throw Error(a(190))}if(u.tag!==3)throw Error(a(188));return u.stateNode.current===u?r:l}function m(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=m(r),l!==null)return l;r=r.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function X(r){return r===null||typeof r!="object"?null:(r=R&&r[R]||r["@@iterator"],typeof r=="function"?r:null)}var $=Symbol.for("react.client.reference");function Z(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===$?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case w:return"Fragment";case S:return"Profiler";case j:return"StrictMode";case _:return"Suspense";case M:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case y:return"Portal";case A:return(r.displayName||"Context")+".Provider";case E:return(r._context.displayName||"Context")+".Consumer";case T:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case P:return l=r.displayName||null,l!==null?l:Z(r.type)||"Memo";case O:l=r._payload,r=r._init;try{return Z(r(l))}catch{}}return null}var te=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},Y=[],se=-1;function K(r){return{current:r}}function z(r){0>se||(r.current=Y[se],Y[se]=null,se--)}function W(r,l){se++,Y[se]=r.current,r.current=l}var q=K(null),H=K(null),ee=K(null),ne=K(null);function ie(r,l){switch(W(ee,l),W(H,r),W(q,null),l.nodeType){case 9:case 11:r=(r=l.documentElement)&&(r=r.namespaceURI)?vk(r):0;break;default:if(r=l.tagName,l=l.namespaceURI)l=vk(l),r=bk(l,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}z(q),W(q,r)}function he(){z(q),z(H),z(ee)}function ae(r){r.memoizedState!==null&&W(ne,r);var l=q.current,u=bk(l,r.type);l!==u&&(W(H,r),W(q,u))}function ue(r){H.current===r&&(z(q),z(H)),ne.current===r&&(z(ne),dh._currentValue=B)}var ce=Object.prototype.hasOwnProperty,Ce=t.unstable_scheduleCallback,Oe=t.unstable_cancelCallback,nt=t.unstable_shouldYield,De=t.unstable_requestPaint,ke=t.unstable_now,it=t.unstable_getCurrentPriorityLevel,Le=t.unstable_ImmediatePriority,Qe=t.unstable_UserBlockingPriority,Ae=t.unstable_NormalPriority,Ie=t.unstable_LowPriority,Nt=t.unstable_IdlePriority,hn=t.log,ea=t.unstable_setDisableYieldValue,vs=null,Ft=null;function on(r){if(typeof hn=="function"&&ea(r),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(vs,r)}catch{}}var Vt=Math.clz32?Math.clz32:Jn,Gt=Math.log,Tn=Math.LN2;function Jn(r){return r>>>=0,r===0?32:31-(Gt(r)/Tn|0)|0}var Ts=256,Us=4194304;function Nn(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function _s(r,l,u){var f=r.pendingLanes;if(f===0)return 0;var b=0,N=r.suspendedLanes,D=r.pingedLanes;r=r.warmLanes;var U=f&134217727;return U!==0?(f=U&~N,f!==0?b=Nn(f):(D&=U,D!==0?b=Nn(D):u||(u=U&~r,u!==0&&(b=Nn(u))))):(U=f&~N,U!==0?b=Nn(U):D!==0?b=Nn(D):u||(u=f&~r,u!==0&&(b=Nn(u)))),b===0?0:l!==0&&l!==b&&(l&N)===0&&(N=b&-b,u=l&-l,N>=u||N===32&&(u&4194048)!==0)?l:b}function bs(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function ys(r,l){switch(r){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qt(){var r=Ts;return Ts<<=1,(Ts&4194048)===0&&(Ts=256),r}function ta(){var r=Us;return Us<<=1,(Us&62914560)===0&&(Us=4194304),r}function $s(r){for(var l=[],u=0;31>u;u++)l.push(r);return l}function Rt(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ln(r,l,u,f,b,N){var D=r.pendingLanes;r.pendingLanes=u,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=u,r.entangledLanes&=u,r.errorRecoveryDisabledLanes&=u,r.shellSuspendCounter=0;var U=r.entanglements,Q=r.expirationTimes,de=r.hiddenUpdates;for(u=D&~u;0<u;){var be=31-Vt(u),Se=1<<be;U[be]=0,Q[be]=-1;var fe=de[be];if(fe!==null)for(de[be]=null,be=0;be<fe.length;be++){var me=fe[be];me!==null&&(me.lane&=-536870913)}u&=~Se}f!==0&&qe(r,f,0),N!==0&&b===0&&r.tag!==0&&(r.suspendedLanes|=N&~(D&~l))}function qe(r,l,u){r.pendingLanes|=l,r.suspendedLanes&=~l;var f=31-Vt(l);r.entangledLanes|=l,r.entanglements[f]=r.entanglements[f]|1073741824|u&4194090}function bt(r,l){var u=r.entangledLanes|=l;for(r=r.entanglements;u;){var f=31-Vt(u),b=1<<f;b&l|r[f]&l&&(r[f]|=l),u&=~b}}function gt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function yt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function cn(){var r=V.p;return r!==0?r:(r=window.event,r===void 0?32:Bk(r.type))}function Kt(r,l){var u=V.p;try{return V.p=r,l()}finally{V.p=u}}var dt=Math.random().toString(36).slice(2),Bt="__reactFiber$"+dt,xt="__reactProps$"+dt,qt="__reactContainer$"+dt,Rs="__reactEvents$"+dt,zn="__reactListeners$"+dt,Xt="__reactHandles$"+dt,qa="__reactResources$"+dt,Na="__reactMarker$"+dt;function Sl(r){delete r[Bt],delete r[xt],delete r[Rs],delete r[zn],delete r[Xt]}function Xr(r){var l=r[Bt];if(l)return l;for(var u=r.parentNode;u;){if(l=u[qt]||u[Bt]){if(u=l.alternate,l.child!==null||u!==null&&u.child!==null)for(r=Nk(r);r!==null;){if(u=r[Bt])return u;r=Nk(r)}return l}r=u,u=r.parentNode}return null}function Wr(r){if(r=r[Bt]||r[qt]){var l=r.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return r}return null}function _n(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(a(33))}function Zr(r){var l=r[qa];return l||(l=r[qa]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Rn(r){r[Na]=!0}var Ec=new Set,Ac={};function yr(r,l){Un(r,l),Un(r+"Capture",l)}function Un(r,l){for(Ac[r]=l,r=0;r<l.length;r++)Ec.add(l[r])}var ju=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cc={},Tc={};function wu(r){return ce.call(Tc,r)?!0:ce.call(Cc,r)?!1:ju.test(r)?Tc[r]=!0:(Cc[r]=!0,!1)}function fo(r,l,u){if(wu(l))if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var f=l.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+u)}}function jr(r,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+u)}}function la(r,l,u,f){if(f===null)r.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(u);return}r.setAttributeNS(l,u,""+f)}}var Qr,Sa;function Ha(r){if(Qr===void 0)try{throw Error()}catch(u){var l=u.stack.trim().match(/\n( *(at )?)/);Qr=l&&l[1]||"",Sa=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qr+r+Sa}var kl=!1;function El(r,l){if(!r||kl)return"";kl=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(l){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(me){var fe=me}Reflect.construct(r,[],Se)}else{try{Se.call()}catch(me){fe=me}r.call(Se.prototype)}}else{try{throw Error()}catch(me){fe=me}(Se=r())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(me){if(me&&fe&&typeof me.stack=="string")return[me.stack,fe.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=f.DetermineComponentFrameRoot(),D=N[0],U=N[1];if(D&&U){var Q=D.split(`
`),de=U.split(`
`);for(b=f=0;f<Q.length&&!Q[f].includes("DetermineComponentFrameRoot");)f++;for(;b<de.length&&!de[b].includes("DetermineComponentFrameRoot");)b++;if(f===Q.length||b===de.length)for(f=Q.length-1,b=de.length-1;1<=f&&0<=b&&Q[f]!==de[b];)b--;for(;1<=f&&0<=b;f--,b--)if(Q[f]!==de[b]){if(f!==1||b!==1)do if(f--,b--,0>b||Q[f]!==de[b]){var be=`
`+Q[f].replace(" at new "," at ");return r.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",r.displayName)),be}while(1<=f&&0<=b);break}}}finally{kl=!1,Error.prepareStackTrace=u}return(u=r?r.displayName||r.name:"")?Ha(u):""}function Nu(r){switch(r.tag){case 26:case 27:case 5:return Ha(r.type);case 16:return Ha("Lazy");case 13:return Ha("Suspense");case 19:return Ha("SuspenseList");case 0:case 15:return El(r.type,!1);case 11:return El(r.type.render,!1);case 1:return El(r.type,!0);case 31:return Ha("Activity");default:return""}}function _c(r){try{var l="";do l+=Nu(r),r=r.return;while(r);return l}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Fs(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function _i(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Al(r){var l=_i(r)?"checked":"value",u=Object.getOwnPropertyDescriptor(r.constructor.prototype,l),f=""+r[l];if(!r.hasOwnProperty(l)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var b=u.get,N=u.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return b.call(this)},set:function(D){f=""+D,N.call(this,D)}}),Object.defineProperty(r,l,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(D){f=""+D},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function Ga(r){r._valueTracker||(r._valueTracker=Al(r))}function Cl(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var u=l.getValue(),f="";return r&&(f=_i(r)?r.checked?"true":"false":r.value),r=f,r!==u?(l.setValue(r),!0):!1}function Ri(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Su=/[\n"\\]/g;function Vs(r){return r.replace(Su,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Tl(r,l,u,f,b,N,D,U){r.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.type=D:r.removeAttribute("type"),l!=null?D==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+Fs(l)):r.value!==""+Fs(l)&&(r.value=""+Fs(l)):D!=="submit"&&D!=="reset"||r.removeAttribute("value"),l!=null?Di(r,D,Fs(l)):u!=null?Di(r,D,Fs(u)):f!=null&&r.removeAttribute("value"),b==null&&N!=null&&(r.defaultChecked=!!N),b!=null&&(r.checked=b&&typeof b!="function"&&typeof b!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?r.name=""+Fs(U):r.removeAttribute("name")}function Rc(r,l,u,f,b,N,D,U){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(r.type=N),l!=null||u!=null){if(!(N!=="submit"&&N!=="reset"||l!=null))return;u=u!=null?""+Fs(u):"",l=l!=null?""+Fs(l):u,U||l===r.value||(r.value=l),r.defaultValue=l}f=f??b,f=typeof f!="function"&&typeof f!="symbol"&&!!f,r.checked=U?r.checked:!!f,r.defaultChecked=!!f,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(r.name=D)}function Di(r,l,u){l==="number"&&Ri(r.ownerDocument)===r||r.defaultValue===""+u||(r.defaultValue=""+u)}function Jr(r,l,u,f){if(r=r.options,l){l={};for(var b=0;b<u.length;b++)l["$"+u[b]]=!0;for(u=0;u<r.length;u++)b=l.hasOwnProperty("$"+r[u].value),r[u].selected!==b&&(r[u].selected=b),b&&f&&(r[u].defaultSelected=!0)}else{for(u=""+Fs(u),l=null,b=0;b<r.length;b++){if(r[b].value===u){r[b].selected=!0,f&&(r[b].defaultSelected=!0);return}l!==null||r[b].disabled||(l=r[b])}l!==null&&(l.selected=!0)}}function Dc(r,l,u){if(l!=null&&(l=""+Fs(l),l!==r.value&&(r.value=l),u==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=u!=null?""+Fs(u):""}function ei(r,l,u,f){if(l==null){if(f!=null){if(u!=null)throw Error(a(92));if(te(f)){if(1<f.length)throw Error(a(93));f=f[0]}u=f}u==null&&(u=""),l=u}u=Fs(l),r.defaultValue=u,f=r.textContent,f===u&&f!==""&&f!==null&&(r.value=f)}function js(r,l){if(l){var u=r.firstChild;if(u&&u===r.lastChild&&u.nodeType===3){u.nodeValue=l;return}}r.textContent=l}var wr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ka(r,l,u){var f=l.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":f?r.setProperty(l,u):typeof u!="number"||u===0||wr.has(l)?l==="float"?r.cssFloat=u:r[l]=(""+u).trim():r[l]=u+"px"}function Mc(r,l,u){if(l!=null&&typeof l!="object")throw Error(a(62));if(r=r.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||l!=null&&l.hasOwnProperty(f)||(f.indexOf("--")===0?r.setProperty(f,""):f==="float"?r.cssFloat="":r[f]="");for(var b in l)f=l[b],l.hasOwnProperty(b)&&u[b]!==f&&Ka(r,b,f)}else for(var N in l)l.hasOwnProperty(N)&&Ka(r,N,l[N])}function ca(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Eu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mo(r){return Eu.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var _l=null;function po(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Dn=null,Nr=null;function Rl(r){var l=Wr(r);if(l&&(r=l.stateNode)){var u=r[xt]||null;e:switch(r=l.stateNode,l.type){case"input":if(Tl(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),l=u.name,u.type==="radio"&&l!=null){for(u=r;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Vs(""+l)+'"][type="radio"]'),l=0;l<u.length;l++){var f=u[l];if(f!==r&&f.form===r.form){var b=f[xt]||null;if(!b)throw Error(a(90));Tl(f,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<u.length;l++)f=u[l],f.form===r.form&&Cl(f)}break e;case"textarea":Dc(r,u.value,u.defaultValue);break e;case"select":l=u.value,l!=null&&Jr(r,!!u.multiple,l,!1)}}}var ti=!1;function go(r,l,u){if(ti)return r(l,u);ti=!0;try{var f=r(l);return f}finally{if(ti=!1,(Dn!==null||Nr!==null)&&($m(),Dn&&(l=Dn,r=Nr,Nr=Dn=null,Rl(l),r)))for(l=0;l<r.length;l++)Rl(r[l])}}function Ya(r,l){var u=r.stateNode;if(u===null)return null;var f=u[xt]||null;if(f===null)return null;u=f[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(r=r.type,f=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!f;break e;default:r=!1}if(r)return null;if(u&&typeof u!="function")throw Error(a(231,l,typeof u));return u}var ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xo=!1;if(ka)try{var Sr={};Object.defineProperty(Sr,"passive",{get:function(){xo=!0}}),window.addEventListener("test",Sr,Sr),window.removeEventListener("test",Sr,Sr)}catch{xo=!1}var Ea=null,da=null,Mi=null;function vo(){if(Mi)return Mi;var r,l=da,u=l.length,f,b="value"in Ea?Ea.value:Ea.textContent,N=b.length;for(r=0;r<u&&l[r]===b[r];r++);var D=u-r;for(f=1;f<=D&&l[u-f]===b[N-f];f++);return Mi=b.slice(r,1<f?1-f:void 0)}function bo(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function yo(){return!0}function C(){return!1}function F(r){function l(u,f,b,N,D){this._reactName=u,this._targetInst=b,this.type=f,this.nativeEvent=N,this.target=D,this.currentTarget=null;for(var U in r)r.hasOwnProperty(U)&&(u=r[U],this[U]=u?u(N):N[U]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?yo:C,this.isPropagationStopped=C,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=yo)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=yo)},persist:function(){},isPersistent:yo}),l}var J={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xe=F(J),ut=p({},J,{view:0,detail:0}),Je=F(ut),Dt,Et,fn,Pt=p({},ut,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gx,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==fn&&(fn&&r.type==="mousemove"?(Dt=r.screenX-fn.screenX,Et=r.screenY-fn.screenY):Et=Dt=0,fn=r),Dt)},movementY:function(r){return"movementY"in r?r.movementY:Et}}),rs=F(Pt),qs=p({},Pt,{dataTransfer:0}),$n=F(qs),ws=p({},ut,{relatedTarget:0}),Fn=F(ws),ni=p({},J,{animationName:0,elapsedTime:0,pseudoElement:0}),kr=F(ni),Pi=p({},J,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),om=F(Pi),Pc=p({},J,{data:0}),Dl=F(Pc),W3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J3(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=Q3[r])?!!l[r]:!1}function Gx(){return J3}var eL=p({},ut,{key:function(r){if(r.key){var l=W3[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=bo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Z3[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gx,charCode:function(r){return r.type==="keypress"?bo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?bo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),tL=F(eL),nL=p({},Pt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ew=F(nL),sL=p({},ut,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gx}),aL=F(sL),rL=p({},J,{propertyName:0,elapsedTime:0,pseudoElement:0}),iL=F(rL),oL=p({},Pt,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),lL=F(oL),cL=p({},J,{newState:0,oldState:0}),dL=F(cL),uL=[9,13,27,32],Kx=ka&&"CompositionEvent"in window,Au=null;ka&&"documentMode"in document&&(Au=document.documentMode);var hL=ka&&"TextEvent"in window&&!Au,Aw=ka&&(!Kx||Au&&8<Au&&11>=Au),Cw=" ",Tw=!1;function _w(r,l){switch(r){case"keyup":return uL.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rw(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Oc=!1;function fL(r,l){switch(r){case"compositionend":return Rw(l);case"keypress":return l.which!==32?null:(Tw=!0,Cw);case"textInput":return r=l.data,r===Cw&&Tw?null:r;default:return null}}function mL(r,l){if(Oc)return r==="compositionend"||!Kx&&_w(r,l)?(r=vo(),Mi=da=Ea=null,Oc=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Aw&&l.locale!=="ko"?null:l.data;default:return null}}var pL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dw(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!pL[r.type]:l==="textarea"}function Mw(r,l,u,f){Dn?Nr?Nr.push(f):Nr=[f]:Dn=f,l=Km(l,"onChange"),0<l.length&&(u=new xe("onChange","change",null,u,f),r.push({event:u,listeners:l}))}var Cu=null,Tu=null;function gL(r){fk(r,0)}function lm(r){var l=_n(r);if(Cl(l))return r}function Pw(r,l){if(r==="change")return l}var Ow=!1;if(ka){var Yx;if(ka){var Xx="oninput"in document;if(!Xx){var Lw=document.createElement("div");Lw.setAttribute("oninput","return;"),Xx=typeof Lw.oninput=="function"}Yx=Xx}else Yx=!1;Ow=Yx&&(!document.documentMode||9<document.documentMode)}function Iw(){Cu&&(Cu.detachEvent("onpropertychange",Bw),Tu=Cu=null)}function Bw(r){if(r.propertyName==="value"&&lm(Tu)){var l=[];Mw(l,Tu,r,po(r)),go(gL,l)}}function xL(r,l,u){r==="focusin"?(Iw(),Cu=l,Tu=u,Cu.attachEvent("onpropertychange",Bw)):r==="focusout"&&Iw()}function vL(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return lm(Tu)}function bL(r,l){if(r==="click")return lm(l)}function yL(r,l){if(r==="input"||r==="change")return lm(l)}function jL(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var Aa=typeof Object.is=="function"?Object.is:jL;function _u(r,l){if(Aa(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var u=Object.keys(r),f=Object.keys(l);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var b=u[f];if(!ce.call(l,b)||!Aa(r[b],l[b]))return!1}return!0}function zw(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Uw(r,l){var u=zw(r);r=0;for(var f;u;){if(u.nodeType===3){if(f=r+u.textContent.length,r<=l&&f>=l)return{node:u,offset:l-r};r=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=zw(u)}}function $w(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?$w(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function Fw(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=Ri(r.document);l instanceof r.HTMLIFrameElement;){try{var u=typeof l.contentWindow.location.href=="string"}catch{u=!1}if(u)r=l.contentWindow;else break;l=Ri(r.document)}return l}function Wx(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}var wL=ka&&"documentMode"in document&&11>=document.documentMode,Lc=null,Zx=null,Ru=null,Qx=!1;function Vw(r,l,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Qx||Lc==null||Lc!==Ri(f)||(f=Lc,"selectionStart"in f&&Wx(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Ru&&_u(Ru,f)||(Ru=f,f=Km(Zx,"onSelect"),0<f.length&&(l=new xe("onSelect","select",null,l,u),r.push({event:l,listeners:f}),l.target=Lc)))}function Ml(r,l){var u={};return u[r.toLowerCase()]=l.toLowerCase(),u["Webkit"+r]="webkit"+l,u["Moz"+r]="moz"+l,u}var Ic={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionrun:Ml("Transition","TransitionRun"),transitionstart:Ml("Transition","TransitionStart"),transitioncancel:Ml("Transition","TransitionCancel"),transitionend:Ml("Transition","TransitionEnd")},Jx={},qw={};ka&&(qw=document.createElement("div").style,"AnimationEvent"in window||(delete Ic.animationend.animation,delete Ic.animationiteration.animation,delete Ic.animationstart.animation),"TransitionEvent"in window||delete Ic.transitionend.transition);function Pl(r){if(Jx[r])return Jx[r];if(!Ic[r])return r;var l=Ic[r],u;for(u in l)if(l.hasOwnProperty(u)&&u in qw)return Jx[r]=l[u];return r}var Hw=Pl("animationend"),Gw=Pl("animationiteration"),Kw=Pl("animationstart"),NL=Pl("transitionrun"),SL=Pl("transitionstart"),kL=Pl("transitioncancel"),Yw=Pl("transitionend"),Xw=new Map,ev="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ev.push("scrollEnd");function Er(r,l){Xw.set(r,l),yr(l,[r])}var Ww=new WeakMap;function Xa(r,l){if(typeof r=="object"&&r!==null){var u=Ww.get(r);return u!==void 0?u:(l={value:r,source:l,stack:_c(l)},Ww.set(r,l),l)}return{value:r,source:l,stack:_c(l)}}var Wa=[],Bc=0,tv=0;function cm(){for(var r=Bc,l=tv=Bc=0;l<r;){var u=Wa[l];Wa[l++]=null;var f=Wa[l];Wa[l++]=null;var b=Wa[l];Wa[l++]=null;var N=Wa[l];if(Wa[l++]=null,f!==null&&b!==null){var D=f.pending;D===null?b.next=b:(b.next=D.next,D.next=b),f.pending=b}N!==0&&Zw(u,b,N)}}function dm(r,l,u,f){Wa[Bc++]=r,Wa[Bc++]=l,Wa[Bc++]=u,Wa[Bc++]=f,tv|=f,r.lanes|=f,r=r.alternate,r!==null&&(r.lanes|=f)}function nv(r,l,u,f){return dm(r,l,u,f),um(r)}function zc(r,l){return dm(r,null,null,l),um(r)}function Zw(r,l,u){r.lanes|=u;var f=r.alternate;f!==null&&(f.lanes|=u);for(var b=!1,N=r.return;N!==null;)N.childLanes|=u,f=N.alternate,f!==null&&(f.childLanes|=u),N.tag===22&&(r=N.stateNode,r===null||r._visibility&1||(b=!0)),r=N,N=N.return;return r.tag===3?(N=r.stateNode,b&&l!==null&&(b=31-Vt(u),r=N.hiddenUpdates,f=r[b],f===null?r[b]=[l]:f.push(l),l.lane=u|536870912),N):null}function um(r){if(50<nh)throw nh=0,lb=null,Error(a(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var Uc={};function EL(r,l,u,f){this.tag=r,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ca(r,l,u,f){return new EL(r,l,u,f)}function sv(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Oi(r,l){var u=r.alternate;return u===null?(u=Ca(r.tag,l,r.key,r.mode),u.elementType=r.elementType,u.type=r.type,u.stateNode=r.stateNode,u.alternate=r,r.alternate=u):(u.pendingProps=l,u.type=r.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=r.flags&65011712,u.childLanes=r.childLanes,u.lanes=r.lanes,u.child=r.child,u.memoizedProps=r.memoizedProps,u.memoizedState=r.memoizedState,u.updateQueue=r.updateQueue,l=r.dependencies,u.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},u.sibling=r.sibling,u.index=r.index,u.ref=r.ref,u.refCleanup=r.refCleanup,u}function Qw(r,l){r.flags&=65011714;var u=r.alternate;return u===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=u.childLanes,r.lanes=u.lanes,r.child=u.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,r.type=u.type,l=u.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function hm(r,l,u,f,b,N){var D=0;if(f=r,typeof r=="function")sv(r)&&(D=1);else if(typeof r=="string")D=C5(r,u,q.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=Ca(31,u,l,b),r.elementType=I,r.lanes=N,r;case w:return Ol(u.children,b,N,l);case j:D=8,b|=24;break;case S:return r=Ca(12,u,l,b|2),r.elementType=S,r.lanes=N,r;case _:return r=Ca(13,u,l,b),r.elementType=_,r.lanes=N,r;case M:return r=Ca(19,u,l,b),r.elementType=M,r.lanes=N,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:case A:D=10;break e;case E:D=9;break e;case T:D=11;break e;case P:D=14;break e;case O:D=16,f=null;break e}D=29,u=Error(a(130,r===null?"null":typeof r,"")),f=null}return l=Ca(D,u,l,b),l.elementType=r,l.type=f,l.lanes=N,l}function Ol(r,l,u,f){return r=Ca(7,r,f,l),r.lanes=u,r}function av(r,l,u){return r=Ca(6,r,null,l),r.lanes=u,r}function rv(r,l,u){return l=Ca(4,r.children!==null?r.children:[],r.key,l),l.lanes=u,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}var $c=[],Fc=0,fm=null,mm=0,Za=[],Qa=0,Ll=null,Li=1,Ii="";function Il(r,l){$c[Fc++]=mm,$c[Fc++]=fm,fm=r,mm=l}function Jw(r,l,u){Za[Qa++]=Li,Za[Qa++]=Ii,Za[Qa++]=Ll,Ll=r;var f=Li;r=Ii;var b=32-Vt(f)-1;f&=~(1<<b),u+=1;var N=32-Vt(l)+b;if(30<N){var D=b-b%5;N=(f&(1<<D)-1).toString(32),f>>=D,b-=D,Li=1<<32-Vt(l)+b|u<<b|f,Ii=N+r}else Li=1<<N|u<<b|f,Ii=r}function iv(r){r.return!==null&&(Il(r,1),Jw(r,1,0))}function ov(r){for(;r===fm;)fm=$c[--Fc],$c[Fc]=null,mm=$c[--Fc],$c[Fc]=null;for(;r===Ll;)Ll=Za[--Qa],Za[Qa]=null,Ii=Za[--Qa],Za[Qa]=null,Li=Za[--Qa],Za[Qa]=null}var na=null,Mn=null,Yt=!1,Bl=null,si=!1,lv=Error(a(519));function zl(r){var l=Error(a(418,""));throw Pu(Xa(l,r)),lv}function eN(r){var l=r.stateNode,u=r.type,f=r.memoizedProps;switch(l[Bt]=r,l[xt]=f,u){case"dialog":Ct("cancel",l),Ct("close",l);break;case"iframe":case"object":case"embed":Ct("load",l);break;case"video":case"audio":for(u=0;u<ah.length;u++)Ct(ah[u],l);break;case"source":Ct("error",l);break;case"img":case"image":case"link":Ct("error",l),Ct("load",l);break;case"details":Ct("toggle",l);break;case"input":Ct("invalid",l),Rc(l,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Ga(l);break;case"select":Ct("invalid",l);break;case"textarea":Ct("invalid",l),ei(l,f.value,f.defaultValue,f.children),Ga(l)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||l.textContent===""+u||f.suppressHydrationWarning===!0||xk(l.textContent,u)?(f.popover!=null&&(Ct("beforetoggle",l),Ct("toggle",l)),f.onScroll!=null&&Ct("scroll",l),f.onScrollEnd!=null&&Ct("scrollend",l),f.onClick!=null&&(l.onclick=Ym),l=!0):l=!1,l||zl(r)}function tN(r){for(na=r.return;na;)switch(na.tag){case 5:case 13:si=!1;return;case 27:case 3:si=!0;return;default:na=na.return}}function Du(r){if(r!==na)return!1;if(!Yt)return tN(r),Yt=!0,!1;var l=r.tag,u;if((u=l!==3&&l!==27)&&((u=l===5)&&(u=r.type,u=!(u!=="form"&&u!=="button")||Sb(r.type,r.memoizedProps)),u=!u),u&&Mn&&zl(r),tN(r),l===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,l=0;r;){if(r.nodeType===8)if(u=r.data,u==="/$"){if(l===0){Mn=Cr(r.nextSibling);break e}l--}else u!=="$"&&u!=="$!"&&u!=="$?"||l++;r=r.nextSibling}Mn=null}}else l===27?(l=Mn,Lo(r.type)?(r=Cb,Cb=null,Mn=r):Mn=l):Mn=na?Cr(r.stateNode.nextSibling):null;return!0}function Mu(){Mn=na=null,Yt=!1}function nN(){var r=Bl;return r!==null&&(fa===null?fa=r:fa.push.apply(fa,r),Bl=null),r}function Pu(r){Bl===null?Bl=[r]:Bl.push(r)}var cv=K(null),Ul=null,Bi=null;function jo(r,l,u){W(cv,l._currentValue),l._currentValue=u}function zi(r){r._currentValue=cv.current,z(cv)}function dv(r,l,u){for(;r!==null;){var f=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,f!==null&&(f.childLanes|=l)):f!==null&&(f.childLanes&l)!==l&&(f.childLanes|=l),r===u)break;r=r.return}}function uv(r,l,u,f){var b=r.child;for(b!==null&&(b.return=r);b!==null;){var N=b.dependencies;if(N!==null){var D=b.child;N=N.firstContext;e:for(;N!==null;){var U=N;N=b;for(var Q=0;Q<l.length;Q++)if(U.context===l[Q]){N.lanes|=u,U=N.alternate,U!==null&&(U.lanes|=u),dv(N.return,u,r),f||(D=null);break e}N=U.next}}else if(b.tag===18){if(D=b.return,D===null)throw Error(a(341));D.lanes|=u,N=D.alternate,N!==null&&(N.lanes|=u),dv(D,u,r),D=null}else D=b.child;if(D!==null)D.return=b;else for(D=b;D!==null;){if(D===r){D=null;break}if(b=D.sibling,b!==null){b.return=D.return,D=b;break}D=D.return}b=D}}function Ou(r,l,u,f){r=null;for(var b=l,N=!1;b!==null;){if(!N){if((b.flags&524288)!==0)N=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var D=b.alternate;if(D===null)throw Error(a(387));if(D=D.memoizedProps,D!==null){var U=b.type;Aa(b.pendingProps.value,D.value)||(r!==null?r.push(U):r=[U])}}else if(b===ne.current){if(D=b.alternate,D===null)throw Error(a(387));D.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(r!==null?r.push(dh):r=[dh])}b=b.return}r!==null&&uv(l,r,u,f),l.flags|=262144}function pm(r){for(r=r.firstContext;r!==null;){if(!Aa(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function $l(r){Ul=r,Bi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Hs(r){return sN(Ul,r)}function gm(r,l){return Ul===null&&$l(r),sN(r,l)}function sN(r,l){var u=l._currentValue;if(l={context:l,memoizedValue:u,next:null},Bi===null){if(r===null)throw Error(a(308));Bi=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else Bi=Bi.next=l;return u}var AL=typeof AbortController<"u"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(u,f){r.push(f)}};this.abort=function(){l.aborted=!0,r.forEach(function(u){return u()})}},CL=t.unstable_scheduleCallback,TL=t.unstable_NormalPriority,is={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hv(){return{controller:new AL,data:new Map,refCount:0}}function Lu(r){r.refCount--,r.refCount===0&&CL(TL,function(){r.controller.abort()})}var Iu=null,fv=0,Vc=0,qc=null;function _L(r,l){if(Iu===null){var u=Iu=[];fv=0,Vc=pb(),qc={status:"pending",value:void 0,then:function(f){u.push(f)}}}return fv++,l.then(aN,aN),l}function aN(){if(--fv===0&&Iu!==null){qc!==null&&(qc.status="fulfilled");var r=Iu;Iu=null,Vc=0,qc=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function RL(r,l){var u=[],f={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return r.then(function(){f.status="fulfilled",f.value=l;for(var b=0;b<u.length;b++)(0,u[b])(l)},function(b){for(f.status="rejected",f.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),f}var rN=L.S;L.S=function(r,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&_L(r,l),rN!==null&&rN(r,l)};var Fl=K(null);function mv(){var r=Fl.current;return r!==null?r:mn.pooledCache}function xm(r,l){l===null?W(Fl,Fl.current):W(Fl,l.pool)}function iN(){var r=mv();return r===null?null:{parent:is._currentValue,pool:r}}var Bu=Error(a(460)),oN=Error(a(474)),vm=Error(a(542)),pv={then:function(){}};function lN(r){return r=r.status,r==="fulfilled"||r==="rejected"}function bm(){}function cN(r,l,u){switch(u=r[u],u===void 0?r.push(l):u!==l&&(l.then(bm,bm),l=u),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,uN(r),r;default:if(typeof l.status=="string")l.then(bm,bm);else{if(r=mn,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=l,r.status="pending",r.then(function(f){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=f}},function(f){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=f}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,uN(r),r}throw zu=l,Bu}}var zu=null;function dN(){if(zu===null)throw Error(a(459));var r=zu;return zu=null,r}function uN(r){if(r===Bu||r===vm)throw Error(a(483))}var wo=!1;function gv(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xv(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function No(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function So(r,l,u){var f=r.updateQueue;if(f===null)return null;if(f=f.shared,(Wt&2)!==0){var b=f.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),f.pending=l,l=um(r),Zw(r,null,u),l}return dm(r,f,l,u),um(r)}function Uu(r,l,u){if(l=l.updateQueue,l!==null&&(l=l.shared,(u&4194048)!==0)){var f=l.lanes;f&=r.pendingLanes,u|=f,l.lanes=u,bt(r,u)}}function vv(r,l){var u=r.updateQueue,f=r.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var b=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var D={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};N===null?b=N=D:N=N.next=D,u=u.next}while(u!==null);N===null?b=N=l:N=N.next=l}else b=N=l;u={baseState:f.baseState,firstBaseUpdate:b,lastBaseUpdate:N,shared:f.shared,callbacks:f.callbacks},r.updateQueue=u;return}r=u.lastBaseUpdate,r===null?u.firstBaseUpdate=l:r.next=l,u.lastBaseUpdate=l}var bv=!1;function $u(){if(bv){var r=qc;if(r!==null)throw r}}function Fu(r,l,u,f){bv=!1;var b=r.updateQueue;wo=!1;var N=b.firstBaseUpdate,D=b.lastBaseUpdate,U=b.shared.pending;if(U!==null){b.shared.pending=null;var Q=U,de=Q.next;Q.next=null,D===null?N=de:D.next=de,D=Q;var be=r.alternate;be!==null&&(be=be.updateQueue,U=be.lastBaseUpdate,U!==D&&(U===null?be.firstBaseUpdate=de:U.next=de,be.lastBaseUpdate=Q))}if(N!==null){var Se=b.baseState;D=0,be=de=Q=null,U=N;do{var fe=U.lane&-536870913,me=fe!==U.lane;if(me?(zt&fe)===fe:(f&fe)===fe){fe!==0&&fe===Vc&&(bv=!0),be!==null&&(be=be.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var ft=r,ot=U;fe=l;var tn=u;switch(ot.tag){case 1:if(ft=ot.payload,typeof ft=="function"){Se=ft.call(tn,Se,fe);break e}Se=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=ot.payload,fe=typeof ft=="function"?ft.call(tn,Se,fe):ft,fe==null)break e;Se=p({},Se,fe);break e;case 2:wo=!0}}fe=U.callback,fe!==null&&(r.flags|=64,me&&(r.flags|=8192),me=b.callbacks,me===null?b.callbacks=[fe]:me.push(fe))}else me={lane:fe,tag:U.tag,payload:U.payload,callback:U.callback,next:null},be===null?(de=be=me,Q=Se):be=be.next=me,D|=fe;if(U=U.next,U===null){if(U=b.shared.pending,U===null)break;me=U,U=me.next,me.next=null,b.lastBaseUpdate=me,b.shared.pending=null}}while(!0);be===null&&(Q=Se),b.baseState=Q,b.firstBaseUpdate=de,b.lastBaseUpdate=be,N===null&&(b.shared.lanes=0),Do|=D,r.lanes=D,r.memoizedState=Se}}function hN(r,l){if(typeof r!="function")throw Error(a(191,r));r.call(l)}function fN(r,l){var u=r.callbacks;if(u!==null)for(r.callbacks=null,r=0;r<u.length;r++)hN(u[r],l)}var Hc=K(null),ym=K(0);function mN(r,l){r=Gi,W(ym,r),W(Hc,l),Gi=r|l.baseLanes}function yv(){W(ym,Gi),W(Hc,Hc.current)}function jv(){Gi=ym.current,z(Hc),z(ym)}var ko=0,jt=null,Jt=null,es=null,jm=!1,Gc=!1,Vl=!1,wm=0,Vu=0,Kc=null,DL=0;function Vn(){throw Error(a(321))}function wv(r,l){if(l===null)return!1;for(var u=0;u<l.length&&u<r.length;u++)if(!Aa(r[u],l[u]))return!1;return!0}function Nv(r,l,u,f,b,N){return ko=N,jt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,L.H=r===null||r.memoizedState===null?ZN:QN,Vl=!1,N=u(f,b),Vl=!1,Gc&&(N=gN(l,u,f,b)),pN(r),N}function pN(r){L.H=Cm;var l=Jt!==null&&Jt.next!==null;if(ko=0,es=Jt=jt=null,jm=!1,Vu=0,Kc=null,l)throw Error(a(300));r===null||Ns||(r=r.dependencies,r!==null&&pm(r)&&(Ns=!0))}function gN(r,l,u,f){jt=r;var b=0;do{if(Gc&&(Kc=null),Vu=0,Gc=!1,25<=b)throw Error(a(301));if(b+=1,es=Jt=null,r.updateQueue!=null){var N=r.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}L.H=zL,N=l(u,f)}while(Gc);return N}function ML(){var r=L.H,l=r.useState()[0];return l=typeof l.then=="function"?qu(l):l,r=r.useState()[0],(Jt!==null?Jt.memoizedState:null)!==r&&(jt.flags|=1024),l}function Sv(){var r=wm!==0;return wm=0,r}function kv(r,l,u){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~u}function Ev(r){if(jm){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}jm=!1}ko=0,es=Jt=jt=null,Gc=!1,Vu=wm=0,Kc=null}function ua(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return es===null?jt.memoizedState=es=r:es=es.next=r,es}function ts(){if(Jt===null){var r=jt.alternate;r=r!==null?r.memoizedState:null}else r=Jt.next;var l=es===null?jt.memoizedState:es.next;if(l!==null)es=l,Jt=r;else{if(r===null)throw jt.alternate===null?Error(a(467)):Error(a(310));Jt=r,r={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},es===null?jt.memoizedState=es=r:es=es.next=r}return es}function Av(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qu(r){var l=Vu;return Vu+=1,Kc===null&&(Kc=[]),r=cN(Kc,r,l),l=jt,(es===null?l.memoizedState:es.next)===null&&(l=l.alternate,L.H=l===null||l.memoizedState===null?ZN:QN),r}function Nm(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return qu(r);if(r.$$typeof===A)return Hs(r)}throw Error(a(438,String(r)))}function Cv(r){var l=null,u=jt.updateQueue;if(u!==null&&(l=u.memoCache),l==null){var f=jt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(l={data:f.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),u===null&&(u=Av(),jt.updateQueue=u),u.memoCache=l,u=l.data[l.index],u===void 0)for(u=l.data[l.index]=Array(r),f=0;f<r;f++)u[f]=G;return l.index++,u}function Ui(r,l){return typeof l=="function"?l(r):l}function Sm(r){var l=ts();return Tv(l,Jt,r)}function Tv(r,l,u){var f=r.queue;if(f===null)throw Error(a(311));f.lastRenderedReducer=u;var b=r.baseQueue,N=f.pending;if(N!==null){if(b!==null){var D=b.next;b.next=N.next,N.next=D}l.baseQueue=b=N,f.pending=null}if(N=r.baseState,b===null)r.memoizedState=N;else{l=b.next;var U=D=null,Q=null,de=l,be=!1;do{var Se=de.lane&-536870913;if(Se!==de.lane?(zt&Se)===Se:(ko&Se)===Se){var fe=de.revertLane;if(fe===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),Se===Vc&&(be=!0);else if((ko&fe)===fe){de=de.next,fe===Vc&&(be=!0);continue}else Se={lane:0,revertLane:de.revertLane,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},Q===null?(U=Q=Se,D=N):Q=Q.next=Se,jt.lanes|=fe,Do|=fe;Se=de.action,Vl&&u(N,Se),N=de.hasEagerState?de.eagerState:u(N,Se)}else fe={lane:Se,revertLane:de.revertLane,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},Q===null?(U=Q=fe,D=N):Q=Q.next=fe,jt.lanes|=Se,Do|=Se;de=de.next}while(de!==null&&de!==l);if(Q===null?D=N:Q.next=U,!Aa(N,r.memoizedState)&&(Ns=!0,be&&(u=qc,u!==null)))throw u;r.memoizedState=N,r.baseState=D,r.baseQueue=Q,f.lastRenderedState=N}return b===null&&(f.lanes=0),[r.memoizedState,f.dispatch]}function _v(r){var l=ts(),u=l.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=r;var f=u.dispatch,b=u.pending,N=l.memoizedState;if(b!==null){u.pending=null;var D=b=b.next;do N=r(N,D.action),D=D.next;while(D!==b);Aa(N,l.memoizedState)||(Ns=!0),l.memoizedState=N,l.baseQueue===null&&(l.baseState=N),u.lastRenderedState=N}return[N,f]}function xN(r,l,u){var f=jt,b=ts(),N=Yt;if(N){if(u===void 0)throw Error(a(407));u=u()}else u=l();var D=!Aa((Jt||b).memoizedState,u);D&&(b.memoizedState=u,Ns=!0),b=b.queue;var U=yN.bind(null,f,b,r);if(Hu(2048,8,U,[r]),b.getSnapshot!==l||D||es!==null&&es.memoizedState.tag&1){if(f.flags|=2048,Yc(9,km(),bN.bind(null,f,b,u,l),null),mn===null)throw Error(a(349));N||(ko&124)!==0||vN(f,l,u)}return u}function vN(r,l,u){r.flags|=16384,r={getSnapshot:l,value:u},l=jt.updateQueue,l===null?(l=Av(),jt.updateQueue=l,l.stores=[r]):(u=l.stores,u===null?l.stores=[r]:u.push(r))}function bN(r,l,u,f){l.value=u,l.getSnapshot=f,jN(l)&&wN(r)}function yN(r,l,u){return u(function(){jN(l)&&wN(r)})}function jN(r){var l=r.getSnapshot;r=r.value;try{var u=l();return!Aa(r,u)}catch{return!0}}function wN(r){var l=zc(r,2);l!==null&&Ma(l,r,2)}function Rv(r){var l=ua();if(typeof r=="function"){var u=r;if(r=u(),Vl){on(!0);try{u()}finally{on(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:r},l}function NN(r,l,u,f){return r.baseState=u,Tv(r,Jt,typeof f=="function"?f:Ui)}function PL(r,l,u,f,b){if(Am(r))throw Error(a(485));if(r=l.action,r!==null){var N={payload:b,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){N.listeners.push(D)}};L.T!==null?u(!0):N.isTransition=!1,f(N),u=l.pending,u===null?(N.next=l.pending=N,SN(l,N)):(N.next=u.next,l.pending=u.next=N)}}function SN(r,l){var u=l.action,f=l.payload,b=r.state;if(l.isTransition){var N=L.T,D={};L.T=D;try{var U=u(b,f),Q=L.S;Q!==null&&Q(D,U),kN(r,l,U)}catch(de){Dv(r,l,de)}finally{L.T=N}}else try{N=u(b,f),kN(r,l,N)}catch(de){Dv(r,l,de)}}function kN(r,l,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){EN(r,l,f)},function(f){return Dv(r,l,f)}):EN(r,l,u)}function EN(r,l,u){l.status="fulfilled",l.value=u,AN(l),r.state=u,l=r.pending,l!==null&&(u=l.next,u===l?r.pending=null:(u=u.next,l.next=u,SN(r,u)))}function Dv(r,l,u){var f=r.pending;if(r.pending=null,f!==null){f=f.next;do l.status="rejected",l.reason=u,AN(l),l=l.next;while(l!==f)}r.action=null}function AN(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function CN(r,l){return l}function TN(r,l){if(Yt){var u=mn.formState;if(u!==null){e:{var f=jt;if(Yt){if(Mn){t:{for(var b=Mn,N=si;b.nodeType!==8;){if(!N){b=null;break t}if(b=Cr(b.nextSibling),b===null){b=null;break t}}N=b.data,b=N==="F!"||N==="F"?b:null}if(b){Mn=Cr(b.nextSibling),f=b.data==="F!";break e}}zl(f)}f=!1}f&&(l=u[0])}}return u=ua(),u.memoizedState=u.baseState=l,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:CN,lastRenderedState:l},u.queue=f,u=YN.bind(null,jt,f),f.dispatch=u,f=Rv(!1),N=Iv.bind(null,jt,!1,f.queue),f=ua(),b={state:l,dispatch:null,action:r,pending:null},f.queue=b,u=PL.bind(null,jt,b,N,u),b.dispatch=u,f.memoizedState=r,[l,u,!1]}function _N(r){var l=ts();return RN(l,Jt,r)}function RN(r,l,u){if(l=Tv(r,l,CN)[0],r=Sm(Ui)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var f=qu(l)}catch(D){throw D===Bu?vm:D}else f=l;l=ts();var b=l.queue,N=b.dispatch;return u!==l.memoizedState&&(jt.flags|=2048,Yc(9,km(),OL.bind(null,b,u),null)),[f,N,r]}function OL(r,l){r.action=l}function DN(r){var l=ts(),u=Jt;if(u!==null)return RN(l,u,r);ts(),l=l.memoizedState,u=ts();var f=u.queue.dispatch;return u.memoizedState=r,[l,f,!1]}function Yc(r,l,u,f){return r={tag:r,create:u,deps:f,inst:l,next:null},l=jt.updateQueue,l===null&&(l=Av(),jt.updateQueue=l),u=l.lastEffect,u===null?l.lastEffect=r.next=r:(f=u.next,u.next=r,r.next=f,l.lastEffect=r),r}function km(){return{destroy:void 0,resource:void 0}}function MN(){return ts().memoizedState}function Em(r,l,u,f){var b=ua();f=f===void 0?null:f,jt.flags|=r,b.memoizedState=Yc(1|l,km(),u,f)}function Hu(r,l,u,f){var b=ts();f=f===void 0?null:f;var N=b.memoizedState.inst;Jt!==null&&f!==null&&wv(f,Jt.memoizedState.deps)?b.memoizedState=Yc(l,N,u,f):(jt.flags|=r,b.memoizedState=Yc(1|l,N,u,f))}function PN(r,l){Em(8390656,8,r,l)}function ON(r,l){Hu(2048,8,r,l)}function LN(r,l){return Hu(4,2,r,l)}function IN(r,l){return Hu(4,4,r,l)}function BN(r,l){if(typeof l=="function"){r=r();var u=l(r);return function(){typeof u=="function"?u():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function zN(r,l,u){u=u!=null?u.concat([r]):null,Hu(4,4,BN.bind(null,l,r),u)}function Mv(){}function UN(r,l){var u=ts();l=l===void 0?null:l;var f=u.memoizedState;return l!==null&&wv(l,f[1])?f[0]:(u.memoizedState=[r,l],r)}function $N(r,l){var u=ts();l=l===void 0?null:l;var f=u.memoizedState;if(l!==null&&wv(l,f[1]))return f[0];if(f=r(),Vl){on(!0);try{r()}finally{on(!1)}}return u.memoizedState=[f,l],f}function Pv(r,l,u){return u===void 0||(ko&1073741824)!==0?r.memoizedState=l:(r.memoizedState=u,r=qS(),jt.lanes|=r,Do|=r,u)}function FN(r,l,u,f){return Aa(u,l)?u:Hc.current!==null?(r=Pv(r,u,f),Aa(r,l)||(Ns=!0),r):(ko&42)===0?(Ns=!0,r.memoizedState=u):(r=qS(),jt.lanes|=r,Do|=r,l)}function VN(r,l,u,f,b){var N=V.p;V.p=N!==0&&8>N?N:8;var D=L.T,U={};L.T=U,Iv(r,!1,l,u);try{var Q=b(),de=L.S;if(de!==null&&de(U,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var be=RL(Q,f);Gu(r,l,be,Da(r))}else Gu(r,l,f,Da(r))}catch(Se){Gu(r,l,{then:function(){},status:"rejected",reason:Se},Da())}finally{V.p=N,L.T=D}}function LL(){}function Ov(r,l,u,f){if(r.tag!==5)throw Error(a(476));var b=qN(r).queue;VN(r,b,l,B,u===null?LL:function(){return HN(r),u(f)})}function qN(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:B},next:null};var u={};return l.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:u},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function HN(r){var l=qN(r).next.queue;Gu(r,l,{},Da())}function Lv(){return Hs(dh)}function GN(){return ts().memoizedState}function KN(){return ts().memoizedState}function IL(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var u=Da();r=No(u);var f=So(l,r,u);f!==null&&(Ma(f,l,u),Uu(f,l,u)),l={cache:hv()},r.payload=l;return}l=l.return}}function BL(r,l,u){var f=Da();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Am(r)?XN(l,u):(u=nv(r,l,u,f),u!==null&&(Ma(u,r,f),WN(u,l,f)))}function YN(r,l,u){var f=Da();Gu(r,l,u,f)}function Gu(r,l,u,f){var b={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Am(r))XN(l,b);else{var N=r.alternate;if(r.lanes===0&&(N===null||N.lanes===0)&&(N=l.lastRenderedReducer,N!==null))try{var D=l.lastRenderedState,U=N(D,u);if(b.hasEagerState=!0,b.eagerState=U,Aa(U,D))return dm(r,l,b,0),mn===null&&cm(),!1}catch{}finally{}if(u=nv(r,l,b,f),u!==null)return Ma(u,r,f),WN(u,l,f),!0}return!1}function Iv(r,l,u,f){if(f={lane:2,revertLane:pb(),action:f,hasEagerState:!1,eagerState:null,next:null},Am(r)){if(l)throw Error(a(479))}else l=nv(r,u,f,2),l!==null&&Ma(l,r,2)}function Am(r){var l=r.alternate;return r===jt||l!==null&&l===jt}function XN(r,l){Gc=jm=!0;var u=r.pending;u===null?l.next=l:(l.next=u.next,u.next=l),r.pending=l}function WN(r,l,u){if((u&4194048)!==0){var f=l.lanes;f&=r.pendingLanes,u|=f,l.lanes=u,bt(r,u)}}var Cm={readContext:Hs,use:Nm,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useLayoutEffect:Vn,useInsertionEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useSyncExternalStore:Vn,useId:Vn,useHostTransitionStatus:Vn,useFormState:Vn,useActionState:Vn,useOptimistic:Vn,useMemoCache:Vn,useCacheRefresh:Vn},ZN={readContext:Hs,use:Nm,useCallback:function(r,l){return ua().memoizedState=[r,l===void 0?null:l],r},useContext:Hs,useEffect:PN,useImperativeHandle:function(r,l,u){u=u!=null?u.concat([r]):null,Em(4194308,4,BN.bind(null,l,r),u)},useLayoutEffect:function(r,l){return Em(4194308,4,r,l)},useInsertionEffect:function(r,l){Em(4,2,r,l)},useMemo:function(r,l){var u=ua();l=l===void 0?null:l;var f=r();if(Vl){on(!0);try{r()}finally{on(!1)}}return u.memoizedState=[f,l],f},useReducer:function(r,l,u){var f=ua();if(u!==void 0){var b=u(l);if(Vl){on(!0);try{u(l)}finally{on(!1)}}}else b=l;return f.memoizedState=f.baseState=b,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:b},f.queue=r,r=r.dispatch=BL.bind(null,jt,r),[f.memoizedState,r]},useRef:function(r){var l=ua();return r={current:r},l.memoizedState=r},useState:function(r){r=Rv(r);var l=r.queue,u=YN.bind(null,jt,l);return l.dispatch=u,[r.memoizedState,u]},useDebugValue:Mv,useDeferredValue:function(r,l){var u=ua();return Pv(u,r,l)},useTransition:function(){var r=Rv(!1);return r=VN.bind(null,jt,r.queue,!0,!1),ua().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,u){var f=jt,b=ua();if(Yt){if(u===void 0)throw Error(a(407));u=u()}else{if(u=l(),mn===null)throw Error(a(349));(zt&124)!==0||vN(f,l,u)}b.memoizedState=u;var N={value:u,getSnapshot:l};return b.queue=N,PN(yN.bind(null,f,N,r),[r]),f.flags|=2048,Yc(9,km(),bN.bind(null,f,N,u,l),null),u},useId:function(){var r=ua(),l=mn.identifierPrefix;if(Yt){var u=Ii,f=Li;u=(f&~(1<<32-Vt(f)-1)).toString(32)+u,l="«"+l+"R"+u,u=wm++,0<u&&(l+="H"+u.toString(32)),l+="»"}else u=DL++,l="«"+l+"r"+u.toString(32)+"»";return r.memoizedState=l},useHostTransitionStatus:Lv,useFormState:TN,useActionState:TN,useOptimistic:function(r){var l=ua();l.memoizedState=l.baseState=r;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=u,l=Iv.bind(null,jt,!0,u),u.dispatch=l,[r,l]},useMemoCache:Cv,useCacheRefresh:function(){return ua().memoizedState=IL.bind(null,jt)}},QN={readContext:Hs,use:Nm,useCallback:UN,useContext:Hs,useEffect:ON,useImperativeHandle:zN,useInsertionEffect:LN,useLayoutEffect:IN,useMemo:$N,useReducer:Sm,useRef:MN,useState:function(){return Sm(Ui)},useDebugValue:Mv,useDeferredValue:function(r,l){var u=ts();return FN(u,Jt.memoizedState,r,l)},useTransition:function(){var r=Sm(Ui)[0],l=ts().memoizedState;return[typeof r=="boolean"?r:qu(r),l]},useSyncExternalStore:xN,useId:GN,useHostTransitionStatus:Lv,useFormState:_N,useActionState:_N,useOptimistic:function(r,l){var u=ts();return NN(u,Jt,r,l)},useMemoCache:Cv,useCacheRefresh:KN},zL={readContext:Hs,use:Nm,useCallback:UN,useContext:Hs,useEffect:ON,useImperativeHandle:zN,useInsertionEffect:LN,useLayoutEffect:IN,useMemo:$N,useReducer:_v,useRef:MN,useState:function(){return _v(Ui)},useDebugValue:Mv,useDeferredValue:function(r,l){var u=ts();return Jt===null?Pv(u,r,l):FN(u,Jt.memoizedState,r,l)},useTransition:function(){var r=_v(Ui)[0],l=ts().memoizedState;return[typeof r=="boolean"?r:qu(r),l]},useSyncExternalStore:xN,useId:GN,useHostTransitionStatus:Lv,useFormState:DN,useActionState:DN,useOptimistic:function(r,l){var u=ts();return Jt!==null?NN(u,Jt,r,l):(u.baseState=r,[r,u.queue.dispatch])},useMemoCache:Cv,useCacheRefresh:KN},Xc=null,Ku=0;function Tm(r){var l=Ku;return Ku+=1,Xc===null&&(Xc=[]),cN(Xc,r,l)}function Yu(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function _m(r,l){throw l.$$typeof===g?Error(a(525)):(r=Object.prototype.toString.call(l),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function JN(r){var l=r._init;return l(r._payload)}function eS(r){function l(oe,re){if(r){var le=oe.deletions;le===null?(oe.deletions=[re],oe.flags|=16):le.push(re)}}function u(oe,re){if(!r)return null;for(;re!==null;)l(oe,re),re=re.sibling;return null}function f(oe){for(var re=new Map;oe!==null;)oe.key!==null?re.set(oe.key,oe):re.set(oe.index,oe),oe=oe.sibling;return re}function b(oe,re){return oe=Oi(oe,re),oe.index=0,oe.sibling=null,oe}function N(oe,re,le){return oe.index=le,r?(le=oe.alternate,le!==null?(le=le.index,le<re?(oe.flags|=67108866,re):le):(oe.flags|=67108866,re)):(oe.flags|=1048576,re)}function D(oe){return r&&oe.alternate===null&&(oe.flags|=67108866),oe}function U(oe,re,le,ye){return re===null||re.tag!==6?(re=av(le,oe.mode,ye),re.return=oe,re):(re=b(re,le),re.return=oe,re)}function Q(oe,re,le,ye){var Ke=le.type;return Ke===w?be(oe,re,le.props.children,ye,le.key):re!==null&&(re.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===O&&JN(Ke)===re.type)?(re=b(re,le.props),Yu(re,le),re.return=oe,re):(re=hm(le.type,le.key,le.props,null,oe.mode,ye),Yu(re,le),re.return=oe,re)}function de(oe,re,le,ye){return re===null||re.tag!==4||re.stateNode.containerInfo!==le.containerInfo||re.stateNode.implementation!==le.implementation?(re=rv(le,oe.mode,ye),re.return=oe,re):(re=b(re,le.children||[]),re.return=oe,re)}function be(oe,re,le,ye,Ke){return re===null||re.tag!==7?(re=Ol(le,oe.mode,ye,Ke),re.return=oe,re):(re=b(re,le),re.return=oe,re)}function Se(oe,re,le){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=av(""+re,oe.mode,le),re.return=oe,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case v:return le=hm(re.type,re.key,re.props,null,oe.mode,le),Yu(le,re),le.return=oe,le;case y:return re=rv(re,oe.mode,le),re.return=oe,re;case O:var ye=re._init;return re=ye(re._payload),Se(oe,re,le)}if(te(re)||X(re))return re=Ol(re,oe.mode,le,null),re.return=oe,re;if(typeof re.then=="function")return Se(oe,Tm(re),le);if(re.$$typeof===A)return Se(oe,gm(oe,re),le);_m(oe,re)}return null}function fe(oe,re,le,ye){var Ke=re!==null?re.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Ke!==null?null:U(oe,re,""+le,ye);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case v:return le.key===Ke?Q(oe,re,le,ye):null;case y:return le.key===Ke?de(oe,re,le,ye):null;case O:return Ke=le._init,le=Ke(le._payload),fe(oe,re,le,ye)}if(te(le)||X(le))return Ke!==null?null:be(oe,re,le,ye,null);if(typeof le.then=="function")return fe(oe,re,Tm(le),ye);if(le.$$typeof===A)return fe(oe,re,gm(oe,le),ye);_m(oe,le)}return null}function me(oe,re,le,ye,Ke){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return oe=oe.get(le)||null,U(re,oe,""+ye,Ke);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case v:return oe=oe.get(ye.key===null?le:ye.key)||null,Q(re,oe,ye,Ke);case y:return oe=oe.get(ye.key===null?le:ye.key)||null,de(re,oe,ye,Ke);case O:var St=ye._init;return ye=St(ye._payload),me(oe,re,le,ye,Ke)}if(te(ye)||X(ye))return oe=oe.get(le)||null,be(re,oe,ye,Ke,null);if(typeof ye.then=="function")return me(oe,re,le,Tm(ye),Ke);if(ye.$$typeof===A)return me(oe,re,le,gm(re,ye),Ke);_m(re,ye)}return null}function ft(oe,re,le,ye){for(var Ke=null,St=null,st=re,lt=re=0,ks=null;st!==null&&lt<le.length;lt++){st.index>lt?(ks=st,st=null):ks=st.sibling;var Ht=fe(oe,st,le[lt],ye);if(Ht===null){st===null&&(st=ks);break}r&&st&&Ht.alternate===null&&l(oe,st),re=N(Ht,re,lt),St===null?Ke=Ht:St.sibling=Ht,St=Ht,st=ks}if(lt===le.length)return u(oe,st),Yt&&Il(oe,lt),Ke;if(st===null){for(;lt<le.length;lt++)st=Se(oe,le[lt],ye),st!==null&&(re=N(st,re,lt),St===null?Ke=st:St.sibling=st,St=st);return Yt&&Il(oe,lt),Ke}for(st=f(st);lt<le.length;lt++)ks=me(st,oe,lt,le[lt],ye),ks!==null&&(r&&ks.alternate!==null&&st.delete(ks.key===null?lt:ks.key),re=N(ks,re,lt),St===null?Ke=ks:St.sibling=ks,St=ks);return r&&st.forEach(function($o){return l(oe,$o)}),Yt&&Il(oe,lt),Ke}function ot(oe,re,le,ye){if(le==null)throw Error(a(151));for(var Ke=null,St=null,st=re,lt=re=0,ks=null,Ht=le.next();st!==null&&!Ht.done;lt++,Ht=le.next()){st.index>lt?(ks=st,st=null):ks=st.sibling;var $o=fe(oe,st,Ht.value,ye);if($o===null){st===null&&(st=ks);break}r&&st&&$o.alternate===null&&l(oe,st),re=N($o,re,lt),St===null?Ke=$o:St.sibling=$o,St=$o,st=ks}if(Ht.done)return u(oe,st),Yt&&Il(oe,lt),Ke;if(st===null){for(;!Ht.done;lt++,Ht=le.next())Ht=Se(oe,Ht.value,ye),Ht!==null&&(re=N(Ht,re,lt),St===null?Ke=Ht:St.sibling=Ht,St=Ht);return Yt&&Il(oe,lt),Ke}for(st=f(st);!Ht.done;lt++,Ht=le.next())Ht=me(st,oe,lt,Ht.value,ye),Ht!==null&&(r&&Ht.alternate!==null&&st.delete(Ht.key===null?lt:Ht.key),re=N(Ht,re,lt),St===null?Ke=Ht:St.sibling=Ht,St=Ht);return r&&st.forEach(function(U5){return l(oe,U5)}),Yt&&Il(oe,lt),Ke}function tn(oe,re,le,ye){if(typeof le=="object"&&le!==null&&le.type===w&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case v:e:{for(var Ke=le.key;re!==null;){if(re.key===Ke){if(Ke=le.type,Ke===w){if(re.tag===7){u(oe,re.sibling),ye=b(re,le.props.children),ye.return=oe,oe=ye;break e}}else if(re.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===O&&JN(Ke)===re.type){u(oe,re.sibling),ye=b(re,le.props),Yu(ye,le),ye.return=oe,oe=ye;break e}u(oe,re);break}else l(oe,re);re=re.sibling}le.type===w?(ye=Ol(le.props.children,oe.mode,ye,le.key),ye.return=oe,oe=ye):(ye=hm(le.type,le.key,le.props,null,oe.mode,ye),Yu(ye,le),ye.return=oe,oe=ye)}return D(oe);case y:e:{for(Ke=le.key;re!==null;){if(re.key===Ke)if(re.tag===4&&re.stateNode.containerInfo===le.containerInfo&&re.stateNode.implementation===le.implementation){u(oe,re.sibling),ye=b(re,le.children||[]),ye.return=oe,oe=ye;break e}else{u(oe,re);break}else l(oe,re);re=re.sibling}ye=rv(le,oe.mode,ye),ye.return=oe,oe=ye}return D(oe);case O:return Ke=le._init,le=Ke(le._payload),tn(oe,re,le,ye)}if(te(le))return ft(oe,re,le,ye);if(X(le)){if(Ke=X(le),typeof Ke!="function")throw Error(a(150));return le=Ke.call(le),ot(oe,re,le,ye)}if(typeof le.then=="function")return tn(oe,re,Tm(le),ye);if(le.$$typeof===A)return tn(oe,re,gm(oe,le),ye);_m(oe,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,re!==null&&re.tag===6?(u(oe,re.sibling),ye=b(re,le),ye.return=oe,oe=ye):(u(oe,re),ye=av(le,oe.mode,ye),ye.return=oe,oe=ye),D(oe)):u(oe,re)}return function(oe,re,le,ye){try{Ku=0;var Ke=tn(oe,re,le,ye);return Xc=null,Ke}catch(st){if(st===Bu||st===vm)throw st;var St=Ca(29,st,null,oe.mode);return St.lanes=ye,St.return=oe,St}finally{}}}var Wc=eS(!0),tS=eS(!1),Ja=K(null),ai=null;function Eo(r){var l=r.alternate;W(os,os.current&1),W(Ja,r),ai===null&&(l===null||Hc.current!==null||l.memoizedState!==null)&&(ai=r)}function nS(r){if(r.tag===22){if(W(os,os.current),W(Ja,r),ai===null){var l=r.alternate;l!==null&&l.memoizedState!==null&&(ai=r)}}else Ao()}function Ao(){W(os,os.current),W(Ja,Ja.current)}function $i(r){z(Ja),ai===r&&(ai=null),z(os)}var os=K(0);function Rm(r){for(var l=r;l!==null;){if(l.tag===13){var u=l.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Ab(u)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Bv(r,l,u,f){l=r.memoizedState,u=u(f,l),u=u==null?l:p({},l,u),r.memoizedState=u,r.lanes===0&&(r.updateQueue.baseState=u)}var zv={enqueueSetState:function(r,l,u){r=r._reactInternals;var f=Da(),b=No(f);b.payload=l,u!=null&&(b.callback=u),l=So(r,b,f),l!==null&&(Ma(l,r,f),Uu(l,r,f))},enqueueReplaceState:function(r,l,u){r=r._reactInternals;var f=Da(),b=No(f);b.tag=1,b.payload=l,u!=null&&(b.callback=u),l=So(r,b,f),l!==null&&(Ma(l,r,f),Uu(l,r,f))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var u=Da(),f=No(u);f.tag=2,l!=null&&(f.callback=l),l=So(r,f,u),l!==null&&(Ma(l,r,u),Uu(l,r,u))}};function sS(r,l,u,f,b,N,D){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(f,N,D):l.prototype&&l.prototype.isPureReactComponent?!_u(u,f)||!_u(b,N):!0}function aS(r,l,u,f){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(u,f),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(u,f),l.state!==r&&zv.enqueueReplaceState(l,l.state,null)}function ql(r,l){var u=l;if("ref"in l){u={};for(var f in l)f!=="ref"&&(u[f]=l[f])}if(r=r.defaultProps){u===l&&(u=p({},u));for(var b in r)u[b]===void 0&&(u[b]=r[b])}return u}var Dm=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function rS(r){Dm(r)}function iS(r){console.error(r)}function oS(r){Dm(r)}function Mm(r,l){try{var u=r.onUncaughtError;u(l.value,{componentStack:l.stack})}catch(f){setTimeout(function(){throw f})}}function lS(r,l,u){try{var f=r.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Uv(r,l,u){return u=No(u),u.tag=3,u.payload={element:null},u.callback=function(){Mm(r,l)},u}function cS(r){return r=No(r),r.tag=3,r}function dS(r,l,u,f){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var N=f.value;r.payload=function(){return b(N)},r.callback=function(){lS(l,u,f)}}var D=u.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(r.callback=function(){lS(l,u,f),typeof b!="function"&&(Mo===null?Mo=new Set([this]):Mo.add(this));var U=f.stack;this.componentDidCatch(f.value,{componentStack:U!==null?U:""})})}function UL(r,l,u,f,b){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(l=u.alternate,l!==null&&Ou(l,u,b,!0),u=Ja.current,u!==null){switch(u.tag){case 13:return ai===null?db():u.alternate===null&&Pn===0&&(Pn=3),u.flags&=-257,u.flags|=65536,u.lanes=b,f===pv?u.flags|=16384:(l=u.updateQueue,l===null?u.updateQueue=new Set([f]):l.add(f),hb(r,f,b)),!1;case 22:return u.flags|=65536,f===pv?u.flags|=16384:(l=u.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=l):(u=l.retryQueue,u===null?l.retryQueue=new Set([f]):u.add(f)),hb(r,f,b)),!1}throw Error(a(435,u.tag))}return hb(r,f,b),db(),!1}if(Yt)return l=Ja.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,f!==lv&&(r=Error(a(422),{cause:f}),Pu(Xa(r,u)))):(f!==lv&&(l=Error(a(423),{cause:f}),Pu(Xa(l,u))),r=r.current.alternate,r.flags|=65536,b&=-b,r.lanes|=b,f=Xa(f,u),b=Uv(r.stateNode,f,b),vv(r,b),Pn!==4&&(Pn=2)),!1;var N=Error(a(520),{cause:f});if(N=Xa(N,u),th===null?th=[N]:th.push(N),Pn!==4&&(Pn=2),l===null)return!0;f=Xa(f,u),u=l;do{switch(u.tag){case 3:return u.flags|=65536,r=b&-b,u.lanes|=r,r=Uv(u.stateNode,f,r),vv(u,r),!1;case 1:if(l=u.type,N=u.stateNode,(u.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Mo===null||!Mo.has(N))))return u.flags|=65536,b&=-b,u.lanes|=b,b=cS(b),dS(b,r,u,f),vv(u,b),!1}u=u.return}while(u!==null);return!1}var uS=Error(a(461)),Ns=!1;function Ds(r,l,u,f){l.child=r===null?tS(l,null,u,f):Wc(l,r.child,u,f)}function hS(r,l,u,f,b){u=u.render;var N=l.ref;if("ref"in f){var D={};for(var U in f)U!=="ref"&&(D[U]=f[U])}else D=f;return $l(l),f=Nv(r,l,u,D,N,b),U=Sv(),r!==null&&!Ns?(kv(r,l,b),Fi(r,l,b)):(Yt&&U&&iv(l),l.flags|=1,Ds(r,l,f,b),l.child)}function fS(r,l,u,f,b){if(r===null){var N=u.type;return typeof N=="function"&&!sv(N)&&N.defaultProps===void 0&&u.compare===null?(l.tag=15,l.type=N,mS(r,l,N,f,b)):(r=hm(u.type,null,f,l,l.mode,b),r.ref=l.ref,r.return=l,l.child=r)}if(N=r.child,!Yv(r,b)){var D=N.memoizedProps;if(u=u.compare,u=u!==null?u:_u,u(D,f)&&r.ref===l.ref)return Fi(r,l,b)}return l.flags|=1,r=Oi(N,f),r.ref=l.ref,r.return=l,l.child=r}function mS(r,l,u,f,b){if(r!==null){var N=r.memoizedProps;if(_u(N,f)&&r.ref===l.ref)if(Ns=!1,l.pendingProps=f=N,Yv(r,b))(r.flags&131072)!==0&&(Ns=!0);else return l.lanes=r.lanes,Fi(r,l,b)}return $v(r,l,u,f,b)}function pS(r,l,u){var f=l.pendingProps,b=f.children,N=r!==null?r.memoizedState:null;if(f.mode==="hidden"){if((l.flags&128)!==0){if(f=N!==null?N.baseLanes|u:u,r!==null){for(b=l.child=r.child,N=0;b!==null;)N=N|b.lanes|b.childLanes,b=b.sibling;l.childLanes=N&~f}else l.childLanes=0,l.child=null;return gS(r,l,f,u)}if((u&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&xm(l,N!==null?N.cachePool:null),N!==null?mN(l,N):yv(),nS(l);else return l.lanes=l.childLanes=536870912,gS(r,l,N!==null?N.baseLanes|u:u,u)}else N!==null?(xm(l,N.cachePool),mN(l,N),Ao(),l.memoizedState=null):(r!==null&&xm(l,null),yv(),Ao());return Ds(r,l,b,u),l.child}function gS(r,l,u,f){var b=mv();return b=b===null?null:{parent:is._currentValue,pool:b},l.memoizedState={baseLanes:u,cachePool:b},r!==null&&xm(l,null),yv(),nS(l),r!==null&&Ou(r,l,f,!0),null}function Pm(r,l){var u=l.ref;if(u===null)r!==null&&r.ref!==null&&(l.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(a(284));(r===null||r.ref!==u)&&(l.flags|=4194816)}}function $v(r,l,u,f,b){return $l(l),u=Nv(r,l,u,f,void 0,b),f=Sv(),r!==null&&!Ns?(kv(r,l,b),Fi(r,l,b)):(Yt&&f&&iv(l),l.flags|=1,Ds(r,l,u,b),l.child)}function xS(r,l,u,f,b,N){return $l(l),l.updateQueue=null,u=gN(l,f,u,b),pN(r),f=Sv(),r!==null&&!Ns?(kv(r,l,N),Fi(r,l,N)):(Yt&&f&&iv(l),l.flags|=1,Ds(r,l,u,N),l.child)}function vS(r,l,u,f,b){if($l(l),l.stateNode===null){var N=Uc,D=u.contextType;typeof D=="object"&&D!==null&&(N=Hs(D)),N=new u(f,N),l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=zv,l.stateNode=N,N._reactInternals=l,N=l.stateNode,N.props=f,N.state=l.memoizedState,N.refs={},gv(l),D=u.contextType,N.context=typeof D=="object"&&D!==null?Hs(D):Uc,N.state=l.memoizedState,D=u.getDerivedStateFromProps,typeof D=="function"&&(Bv(l,u,D,f),N.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(D=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),D!==N.state&&zv.enqueueReplaceState(N,N.state,null),Fu(l,f,N,b),$u(),N.state=l.memoizedState),typeof N.componentDidMount=="function"&&(l.flags|=4194308),f=!0}else if(r===null){N=l.stateNode;var U=l.memoizedProps,Q=ql(u,U);N.props=Q;var de=N.context,be=u.contextType;D=Uc,typeof be=="object"&&be!==null&&(D=Hs(be));var Se=u.getDerivedStateFromProps;be=typeof Se=="function"||typeof N.getSnapshotBeforeUpdate=="function",U=l.pendingProps!==U,be||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(U||de!==D)&&aS(l,N,f,D),wo=!1;var fe=l.memoizedState;N.state=fe,Fu(l,f,N,b),$u(),de=l.memoizedState,U||fe!==de||wo?(typeof Se=="function"&&(Bv(l,u,Se,f),de=l.memoizedState),(Q=wo||sS(l,u,Q,f,fe,de,D))?(be||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=f,l.memoizedState=de),N.props=f,N.state=de,N.context=D,f=Q):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),f=!1)}else{N=l.stateNode,xv(r,l),D=l.memoizedProps,be=ql(u,D),N.props=be,Se=l.pendingProps,fe=N.context,de=u.contextType,Q=Uc,typeof de=="object"&&de!==null&&(Q=Hs(de)),U=u.getDerivedStateFromProps,(de=typeof U=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(D!==Se||fe!==Q)&&aS(l,N,f,Q),wo=!1,fe=l.memoizedState,N.state=fe,Fu(l,f,N,b),$u();var me=l.memoizedState;D!==Se||fe!==me||wo||r!==null&&r.dependencies!==null&&pm(r.dependencies)?(typeof U=="function"&&(Bv(l,u,U,f),me=l.memoizedState),(be=wo||sS(l,u,be,f,fe,me,Q)||r!==null&&r.dependencies!==null&&pm(r.dependencies))?(de||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(f,me,Q),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(f,me,Q)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||D===r.memoizedProps&&fe===r.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&fe===r.memoizedState||(l.flags|=1024),l.memoizedProps=f,l.memoizedState=me),N.props=f,N.state=me,N.context=Q,f=be):(typeof N.componentDidUpdate!="function"||D===r.memoizedProps&&fe===r.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&fe===r.memoizedState||(l.flags|=1024),f=!1)}return N=f,Pm(r,l),f=(l.flags&128)!==0,N||f?(N=l.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:N.render(),l.flags|=1,r!==null&&f?(l.child=Wc(l,r.child,null,b),l.child=Wc(l,null,u,b)):Ds(r,l,u,b),l.memoizedState=N.state,r=l.child):r=Fi(r,l,b),r}function bS(r,l,u,f){return Mu(),l.flags|=256,Ds(r,l,u,f),l.child}var Fv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vv(r){return{baseLanes:r,cachePool:iN()}}function qv(r,l,u){return r=r!==null?r.childLanes&~u:0,l&&(r|=er),r}function yS(r,l,u){var f=l.pendingProps,b=!1,N=(l.flags&128)!==0,D;if((D=N)||(D=r!==null&&r.memoizedState===null?!1:(os.current&2)!==0),D&&(b=!0,l.flags&=-129),D=(l.flags&32)!==0,l.flags&=-33,r===null){if(Yt){if(b?Eo(l):Ao(),Yt){var U=Mn,Q;if(Q=U){e:{for(Q=U,U=si;Q.nodeType!==8;){if(!U){U=null;break e}if(Q=Cr(Q.nextSibling),Q===null){U=null;break e}}U=Q}U!==null?(l.memoizedState={dehydrated:U,treeContext:Ll!==null?{id:Li,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},Q=Ca(18,null,null,0),Q.stateNode=U,Q.return=l,l.child=Q,na=l,Mn=null,Q=!0):Q=!1}Q||zl(l)}if(U=l.memoizedState,U!==null&&(U=U.dehydrated,U!==null))return Ab(U)?l.lanes=32:l.lanes=536870912,null;$i(l)}return U=f.children,f=f.fallback,b?(Ao(),b=l.mode,U=Om({mode:"hidden",children:U},b),f=Ol(f,b,u,null),U.return=l,f.return=l,U.sibling=f,l.child=U,b=l.child,b.memoizedState=Vv(u),b.childLanes=qv(r,D,u),l.memoizedState=Fv,f):(Eo(l),Hv(l,U))}if(Q=r.memoizedState,Q!==null&&(U=Q.dehydrated,U!==null)){if(N)l.flags&256?(Eo(l),l.flags&=-257,l=Gv(r,l,u)):l.memoizedState!==null?(Ao(),l.child=r.child,l.flags|=128,l=null):(Ao(),b=f.fallback,U=l.mode,f=Om({mode:"visible",children:f.children},U),b=Ol(b,U,u,null),b.flags|=2,f.return=l,b.return=l,f.sibling=b,l.child=f,Wc(l,r.child,null,u),f=l.child,f.memoizedState=Vv(u),f.childLanes=qv(r,D,u),l.memoizedState=Fv,l=b);else if(Eo(l),Ab(U)){if(D=U.nextSibling&&U.nextSibling.dataset,D)var de=D.dgst;D=de,f=Error(a(419)),f.stack="",f.digest=D,Pu({value:f,source:null,stack:null}),l=Gv(r,l,u)}else if(Ns||Ou(r,l,u,!1),D=(u&r.childLanes)!==0,Ns||D){if(D=mn,D!==null&&(f=u&-u,f=(f&42)!==0?1:gt(f),f=(f&(D.suspendedLanes|u))!==0?0:f,f!==0&&f!==Q.retryLane))throw Q.retryLane=f,zc(r,f),Ma(D,r,f),uS;U.data==="$?"||db(),l=Gv(r,l,u)}else U.data==="$?"?(l.flags|=192,l.child=r.child,l=null):(r=Q.treeContext,Mn=Cr(U.nextSibling),na=l,Yt=!0,Bl=null,si=!1,r!==null&&(Za[Qa++]=Li,Za[Qa++]=Ii,Za[Qa++]=Ll,Li=r.id,Ii=r.overflow,Ll=l),l=Hv(l,f.children),l.flags|=4096);return l}return b?(Ao(),b=f.fallback,U=l.mode,Q=r.child,de=Q.sibling,f=Oi(Q,{mode:"hidden",children:f.children}),f.subtreeFlags=Q.subtreeFlags&65011712,de!==null?b=Oi(de,b):(b=Ol(b,U,u,null),b.flags|=2),b.return=l,f.return=l,f.sibling=b,l.child=f,f=b,b=l.child,U=r.child.memoizedState,U===null?U=Vv(u):(Q=U.cachePool,Q!==null?(de=is._currentValue,Q=Q.parent!==de?{parent:de,pool:de}:Q):Q=iN(),U={baseLanes:U.baseLanes|u,cachePool:Q}),b.memoizedState=U,b.childLanes=qv(r,D,u),l.memoizedState=Fv,f):(Eo(l),u=r.child,r=u.sibling,u=Oi(u,{mode:"visible",children:f.children}),u.return=l,u.sibling=null,r!==null&&(D=l.deletions,D===null?(l.deletions=[r],l.flags|=16):D.push(r)),l.child=u,l.memoizedState=null,u)}function Hv(r,l){return l=Om({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function Om(r,l){return r=Ca(22,r,null,l),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function Gv(r,l,u){return Wc(l,r.child,null,u),r=Hv(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function jS(r,l,u){r.lanes|=l;var f=r.alternate;f!==null&&(f.lanes|=l),dv(r.return,l,u)}function Kv(r,l,u,f,b){var N=r.memoizedState;N===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:b}:(N.isBackwards=l,N.rendering=null,N.renderingStartTime=0,N.last=f,N.tail=u,N.tailMode=b)}function wS(r,l,u){var f=l.pendingProps,b=f.revealOrder,N=f.tail;if(Ds(r,l,f.children,u),f=os.current,(f&2)!==0)f=f&1|2,l.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&jS(r,u,l);else if(r.tag===19)jS(r,u,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break e;for(;r.sibling===null;){if(r.return===null||r.return===l)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}f&=1}switch(W(os,f),b){case"forwards":for(u=l.child,b=null;u!==null;)r=u.alternate,r!==null&&Rm(r)===null&&(b=u),u=u.sibling;u=b,u===null?(b=l.child,l.child=null):(b=u.sibling,u.sibling=null),Kv(l,!1,b,u,N);break;case"backwards":for(u=null,b=l.child,l.child=null;b!==null;){if(r=b.alternate,r!==null&&Rm(r)===null){l.child=b;break}r=b.sibling,b.sibling=u,u=b,b=r}Kv(l,!0,u,null,N);break;case"together":Kv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Fi(r,l,u){if(r!==null&&(l.dependencies=r.dependencies),Do|=l.lanes,(u&l.childLanes)===0)if(r!==null){if(Ou(r,l,u,!1),(u&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(a(153));if(l.child!==null){for(r=l.child,u=Oi(r,r.pendingProps),l.child=u,u.return=l;r.sibling!==null;)r=r.sibling,u=u.sibling=Oi(r,r.pendingProps),u.return=l;u.sibling=null}return l.child}function Yv(r,l){return(r.lanes&l)!==0?!0:(r=r.dependencies,!!(r!==null&&pm(r)))}function $L(r,l,u){switch(l.tag){case 3:ie(l,l.stateNode.containerInfo),jo(l,is,r.memoizedState.cache),Mu();break;case 27:case 5:ae(l);break;case 4:ie(l,l.stateNode.containerInfo);break;case 10:jo(l,l.type,l.memoizedProps.value);break;case 13:var f=l.memoizedState;if(f!==null)return f.dehydrated!==null?(Eo(l),l.flags|=128,null):(u&l.child.childLanes)!==0?yS(r,l,u):(Eo(l),r=Fi(r,l,u),r!==null?r.sibling:null);Eo(l);break;case 19:var b=(r.flags&128)!==0;if(f=(u&l.childLanes)!==0,f||(Ou(r,l,u,!1),f=(u&l.childLanes)!==0),b){if(f)return wS(r,l,u);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),W(os,os.current),f)break;return null;case 22:case 23:return l.lanes=0,pS(r,l,u);case 24:jo(l,is,r.memoizedState.cache)}return Fi(r,l,u)}function NS(r,l,u){if(r!==null)if(r.memoizedProps!==l.pendingProps)Ns=!0;else{if(!Yv(r,u)&&(l.flags&128)===0)return Ns=!1,$L(r,l,u);Ns=(r.flags&131072)!==0}else Ns=!1,Yt&&(l.flags&1048576)!==0&&Jw(l,mm,l.index);switch(l.lanes=0,l.tag){case 16:e:{r=l.pendingProps;var f=l.elementType,b=f._init;if(f=b(f._payload),l.type=f,typeof f=="function")sv(f)?(r=ql(f,r),l.tag=1,l=vS(null,l,f,r,u)):(l.tag=0,l=$v(null,l,f,r,u));else{if(f!=null){if(b=f.$$typeof,b===T){l.tag=11,l=hS(null,l,f,r,u);break e}else if(b===P){l.tag=14,l=fS(null,l,f,r,u);break e}}throw l=Z(f)||f,Error(a(306,l,""))}}return l;case 0:return $v(r,l,l.type,l.pendingProps,u);case 1:return f=l.type,b=ql(f,l.pendingProps),vS(r,l,f,b,u);case 3:e:{if(ie(l,l.stateNode.containerInfo),r===null)throw Error(a(387));f=l.pendingProps;var N=l.memoizedState;b=N.element,xv(r,l),Fu(l,f,null,u);var D=l.memoizedState;if(f=D.cache,jo(l,is,f),f!==N.cache&&uv(l,[is],u,!0),$u(),f=D.element,N.isDehydrated)if(N={element:f,isDehydrated:!1,cache:D.cache},l.updateQueue.baseState=N,l.memoizedState=N,l.flags&256){l=bS(r,l,f,u);break e}else if(f!==b){b=Xa(Error(a(424)),l),Pu(b),l=bS(r,l,f,u);break e}else{switch(r=l.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Mn=Cr(r.firstChild),na=l,Yt=!0,Bl=null,si=!0,u=tS(l,null,f,u),l.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Mu(),f===b){l=Fi(r,l,u);break e}Ds(r,l,f,u)}l=l.child}return l;case 26:return Pm(r,l),r===null?(u=Ak(l.type,null,l.pendingProps,null))?l.memoizedState=u:Yt||(u=l.type,r=l.pendingProps,f=Xm(ee.current).createElement(u),f[Bt]=l,f[xt]=r,Ps(f,u,r),Rn(f),l.stateNode=f):l.memoizedState=Ak(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return ae(l),r===null&&Yt&&(f=l.stateNode=Sk(l.type,l.pendingProps,ee.current),na=l,si=!0,b=Mn,Lo(l.type)?(Cb=b,Mn=Cr(f.firstChild)):Mn=b),Ds(r,l,l.pendingProps.children,u),Pm(r,l),r===null&&(l.flags|=4194304),l.child;case 5:return r===null&&Yt&&((b=f=Mn)&&(f=p5(f,l.type,l.pendingProps,si),f!==null?(l.stateNode=f,na=l,Mn=Cr(f.firstChild),si=!1,b=!0):b=!1),b||zl(l)),ae(l),b=l.type,N=l.pendingProps,D=r!==null?r.memoizedProps:null,f=N.children,Sb(b,N)?f=null:D!==null&&Sb(b,D)&&(l.flags|=32),l.memoizedState!==null&&(b=Nv(r,l,ML,null,null,u),dh._currentValue=b),Pm(r,l),Ds(r,l,f,u),l.child;case 6:return r===null&&Yt&&((r=u=Mn)&&(u=g5(u,l.pendingProps,si),u!==null?(l.stateNode=u,na=l,Mn=null,r=!0):r=!1),r||zl(l)),null;case 13:return yS(r,l,u);case 4:return ie(l,l.stateNode.containerInfo),f=l.pendingProps,r===null?l.child=Wc(l,null,f,u):Ds(r,l,f,u),l.child;case 11:return hS(r,l,l.type,l.pendingProps,u);case 7:return Ds(r,l,l.pendingProps,u),l.child;case 8:return Ds(r,l,l.pendingProps.children,u),l.child;case 12:return Ds(r,l,l.pendingProps.children,u),l.child;case 10:return f=l.pendingProps,jo(l,l.type,f.value),Ds(r,l,f.children,u),l.child;case 9:return b=l.type._context,f=l.pendingProps.children,$l(l),b=Hs(b),f=f(b),l.flags|=1,Ds(r,l,f,u),l.child;case 14:return fS(r,l,l.type,l.pendingProps,u);case 15:return mS(r,l,l.type,l.pendingProps,u);case 19:return wS(r,l,u);case 31:return f=l.pendingProps,u=l.mode,f={mode:f.mode,children:f.children},r===null?(u=Om(f,u),u.ref=l.ref,l.child=u,u.return=l,l=u):(u=Oi(r.child,f),u.ref=l.ref,l.child=u,u.return=l,l=u),l;case 22:return pS(r,l,u);case 24:return $l(l),f=Hs(is),r===null?(b=mv(),b===null&&(b=mn,N=hv(),b.pooledCache=N,N.refCount++,N!==null&&(b.pooledCacheLanes|=u),b=N),l.memoizedState={parent:f,cache:b},gv(l),jo(l,is,b)):((r.lanes&u)!==0&&(xv(r,l),Fu(l,null,null,u),$u()),b=r.memoizedState,N=l.memoizedState,b.parent!==f?(b={parent:f,cache:f},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),jo(l,is,f)):(f=N.cache,jo(l,is,f),f!==b.cache&&uv(l,[is],u,!0))),Ds(r,l,l.pendingProps.children,u),l.child;case 29:throw l.pendingProps}throw Error(a(156,l.tag))}function Vi(r){r.flags|=4}function SS(r,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Dk(l)){if(l=Ja.current,l!==null&&((zt&4194048)===zt?ai!==null:(zt&62914560)!==zt&&(zt&536870912)===0||l!==ai))throw zu=pv,oN;r.flags|=8192}}function Lm(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?ta():536870912,r.lanes|=l,ed|=l)}function Xu(r,l){if(!Yt)switch(r.tailMode){case"hidden":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?r.tail=null:u.sibling=null;break;case"collapsed":u=r.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:f.sibling=null}}function Sn(r){var l=r.alternate!==null&&r.alternate.child===r.child,u=0,f=0;if(l)for(var b=r.child;b!==null;)u|=b.lanes|b.childLanes,f|=b.subtreeFlags&65011712,f|=b.flags&65011712,b.return=r,b=b.sibling;else for(b=r.child;b!==null;)u|=b.lanes|b.childLanes,f|=b.subtreeFlags,f|=b.flags,b.return=r,b=b.sibling;return r.subtreeFlags|=f,r.childLanes=u,l}function FL(r,l,u){var f=l.pendingProps;switch(ov(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(l),null;case 1:return Sn(l),null;case 3:return u=l.stateNode,f=null,r!==null&&(f=r.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),zi(is),he(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Du(l)?Vi(l):r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,nN())),Sn(l),null;case 26:return u=l.memoizedState,r===null?(Vi(l),u!==null?(Sn(l),SS(l,u)):(Sn(l),l.flags&=-16777217)):u?u!==r.memoizedState?(Vi(l),Sn(l),SS(l,u)):(Sn(l),l.flags&=-16777217):(r.memoizedProps!==f&&Vi(l),Sn(l),l.flags&=-16777217),null;case 27:ue(l),u=ee.current;var b=l.type;if(r!==null&&l.stateNode!=null)r.memoizedProps!==f&&Vi(l);else{if(!f){if(l.stateNode===null)throw Error(a(166));return Sn(l),null}r=q.current,Du(l)?eN(l):(r=Sk(b,f,u),l.stateNode=r,Vi(l))}return Sn(l),null;case 5:if(ue(l),u=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==f&&Vi(l);else{if(!f){if(l.stateNode===null)throw Error(a(166));return Sn(l),null}if(r=q.current,Du(l))eN(l);else{switch(b=Xm(ee.current),r){case 1:r=b.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:r=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":r=b.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":r=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":r=b.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof f.is=="string"?b.createElement("select",{is:f.is}):b.createElement("select"),f.multiple?r.multiple=!0:f.size&&(r.size=f.size);break;default:r=typeof f.is=="string"?b.createElement(u,{is:f.is}):b.createElement(u)}}r[Bt]=l,r[xt]=f;e:for(b=l.child;b!==null;){if(b.tag===5||b.tag===6)r.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===l)break e;for(;b.sibling===null;){if(b.return===null||b.return===l)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}l.stateNode=r;e:switch(Ps(r,u,f),u){case"button":case"input":case"select":case"textarea":r=!!f.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Vi(l)}}return Sn(l),l.flags&=-16777217,null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==f&&Vi(l);else{if(typeof f!="string"&&l.stateNode===null)throw Error(a(166));if(r=ee.current,Du(l)){if(r=l.stateNode,u=l.memoizedProps,f=null,b=na,b!==null)switch(b.tag){case 27:case 5:f=b.memoizedProps}r[Bt]=l,r=!!(r.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||xk(r.nodeValue,u)),r||zl(l)}else r=Xm(r).createTextNode(f),r[Bt]=l,l.stateNode=r}return Sn(l),null;case 13:if(f=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(b=Du(l),f!==null&&f.dehydrated!==null){if(r===null){if(!b)throw Error(a(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(a(317));b[Bt]=l}else Mu(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Sn(l),b=!1}else b=nN(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?($i(l),l):($i(l),null)}if($i(l),(l.flags&128)!==0)return l.lanes=u,l;if(u=f!==null,r=r!==null&&r.memoizedState!==null,u){f=l.child,b=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(b=f.alternate.memoizedState.cachePool.pool);var N=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(N=f.memoizedState.cachePool.pool),N!==b&&(f.flags|=2048)}return u!==r&&u&&(l.child.flags|=8192),Lm(l,l.updateQueue),Sn(l),null;case 4:return he(),r===null&&bb(l.stateNode.containerInfo),Sn(l),null;case 10:return zi(l.type),Sn(l),null;case 19:if(z(os),b=l.memoizedState,b===null)return Sn(l),null;if(f=(l.flags&128)!==0,N=b.rendering,N===null)if(f)Xu(b,!1);else{if(Pn!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(N=Rm(r),N!==null){for(l.flags|=128,Xu(b,!1),r=N.updateQueue,l.updateQueue=r,Lm(l,r),l.subtreeFlags=0,r=u,u=l.child;u!==null;)Qw(u,r),u=u.sibling;return W(os,os.current&1|2),l.child}r=r.sibling}b.tail!==null&&ke()>zm&&(l.flags|=128,f=!0,Xu(b,!1),l.lanes=4194304)}else{if(!f)if(r=Rm(N),r!==null){if(l.flags|=128,f=!0,r=r.updateQueue,l.updateQueue=r,Lm(l,r),Xu(b,!0),b.tail===null&&b.tailMode==="hidden"&&!N.alternate&&!Yt)return Sn(l),null}else 2*ke()-b.renderingStartTime>zm&&u!==536870912&&(l.flags|=128,f=!0,Xu(b,!1),l.lanes=4194304);b.isBackwards?(N.sibling=l.child,l.child=N):(r=b.last,r!==null?r.sibling=N:l.child=N,b.last=N)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=ke(),l.sibling=null,r=os.current,W(os,f?r&1|2:r&1),l):(Sn(l),null);case 22:case 23:return $i(l),jv(),f=l.memoizedState!==null,r!==null?r.memoizedState!==null!==f&&(l.flags|=8192):f&&(l.flags|=8192),f?(u&536870912)!==0&&(l.flags&128)===0&&(Sn(l),l.subtreeFlags&6&&(l.flags|=8192)):Sn(l),u=l.updateQueue,u!==null&&Lm(l,u.retryQueue),u=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048),r!==null&&z(Fl),null;case 24:return u=null,r!==null&&(u=r.memoizedState.cache),l.memoizedState.cache!==u&&(l.flags|=2048),zi(is),Sn(l),null;case 25:return null;case 30:return null}throw Error(a(156,l.tag))}function VL(r,l){switch(ov(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return zi(is),he(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return ue(l),null;case 13:if($i(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(a(340));Mu()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return z(os),null;case 4:return he(),null;case 10:return zi(l.type),null;case 22:case 23:return $i(l),jv(),r!==null&&z(Fl),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return zi(is),null;case 25:return null;default:return null}}function kS(r,l){switch(ov(l),l.tag){case 3:zi(is),he();break;case 26:case 27:case 5:ue(l);break;case 4:he();break;case 13:$i(l);break;case 19:z(os);break;case 10:zi(l.type);break;case 22:case 23:$i(l),jv(),r!==null&&z(Fl);break;case 24:zi(is)}}function Wu(r,l){try{var u=l.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var b=f.next;u=b;do{if((u.tag&r)===r){f=void 0;var N=u.create,D=u.inst;f=N(),D.destroy=f}u=u.next}while(u!==b)}}catch(U){dn(l,l.return,U)}}function Co(r,l,u){try{var f=l.updateQueue,b=f!==null?f.lastEffect:null;if(b!==null){var N=b.next;f=N;do{if((f.tag&r)===r){var D=f.inst,U=D.destroy;if(U!==void 0){D.destroy=void 0,b=l;var Q=u,de=U;try{de()}catch(be){dn(b,Q,be)}}}f=f.next}while(f!==N)}}catch(be){dn(l,l.return,be)}}function ES(r){var l=r.updateQueue;if(l!==null){var u=r.stateNode;try{fN(l,u)}catch(f){dn(r,r.return,f)}}}function AS(r,l,u){u.props=ql(r.type,r.memoizedProps),u.state=r.memoizedState;try{u.componentWillUnmount()}catch(f){dn(r,l,f)}}function Zu(r,l){try{var u=r.ref;if(u!==null){switch(r.tag){case 26:case 27:case 5:var f=r.stateNode;break;case 30:f=r.stateNode;break;default:f=r.stateNode}typeof u=="function"?r.refCleanup=u(f):u.current=f}}catch(b){dn(r,l,b)}}function ri(r,l){var u=r.ref,f=r.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(b){dn(r,l,b)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){dn(r,l,b)}else u.current=null}function CS(r){var l=r.type,u=r.memoizedProps,f=r.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(b){dn(r,r.return,b)}}function Xv(r,l,u){try{var f=r.stateNode;d5(f,r.type,u,l),f[xt]=l}catch(b){dn(r,r.return,b)}}function TS(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Lo(r.type)||r.tag===4}function Wv(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||TS(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Lo(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Zv(r,l,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,l?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(r,l):(l=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,l.appendChild(r),u=u._reactRootContainer,u!=null||l.onclick!==null||(l.onclick=Ym));else if(f!==4&&(f===27&&Lo(r.type)&&(u=r.stateNode,l=null),r=r.child,r!==null))for(Zv(r,l,u),r=r.sibling;r!==null;)Zv(r,l,u),r=r.sibling}function Im(r,l,u){var f=r.tag;if(f===5||f===6)r=r.stateNode,l?u.insertBefore(r,l):u.appendChild(r);else if(f!==4&&(f===27&&Lo(r.type)&&(u=r.stateNode),r=r.child,r!==null))for(Im(r,l,u),r=r.sibling;r!==null;)Im(r,l,u),r=r.sibling}function _S(r){var l=r.stateNode,u=r.memoizedProps;try{for(var f=r.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);Ps(l,f,u),l[Bt]=r,l[xt]=u}catch(N){dn(r,r.return,N)}}var qi=!1,qn=!1,Qv=!1,RS=typeof WeakSet=="function"?WeakSet:Set,Ss=null;function qL(r,l){if(r=r.containerInfo,wb=tp,r=Fw(r),Wx(r)){if("selectionStart"in r)var u={start:r.selectionStart,end:r.selectionEnd};else e:{u=(u=r.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var b=f.anchorOffset,N=f.focusNode;f=f.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var D=0,U=-1,Q=-1,de=0,be=0,Se=r,fe=null;t:for(;;){for(var me;Se!==u||b!==0&&Se.nodeType!==3||(U=D+b),Se!==N||f!==0&&Se.nodeType!==3||(Q=D+f),Se.nodeType===3&&(D+=Se.nodeValue.length),(me=Se.firstChild)!==null;)fe=Se,Se=me;for(;;){if(Se===r)break t;if(fe===u&&++de===b&&(U=D),fe===N&&++be===f&&(Q=D),(me=Se.nextSibling)!==null)break;Se=fe,fe=Se.parentNode}Se=me}u=U===-1||Q===-1?null:{start:U,end:Q}}else u=null}u=u||{start:0,end:0}}else u=null;for(Nb={focusedElem:r,selectionRange:u},tp=!1,Ss=l;Ss!==null;)if(l=Ss,r=l.child,(l.subtreeFlags&1024)!==0&&r!==null)r.return=l,Ss=r;else for(;Ss!==null;){switch(l=Ss,N=l.alternate,r=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&N!==null){r=void 0,u=l,b=N.memoizedProps,N=N.memoizedState,f=u.stateNode;try{var ft=ql(u.type,b,u.elementType===u.type);r=f.getSnapshotBeforeUpdate(ft,N),f.__reactInternalSnapshotBeforeUpdate=r}catch(ot){dn(u,u.return,ot)}}break;case 3:if((r&1024)!==0){if(r=l.stateNode.containerInfo,u=r.nodeType,u===9)Eb(r);else if(u===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Eb(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=l.sibling,r!==null){r.return=l.return,Ss=r;break}Ss=l.return}}function DS(r,l,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:To(r,u),f&4&&Wu(5,u);break;case 1:if(To(r,u),f&4)if(r=u.stateNode,l===null)try{r.componentDidMount()}catch(D){dn(u,u.return,D)}else{var b=ql(u.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(b,l,r.__reactInternalSnapshotBeforeUpdate)}catch(D){dn(u,u.return,D)}}f&64&&ES(u),f&512&&Zu(u,u.return);break;case 3:if(To(r,u),f&64&&(r=u.updateQueue,r!==null)){if(l=null,u.child!==null)switch(u.child.tag){case 27:case 5:l=u.child.stateNode;break;case 1:l=u.child.stateNode}try{fN(r,l)}catch(D){dn(u,u.return,D)}}break;case 27:l===null&&f&4&&_S(u);case 26:case 5:To(r,u),l===null&&f&4&&CS(u),f&512&&Zu(u,u.return);break;case 12:To(r,u);break;case 13:To(r,u),f&4&&OS(r,u),f&64&&(r=u.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(u=JL.bind(null,u),x5(r,u))));break;case 22:if(f=u.memoizedState!==null||qi,!f){l=l!==null&&l.memoizedState!==null||qn,b=qi;var N=qn;qi=f,(qn=l)&&!N?_o(r,u,(u.subtreeFlags&8772)!==0):To(r,u),qi=b,qn=N}break;case 30:break;default:To(r,u)}}function MS(r){var l=r.alternate;l!==null&&(r.alternate=null,MS(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&Sl(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var jn=null,ha=!1;function Hi(r,l,u){for(u=u.child;u!==null;)PS(r,l,u),u=u.sibling}function PS(r,l,u){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(vs,u)}catch{}switch(u.tag){case 26:qn||ri(u,l),Hi(r,l,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:qn||ri(u,l);var f=jn,b=ha;Lo(u.type)&&(jn=u.stateNode,ha=!1),Hi(r,l,u),ih(u.stateNode),jn=f,ha=b;break;case 5:qn||ri(u,l);case 6:if(f=jn,b=ha,jn=null,Hi(r,l,u),jn=f,ha=b,jn!==null)if(ha)try{(jn.nodeType===9?jn.body:jn.nodeName==="HTML"?jn.ownerDocument.body:jn).removeChild(u.stateNode)}catch(N){dn(u,l,N)}else try{jn.removeChild(u.stateNode)}catch(N){dn(u,l,N)}break;case 18:jn!==null&&(ha?(r=jn,wk(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,u.stateNode),mh(r)):wk(jn,u.stateNode));break;case 4:f=jn,b=ha,jn=u.stateNode.containerInfo,ha=!0,Hi(r,l,u),jn=f,ha=b;break;case 0:case 11:case 14:case 15:qn||Co(2,u,l),qn||Co(4,u,l),Hi(r,l,u);break;case 1:qn||(ri(u,l),f=u.stateNode,typeof f.componentWillUnmount=="function"&&AS(u,l,f)),Hi(r,l,u);break;case 21:Hi(r,l,u);break;case 22:qn=(f=qn)||u.memoizedState!==null,Hi(r,l,u),qn=f;break;default:Hi(r,l,u)}}function OS(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{mh(r)}catch(u){dn(l,l.return,u)}}function HL(r){switch(r.tag){case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new RS),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new RS),l;default:throw Error(a(435,r.tag))}}function Jv(r,l){var u=HL(r);l.forEach(function(f){var b=e5.bind(null,r,f);u.has(f)||(u.add(f),f.then(b,b))})}function Ta(r,l){var u=l.deletions;if(u!==null)for(var f=0;f<u.length;f++){var b=u[f],N=r,D=l,U=D;e:for(;U!==null;){switch(U.tag){case 27:if(Lo(U.type)){jn=U.stateNode,ha=!1;break e}break;case 5:jn=U.stateNode,ha=!1;break e;case 3:case 4:jn=U.stateNode.containerInfo,ha=!0;break e}U=U.return}if(jn===null)throw Error(a(160));PS(N,D,b),jn=null,ha=!1,N=b.alternate,N!==null&&(N.return=null),b.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)LS(l,r),l=l.sibling}var Ar=null;function LS(r,l){var u=r.alternate,f=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ta(l,r),_a(r),f&4&&(Co(3,r,r.return),Wu(3,r),Co(5,r,r.return));break;case 1:Ta(l,r),_a(r),f&512&&(qn||u===null||ri(u,u.return)),f&64&&qi&&(r=r.updateQueue,r!==null&&(f=r.callbacks,f!==null&&(u=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var b=Ar;if(Ta(l,r),_a(r),f&512&&(qn||u===null||ri(u,u.return)),f&4){var N=u!==null?u.memoizedState:null;if(f=r.memoizedState,u===null)if(f===null)if(r.stateNode===null){e:{f=r.type,u=r.memoizedProps,b=b.ownerDocument||b;t:switch(f){case"title":N=b.getElementsByTagName("title")[0],(!N||N[Na]||N[Bt]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=b.createElement(f),b.head.insertBefore(N,b.querySelector("head > title"))),Ps(N,f,u),N[Bt]=r,Rn(N),f=N;break e;case"link":var D=_k("link","href",b).get(f+(u.href||""));if(D){for(var U=0;U<D.length;U++)if(N=D[U],N.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&N.getAttribute("rel")===(u.rel==null?null:u.rel)&&N.getAttribute("title")===(u.title==null?null:u.title)&&N.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){D.splice(U,1);break t}}N=b.createElement(f),Ps(N,f,u),b.head.appendChild(N);break;case"meta":if(D=_k("meta","content",b).get(f+(u.content||""))){for(U=0;U<D.length;U++)if(N=D[U],N.getAttribute("content")===(u.content==null?null:""+u.content)&&N.getAttribute("name")===(u.name==null?null:u.name)&&N.getAttribute("property")===(u.property==null?null:u.property)&&N.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&N.getAttribute("charset")===(u.charSet==null?null:u.charSet)){D.splice(U,1);break t}}N=b.createElement(f),Ps(N,f,u),b.head.appendChild(N);break;default:throw Error(a(468,f))}N[Bt]=r,Rn(N),f=N}r.stateNode=f}else Rk(b,r.type,r.stateNode);else r.stateNode=Tk(b,f,r.memoizedProps);else N!==f?(N===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):N.count--,f===null?Rk(b,r.type,r.stateNode):Tk(b,f,r.memoizedProps)):f===null&&r.stateNode!==null&&Xv(r,r.memoizedProps,u.memoizedProps)}break;case 27:Ta(l,r),_a(r),f&512&&(qn||u===null||ri(u,u.return)),u!==null&&f&4&&Xv(r,r.memoizedProps,u.memoizedProps);break;case 5:if(Ta(l,r),_a(r),f&512&&(qn||u===null||ri(u,u.return)),r.flags&32){b=r.stateNode;try{js(b,"")}catch(me){dn(r,r.return,me)}}f&4&&r.stateNode!=null&&(b=r.memoizedProps,Xv(r,b,u!==null?u.memoizedProps:b)),f&1024&&(Qv=!0);break;case 6:if(Ta(l,r),_a(r),f&4){if(r.stateNode===null)throw Error(a(162));f=r.memoizedProps,u=r.stateNode;try{u.nodeValue=f}catch(me){dn(r,r.return,me)}}break;case 3:if(Qm=null,b=Ar,Ar=Wm(l.containerInfo),Ta(l,r),Ar=b,_a(r),f&4&&u!==null&&u.memoizedState.isDehydrated)try{mh(l.containerInfo)}catch(me){dn(r,r.return,me)}Qv&&(Qv=!1,IS(r));break;case 4:f=Ar,Ar=Wm(r.stateNode.containerInfo),Ta(l,r),_a(r),Ar=f;break;case 12:Ta(l,r),_a(r);break;case 13:Ta(l,r),_a(r),r.child.flags&8192&&r.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(rb=ke()),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Jv(r,f)));break;case 22:b=r.memoizedState!==null;var Q=u!==null&&u.memoizedState!==null,de=qi,be=qn;if(qi=de||b,qn=be||Q,Ta(l,r),qn=be,qi=de,_a(r),f&8192)e:for(l=r.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(u===null||Q||qi||qn||Hl(r)),u=null,l=r;;){if(l.tag===5||l.tag===26){if(u===null){Q=u=l;try{if(N=Q.stateNode,b)D=N.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{U=Q.stateNode;var Se=Q.memoizedProps.style,fe=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;U.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(me){dn(Q,Q.return,me)}}}else if(l.tag===6){if(u===null){Q=l;try{Q.stateNode.nodeValue=b?"":Q.memoizedProps}catch(me){dn(Q,Q.return,me)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break e;for(;l.sibling===null;){if(l.return===null||l.return===r)break e;u===l&&(u=null),l=l.return}u===l&&(u=null),l.sibling.return=l.return,l=l.sibling}f&4&&(f=r.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Jv(r,u))));break;case 19:Ta(l,r),_a(r),f&4&&(f=r.updateQueue,f!==null&&(r.updateQueue=null,Jv(r,f)));break;case 30:break;case 21:break;default:Ta(l,r),_a(r)}}function _a(r){var l=r.flags;if(l&2){try{for(var u,f=r.return;f!==null;){if(TS(f)){u=f;break}f=f.return}if(u==null)throw Error(a(160));switch(u.tag){case 27:var b=u.stateNode,N=Wv(r);Im(r,N,b);break;case 5:var D=u.stateNode;u.flags&32&&(js(D,""),u.flags&=-33);var U=Wv(r);Im(r,U,D);break;case 3:case 4:var Q=u.stateNode.containerInfo,de=Wv(r);Zv(r,de,Q);break;default:throw Error(a(161))}}catch(be){dn(r,r.return,be)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function IS(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;IS(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function To(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)DS(r,l.alternate,l),l=l.sibling}function Hl(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:Co(4,l,l.return),Hl(l);break;case 1:ri(l,l.return);var u=l.stateNode;typeof u.componentWillUnmount=="function"&&AS(l,l.return,u),Hl(l);break;case 27:ih(l.stateNode);case 26:case 5:ri(l,l.return),Hl(l);break;case 22:l.memoizedState===null&&Hl(l);break;case 30:Hl(l);break;default:Hl(l)}r=r.sibling}}function _o(r,l,u){for(u=u&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var f=l.alternate,b=r,N=l,D=N.flags;switch(N.tag){case 0:case 11:case 15:_o(b,N,u),Wu(4,N);break;case 1:if(_o(b,N,u),f=N,b=f.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(de){dn(f,f.return,de)}if(f=N,b=f.updateQueue,b!==null){var U=f.stateNode;try{var Q=b.shared.hiddenCallbacks;if(Q!==null)for(b.shared.hiddenCallbacks=null,b=0;b<Q.length;b++)hN(Q[b],U)}catch(de){dn(f,f.return,de)}}u&&D&64&&ES(N),Zu(N,N.return);break;case 27:_S(N);case 26:case 5:_o(b,N,u),u&&f===null&&D&4&&CS(N),Zu(N,N.return);break;case 12:_o(b,N,u);break;case 13:_o(b,N,u),u&&D&4&&OS(b,N);break;case 22:N.memoizedState===null&&_o(b,N,u),Zu(N,N.return);break;case 30:break;default:_o(b,N,u)}l=l.sibling}}function eb(r,l){var u=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==u&&(r!=null&&r.refCount++,u!=null&&Lu(u))}function tb(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Lu(r))}function ii(r,l,u,f){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)BS(r,l,u,f),l=l.sibling}function BS(r,l,u,f){var b=l.flags;switch(l.tag){case 0:case 11:case 15:ii(r,l,u,f),b&2048&&Wu(9,l);break;case 1:ii(r,l,u,f);break;case 3:ii(r,l,u,f),b&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Lu(r)));break;case 12:if(b&2048){ii(r,l,u,f),r=l.stateNode;try{var N=l.memoizedProps,D=N.id,U=N.onPostCommit;typeof U=="function"&&U(D,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Q){dn(l,l.return,Q)}}else ii(r,l,u,f);break;case 13:ii(r,l,u,f);break;case 23:break;case 22:N=l.stateNode,D=l.alternate,l.memoizedState!==null?N._visibility&2?ii(r,l,u,f):Qu(r,l):N._visibility&2?ii(r,l,u,f):(N._visibility|=2,Zc(r,l,u,f,(l.subtreeFlags&10256)!==0)),b&2048&&eb(D,l);break;case 24:ii(r,l,u,f),b&2048&&tb(l.alternate,l);break;default:ii(r,l,u,f)}}function Zc(r,l,u,f,b){for(b=b&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var N=r,D=l,U=u,Q=f,de=D.flags;switch(D.tag){case 0:case 11:case 15:Zc(N,D,U,Q,b),Wu(8,D);break;case 23:break;case 22:var be=D.stateNode;D.memoizedState!==null?be._visibility&2?Zc(N,D,U,Q,b):Qu(N,D):(be._visibility|=2,Zc(N,D,U,Q,b)),b&&de&2048&&eb(D.alternate,D);break;case 24:Zc(N,D,U,Q,b),b&&de&2048&&tb(D.alternate,D);break;default:Zc(N,D,U,Q,b)}l=l.sibling}}function Qu(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var u=r,f=l,b=f.flags;switch(f.tag){case 22:Qu(u,f),b&2048&&eb(f.alternate,f);break;case 24:Qu(u,f),b&2048&&tb(f.alternate,f);break;default:Qu(u,f)}l=l.sibling}}var Ju=8192;function Qc(r){if(r.subtreeFlags&Ju)for(r=r.child;r!==null;)zS(r),r=r.sibling}function zS(r){switch(r.tag){case 26:Qc(r),r.flags&Ju&&r.memoizedState!==null&&_5(Ar,r.memoizedState,r.memoizedProps);break;case 5:Qc(r);break;case 3:case 4:var l=Ar;Ar=Wm(r.stateNode.containerInfo),Qc(r),Ar=l;break;case 22:r.memoizedState===null&&(l=r.alternate,l!==null&&l.memoizedState!==null?(l=Ju,Ju=16777216,Qc(r),Ju=l):Qc(r));break;default:Qc(r)}}function US(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function eh(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var f=l[u];Ss=f,FS(f,r)}US(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)$S(r),r=r.sibling}function $S(r){switch(r.tag){case 0:case 11:case 15:eh(r),r.flags&2048&&Co(9,r,r.return);break;case 3:eh(r);break;case 12:eh(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&2&&(r.return===null||r.return.tag!==13)?(l._visibility&=-3,Bm(r)):eh(r);break;default:eh(r)}}function Bm(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var u=0;u<l.length;u++){var f=l[u];Ss=f,FS(f,r)}US(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:Co(8,l,l.return),Bm(l);break;case 22:u=l.stateNode,u._visibility&2&&(u._visibility&=-3,Bm(l));break;default:Bm(l)}r=r.sibling}}function FS(r,l){for(;Ss!==null;){var u=Ss;switch(u.tag){case 0:case 11:case 15:Co(8,u,l);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Lu(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Ss=f;else e:for(u=r;Ss!==null;){f=Ss;var b=f.sibling,N=f.return;if(MS(f),f===u){Ss=null;break e}if(b!==null){b.return=N,Ss=b;break e}Ss=N}}}var GL={getCacheForType:function(r){var l=Hs(is),u=l.data.get(r);return u===void 0&&(u=r(),l.data.set(r,u)),u}},KL=typeof WeakMap=="function"?WeakMap:Map,Wt=0,mn=null,At=null,zt=0,Zt=0,Ra=null,Ro=!1,Jc=!1,nb=!1,Gi=0,Pn=0,Do=0,Gl=0,sb=0,er=0,ed=0,th=null,fa=null,ab=!1,rb=0,zm=1/0,Um=null,Mo=null,Ms=0,Po=null,td=null,nd=0,ib=0,ob=null,VS=null,nh=0,lb=null;function Da(){if((Wt&2)!==0&&zt!==0)return zt&-zt;if(L.T!==null){var r=Vc;return r!==0?r:pb()}return cn()}function qS(){er===0&&(er=(zt&536870912)===0||Yt?Qt():536870912);var r=Ja.current;return r!==null&&(r.flags|=32),er}function Ma(r,l,u){(r===mn&&(Zt===2||Zt===9)||r.cancelPendingCommit!==null)&&(sd(r,0),Oo(r,zt,er,!1)),Rt(r,u),((Wt&2)===0||r!==mn)&&(r===mn&&((Wt&2)===0&&(Gl|=u),Pn===4&&Oo(r,zt,er,!1)),oi(r))}function HS(r,l,u){if((Wt&6)!==0)throw Error(a(327));var f=!u&&(l&124)===0&&(l&r.expiredLanes)===0||bs(r,l),b=f?WL(r,l):ub(r,l,!0),N=f;do{if(b===0){Jc&&!f&&Oo(r,l,0,!1);break}else{if(u=r.current.alternate,N&&!YL(u)){b=ub(r,l,!1),N=!1;continue}if(b===2){if(N=l,r.errorRecoveryDisabledLanes&N)var D=0;else D=r.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){l=D;e:{var U=r;b=th;var Q=U.current.memoizedState.isDehydrated;if(Q&&(sd(U,D).flags|=256),D=ub(U,D,!1),D!==2){if(nb&&!Q){U.errorRecoveryDisabledLanes|=N,Gl|=N,b=4;break e}N=fa,fa=b,N!==null&&(fa===null?fa=N:fa.push.apply(fa,N))}b=D}if(N=!1,b!==2)continue}}if(b===1){sd(r,0),Oo(r,l,0,!0);break}e:{switch(f=r,N=b,N){case 0:case 1:throw Error(a(345));case 4:if((l&4194048)!==l)break;case 6:Oo(f,l,er,!Ro);break e;case 2:fa=null;break;case 3:case 5:break;default:throw Error(a(329))}if((l&62914560)===l&&(b=rb+300-ke(),10<b)){if(Oo(f,l,er,!Ro),_s(f,0,!0)!==0)break e;f.timeoutHandle=yk(GS.bind(null,f,u,fa,Um,ab,l,er,Gl,ed,Ro,N,2,-0,0),b);break e}GS(f,u,fa,Um,ab,l,er,Gl,ed,Ro,N,0,-0,0)}}break}while(!0);oi(r)}function GS(r,l,u,f,b,N,D,U,Q,de,be,Se,fe,me){if(r.timeoutHandle=-1,Se=l.subtreeFlags,(Se&8192||(Se&16785408)===16785408)&&(ch={stylesheets:null,count:0,unsuspend:T5},zS(l),Se=R5(),Se!==null)){r.cancelPendingCommit=Se(JS.bind(null,r,l,N,u,f,b,D,U,Q,be,1,fe,me)),Oo(r,N,D,!de);return}JS(r,l,N,u,f,b,D,U,Q)}function YL(r){for(var l=r;;){var u=l.tag;if((u===0||u===11||u===15)&&l.flags&16384&&(u=l.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var b=u[f],N=b.getSnapshot;b=b.value;try{if(!Aa(N(),b))return!1}catch{return!1}}if(u=l.child,l.subtreeFlags&16384&&u!==null)u.return=l,l=u;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Oo(r,l,u,f){l&=~sb,l&=~Gl,r.suspendedLanes|=l,r.pingedLanes&=~l,f&&(r.warmLanes|=l),f=r.expirationTimes;for(var b=l;0<b;){var N=31-Vt(b),D=1<<N;f[N]=-1,b&=~D}u!==0&&qe(r,u,l)}function $m(){return(Wt&6)===0?(sh(0),!1):!0}function cb(){if(At!==null){if(Zt===0)var r=At.return;else r=At,Bi=Ul=null,Ev(r),Xc=null,Ku=0,r=At;for(;r!==null;)kS(r.alternate,r),r=r.return;At=null}}function sd(r,l){var u=r.timeoutHandle;u!==-1&&(r.timeoutHandle=-1,h5(u)),u=r.cancelPendingCommit,u!==null&&(r.cancelPendingCommit=null,u()),cb(),mn=r,At=u=Oi(r.current,null),zt=l,Zt=0,Ra=null,Ro=!1,Jc=bs(r,l),nb=!1,ed=er=sb=Gl=Do=Pn=0,fa=th=null,ab=!1,(l&8)!==0&&(l|=l&32);var f=r.entangledLanes;if(f!==0)for(r=r.entanglements,f&=l;0<f;){var b=31-Vt(f),N=1<<b;l|=r[b],f&=~N}return Gi=l,cm(),u}function KS(r,l){jt=null,L.H=Cm,l===Bu||l===vm?(l=dN(),Zt=3):l===oN?(l=dN(),Zt=4):Zt=l===uS?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ra=l,At===null&&(Pn=1,Mm(r,Xa(l,r.current)))}function YS(){var r=L.H;return L.H=Cm,r===null?Cm:r}function XS(){var r=L.A;return L.A=GL,r}function db(){Pn=4,Ro||(zt&4194048)!==zt&&Ja.current!==null||(Jc=!0),(Do&134217727)===0&&(Gl&134217727)===0||mn===null||Oo(mn,zt,er,!1)}function ub(r,l,u){var f=Wt;Wt|=2;var b=YS(),N=XS();(mn!==r||zt!==l)&&(Um=null,sd(r,l)),l=!1;var D=Pn;e:do try{if(Zt!==0&&At!==null){var U=At,Q=Ra;switch(Zt){case 8:cb(),D=6;break e;case 3:case 2:case 9:case 6:Ja.current===null&&(l=!0);var de=Zt;if(Zt=0,Ra=null,ad(r,U,Q,de),u&&Jc){D=0;break e}break;default:de=Zt,Zt=0,Ra=null,ad(r,U,Q,de)}}XL(),D=Pn;break}catch(be){KS(r,be)}while(!0);return l&&r.shellSuspendCounter++,Bi=Ul=null,Wt=f,L.H=b,L.A=N,At===null&&(mn=null,zt=0,cm()),D}function XL(){for(;At!==null;)WS(At)}function WL(r,l){var u=Wt;Wt|=2;var f=YS(),b=XS();mn!==r||zt!==l?(Um=null,zm=ke()+500,sd(r,l)):Jc=bs(r,l);e:do try{if(Zt!==0&&At!==null){l=At;var N=Ra;t:switch(Zt){case 1:Zt=0,Ra=null,ad(r,l,N,1);break;case 2:case 9:if(lN(N)){Zt=0,Ra=null,ZS(l);break}l=function(){Zt!==2&&Zt!==9||mn!==r||(Zt=7),oi(r)},N.then(l,l);break e;case 3:Zt=7;break e;case 4:Zt=5;break e;case 7:lN(N)?(Zt=0,Ra=null,ZS(l)):(Zt=0,Ra=null,ad(r,l,N,7));break;case 5:var D=null;switch(At.tag){case 26:D=At.memoizedState;case 5:case 27:var U=At;if(!D||Dk(D)){Zt=0,Ra=null;var Q=U.sibling;if(Q!==null)At=Q;else{var de=U.return;de!==null?(At=de,Fm(de)):At=null}break t}}Zt=0,Ra=null,ad(r,l,N,5);break;case 6:Zt=0,Ra=null,ad(r,l,N,6);break;case 8:cb(),Pn=6;break e;default:throw Error(a(462))}}ZL();break}catch(be){KS(r,be)}while(!0);return Bi=Ul=null,L.H=f,L.A=b,Wt=u,At!==null?0:(mn=null,zt=0,cm(),Pn)}function ZL(){for(;At!==null&&!nt();)WS(At)}function WS(r){var l=NS(r.alternate,r,Gi);r.memoizedProps=r.pendingProps,l===null?Fm(r):At=l}function ZS(r){var l=r,u=l.alternate;switch(l.tag){case 15:case 0:l=xS(u,l,l.pendingProps,l.type,void 0,zt);break;case 11:l=xS(u,l,l.pendingProps,l.type.render,l.ref,zt);break;case 5:Ev(l);default:kS(u,l),l=At=Qw(l,Gi),l=NS(u,l,Gi)}r.memoizedProps=r.pendingProps,l===null?Fm(r):At=l}function ad(r,l,u,f){Bi=Ul=null,Ev(l),Xc=null,Ku=0;var b=l.return;try{if(UL(r,b,l,u,zt)){Pn=1,Mm(r,Xa(u,r.current)),At=null;return}}catch(N){if(b!==null)throw At=b,N;Pn=1,Mm(r,Xa(u,r.current)),At=null;return}l.flags&32768?(Yt||f===1?r=!0:Jc||(zt&536870912)!==0?r=!1:(Ro=r=!0,(f===2||f===9||f===3||f===6)&&(f=Ja.current,f!==null&&f.tag===13&&(f.flags|=16384))),QS(l,r)):Fm(l)}function Fm(r){var l=r;do{if((l.flags&32768)!==0){QS(l,Ro);return}r=l.return;var u=FL(l.alternate,l,Gi);if(u!==null){At=u;return}if(l=l.sibling,l!==null){At=l;return}At=l=r}while(l!==null);Pn===0&&(Pn=5)}function QS(r,l){do{var u=VL(r.alternate,r);if(u!==null){u.flags&=32767,At=u;return}if(u=r.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!l&&(r=r.sibling,r!==null)){At=r;return}At=r=u}while(r!==null);Pn=6,At=null}function JS(r,l,u,f,b,N,D,U,Q){r.cancelPendingCommit=null;do Vm();while(Ms!==0);if((Wt&6)!==0)throw Error(a(327));if(l!==null){if(l===r.current)throw Error(a(177));if(N=l.lanes|l.childLanes,N|=tv,ln(r,u,N,D,U,Q),r===mn&&(At=mn=null,zt=0),td=l,Po=r,nd=u,ib=N,ob=b,VS=f,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,t5(Ae,function(){return ak(),null})):(r.callbackNode=null,r.callbackPriority=0),f=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||f){f=L.T,L.T=null,b=V.p,V.p=2,D=Wt,Wt|=4;try{qL(r,l,u)}finally{Wt=D,V.p=b,L.T=f}}Ms=1,ek(),tk(),nk()}}function ek(){if(Ms===1){Ms=0;var r=Po,l=td,u=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||u){u=L.T,L.T=null;var f=V.p;V.p=2;var b=Wt;Wt|=4;try{LS(l,r);var N=Nb,D=Fw(r.containerInfo),U=N.focusedElem,Q=N.selectionRange;if(D!==U&&U&&U.ownerDocument&&$w(U.ownerDocument.documentElement,U)){if(Q!==null&&Wx(U)){var de=Q.start,be=Q.end;if(be===void 0&&(be=de),"selectionStart"in U)U.selectionStart=de,U.selectionEnd=Math.min(be,U.value.length);else{var Se=U.ownerDocument||document,fe=Se&&Se.defaultView||window;if(fe.getSelection){var me=fe.getSelection(),ft=U.textContent.length,ot=Math.min(Q.start,ft),tn=Q.end===void 0?ot:Math.min(Q.end,ft);!me.extend&&ot>tn&&(D=tn,tn=ot,ot=D);var oe=Uw(U,ot),re=Uw(U,tn);if(oe&&re&&(me.rangeCount!==1||me.anchorNode!==oe.node||me.anchorOffset!==oe.offset||me.focusNode!==re.node||me.focusOffset!==re.offset)){var le=Se.createRange();le.setStart(oe.node,oe.offset),me.removeAllRanges(),ot>tn?(me.addRange(le),me.extend(re.node,re.offset)):(le.setEnd(re.node,re.offset),me.addRange(le))}}}}for(Se=[],me=U;me=me.parentNode;)me.nodeType===1&&Se.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<Se.length;U++){var ye=Se[U];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}tp=!!wb,Nb=wb=null}finally{Wt=b,V.p=f,L.T=u}}r.current=l,Ms=2}}function tk(){if(Ms===2){Ms=0;var r=Po,l=td,u=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||u){u=L.T,L.T=null;var f=V.p;V.p=2;var b=Wt;Wt|=4;try{DS(r,l.alternate,l)}finally{Wt=b,V.p=f,L.T=u}}Ms=3}}function nk(){if(Ms===4||Ms===3){Ms=0,De();var r=Po,l=td,u=nd,f=VS;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Ms=5:(Ms=0,td=Po=null,sk(r,r.pendingLanes));var b=r.pendingLanes;if(b===0&&(Mo=null),yt(u),l=l.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(vs,l,void 0,(l.current.flags&128)===128)}catch{}if(f!==null){l=L.T,b=V.p,V.p=2,L.T=null;try{for(var N=r.onRecoverableError,D=0;D<f.length;D++){var U=f[D];N(U.value,{componentStack:U.stack})}}finally{L.T=l,V.p=b}}(nd&3)!==0&&Vm(),oi(r),b=r.pendingLanes,(u&4194090)!==0&&(b&42)!==0?r===lb?nh++:(nh=0,lb=r):nh=0,sh(0)}}function sk(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,Lu(l)))}function Vm(r){return ek(),tk(),nk(),ak()}function ak(){if(Ms!==5)return!1;var r=Po,l=ib;ib=0;var u=yt(nd),f=L.T,b=V.p;try{V.p=32>u?32:u,L.T=null,u=ob,ob=null;var N=Po,D=nd;if(Ms=0,td=Po=null,nd=0,(Wt&6)!==0)throw Error(a(331));var U=Wt;if(Wt|=4,$S(N.current),BS(N,N.current,D,u),Wt=U,sh(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(vs,N)}catch{}return!0}finally{V.p=b,L.T=f,sk(r,l)}}function rk(r,l,u){l=Xa(u,l),l=Uv(r.stateNode,l,2),r=So(r,l,2),r!==null&&(Rt(r,2),oi(r))}function dn(r,l,u){if(r.tag===3)rk(r,r,u);else for(;l!==null;){if(l.tag===3){rk(l,r,u);break}else if(l.tag===1){var f=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Mo===null||!Mo.has(f))){r=Xa(u,r),u=cS(2),f=So(l,u,2),f!==null&&(dS(u,f,l,r),Rt(f,2),oi(f));break}}l=l.return}}function hb(r,l,u){var f=r.pingCache;if(f===null){f=r.pingCache=new KL;var b=new Set;f.set(l,b)}else b=f.get(l),b===void 0&&(b=new Set,f.set(l,b));b.has(u)||(nb=!0,b.add(u),r=QL.bind(null,r,l,u),l.then(r,r))}function QL(r,l,u){var f=r.pingCache;f!==null&&f.delete(l),r.pingedLanes|=r.suspendedLanes&u,r.warmLanes&=~u,mn===r&&(zt&u)===u&&(Pn===4||Pn===3&&(zt&62914560)===zt&&300>ke()-rb?(Wt&2)===0&&sd(r,0):sb|=u,ed===zt&&(ed=0)),oi(r)}function ik(r,l){l===0&&(l=ta()),r=zc(r,l),r!==null&&(Rt(r,l),oi(r))}function JL(r){var l=r.memoizedState,u=0;l!==null&&(u=l.retryLane),ik(r,u)}function e5(r,l){var u=0;switch(r.tag){case 13:var f=r.stateNode,b=r.memoizedState;b!==null&&(u=b.retryLane);break;case 19:f=r.stateNode;break;case 22:f=r.stateNode._retryCache;break;default:throw Error(a(314))}f!==null&&f.delete(l),ik(r,u)}function t5(r,l){return Ce(r,l)}var qm=null,rd=null,fb=!1,Hm=!1,mb=!1,Kl=0;function oi(r){r!==rd&&r.next===null&&(rd===null?qm=rd=r:rd=rd.next=r),Hm=!0,fb||(fb=!0,s5())}function sh(r,l){if(!mb&&Hm){mb=!0;do for(var u=!1,f=qm;f!==null;){if(r!==0){var b=f.pendingLanes;if(b===0)var N=0;else{var D=f.suspendedLanes,U=f.pingedLanes;N=(1<<31-Vt(42|r)+1)-1,N&=b&~(D&~U),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(u=!0,dk(f,N))}else N=zt,N=_s(f,f===mn?N:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(N&3)===0||bs(f,N)||(u=!0,dk(f,N));f=f.next}while(u);mb=!1}}function n5(){ok()}function ok(){Hm=fb=!1;var r=0;Kl!==0&&(u5()&&(r=Kl),Kl=0);for(var l=ke(),u=null,f=qm;f!==null;){var b=f.next,N=lk(f,l);N===0?(f.next=null,u===null?qm=b:u.next=b,b===null&&(rd=u)):(u=f,(r!==0||(N&3)!==0)&&(Hm=!0)),f=b}sh(r)}function lk(r,l){for(var u=r.suspendedLanes,f=r.pingedLanes,b=r.expirationTimes,N=r.pendingLanes&-62914561;0<N;){var D=31-Vt(N),U=1<<D,Q=b[D];Q===-1?((U&u)===0||(U&f)!==0)&&(b[D]=ys(U,l)):Q<=l&&(r.expiredLanes|=U),N&=~U}if(l=mn,u=zt,u=_s(r,r===l?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f=r.callbackNode,u===0||r===l&&(Zt===2||Zt===9)||r.cancelPendingCommit!==null)return f!==null&&f!==null&&Oe(f),r.callbackNode=null,r.callbackPriority=0;if((u&3)===0||bs(r,u)){if(l=u&-u,l===r.callbackPriority)return l;switch(f!==null&&Oe(f),yt(u)){case 2:case 8:u=Qe;break;case 32:u=Ae;break;case 268435456:u=Nt;break;default:u=Ae}return f=ck.bind(null,r),u=Ce(u,f),r.callbackPriority=l,r.callbackNode=u,l}return f!==null&&f!==null&&Oe(f),r.callbackPriority=2,r.callbackNode=null,2}function ck(r,l){if(Ms!==0&&Ms!==5)return r.callbackNode=null,r.callbackPriority=0,null;var u=r.callbackNode;if(Vm()&&r.callbackNode!==u)return null;var f=zt;return f=_s(r,r===mn?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),f===0?null:(HS(r,f,l),lk(r,ke()),r.callbackNode!=null&&r.callbackNode===u?ck.bind(null,r):null)}function dk(r,l){if(Vm())return null;HS(r,l,!0)}function s5(){f5(function(){(Wt&6)!==0?Ce(Le,n5):ok()})}function pb(){return Kl===0&&(Kl=Qt()),Kl}function uk(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:mo(""+r)}function hk(r,l){var u=l.ownerDocument.createElement("input");return u.name=l.name,u.value=l.value,r.id&&u.setAttribute("form",r.id),l.parentNode.insertBefore(u,l),r=new FormData(r),u.parentNode.removeChild(u),r}function a5(r,l,u,f,b){if(l==="submit"&&u&&u.stateNode===b){var N=uk((b[xt]||null).action),D=f.submitter;D&&(l=(l=D[xt]||null)?uk(l.formAction):D.getAttribute("formAction"),l!==null&&(N=l,D=null));var U=new xe("action","action",null,f,b);r.push({event:U,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Kl!==0){var Q=D?hk(b,D):new FormData(b);Ov(u,{pending:!0,data:Q,method:b.method,action:N},null,Q)}}else typeof N=="function"&&(U.preventDefault(),Q=D?hk(b,D):new FormData(b),Ov(u,{pending:!0,data:Q,method:b.method,action:N},N,Q))},currentTarget:b}]})}}for(var gb=0;gb<ev.length;gb++){var xb=ev[gb],r5=xb.toLowerCase(),i5=xb[0].toUpperCase()+xb.slice(1);Er(r5,"on"+i5)}Er(Hw,"onAnimationEnd"),Er(Gw,"onAnimationIteration"),Er(Kw,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(NL,"onTransitionRun"),Er(SL,"onTransitionStart"),Er(kL,"onTransitionCancel"),Er(Yw,"onTransitionEnd"),Un("onMouseEnter",["mouseout","mouseover"]),Un("onMouseLeave",["mouseout","mouseover"]),Un("onPointerEnter",["pointerout","pointerover"]),Un("onPointerLeave",["pointerout","pointerover"]),yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ah="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o5=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ah));function fk(r,l){l=(l&4)!==0;for(var u=0;u<r.length;u++){var f=r[u],b=f.event;f=f.listeners;e:{var N=void 0;if(l)for(var D=f.length-1;0<=D;D--){var U=f[D],Q=U.instance,de=U.currentTarget;if(U=U.listener,Q!==N&&b.isPropagationStopped())break e;N=U,b.currentTarget=de;try{N(b)}catch(be){Dm(be)}b.currentTarget=null,N=Q}else for(D=0;D<f.length;D++){if(U=f[D],Q=U.instance,de=U.currentTarget,U=U.listener,Q!==N&&b.isPropagationStopped())break e;N=U,b.currentTarget=de;try{N(b)}catch(be){Dm(be)}b.currentTarget=null,N=Q}}}}function Ct(r,l){var u=l[Rs];u===void 0&&(u=l[Rs]=new Set);var f=r+"__bubble";u.has(f)||(mk(l,r,2,!1),u.add(f))}function vb(r,l,u){var f=0;l&&(f|=4),mk(u,r,f,l)}var Gm="_reactListening"+Math.random().toString(36).slice(2);function bb(r){if(!r[Gm]){r[Gm]=!0,Ec.forEach(function(u){u!=="selectionchange"&&(o5.has(u)||vb(u,!1,r),vb(u,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[Gm]||(l[Gm]=!0,vb("selectionchange",!1,l))}}function mk(r,l,u,f){switch(Bk(l)){case 2:var b=P5;break;case 8:b=O5;break;default:b=Mb}u=b.bind(null,l,u,r),b=void 0,!xo||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),f?b!==void 0?r.addEventListener(l,u,{capture:!0,passive:b}):r.addEventListener(l,u,!0):b!==void 0?r.addEventListener(l,u,{passive:b}):r.addEventListener(l,u,!1)}function yb(r,l,u,f,b){var N=f;if((l&1)===0&&(l&2)===0&&f!==null)e:for(;;){if(f===null)return;var D=f.tag;if(D===3||D===4){var U=f.stateNode.containerInfo;if(U===b)break;if(D===4)for(D=f.return;D!==null;){var Q=D.tag;if((Q===3||Q===4)&&D.stateNode.containerInfo===b)return;D=D.return}for(;U!==null;){if(D=Xr(U),D===null)return;if(Q=D.tag,Q===5||Q===6||Q===26||Q===27){f=N=D;continue e}U=U.parentNode}}f=f.return}go(function(){var de=N,be=po(u),Se=[];e:{var fe=Xw.get(r);if(fe!==void 0){var me=xe,ft=r;switch(r){case"keypress":if(bo(u)===0)break e;case"keydown":case"keyup":me=tL;break;case"focusin":ft="focus",me=Fn;break;case"focusout":ft="blur",me=Fn;break;case"beforeblur":case"afterblur":me=Fn;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=rs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=$n;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=aL;break;case Hw:case Gw:case Kw:me=kr;break;case Yw:me=iL;break;case"scroll":case"scrollend":me=Je;break;case"wheel":me=lL;break;case"copy":case"cut":case"paste":me=om;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Ew;break;case"toggle":case"beforetoggle":me=dL}var ot=(l&4)!==0,tn=!ot&&(r==="scroll"||r==="scrollend"),oe=ot?fe!==null?fe+"Capture":null:fe;ot=[];for(var re=de,le;re!==null;){var ye=re;if(le=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||le===null||oe===null||(ye=Ya(re,oe),ye!=null&&ot.push(rh(re,ye,le))),tn)break;re=re.return}0<ot.length&&(fe=new me(fe,ft,null,u,be),Se.push({event:fe,listeners:ot}))}}if((l&7)===0){e:{if(fe=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",fe&&u!==_l&&(ft=u.relatedTarget||u.fromElement)&&(Xr(ft)||ft[qt]))break e;if((me||fe)&&(fe=be.window===be?be:(fe=be.ownerDocument)?fe.defaultView||fe.parentWindow:window,me?(ft=u.relatedTarget||u.toElement,me=de,ft=ft?Xr(ft):null,ft!==null&&(tn=o(ft),ot=ft.tag,ft!==tn||ot!==5&&ot!==27&&ot!==6)&&(ft=null)):(me=null,ft=de),me!==ft)){if(ot=rs,ye="onMouseLeave",oe="onMouseEnter",re="mouse",(r==="pointerout"||r==="pointerover")&&(ot=Ew,ye="onPointerLeave",oe="onPointerEnter",re="pointer"),tn=me==null?fe:_n(me),le=ft==null?fe:_n(ft),fe=new ot(ye,re+"leave",me,u,be),fe.target=tn,fe.relatedTarget=le,ye=null,Xr(be)===de&&(ot=new ot(oe,re+"enter",ft,u,be),ot.target=le,ot.relatedTarget=tn,ye=ot),tn=ye,me&&ft)t:{for(ot=me,oe=ft,re=0,le=ot;le;le=id(le))re++;for(le=0,ye=oe;ye;ye=id(ye))le++;for(;0<re-le;)ot=id(ot),re--;for(;0<le-re;)oe=id(oe),le--;for(;re--;){if(ot===oe||oe!==null&&ot===oe.alternate)break t;ot=id(ot),oe=id(oe)}ot=null}else ot=null;me!==null&&pk(Se,fe,me,ot,!1),ft!==null&&tn!==null&&pk(Se,tn,ft,ot,!0)}}e:{if(fe=de?_n(de):window,me=fe.nodeName&&fe.nodeName.toLowerCase(),me==="select"||me==="input"&&fe.type==="file")var Ke=Pw;else if(Dw(fe))if(Ow)Ke=yL;else{Ke=vL;var St=xL}else me=fe.nodeName,!me||me.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?de&&ca(de.elementType)&&(Ke=Pw):Ke=bL;if(Ke&&(Ke=Ke(r,de))){Mw(Se,Ke,u,be);break e}St&&St(r,fe,de),r==="focusout"&&de&&fe.type==="number"&&de.memoizedProps.value!=null&&Di(fe,"number",fe.value)}switch(St=de?_n(de):window,r){case"focusin":(Dw(St)||St.contentEditable==="true")&&(Lc=St,Zx=de,Ru=null);break;case"focusout":Ru=Zx=Lc=null;break;case"mousedown":Qx=!0;break;case"contextmenu":case"mouseup":case"dragend":Qx=!1,Vw(Se,u,be);break;case"selectionchange":if(wL)break;case"keydown":case"keyup":Vw(Se,u,be)}var st;if(Kx)e:{switch(r){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else Oc?_w(r,u)&&(lt="onCompositionEnd"):r==="keydown"&&u.keyCode===229&&(lt="onCompositionStart");lt&&(Aw&&u.locale!=="ko"&&(Oc||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&Oc&&(st=vo()):(Ea=be,da="value"in Ea?Ea.value:Ea.textContent,Oc=!0)),St=Km(de,lt),0<St.length&&(lt=new Dl(lt,r,null,u,be),Se.push({event:lt,listeners:St}),st?lt.data=st:(st=Rw(u),st!==null&&(lt.data=st)))),(st=hL?fL(r,u):mL(r,u))&&(lt=Km(de,"onBeforeInput"),0<lt.length&&(St=new Dl("onBeforeInput","beforeinput",null,u,be),Se.push({event:St,listeners:lt}),St.data=st)),a5(Se,r,de,u,be)}fk(Se,l)})}function rh(r,l,u){return{instance:r,listener:l,currentTarget:u}}function Km(r,l){for(var u=l+"Capture",f=[];r!==null;){var b=r,N=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||N===null||(b=Ya(r,u),b!=null&&f.unshift(rh(r,b,N)),b=Ya(r,l),b!=null&&f.push(rh(r,b,N))),r.tag===3)return f;r=r.return}return[]}function id(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function pk(r,l,u,f,b){for(var N=l._reactName,D=[];u!==null&&u!==f;){var U=u,Q=U.alternate,de=U.stateNode;if(U=U.tag,Q!==null&&Q===f)break;U!==5&&U!==26&&U!==27||de===null||(Q=de,b?(de=Ya(u,N),de!=null&&D.unshift(rh(u,de,Q))):b||(de=Ya(u,N),de!=null&&D.push(rh(u,de,Q)))),u=u.return}D.length!==0&&r.push({event:l,listeners:D})}var l5=/\r\n?/g,c5=/\u0000|\uFFFD/g;function gk(r){return(typeof r=="string"?r:""+r).replace(l5,`
`).replace(c5,"")}function xk(r,l){return l=gk(l),gk(r)===l}function Ym(){}function en(r,l,u,f,b,N){switch(u){case"children":typeof f=="string"?l==="body"||l==="textarea"&&f===""||js(r,f):(typeof f=="number"||typeof f=="bigint")&&l!=="body"&&js(r,""+f);break;case"className":jr(r,"class",f);break;case"tabIndex":jr(r,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":jr(r,u,f);break;case"style":Mc(r,f,N);break;case"data":if(l!=="object"){jr(r,"data",f);break}case"src":case"href":if(f===""&&(l!=="a"||u!=="href")){r.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=mo(""+f),r.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){r.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(u==="formAction"?(l!=="input"&&en(r,l,"name",b.name,b,null),en(r,l,"formEncType",b.formEncType,b,null),en(r,l,"formMethod",b.formMethod,b,null),en(r,l,"formTarget",b.formTarget,b,null)):(en(r,l,"encType",b.encType,b,null),en(r,l,"method",b.method,b,null),en(r,l,"target",b.target,b,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){r.removeAttribute(u);break}f=mo(""+f),r.setAttribute(u,f);break;case"onClick":f!=null&&(r.onclick=Ym);break;case"onScroll":f!=null&&Ct("scroll",r);break;case"onScrollEnd":f!=null&&Ct("scrollend",r);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(a(61));if(u=f.__html,u!=null){if(b.children!=null)throw Error(a(60));r.innerHTML=u}}break;case"multiple":r.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":r.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){r.removeAttribute("xlink:href");break}u=mo(""+f),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""+f):r.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,""):r.removeAttribute(u);break;case"capture":case"download":f===!0?r.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?r.setAttribute(u,f):r.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?r.setAttribute(u,f):r.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?r.removeAttribute(u):r.setAttribute(u,f);break;case"popover":Ct("beforetoggle",r),Ct("toggle",r),fo(r,"popover",f);break;case"xlinkActuate":la(r,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":la(r,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":la(r,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":la(r,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":la(r,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":la(r,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":la(r,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":la(r,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":la(r,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":fo(r,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=ku.get(u)||u,fo(r,u,f))}}function jb(r,l,u,f,b,N){switch(u){case"style":Mc(r,f,N);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(a(61));if(u=f.__html,u!=null){if(b.children!=null)throw Error(a(60));r.innerHTML=u}}break;case"children":typeof f=="string"?js(r,f):(typeof f=="number"||typeof f=="bigint")&&js(r,""+f);break;case"onScroll":f!=null&&Ct("scroll",r);break;case"onScrollEnd":f!=null&&Ct("scrollend",r);break;case"onClick":f!=null&&(r.onclick=Ym);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ac.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),l=u.slice(2,b?u.length-7:void 0),N=r[xt]||null,N=N!=null?N[u]:null,typeof N=="function"&&r.removeEventListener(l,N,b),typeof f=="function")){typeof N!="function"&&N!==null&&(u in r?r[u]=null:r.hasAttribute(u)&&r.removeAttribute(u)),r.addEventListener(l,f,b);break e}u in r?r[u]=f:f===!0?r.setAttribute(u,""):fo(r,u,f)}}}function Ps(r,l,u){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",r),Ct("load",r);var f=!1,b=!1,N;for(N in u)if(u.hasOwnProperty(N)){var D=u[N];if(D!=null)switch(N){case"src":f=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:en(r,l,N,D,u,null)}}b&&en(r,l,"srcSet",u.srcSet,u,null),f&&en(r,l,"src",u.src,u,null);return;case"input":Ct("invalid",r);var U=N=D=b=null,Q=null,de=null;for(f in u)if(u.hasOwnProperty(f)){var be=u[f];if(be!=null)switch(f){case"name":b=be;break;case"type":D=be;break;case"checked":Q=be;break;case"defaultChecked":de=be;break;case"value":N=be;break;case"defaultValue":U=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(a(137,l));break;default:en(r,l,f,be,u,null)}}Rc(r,N,U,Q,de,D,b,!1),Ga(r);return;case"select":Ct("invalid",r),f=D=N=null;for(b in u)if(u.hasOwnProperty(b)&&(U=u[b],U!=null))switch(b){case"value":N=U;break;case"defaultValue":D=U;break;case"multiple":f=U;default:en(r,l,b,U,u,null)}l=N,u=D,r.multiple=!!f,l!=null?Jr(r,!!f,l,!1):u!=null&&Jr(r,!!f,u,!0);return;case"textarea":Ct("invalid",r),N=b=f=null;for(D in u)if(u.hasOwnProperty(D)&&(U=u[D],U!=null))switch(D){case"value":f=U;break;case"defaultValue":b=U;break;case"children":N=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(91));break;default:en(r,l,D,U,u,null)}ei(r,f,b,N),Ga(r);return;case"option":for(Q in u)if(u.hasOwnProperty(Q)&&(f=u[Q],f!=null))switch(Q){case"selected":r.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:en(r,l,Q,f,u,null)}return;case"dialog":Ct("beforetoggle",r),Ct("toggle",r),Ct("cancel",r),Ct("close",r);break;case"iframe":case"object":Ct("load",r);break;case"video":case"audio":for(f=0;f<ah.length;f++)Ct(ah[f],r);break;case"image":Ct("error",r),Ct("load",r);break;case"details":Ct("toggle",r);break;case"embed":case"source":case"link":Ct("error",r),Ct("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in u)if(u.hasOwnProperty(de)&&(f=u[de],f!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:en(r,l,de,f,u,null)}return;default:if(ca(l)){for(be in u)u.hasOwnProperty(be)&&(f=u[be],f!==void 0&&jb(r,l,be,f,u,void 0));return}}for(U in u)u.hasOwnProperty(U)&&(f=u[U],f!=null&&en(r,l,U,f,u,null))}function d5(r,l,u,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,N=null,D=null,U=null,Q=null,de=null,be=null;for(me in u){var Se=u[me];if(u.hasOwnProperty(me)&&Se!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":Q=Se;default:f.hasOwnProperty(me)||en(r,l,me,null,f,Se)}}for(var fe in f){var me=f[fe];if(Se=u[fe],f.hasOwnProperty(fe)&&(me!=null||Se!=null))switch(fe){case"type":N=me;break;case"name":b=me;break;case"checked":de=me;break;case"defaultChecked":be=me;break;case"value":D=me;break;case"defaultValue":U=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(a(137,l));break;default:me!==Se&&en(r,l,fe,me,f,Se)}}Tl(r,D,U,Q,de,be,N,b);return;case"select":me=D=U=fe=null;for(N in u)if(Q=u[N],u.hasOwnProperty(N)&&Q!=null)switch(N){case"value":break;case"multiple":me=Q;default:f.hasOwnProperty(N)||en(r,l,N,null,f,Q)}for(b in f)if(N=f[b],Q=u[b],f.hasOwnProperty(b)&&(N!=null||Q!=null))switch(b){case"value":fe=N;break;case"defaultValue":U=N;break;case"multiple":D=N;default:N!==Q&&en(r,l,b,N,f,Q)}l=U,u=D,f=me,fe!=null?Jr(r,!!u,fe,!1):!!f!=!!u&&(l!=null?Jr(r,!!u,l,!0):Jr(r,!!u,u?[]:"",!1));return;case"textarea":me=fe=null;for(U in u)if(b=u[U],u.hasOwnProperty(U)&&b!=null&&!f.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:en(r,l,U,null,f,b)}for(D in f)if(b=f[D],N=u[D],f.hasOwnProperty(D)&&(b!=null||N!=null))switch(D){case"value":fe=b;break;case"defaultValue":me=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:b!==N&&en(r,l,D,b,f,N)}Dc(r,fe,me);return;case"option":for(var ft in u)if(fe=u[ft],u.hasOwnProperty(ft)&&fe!=null&&!f.hasOwnProperty(ft))switch(ft){case"selected":r.selected=!1;break;default:en(r,l,ft,null,f,fe)}for(Q in f)if(fe=f[Q],me=u[Q],f.hasOwnProperty(Q)&&fe!==me&&(fe!=null||me!=null))switch(Q){case"selected":r.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:en(r,l,Q,fe,f,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in u)fe=u[ot],u.hasOwnProperty(ot)&&fe!=null&&!f.hasOwnProperty(ot)&&en(r,l,ot,null,f,fe);for(de in f)if(fe=f[de],me=u[de],f.hasOwnProperty(de)&&fe!==me&&(fe!=null||me!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(a(137,l));break;default:en(r,l,de,fe,f,me)}return;default:if(ca(l)){for(var tn in u)fe=u[tn],u.hasOwnProperty(tn)&&fe!==void 0&&!f.hasOwnProperty(tn)&&jb(r,l,tn,void 0,f,fe);for(be in f)fe=f[be],me=u[be],!f.hasOwnProperty(be)||fe===me||fe===void 0&&me===void 0||jb(r,l,be,fe,f,me);return}}for(var oe in u)fe=u[oe],u.hasOwnProperty(oe)&&fe!=null&&!f.hasOwnProperty(oe)&&en(r,l,oe,null,f,fe);for(Se in f)fe=f[Se],me=u[Se],!f.hasOwnProperty(Se)||fe===me||fe==null&&me==null||en(r,l,Se,fe,f,me)}var wb=null,Nb=null;function Xm(r){return r.nodeType===9?r:r.ownerDocument}function vk(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bk(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function Sb(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var kb=null;function u5(){var r=window.event;return r&&r.type==="popstate"?r===kb?!1:(kb=r,!0):(kb=null,!1)}var yk=typeof setTimeout=="function"?setTimeout:void 0,h5=typeof clearTimeout=="function"?clearTimeout:void 0,jk=typeof Promise=="function"?Promise:void 0,f5=typeof queueMicrotask=="function"?queueMicrotask:typeof jk<"u"?function(r){return jk.resolve(null).then(r).catch(m5)}:yk;function m5(r){setTimeout(function(){throw r})}function Lo(r){return r==="head"}function wk(r,l){var u=l,f=0,b=0;do{var N=u.nextSibling;if(r.removeChild(u),N&&N.nodeType===8)if(u=N.data,u==="/$"){if(0<f&&8>f){u=f;var D=r.ownerDocument;if(u&1&&ih(D.documentElement),u&2&&ih(D.body),u&4)for(u=D.head,ih(u),D=u.firstChild;D;){var U=D.nextSibling,Q=D.nodeName;D[Na]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&D.rel.toLowerCase()==="stylesheet"||u.removeChild(D),D=U}}if(b===0){r.removeChild(N),mh(l);return}b--}else u==="$"||u==="$?"||u==="$!"?b++:f=u.charCodeAt(0)-48;else f=0;u=N}while(u);mh(l)}function Eb(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var u=l;switch(l=l.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Eb(u),Sl(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}r.removeChild(u)}}function p5(r,l,u,f){for(;r.nodeType===1;){var b=u;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!f&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(f){if(!r[Na])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(N=r.getAttribute("rel"),N==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(N!==b.rel||r.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||r.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||r.getAttribute("title")!==(b.title==null?null:b.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(N=r.getAttribute("src"),(N!==(b.src==null?null:b.src)||r.getAttribute("type")!==(b.type==null?null:b.type)||r.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&N&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var N=b.name==null?null:""+b.name;if(b.type==="hidden"&&r.getAttribute("name")===N)return r}else return r;if(r=Cr(r.nextSibling),r===null)break}return null}function g5(r,l,u){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!u||(r=Cr(r.nextSibling),r===null))return null;return r}function Ab(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function x5(r,l){var u=r.ownerDocument;if(r.data!=="$?"||u.readyState==="complete")l();else{var f=function(){l(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),r._reactRetry=f}}function Cr(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return r}var Cb=null;function Nk(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var u=r.data;if(u==="$"||u==="$!"||u==="$?"){if(l===0)return r;l--}else u==="/$"&&l++}r=r.previousSibling}return null}function Sk(r,l,u){switch(l=Xm(u),r){case"html":if(r=l.documentElement,!r)throw Error(a(452));return r;case"head":if(r=l.head,!r)throw Error(a(453));return r;case"body":if(r=l.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function ih(r){for(var l=r.attributes;l.length;)r.removeAttributeNode(l[0]);Sl(r)}var tr=new Map,kk=new Set;function Wm(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ki=V.d;V.d={f:v5,r:b5,D:y5,C:j5,L:w5,m:N5,X:k5,S:S5,M:E5};function v5(){var r=Ki.f(),l=$m();return r||l}function b5(r){var l=Wr(r);l!==null&&l.tag===5&&l.type==="form"?HN(l):Ki.r(r)}var od=typeof document>"u"?null:document;function Ek(r,l,u){var f=od;if(f&&typeof l=="string"&&l){var b=Vs(l);b='link[rel="'+r+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),kk.has(b)||(kk.add(b),r={rel:r,crossOrigin:u,href:l},f.querySelector(b)===null&&(l=f.createElement("link"),Ps(l,"link",r),Rn(l),f.head.appendChild(l)))}}function y5(r){Ki.D(r),Ek("dns-prefetch",r,null)}function j5(r,l){Ki.C(r,l),Ek("preconnect",r,l)}function w5(r,l,u){Ki.L(r,l,u);var f=od;if(f&&r&&l){var b='link[rel="preload"][as="'+Vs(l)+'"]';l==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+Vs(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+Vs(u.imageSizes)+'"]')):b+='[href="'+Vs(r)+'"]';var N=b;switch(l){case"style":N=ld(r);break;case"script":N=cd(r)}tr.has(N)||(r=p({rel:"preload",href:l==="image"&&u&&u.imageSrcSet?void 0:r,as:l},u),tr.set(N,r),f.querySelector(b)!==null||l==="style"&&f.querySelector(oh(N))||l==="script"&&f.querySelector(lh(N))||(l=f.createElement("link"),Ps(l,"link",r),Rn(l),f.head.appendChild(l)))}}function N5(r,l){Ki.m(r,l);var u=od;if(u&&r){var f=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Vs(f)+'"][href="'+Vs(r)+'"]',N=b;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=cd(r)}if(!tr.has(N)&&(r=p({rel:"modulepreload",href:r},l),tr.set(N,r),u.querySelector(b)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(lh(N)))return}f=u.createElement("link"),Ps(f,"link",r),Rn(f),u.head.appendChild(f)}}}function S5(r,l,u){Ki.S(r,l,u);var f=od;if(f&&r){var b=Zr(f).hoistableStyles,N=ld(r);l=l||"default";var D=b.get(N);if(!D){var U={loading:0,preload:null};if(D=f.querySelector(oh(N)))U.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":l},u),(u=tr.get(N))&&Tb(r,u);var Q=D=f.createElement("link");Rn(Q),Ps(Q,"link",r),Q._p=new Promise(function(de,be){Q.onload=de,Q.onerror=be}),Q.addEventListener("load",function(){U.loading|=1}),Q.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Zm(D,l,f)}D={type:"stylesheet",instance:D,count:1,state:U},b.set(N,D)}}}function k5(r,l){Ki.X(r,l);var u=od;if(u&&r){var f=Zr(u).hoistableScripts,b=cd(r),N=f.get(b);N||(N=u.querySelector(lh(b)),N||(r=p({src:r,async:!0},l),(l=tr.get(b))&&_b(r,l),N=u.createElement("script"),Rn(N),Ps(N,"link",r),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},f.set(b,N))}}function E5(r,l){Ki.M(r,l);var u=od;if(u&&r){var f=Zr(u).hoistableScripts,b=cd(r),N=f.get(b);N||(N=u.querySelector(lh(b)),N||(r=p({src:r,async:!0,type:"module"},l),(l=tr.get(b))&&_b(r,l),N=u.createElement("script"),Rn(N),Ps(N,"link",r),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},f.set(b,N))}}function Ak(r,l,u,f){var b=(b=ee.current)?Wm(b):null;if(!b)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(l=ld(u.href),u=Zr(b).hoistableStyles,f=u.get(l),f||(f={type:"style",instance:null,count:0,state:null},u.set(l,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){r=ld(u.href);var N=Zr(b).hoistableStyles,D=N.get(r);if(D||(b=b.ownerDocument||b,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(r,D),(N=b.querySelector(oh(r)))&&!N._p&&(D.instance=N,D.state.loading=5),tr.has(r)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},tr.set(r,u),N||A5(b,r,u,D.state))),l&&f===null)throw Error(a(528,""));return D}if(l&&f!==null)throw Error(a(529,""));return null;case"script":return l=u.async,u=u.src,typeof u=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=cd(u),u=Zr(b).hoistableScripts,f=u.get(l),f||(f={type:"script",instance:null,count:0,state:null},u.set(l,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function ld(r){return'href="'+Vs(r)+'"'}function oh(r){return'link[rel="stylesheet"]['+r+"]"}function Ck(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function A5(r,l,u,f){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?f.loading=1:(l=r.createElement("link"),f.preload=l,l.addEventListener("load",function(){return f.loading|=1}),l.addEventListener("error",function(){return f.loading|=2}),Ps(l,"link",u),Rn(l),r.head.appendChild(l))}function cd(r){return'[src="'+Vs(r)+'"]'}function lh(r){return"script[async]"+r}function Tk(r,l,u){if(l.count++,l.instance===null)switch(l.type){case"style":var f=r.querySelector('style[data-href~="'+Vs(u.href)+'"]');if(f)return l.instance=f,Rn(f),f;var b=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(r.ownerDocument||r).createElement("style"),Rn(f),Ps(f,"style",b),Zm(f,u.precedence,r),l.instance=f;case"stylesheet":b=ld(u.href);var N=r.querySelector(oh(b));if(N)return l.state.loading|=4,l.instance=N,Rn(N),N;f=Ck(u),(b=tr.get(b))&&Tb(f,b),N=(r.ownerDocument||r).createElement("link"),Rn(N);var D=N;return D._p=new Promise(function(U,Q){D.onload=U,D.onerror=Q}),Ps(N,"link",f),l.state.loading|=4,Zm(N,u.precedence,r),l.instance=N;case"script":return N=cd(u.src),(b=r.querySelector(lh(N)))?(l.instance=b,Rn(b),b):(f=u,(b=tr.get(N))&&(f=p({},u),_b(f,b)),r=r.ownerDocument||r,b=r.createElement("script"),Rn(b),Ps(b,"link",f),r.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(a(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(f=l.instance,l.state.loading|=4,Zm(f,u.precedence,r));return l.instance}function Zm(r,l,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=f.length?f[f.length-1]:null,N=b,D=0;D<f.length;D++){var U=f[D];if(U.dataset.precedence===l)N=U;else if(N!==b)break}N?N.parentNode.insertBefore(r,N.nextSibling):(l=u.nodeType===9?u.head:u,l.insertBefore(r,l.firstChild))}function Tb(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function _b(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var Qm=null;function _k(r,l,u){if(Qm===null){var f=new Map,b=Qm=new Map;b.set(u,f)}else b=Qm,f=b.get(u),f||(f=new Map,b.set(u,f));if(f.has(r))return f;for(f.set(r,null),u=u.getElementsByTagName(r),b=0;b<u.length;b++){var N=u[b];if(!(N[Na]||N[Bt]||r==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var D=N.getAttribute(l)||"";D=r+D;var U=f.get(D);U?U.push(N):f.set(D,[N])}}return f}function Rk(r,l,u){r=r.ownerDocument||r,r.head.insertBefore(u,l==="title"?r.querySelector("head > title"):null)}function C5(r,l,u){if(u===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return r=l.disabled,typeof l.precedence=="string"&&r==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Dk(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ch=null;function T5(){}function _5(r,l,u){if(ch===null)throw Error(a(475));var f=ch;if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var b=ld(u.href),N=r.querySelector(oh(b));if(N){r=N._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(f.count++,f=Jm.bind(f),r.then(f,f)),l.state.loading|=4,l.instance=N,Rn(N);return}N=r.ownerDocument||r,u=Ck(u),(b=tr.get(b))&&Tb(u,b),N=N.createElement("link"),Rn(N);var D=N;D._p=new Promise(function(U,Q){D.onload=U,D.onerror=Q}),Ps(N,"link",u),l.instance=N}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(f.count++,l=Jm.bind(f),r.addEventListener("load",l),r.addEventListener("error",l))}}function R5(){if(ch===null)throw Error(a(475));var r=ch;return r.stylesheets&&r.count===0&&Rb(r,r.stylesheets),0<r.count?function(l){var u=setTimeout(function(){if(r.stylesheets&&Rb(r,r.stylesheets),r.unsuspend){var f=r.unsuspend;r.unsuspend=null,f()}},6e4);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(u)}}:null}function Jm(){if(this.count--,this.count===0){if(this.stylesheets)Rb(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ep=null;function Rb(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ep=new Map,l.forEach(D5,r),ep=null,Jm.call(r))}function D5(r,l){if(!(l.state.loading&4)){var u=ep.get(r);if(u)var f=u.get(null);else{u=new Map,ep.set(r,u);for(var b=r.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<b.length;N++){var D=b[N];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(u.set(D.dataset.precedence,D),f=D)}f&&u.set(null,f)}b=l.instance,D=b.getAttribute("data-precedence"),N=u.get(D)||f,N===f&&u.set(null,b),u.set(D,b),this.count++,f=Jm.bind(this),b.addEventListener("load",f),b.addEventListener("error",f),N?N.parentNode.insertBefore(b,N.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(b,r.firstChild)),l.state.loading|=4}}var dh={$$typeof:A,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function M5(r,l,u,f,b,N,D,U){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$s(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$s(0),this.hiddenUpdates=$s(null),this.identifierPrefix=f,this.onUncaughtError=b,this.onCaughtError=N,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Mk(r,l,u,f,b,N,D,U,Q,de,be,Se){return r=new M5(r,l,u,D,U,Q,de,Se),l=1,N===!0&&(l|=24),N=Ca(3,null,null,l),r.current=N,N.stateNode=r,l=hv(),l.refCount++,r.pooledCache=l,l.refCount++,N.memoizedState={element:f,isDehydrated:u,cache:l},gv(N),r}function Pk(r){return r?(r=Uc,r):Uc}function Ok(r,l,u,f,b,N){b=Pk(b),f.context===null?f.context=b:f.pendingContext=b,f=No(l),f.payload={element:u},N=N===void 0?null:N,N!==null&&(f.callback=N),u=So(r,f,l),u!==null&&(Ma(u,r,l),Uu(u,r,l))}function Lk(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var u=r.retryLane;r.retryLane=u!==0&&u<l?u:l}}function Db(r,l){Lk(r,l),(r=r.alternate)&&Lk(r,l)}function Ik(r){if(r.tag===13){var l=zc(r,67108864);l!==null&&Ma(l,r,67108864),Db(r,67108864)}}var tp=!0;function P5(r,l,u,f){var b=L.T;L.T=null;var N=V.p;try{V.p=2,Mb(r,l,u,f)}finally{V.p=N,L.T=b}}function O5(r,l,u,f){var b=L.T;L.T=null;var N=V.p;try{V.p=8,Mb(r,l,u,f)}finally{V.p=N,L.T=b}}function Mb(r,l,u,f){if(tp){var b=Pb(f);if(b===null)yb(r,l,f,np,u),zk(r,f);else if(I5(b,r,l,u,f))f.stopPropagation();else if(zk(r,f),l&4&&-1<L5.indexOf(r)){for(;b!==null;){var N=Wr(b);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var D=Nn(N.pendingLanes);if(D!==0){var U=N;for(U.pendingLanes|=2,U.entangledLanes|=2;D;){var Q=1<<31-Vt(D);U.entanglements[1]|=Q,D&=~Q}oi(N),(Wt&6)===0&&(zm=ke()+500,sh(0))}}break;case 13:U=zc(N,2),U!==null&&Ma(U,N,2),$m(),Db(N,2)}if(N=Pb(f),N===null&&yb(r,l,f,np,u),N===b)break;b=N}b!==null&&f.stopPropagation()}else yb(r,l,f,null,u)}}function Pb(r){return r=po(r),Ob(r)}var np=null;function Ob(r){if(np=null,r=Xr(r),r!==null){var l=o(r);if(l===null)r=null;else{var u=l.tag;if(u===13){if(r=c(l),r!==null)return r;r=null}else if(u===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return np=r,null}function Bk(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(it()){case Le:return 2;case Qe:return 8;case Ae:case Ie:return 32;case Nt:return 268435456;default:return 32}default:return 32}}var Lb=!1,Io=null,Bo=null,zo=null,uh=new Map,hh=new Map,Uo=[],L5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zk(r,l){switch(r){case"focusin":case"focusout":Io=null;break;case"dragenter":case"dragleave":Bo=null;break;case"mouseover":case"mouseout":zo=null;break;case"pointerover":case"pointerout":uh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":hh.delete(l.pointerId)}}function fh(r,l,u,f,b,N){return r===null||r.nativeEvent!==N?(r={blockedOn:l,domEventName:u,eventSystemFlags:f,nativeEvent:N,targetContainers:[b]},l!==null&&(l=Wr(l),l!==null&&Ik(l)),r):(r.eventSystemFlags|=f,l=r.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),r)}function I5(r,l,u,f,b){switch(l){case"focusin":return Io=fh(Io,r,l,u,f,b),!0;case"dragenter":return Bo=fh(Bo,r,l,u,f,b),!0;case"mouseover":return zo=fh(zo,r,l,u,f,b),!0;case"pointerover":var N=b.pointerId;return uh.set(N,fh(uh.get(N)||null,r,l,u,f,b)),!0;case"gotpointercapture":return N=b.pointerId,hh.set(N,fh(hh.get(N)||null,r,l,u,f,b)),!0}return!1}function Uk(r){var l=Xr(r.target);if(l!==null){var u=o(l);if(u!==null){if(l=u.tag,l===13){if(l=c(u),l!==null){r.blockedOn=l,Kt(r.priority,function(){if(u.tag===13){var f=Da();f=gt(f);var b=zc(u,f);b!==null&&Ma(b,u,f),Db(u,f)}});return}}else if(l===3&&u.stateNode.current.memoizedState.isDehydrated){r.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}r.blockedOn=null}function sp(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var u=Pb(r.nativeEvent);if(u===null){u=r.nativeEvent;var f=new u.constructor(u.type,u);_l=f,u.target.dispatchEvent(f),_l=null}else return l=Wr(u),l!==null&&Ik(l),r.blockedOn=u,!1;l.shift()}return!0}function $k(r,l,u){sp(r)&&u.delete(l)}function B5(){Lb=!1,Io!==null&&sp(Io)&&(Io=null),Bo!==null&&sp(Bo)&&(Bo=null),zo!==null&&sp(zo)&&(zo=null),uh.forEach($k),hh.forEach($k)}function ap(r,l){r.blockedOn===l&&(r.blockedOn=null,Lb||(Lb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,B5)))}var rp=null;function Fk(r){rp!==r&&(rp=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){rp===r&&(rp=null);for(var l=0;l<r.length;l+=3){var u=r[l],f=r[l+1],b=r[l+2];if(typeof f!="function"){if(Ob(f||u)===null)continue;break}var N=Wr(u);N!==null&&(r.splice(l,3),l-=3,Ov(N,{pending:!0,data:b,method:u.method,action:f},f,b))}}))}function mh(r){function l(Q){return ap(Q,r)}Io!==null&&ap(Io,r),Bo!==null&&ap(Bo,r),zo!==null&&ap(zo,r),uh.forEach(l),hh.forEach(l);for(var u=0;u<Uo.length;u++){var f=Uo[u];f.blockedOn===r&&(f.blockedOn=null)}for(;0<Uo.length&&(u=Uo[0],u.blockedOn===null);)Uk(u),u.blockedOn===null&&Uo.shift();if(u=(r.ownerDocument||r).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var b=u[f],N=u[f+1],D=b[xt]||null;if(typeof N=="function")D||Fk(u);else if(D){var U=null;if(N&&N.hasAttribute("formAction")){if(b=N,D=N[xt]||null)U=D.formAction;else if(Ob(b)!==null)continue}else U=D.action;typeof U=="function"?u[f+1]=U:(u.splice(f,3),f-=3),Fk(u)}}}function Ib(r){this._internalRoot=r}ip.prototype.render=Ib.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(a(409));var u=l.current,f=Da();Ok(u,f,r,l,null,null)},ip.prototype.unmount=Ib.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;Ok(r.current,2,null,r,null,null),$m(),l[qt]=null}};function ip(r){this._internalRoot=r}ip.prototype.unstable_scheduleHydration=function(r){if(r){var l=cn();r={blockedOn:null,target:r,priority:l};for(var u=0;u<Uo.length&&l!==0&&l<Uo[u].priority;u++);Uo.splice(u,0,r),u===0&&Uk(r)}};var Vk=e.version;if(Vk!=="19.1.0")throw Error(a(527,Vk,"19.1.0"));V.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=h(l),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var z5={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!op.isDisabled&&op.supportsFiber)try{vs=op.inject(z5),Ft=op}catch{}}return vh.createRoot=function(r,l){if(!i(r))throw Error(a(299));var u=!1,f="",b=rS,N=iS,D=oS,U=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(U=l.unstable_transitionCallbacks)),l=Mk(r,1,!1,null,null,u,f,b,N,D,U,null),r[qt]=l.current,bb(r),new Ib(l)},vh.hydrateRoot=function(r,l,u){if(!i(r))throw Error(a(299));var f=!1,b="",N=rS,D=iS,U=oS,Q=null,de=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(N=u.onUncaughtError),u.onCaughtError!==void 0&&(D=u.onCaughtError),u.onRecoverableError!==void 0&&(U=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(Q=u.unstable_transitionCallbacks),u.formState!==void 0&&(de=u.formState)),l=Mk(r,1,!0,l,u??null,f,b,N,D,U,Q,de),l.context=Pk(null),u=l.current,f=Da(),f=gt(f),b=No(f),b.callback=null,So(u,b,f),u=f,l.current.lanes=u,Rt(l,u),oi(l),r[qt]=l.current,bb(r),new ip(l)},vh.version="19.1.0",vh}var Wk;function E6(){if(Wk)return Ub.exports;Wk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ub.exports=k6(),Ub.exports}var A6=E6(),qC=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(qC||{}),Vb={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}};Object.values(qC);var xj={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"};Object.entries(xj).reduce((t,[e,n])=>(t[n]=e,t),{});var tf="data-rh",C6=t=>Array.isArray(t)?t.join(""):t,T6=(t,e)=>{const n=Object.keys(t);for(let a=0;a<n.length;a+=1)if(e[n[a]]&&e[n[a]].includes(t[n[a]]))return!0;return!1},qb=(t,e)=>Array.isArray(t)?t.reduce((n,a)=>(T6(a,e)?n.priority.push(a):n.default.push(a),n),{priority:[],default:[]}):{default:t,priority:[]},_6=["noscript","script","style"],$y=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),HC=t=>Object.keys(t).reduce((e,n)=>{const a=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${a}`:a},""),R6=(t,e,n,a)=>{const i=HC(n),o=C6(e);return i?`<${t} ${tf}="true" ${i}>${$y(o,a)}</${t}>`:`<${t} ${tf}="true">${$y(o,a)}</${t}>`},D6=(t,e,n=!0)=>e.reduce((a,i)=>{const o=i,c=Object.keys(o).filter(m=>!(m==="innerHTML"||m==="cssText")).reduce((m,p)=>{const g=typeof o[p]>"u"?p:`${p}="${$y(o[p],n)}"`;return m?`${m} ${g}`:g},""),d=o.innerHTML||o.cssText||"",h=_6.indexOf(t)===-1;return`${a}<${t} ${tf}="true" ${c}${h?"/>":`>${d}</${t}>`}`},""),GC=(t,e={})=>Object.keys(t).reduce((n,a)=>{const i=xj[a];return n[i||a]=t[a],n},e),M6=(t,e,n)=>{const a={key:e,[tf]:!0},i=GC(n,a);return[ve.createElement("title",i,e)]},Lp=(t,e)=>e.map((n,a)=>{const i={key:a,[tf]:!0};return Object.keys(n).forEach(o=>{const d=xj[o]||o;if(d==="innerHTML"||d==="cssText"){const h=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:h}}else i[d]=n[o]}),ve.createElement(t,i)}),ir=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>M6(t,e.title,e.titleAttributes),toString:()=>R6(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>GC(e),toString:()=>HC(e)};default:return{toComponent:()=>Lp(t,e),toString:()=>D6(t,e,n)}}},P6=({metaTags:t,linkTags:e,scriptTags:n,encode:a})=>{const i=qb(t,Vb.meta),o=qb(e,Vb.link),c=qb(n,Vb.script);return{priorityMethods:{toComponent:()=>[...Lp("meta",i.priority),...Lp("link",o.priority),...Lp("script",c.priority)],toString:()=>`${ir("meta",i.priority,a)} ${ir("link",o.priority,a)} ${ir("script",c.priority,a)}`},metaTags:i.default,linkTags:o.default,scriptTags:c.default}},O6=t=>{const{baseTag:e,bodyAttributes:n,encode:a=!0,htmlAttributes:i,noscriptTags:o,styleTags:c,title:d="",titleAttributes:h,prioritizeSeoTags:m}=t;let{linkTags:p,metaTags:g,scriptTags:v}=t,y={toComponent:()=>{},toString:()=>""};return m&&({priorityMethods:y,linkTags:p,metaTags:g,scriptTags:v}=P6(t)),{priority:y,base:ir("base",e,a),bodyAttributes:ir("bodyAttributes",n,a),htmlAttributes:ir("htmlAttributes",i,a),link:ir("link",p,a),meta:ir("meta",g,a),noscript:ir("noscript",o,a),script:ir("script",v,a),style:ir("style",c,a),title:ir("title",{title:d,titleAttributes:h},a)}},L6=O6,lp=[],KC=!!(typeof window<"u"&&window.document&&window.document.createElement),I6=class{constructor(t,e){Me(this,"instances",[]);Me(this,"canUseDOM",KC);Me(this,"context");Me(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?lp:this.instances,add:t=>{(this.canUseDOM?lp:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?lp:this.instances).indexOf(t);(this.canUseDOM?lp:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=L6({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},B6={},z6=ve.createContext(B6),ec,YC=(ec=class extends x.Component{constructor(n){super(n);Me(this,"helmetData");this.helmetData=new I6(this.props.context||{},ec.canUseDOM)}render(){return ve.createElement(z6.Provider,{value:this.helmetData.value},this.props.children)}},Me(ec,"canUseDOM",KC),ec);function _e(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Zk(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function yi(...t){return e=>{let n=!1;const a=t.map(i=>{const o=Zk(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<a.length;i++){const o=a[i];typeof o=="function"?o():Zk(t[i],null)}}}}function ht(...t){return x.useCallback(yi(...t),t)}function U6(t,e){const n=x.createContext(e),a=o=>{const{children:c,...d}=o,h=x.useMemo(()=>d,Object.values(d));return s.jsx(n.Provider,{value:h,children:c})};a.displayName=t+"Provider";function i(o){const c=x.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[a,i]}function Qs(t,e=[]){let n=[];function a(o,c){const d=x.createContext(c),h=n.length;n=[...n,c];const m=g=>{var k;const{scope:v,children:y,...w}=g,j=((k=v==null?void 0:v[t])==null?void 0:k[h])||d,S=x.useMemo(()=>w,Object.values(w));return s.jsx(j.Provider,{value:S,children:y})};m.displayName=o+"Provider";function p(g,v){var j;const y=((j=v==null?void 0:v[t])==null?void 0:j[h])||d,w=x.useContext(y);if(w)return w;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[m,p]}const i=()=>{const o=n.map(c=>x.createContext(c));return function(d){const h=(d==null?void 0:d[t])||o;return x.useMemo(()=>({[`__scope${t}`]:{...d,[t]:h}}),[d,h])}};return i.scopeName=t,[a,$6(i,...e)]}function $6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const a=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const c=a.reduce((d,{useScope:h,scopeName:m})=>{const g=h(o)[`__scope${m}`];return{...d,...g}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}function nl(t){const e=F6(t),n=x.forwardRef((a,i)=>{const{children:o,...c}=a,d=x.Children.toArray(o),h=d.find(V6);if(h){const m=h.props.children,p=d.map(g=>g===h?x.Children.count(m)>1?x.Children.only(null):x.isValidElement(m)?m.props.children:null:g);return s.jsx(e,{...c,ref:i,children:x.isValidElement(m)?x.cloneElement(m,void 0,p):null})}return s.jsx(e,{...c,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var vj=nl("Slot");function F6(t){const e=x.forwardRef((n,a)=>{const{children:i,...o}=n;if(x.isValidElement(i)){const c=H6(i),d=q6(o,i.props);return i.type!==x.Fragment&&(d.ref=a?yi(a,c):c),x.cloneElement(i,d)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var XC=Symbol("radix.slottable");function WC(t){const e=({children:n})=>s.jsx(s.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=XC,e}function V6(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===XC}function q6(t,e){const n={...e};for(const a in e){const i=t[a],o=e[a];/^on[A-Z]/.test(a)?i&&o?n[a]=(...d)=>{o(...d),i(...d)}:i&&(n[a]=i):a==="style"?n[a]={...i,...o}:a==="className"&&(n[a]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function H6(t){var a,i;let e=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var G6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ze=G6.reduce((t,e)=>{const n=nl(`Primitive.${e}`),a=x.forwardRef((i,o)=>{const{asChild:c,...d}=i,h=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(h,{...d,ref:o})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{});function ag(t,e){t&&Qi.flushSync(()=>t.dispatchEvent(e))}function bn(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var a;return(a=e.current)==null?void 0:a.call(e,...n)},[])}function K6(t,e=globalThis==null?void 0:globalThis.document){const n=bn(t);x.useEffect(()=>{const a=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",a,{capture:!0}),()=>e.removeEventListener("keydown",a,{capture:!0})},[n,e])}var Y6="DismissableLayer",Fy="dismissableLayer.update",X6="dismissableLayer.pointerDownOutside",W6="dismissableLayer.focusOutside",Qk,ZC=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mc=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:c,onDismiss:d,...h}=t,m=x.useContext(ZC),[p,g]=x.useState(null),v=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=x.useState({}),w=ht(e,P=>g(P)),j=Array.from(m.layers),[S]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),k=j.indexOf(S),E=p?j.indexOf(p):-1,A=m.layersWithOutsidePointerEventsDisabled.size>0,T=E>=k,_=J6(P=>{const O=P.target,I=[...m.branches].some(G=>G.contains(O));!T||I||(i==null||i(P),c==null||c(P),P.defaultPrevented||d==null||d())},v),M=eI(P=>{const O=P.target;[...m.branches].some(G=>G.contains(O))||(o==null||o(P),c==null||c(P),P.defaultPrevented||d==null||d())},v);return K6(P=>{E===m.layers.size-1&&(a==null||a(P),!P.defaultPrevented&&d&&(P.preventDefault(),d()))},v),x.useEffect(()=>{if(p)return n&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Qk=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(p)),m.layers.add(p),Jk(),()=>{n&&m.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Qk)}},[p,v,n,m]),x.useEffect(()=>()=>{p&&(m.layers.delete(p),m.layersWithOutsidePointerEventsDisabled.delete(p),Jk())},[p,m]),x.useEffect(()=>{const P=()=>y({});return document.addEventListener(Fy,P),()=>document.removeEventListener(Fy,P)},[]),s.jsx(ze.div,{...h,ref:w,style:{pointerEvents:A?T?"auto":"none":void 0,...t.style},onFocusCapture:_e(t.onFocusCapture,M.onFocusCapture),onBlurCapture:_e(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:_e(t.onPointerDownCapture,_.onPointerDownCapture)})});mc.displayName=Y6;var Z6="DismissableLayerBranch",Q6=x.forwardRef((t,e)=>{const n=x.useContext(ZC),a=x.useRef(null),i=ht(e,a);return x.useEffect(()=>{const o=a.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),s.jsx(ze.div,{...t,ref:i})});Q6.displayName=Z6;function J6(t,e=globalThis==null?void 0:globalThis.document){const n=bn(t),a=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const o=d=>{if(d.target&&!a.current){let h=function(){QC(X6,n,m,{discrete:!0})};const m={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);a.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>a.current=!0}}function eI(t,e=globalThis==null?void 0:globalThis.document){const n=bn(t),a=x.useRef(!1);return x.useEffect(()=>{const i=o=>{o.target&&!a.current&&QC(W6,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Jk(){const t=new CustomEvent(Fy);document.dispatchEvent(t)}function QC(t,e,n,{discrete:a}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),a?ag(i,o):i.dispatchEvent(o)}var wn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},tI=IC[" useId ".trim().toString()]||(()=>{}),nI=0;function hs(t){const[e,n]=x.useState(tI());return wn(()=>{n(a=>a??String(nI++))},[t]),e?`radix-${e}`:""}const sI=["top","right","bottom","left"],sl=Math.min,Pa=Math.max,rg=Math.round,cp=Math.floor,mi=t=>({x:t,y:t}),aI={left:"right",right:"left",bottom:"top",top:"bottom"},rI={start:"end",end:"start"};function Vy(t,e,n){return Pa(t,sl(e,n))}function no(t,e){return typeof t=="function"?t(e):t}function so(t){return t.split("-")[0]}function ou(t){return t.split("-")[1]}function bj(t){return t==="x"?"y":"x"}function yj(t){return t==="y"?"height":"width"}function al(t){return["top","bottom"].includes(so(t))?"y":"x"}function jj(t){return bj(al(t))}function iI(t,e,n){n===void 0&&(n=!1);const a=ou(t),i=jj(t),o=yj(i);let c=i==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=ig(c)),[c,ig(c)]}function oI(t){const e=ig(t);return[qy(t),e,qy(e)]}function qy(t){return t.replace(/start|end/g,e=>rI[e])}function lI(t,e,n){const a=["left","right"],i=["right","left"],o=["top","bottom"],c=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:a:e?a:i;case"left":case"right":return e?o:c;default:return[]}}function cI(t,e,n,a){const i=ou(t);let o=lI(so(t),n==="start",a);return i&&(o=o.map(c=>c+"-"+i),e&&(o=o.concat(o.map(qy)))),o}function ig(t){return t.replace(/left|right|bottom|top/g,e=>aI[e])}function dI(t){return{top:0,right:0,bottom:0,left:0,...t}}function JC(t){return typeof t!="number"?dI(t):{top:t,right:t,bottom:t,left:t}}function og(t){const{x:e,y:n,width:a,height:i}=t;return{width:a,height:i,top:n,left:e,right:e+a,bottom:n+i,x:e,y:n}}function eE(t,e,n){let{reference:a,floating:i}=t;const o=al(e),c=jj(e),d=yj(c),h=so(e),m=o==="y",p=a.x+a.width/2-i.width/2,g=a.y+a.height/2-i.height/2,v=a[d]/2-i[d]/2;let y;switch(h){case"top":y={x:p,y:a.y-i.height};break;case"bottom":y={x:p,y:a.y+a.height};break;case"right":y={x:a.x+a.width,y:g};break;case"left":y={x:a.x-i.width,y:g};break;default:y={x:a.x,y:a.y}}switch(ou(e)){case"start":y[c]-=v*(n&&m?-1:1);break;case"end":y[c]+=v*(n&&m?-1:1);break}return y}const uI=async(t,e,n)=>{const{placement:a="bottom",strategy:i="absolute",middleware:o=[],platform:c}=n,d=o.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let m=await c.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:g}=eE(m,a,h),v=a,y={},w=0;for(let j=0;j<d.length;j++){const{name:S,fn:k}=d[j],{x:E,y:A,data:T,reset:_}=await k({x:p,y:g,initialPlacement:a,placement:v,strategy:i,middlewareData:y,rects:m,platform:c,elements:{reference:t,floating:e}});p=E??p,g=A??g,y={...y,[S]:{...y[S],...T}},_&&w<=50&&(w++,typeof _=="object"&&(_.placement&&(v=_.placement),_.rects&&(m=_.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:i}):_.rects),{x:p,y:g}=eE(m,v,h)),j=-1)}return{x:p,y:g,placement:v,strategy:i,middlewareData:y}};async function nf(t,e){var n;e===void 0&&(e={});const{x:a,y:i,platform:o,rects:c,elements:d,strategy:h}=t,{boundary:m="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:v=!1,padding:y=0}=no(e,t),w=JC(y),S=d[v?g==="floating"?"reference":"floating":g],k=og(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:m,rootBoundary:p,strategy:h})),E=g==="floating"?{x:a,y:i,width:c.floating.width,height:c.floating.height}:c.reference,A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),T=await(o.isElement==null?void 0:o.isElement(A))?await(o.getScale==null?void 0:o.getScale(A))||{x:1,y:1}:{x:1,y:1},_=og(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:E,offsetParent:A,strategy:h}):E);return{top:(k.top-_.top+w.top)/T.y,bottom:(_.bottom-k.bottom+w.bottom)/T.y,left:(k.left-_.left+w.left)/T.x,right:(_.right-k.right+w.right)/T.x}}const hI=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:a,placement:i,rects:o,platform:c,elements:d,middlewareData:h}=e,{element:m,padding:p=0}=no(t,e)||{};if(m==null)return{};const g=JC(p),v={x:n,y:a},y=jj(i),w=yj(y),j=await c.getDimensions(m),S=y==="y",k=S?"top":"left",E=S?"bottom":"right",A=S?"clientHeight":"clientWidth",T=o.reference[w]+o.reference[y]-v[y]-o.floating[w],_=v[y]-o.reference[y],M=await(c.getOffsetParent==null?void 0:c.getOffsetParent(m));let P=M?M[A]:0;(!P||!await(c.isElement==null?void 0:c.isElement(M)))&&(P=d.floating[A]||o.floating[w]);const O=T/2-_/2,I=P/2-j[w]/2-1,G=sl(g[k],I),R=sl(g[E],I),X=G,$=P-j[w]-R,Z=P/2-j[w]/2+O,te=Vy(X,Z,$),L=!h.arrow&&ou(i)!=null&&Z!==te&&o.reference[w]/2-(Z<X?G:R)-j[w]/2<0,V=L?Z<X?Z-X:Z-$:0;return{[y]:v[y]+V,data:{[y]:te,centerOffset:Z-te-V,...L&&{alignmentOffset:V}},reset:L}}}),fI=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,a;const{placement:i,middlewareData:o,rects:c,initialPlacement:d,platform:h,elements:m}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:j=!0,...S}=no(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const k=so(i),E=al(d),A=so(d)===d,T=await(h.isRTL==null?void 0:h.isRTL(m.floating)),_=v||(A||!j?[ig(d)]:oI(d)),M=w!=="none";!v&&M&&_.push(...cI(d,j,w,T));const P=[d,..._],O=await nf(e,S),I=[];let G=((a=o.flip)==null?void 0:a.overflows)||[];if(p&&I.push(O[k]),g){const Z=iI(i,c,T);I.push(O[Z[0]],O[Z[1]])}if(G=[...G,{placement:i,overflows:I}],!I.every(Z=>Z<=0)){var R,X;const Z=(((R=o.flip)==null?void 0:R.index)||0)+1,te=P[Z];if(te)return{data:{index:Z,overflows:G},reset:{placement:te}};let L=(X=G.filter(V=>V.overflows[0]<=0).sort((V,B)=>V.overflows[1]-B.overflows[1])[0])==null?void 0:X.placement;if(!L)switch(y){case"bestFit":{var $;const V=($=G.filter(B=>{if(M){const Y=al(B.placement);return Y===E||Y==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(Y=>Y>0).reduce((Y,se)=>Y+se,0)]).sort((B,Y)=>B[1]-Y[1])[0])==null?void 0:$[0];V&&(L=V);break}case"initialPlacement":L=d;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function tE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function nE(t){return sI.some(e=>t[e]>=0)}const mI=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:a="referenceHidden",...i}=no(t,e);switch(a){case"referenceHidden":{const o=await nf(e,{...i,elementContext:"reference"}),c=tE(o,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:nE(c)}}}case"escaped":{const o=await nf(e,{...i,altBoundary:!0}),c=tE(o,n.floating);return{data:{escapedOffsets:c,escaped:nE(c)}}}default:return{}}}}};async function pI(t,e){const{placement:n,platform:a,elements:i}=t,o=await(a.isRTL==null?void 0:a.isRTL(i.floating)),c=so(n),d=ou(n),h=al(n)==="y",m=["left","top"].includes(c)?-1:1,p=o&&h?-1:1,g=no(e,t);let{mainAxis:v,crossAxis:y,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return d&&typeof w=="number"&&(y=d==="end"?w*-1:w),h?{x:y*p,y:v*m}:{x:v*m,y:y*p}}const gI=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,a;const{x:i,y:o,placement:c,middlewareData:d}=e,h=await pI(e,t);return c===((n=d.offset)==null?void 0:n.placement)&&(a=d.arrow)!=null&&a.alignmentOffset?{}:{x:i+h.x,y:o+h.y,data:{...h,placement:c}}}}},xI=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:a,placement:i}=e,{mainAxis:o=!0,crossAxis:c=!1,limiter:d={fn:S=>{let{x:k,y:E}=S;return{x:k,y:E}}},...h}=no(t,e),m={x:n,y:a},p=await nf(e,h),g=al(so(i)),v=bj(g);let y=m[v],w=m[g];if(o){const S=v==="y"?"top":"left",k=v==="y"?"bottom":"right",E=y+p[S],A=y-p[k];y=Vy(E,y,A)}if(c){const S=g==="y"?"top":"left",k=g==="y"?"bottom":"right",E=w+p[S],A=w-p[k];w=Vy(E,w,A)}const j=d.fn({...e,[v]:y,[g]:w});return{...j,data:{x:j.x-n,y:j.y-a,enabled:{[v]:o,[g]:c}}}}}},vI=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:a,placement:i,rects:o,middlewareData:c}=e,{offset:d=0,mainAxis:h=!0,crossAxis:m=!0}=no(t,e),p={x:n,y:a},g=al(i),v=bj(g);let y=p[v],w=p[g];const j=no(d,e),S=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(h){const A=v==="y"?"height":"width",T=o.reference[v]-o.floating[A]+S.mainAxis,_=o.reference[v]+o.reference[A]-S.mainAxis;y<T?y=T:y>_&&(y=_)}if(m){var k,E;const A=v==="y"?"width":"height",T=["top","left"].includes(so(i)),_=o.reference[g]-o.floating[A]+(T&&((k=c.offset)==null?void 0:k[g])||0)+(T?0:S.crossAxis),M=o.reference[g]+o.reference[A]+(T?0:((E=c.offset)==null?void 0:E[g])||0)-(T?S.crossAxis:0);w<_?w=_:w>M&&(w=M)}return{[v]:y,[g]:w}}}},bI=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,a;const{placement:i,rects:o,platform:c,elements:d}=e,{apply:h=()=>{},...m}=no(t,e),p=await nf(e,m),g=so(i),v=ou(i),y=al(i)==="y",{width:w,height:j}=o.floating;let S,k;g==="top"||g==="bottom"?(S=g,k=v===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(k=g,S=v==="end"?"top":"bottom");const E=j-p.top-p.bottom,A=w-p.left-p.right,T=sl(j-p[S],E),_=sl(w-p[k],A),M=!e.middlewareData.shift;let P=T,O=_;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=A),(a=e.middlewareData.shift)!=null&&a.enabled.y&&(P=E),M&&!v){const G=Pa(p.left,0),R=Pa(p.right,0),X=Pa(p.top,0),$=Pa(p.bottom,0);y?O=w-2*(G!==0||R!==0?G+R:Pa(p.left,p.right)):P=j-2*(X!==0||$!==0?X+$:Pa(p.top,p.bottom))}await h({...e,availableWidth:O,availableHeight:P});const I=await c.getDimensions(d.floating);return w!==I.width||j!==I.height?{reset:{rects:!0}}:{}}}};function Vg(){return typeof window<"u"}function lu(t){return eT(t)?(t.nodeName||"").toLowerCase():"#document"}function za(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ai(t){var e;return(e=(eT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function eT(t){return Vg()?t instanceof Node||t instanceof za(t).Node:!1}function Br(t){return Vg()?t instanceof Element||t instanceof za(t).Element:!1}function ji(t){return Vg()?t instanceof HTMLElement||t instanceof za(t).HTMLElement:!1}function sE(t){return!Vg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof za(t).ShadowRoot}function Mf(t){const{overflow:e,overflowX:n,overflowY:a,display:i}=zr(t);return/auto|scroll|overlay|hidden|clip/.test(e+a+n)&&!["inline","contents"].includes(i)}function yI(t){return["table","td","th"].includes(lu(t))}function qg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function wj(t){const e=Nj(),n=Br(t)?zr(t):t;return["transform","translate","scale","rotate","perspective"].some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(n.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(n.contain||"").includes(a))}function jI(t){let e=rl(t);for(;ji(e)&&!Hd(e);){if(wj(e))return e;if(qg(e))return null;e=rl(e)}return null}function Nj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Hd(t){return["html","body","#document"].includes(lu(t))}function zr(t){return za(t).getComputedStyle(t)}function Hg(t){return Br(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function rl(t){if(lu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||sE(t)&&t.host||Ai(t);return sE(e)?e.host:e}function tT(t){const e=rl(t);return Hd(e)?t.ownerDocument?t.ownerDocument.body:t.body:ji(e)&&Mf(e)?e:tT(e)}function sf(t,e,n){var a;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=tT(t),o=i===((a=t.ownerDocument)==null?void 0:a.body),c=za(i);if(o){const d=Hy(c);return e.concat(c,c.visualViewport||[],Mf(i)?i:[],d&&n?sf(d):[])}return e.concat(i,sf(i,[],n))}function Hy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function nT(t){const e=zr(t);let n=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const i=ji(t),o=i?t.offsetWidth:n,c=i?t.offsetHeight:a,d=rg(n)!==o||rg(a)!==c;return d&&(n=o,a=c),{width:n,height:a,$:d}}function Sj(t){return Br(t)?t:t.contextElement}function Ld(t){const e=Sj(t);if(!ji(e))return mi(1);const n=e.getBoundingClientRect(),{width:a,height:i,$:o}=nT(e);let c=(o?rg(n.width):n.width)/a,d=(o?rg(n.height):n.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const wI=mi(0);function sT(t){const e=za(t);return!Nj()||!e.visualViewport?wI:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function NI(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==za(t)?!1:e}function nc(t,e,n,a){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=Sj(t);let c=mi(1);e&&(a?Br(a)&&(c=Ld(a)):c=Ld(t));const d=NI(o,n,a)?sT(o):mi(0);let h=(i.left+d.x)/c.x,m=(i.top+d.y)/c.y,p=i.width/c.x,g=i.height/c.y;if(o){const v=za(o),y=a&&Br(a)?za(a):a;let w=v,j=Hy(w);for(;j&&a&&y!==w;){const S=Ld(j),k=j.getBoundingClientRect(),E=zr(j),A=k.left+(j.clientLeft+parseFloat(E.paddingLeft))*S.x,T=k.top+(j.clientTop+parseFloat(E.paddingTop))*S.y;h*=S.x,m*=S.y,p*=S.x,g*=S.y,h+=A,m+=T,w=za(j),j=Hy(w)}}return og({width:p,height:g,x:h,y:m})}function kj(t,e){const n=Hg(t).scrollLeft;return e?e.left+n:nc(Ai(t)).left+n}function aT(t,e,n){n===void 0&&(n=!1);const a=t.getBoundingClientRect(),i=a.left+e.scrollLeft-(n?0:kj(t,a)),o=a.top+e.scrollTop;return{x:i,y:o}}function SI(t){let{elements:e,rect:n,offsetParent:a,strategy:i}=t;const o=i==="fixed",c=Ai(a),d=e?qg(e.floating):!1;if(a===c||d&&o)return n;let h={scrollLeft:0,scrollTop:0},m=mi(1);const p=mi(0),g=ji(a);if((g||!g&&!o)&&((lu(a)!=="body"||Mf(c))&&(h=Hg(a)),ji(a))){const y=nc(a);m=Ld(a),p.x=y.x+a.clientLeft,p.y=y.y+a.clientTop}const v=c&&!g&&!o?aT(c,h,!0):mi(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-h.scrollLeft*m.x+p.x+v.x,y:n.y*m.y-h.scrollTop*m.y+p.y+v.y}}function kI(t){return Array.from(t.getClientRects())}function EI(t){const e=Ai(t),n=Hg(t),a=t.ownerDocument.body,i=Pa(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),o=Pa(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let c=-n.scrollLeft+kj(t);const d=-n.scrollTop;return zr(a).direction==="rtl"&&(c+=Pa(e.clientWidth,a.clientWidth)-i),{width:i,height:o,x:c,y:d}}function AI(t,e){const n=za(t),a=Ai(t),i=n.visualViewport;let o=a.clientWidth,c=a.clientHeight,d=0,h=0;if(i){o=i.width,c=i.height;const m=Nj();(!m||m&&e==="fixed")&&(d=i.offsetLeft,h=i.offsetTop)}return{width:o,height:c,x:d,y:h}}function CI(t,e){const n=nc(t,!0,e==="fixed"),a=n.top+t.clientTop,i=n.left+t.clientLeft,o=ji(t)?Ld(t):mi(1),c=t.clientWidth*o.x,d=t.clientHeight*o.y,h=i*o.x,m=a*o.y;return{width:c,height:d,x:h,y:m}}function aE(t,e,n){let a;if(e==="viewport")a=AI(t,n);else if(e==="document")a=EI(Ai(t));else if(Br(e))a=CI(e,n);else{const i=sT(t);a={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return og(a)}function rT(t,e){const n=rl(t);return n===e||!Br(n)||Hd(n)?!1:zr(n).position==="fixed"||rT(n,e)}function TI(t,e){const n=e.get(t);if(n)return n;let a=sf(t,[],!1).filter(d=>Br(d)&&lu(d)!=="body"),i=null;const o=zr(t).position==="fixed";let c=o?rl(t):t;for(;Br(c)&&!Hd(c);){const d=zr(c),h=wj(c);!h&&d.position==="fixed"&&(i=null),(o?!h&&!i:!h&&d.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Mf(c)&&!h&&rT(t,c))?a=a.filter(p=>p!==c):i=d,c=rl(c)}return e.set(t,a),a}function _I(t){let{element:e,boundary:n,rootBoundary:a,strategy:i}=t;const c=[...n==="clippingAncestors"?qg(e)?[]:TI(e,this._c):[].concat(n),a],d=c[0],h=c.reduce((m,p)=>{const g=aE(e,p,i);return m.top=Pa(g.top,m.top),m.right=sl(g.right,m.right),m.bottom=sl(g.bottom,m.bottom),m.left=Pa(g.left,m.left),m},aE(e,d,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function RI(t){const{width:e,height:n}=nT(t);return{width:e,height:n}}function DI(t,e,n){const a=ji(e),i=Ai(e),o=n==="fixed",c=nc(t,!0,o,e);let d={scrollLeft:0,scrollTop:0};const h=mi(0);if(a||!a&&!o)if((lu(e)!=="body"||Mf(i))&&(d=Hg(e)),a){const v=nc(e,!0,o,e);h.x=v.x+e.clientLeft,h.y=v.y+e.clientTop}else i&&(h.x=kj(i));const m=i&&!a&&!o?aT(i,d):mi(0),p=c.left+d.scrollLeft-h.x-m.x,g=c.top+d.scrollTop-h.y-m.y;return{x:p,y:g,width:c.width,height:c.height}}function Hb(t){return zr(t).position==="static"}function rE(t,e){if(!ji(t)||zr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ai(t)===n&&(n=n.ownerDocument.body),n}function iT(t,e){const n=za(t);if(qg(t))return n;if(!ji(t)){let i=rl(t);for(;i&&!Hd(i);){if(Br(i)&&!Hb(i))return i;i=rl(i)}return n}let a=rE(t,e);for(;a&&yI(a)&&Hb(a);)a=rE(a,e);return a&&Hd(a)&&Hb(a)&&!wj(a)?n:a||jI(t)||n}const MI=async function(t){const e=this.getOffsetParent||iT,n=this.getDimensions,a=await n(t.floating);return{reference:DI(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function PI(t){return zr(t).direction==="rtl"}const OI={convertOffsetParentRelativeRectToViewportRelativeRect:SI,getDocumentElement:Ai,getClippingRect:_I,getOffsetParent:iT,getElementRects:MI,getClientRects:kI,getDimensions:RI,getScale:Ld,isElement:Br,isRTL:PI};function oT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function LI(t,e){let n=null,a;const i=Ai(t);function o(){var d;clearTimeout(a),(d=n)==null||d.disconnect(),n=null}function c(d,h){d===void 0&&(d=!1),h===void 0&&(h=1),o();const m=t.getBoundingClientRect(),{left:p,top:g,width:v,height:y}=m;if(d||e(),!v||!y)return;const w=cp(g),j=cp(i.clientWidth-(p+v)),S=cp(i.clientHeight-(g+y)),k=cp(p),A={rootMargin:-w+"px "+-j+"px "+-S+"px "+-k+"px",threshold:Pa(0,sl(1,h))||1};let T=!0;function _(M){const P=M[0].intersectionRatio;if(P!==h){if(!T)return c();P?c(!1,P):a=setTimeout(()=>{c(!1,1e-7)},1e3)}P===1&&!oT(m,t.getBoundingClientRect())&&c(),T=!1}try{n=new IntersectionObserver(_,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,A)}n.observe(t)}return c(!0),o}function II(t,e,n,a){a===void 0&&(a={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:h=!1}=a,m=Sj(t),p=i||o?[...m?sf(m):[],...sf(e)]:[];p.forEach(k=>{i&&k.addEventListener("scroll",n,{passive:!0}),o&&k.addEventListener("resize",n)});const g=m&&d?LI(m,n):null;let v=-1,y=null;c&&(y=new ResizeObserver(k=>{let[E]=k;E&&E.target===m&&y&&(y.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var A;(A=y)==null||A.observe(e)})),n()}),m&&!h&&y.observe(m),y.observe(e));let w,j=h?nc(t):null;h&&S();function S(){const k=nc(t);j&&!oT(j,k)&&n(),j=k,w=requestAnimationFrame(S)}return n(),()=>{var k;p.forEach(E=>{i&&E.removeEventListener("scroll",n),o&&E.removeEventListener("resize",n)}),g==null||g(),(k=y)==null||k.disconnect(),y=null,h&&cancelAnimationFrame(w)}}const BI=gI,zI=xI,UI=fI,$I=bI,FI=mI,iE=hI,VI=vI,qI=(t,e,n)=>{const a=new Map,i={platform:OI,...n},o={...i.platform,_c:a};return uI(t,e,{...i,platform:o})};var Ip=typeof document<"u"?x.useLayoutEffect:x.useEffect;function lg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,a,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(a=n;a--!==0;)if(!lg(t[a],e[a]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(e,i[a]))return!1;for(a=n;a--!==0;){const o=i[a];if(!(o==="_owner"&&t.$$typeof)&&!lg(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function lT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function oE(t,e){const n=lT(t);return Math.round(e*n)/n}function Gb(t){const e=x.useRef(t);return Ip(()=>{e.current=t}),e}function HI(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:a=[],platform:i,elements:{reference:o,floating:c}={},transform:d=!0,whileElementsMounted:h,open:m}=t,[p,g]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,y]=x.useState(a);lg(v,a)||y(a);const[w,j]=x.useState(null),[S,k]=x.useState(null),E=x.useCallback(B=>{B!==M.current&&(M.current=B,j(B))},[]),A=x.useCallback(B=>{B!==P.current&&(P.current=B,k(B))},[]),T=o||w,_=c||S,M=x.useRef(null),P=x.useRef(null),O=x.useRef(p),I=h!=null,G=Gb(h),R=Gb(i),X=Gb(m),$=x.useCallback(()=>{if(!M.current||!P.current)return;const B={placement:e,strategy:n,middleware:v};R.current&&(B.platform=R.current),qI(M.current,P.current,B).then(Y=>{const se={...Y,isPositioned:X.current!==!1};Z.current&&!lg(O.current,se)&&(O.current=se,Qi.flushSync(()=>{g(se)}))})},[v,e,n,R,X]);Ip(()=>{m===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,g(B=>({...B,isPositioned:!1})))},[m]);const Z=x.useRef(!1);Ip(()=>(Z.current=!0,()=>{Z.current=!1}),[]),Ip(()=>{if(T&&(M.current=T),_&&(P.current=_),T&&_){if(G.current)return G.current(T,_,$);$()}},[T,_,$,G,I]);const te=x.useMemo(()=>({reference:M,floating:P,setReference:E,setFloating:A}),[E,A]),L=x.useMemo(()=>({reference:T,floating:_}),[T,_]),V=x.useMemo(()=>{const B={position:n,left:0,top:0};if(!L.floating)return B;const Y=oE(L.floating,p.x),se=oE(L.floating,p.y);return d?{...B,transform:"translate("+Y+"px, "+se+"px)",...lT(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Y,top:se}},[n,d,L.floating,p.x,p.y]);return x.useMemo(()=>({...p,update:$,refs:te,elements:L,floatingStyles:V}),[p,$,te,L,V])}const GI=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:a,padding:i}=typeof t=="function"?t(n):t;return a&&e(a)?a.current!=null?iE({element:a.current,padding:i}).fn(n):{}:a?iE({element:a,padding:i}).fn(n):{}}}},KI=(t,e)=>({...BI(t),options:[t,e]}),YI=(t,e)=>({...zI(t),options:[t,e]}),XI=(t,e)=>({...VI(t),options:[t,e]}),WI=(t,e)=>({...UI(t),options:[t,e]}),ZI=(t,e)=>({...$I(t),options:[t,e]}),QI=(t,e)=>({...FI(t),options:[t,e]}),JI=(t,e)=>({...GI(t),options:[t,e]});var e8="Arrow",cT=x.forwardRef((t,e)=>{const{children:n,width:a=10,height:i=5,...o}=t;return s.jsx(ze.svg,{...o,ref:e,width:a,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});cT.displayName=e8;var t8=cT;function Ej(t){const[e,n]=x.useState(void 0);return wn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let c,d;if("borderBoxSize"in o){const h=o.borderBoxSize,m=Array.isArray(h)?h[0]:h;c=m.inlineSize,d=m.blockSize}else c=t.offsetWidth,d=t.offsetHeight;n({width:c,height:d})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else n(void 0)},[t]),e}var Aj="Popper",[dT,gl]=Qs(Aj),[n8,uT]=dT(Aj),hT=t=>{const{__scopePopper:e,children:n}=t,[a,i]=x.useState(null);return s.jsx(n8,{scope:e,anchor:a,onAnchorChange:i,children:n})};hT.displayName=Aj;var fT="PopperAnchor",mT=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:a,...i}=t,o=uT(fT,n),c=x.useRef(null),d=ht(e,c);return x.useEffect(()=>{o.onAnchorChange((a==null?void 0:a.current)||c.current)}),a?null:s.jsx(ze.div,{...i,ref:d})});mT.displayName=fT;var Cj="PopperContent",[s8,a8]=dT(Cj),pT=x.forwardRef((t,e)=>{var ne,ie,he,ae,ue,ce;const{__scopePopper:n,side:a="bottom",sideOffset:i=0,align:o="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:h=!0,collisionBoundary:m=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:w,...j}=t,S=uT(Cj,n),[k,E]=x.useState(null),A=ht(e,Ce=>E(Ce)),[T,_]=x.useState(null),M=Ej(T),P=(M==null?void 0:M.width)??0,O=(M==null?void 0:M.height)??0,I=a+(o!=="center"?"-"+o:""),G=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},R=Array.isArray(m)?m:[m],X=R.length>0,$={padding:G,boundary:R.filter(i8),altBoundary:X},{refs:Z,floatingStyles:te,placement:L,isPositioned:V,middlewareData:B}=HI({strategy:"fixed",placement:I,whileElementsMounted:(...Ce)=>II(...Ce,{animationFrame:y==="always"}),elements:{reference:S.anchor},middleware:[KI({mainAxis:i+O,alignmentAxis:c}),h&&YI({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?XI():void 0,...$}),h&&WI({...$}),ZI({...$,apply:({elements:Ce,rects:Oe,availableWidth:nt,availableHeight:De})=>{const{width:ke,height:it}=Oe.reference,Le=Ce.floating.style;Le.setProperty("--radix-popper-available-width",`${nt}px`),Le.setProperty("--radix-popper-available-height",`${De}px`),Le.setProperty("--radix-popper-anchor-width",`${ke}px`),Le.setProperty("--radix-popper-anchor-height",`${it}px`)}}),T&&JI({element:T,padding:d}),o8({arrowWidth:P,arrowHeight:O}),v&&QI({strategy:"referenceHidden",...$})]}),[Y,se]=vT(L),K=bn(w);wn(()=>{V&&(K==null||K())},[V,K]);const z=(ne=B.arrow)==null?void 0:ne.x,W=(ie=B.arrow)==null?void 0:ie.y,q=((he=B.arrow)==null?void 0:he.centerOffset)!==0,[H,ee]=x.useState();return wn(()=>{k&&ee(window.getComputedStyle(k).zIndex)},[k]),s.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:V?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[(ae=B.transformOrigin)==null?void 0:ae.x,(ue=B.transformOrigin)==null?void 0:ue.y].join(" "),...((ce=B.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(s8,{scope:n,placedSide:Y,onArrowChange:_,arrowX:z,arrowY:W,shouldHideArrow:q,children:s.jsx(ze.div,{"data-side":Y,"data-align":se,...j,ref:A,style:{...j.style,animation:V?void 0:"none"}})})})});pT.displayName=Cj;var gT="PopperArrow",r8={top:"bottom",right:"left",bottom:"top",left:"right"},xT=x.forwardRef(function(e,n){const{__scopePopper:a,...i}=e,o=a8(gT,a),c=r8[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(t8,{...i,ref:n,style:{...i.style,display:"block"}})})});xT.displayName=gT;function i8(t){return t!==null}var o8=t=>({name:"transformOrigin",options:t,fn(e){var S,k,E;const{placement:n,rects:a,middlewareData:i}=e,c=((S=i.arrow)==null?void 0:S.centerOffset)!==0,d=c?0:t.arrowWidth,h=c?0:t.arrowHeight,[m,p]=vT(n),g={start:"0%",center:"50%",end:"100%"}[p],v=(((k=i.arrow)==null?void 0:k.x)??0)+d/2,y=(((E=i.arrow)==null?void 0:E.y)??0)+h/2;let w="",j="";return m==="bottom"?(w=c?g:`${v}px`,j=`${-h}px`):m==="top"?(w=c?g:`${v}px`,j=`${a.floating.height+h}px`):m==="right"?(w=`${-h}px`,j=c?g:`${y}px`):m==="left"&&(w=`${a.floating.width+h}px`,j=c?g:`${y}px`),{data:{x:w,y:j}}}});function vT(t){const[e,n="center"]=t.split("-");return[e,n]}var Tj=hT,Pf=mT,Gg=pT,Kg=xT,l8="Portal",cu=x.forwardRef((t,e)=>{var d;const{container:n,...a}=t,[i,o]=x.useState(!1);wn(()=>o(!0),[]);const c=n||i&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return c?pj.createPortal(s.jsx(ze.div,{...a,ref:e}),c):null});cu.displayName=l8;function c8(t,e){return x.useReducer((n,a)=>e[n][a]??n,t)}var Bn=t=>{const{present:e,children:n}=t,a=d8(e),i=typeof n=="function"?n({present:a.isPresent}):x.Children.only(n),o=ht(a.ref,u8(i));return typeof n=="function"||a.isPresent?x.cloneElement(i,{ref:o}):null};Bn.displayName="Presence";function d8(t){const[e,n]=x.useState(),a=x.useRef(null),i=x.useRef(t),o=x.useRef("none"),c=t?"mounted":"unmounted",[d,h]=c8(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const m=dp(a.current);o.current=d==="mounted"?m:"none"},[d]),wn(()=>{const m=a.current,p=i.current;if(p!==t){const v=o.current,y=dp(m);t?h("MOUNT"):y==="none"||(m==null?void 0:m.display)==="none"?h("UNMOUNT"):h(p&&v!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,h]),wn(()=>{if(e){let m;const p=e.ownerDocument.defaultView??window,g=y=>{const j=dp(a.current).includes(y.animationName);if(y.target===e&&j&&(h("ANIMATION_END"),!i.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",m=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},v=y=>{y.target===e&&(o.current=dp(a.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(m),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:x.useCallback(m=>{a.current=m?getComputedStyle(m):null,n(m)},[])}}function dp(t){return(t==null?void 0:t.animationName)||"none"}function u8(t){var a,i;let e=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var h8=IC[" useInsertionEffect ".trim().toString()]||wn;function Ur({prop:t,defaultProp:e,onChange:n=()=>{},caller:a}){const[i,o,c]=f8({defaultProp:e,onChange:n}),d=t!==void 0,h=d?t:i;{const p=x.useRef(t!==void 0);x.useEffect(()=>{const g=p.current;g!==d&&console.warn(`${a} is changing from ${g?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,a])}const m=x.useCallback(p=>{var g;if(d){const v=m8(p)?p(t):p;v!==t&&((g=c.current)==null||g.call(c,v))}else o(p)},[d,t,o,c]);return[h,m]}function f8({defaultProp:t,onChange:e}){const[n,a]=x.useState(t),i=x.useRef(n),o=x.useRef(e);return h8(()=>{o.current=e},[e]),x.useEffect(()=>{var c;i.current!==n&&((c=o.current)==null||c.call(o,n),i.current=n)},[n,i]),[n,a,o]}function m8(t){return typeof t=="function"}var bT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),p8="VisuallyHidden",yT=x.forwardRef((t,e)=>s.jsx(ze.span,{...t,ref:e,style:{...bT,...t.style}}));yT.displayName=p8;var jT=yT,[Yg,ole]=Qs("Tooltip",[gl]),_j=gl(),wT="TooltipProvider",g8=700,lE="tooltip.open",[x8,NT]=Yg(wT),ST=t=>{const{__scopeTooltip:e,delayDuration:n=g8,skipDelayDuration:a=300,disableHoverableContent:i=!1,children:o}=t,c=x.useRef(!0),d=x.useRef(!1),h=x.useRef(0);return x.useEffect(()=>{const m=h.current;return()=>window.clearTimeout(m)},[]),s.jsx(x8,{scope:e,isOpenDelayedRef:c,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(h.current),c.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>c.current=!0,a)},[a]),isPointerInTransitRef:d,onPointerInTransitChange:x.useCallback(m=>{d.current=m},[]),disableHoverableContent:i,children:o})};ST.displayName=wT;var kT="Tooltip",[lle,Of]=Yg(kT),Gy="TooltipTrigger",v8=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...a}=t,i=Of(Gy,n),o=NT(Gy,n),c=_j(n),d=x.useRef(null),h=ht(e,d,i.onTriggerChange),m=x.useRef(!1),p=x.useRef(!1),g=x.useCallback(()=>m.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),s.jsx(Pf,{asChild:!0,...c,children:s.jsx(ze.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...a,ref:h,onPointerMove:_e(t.onPointerMove,v=>{v.pointerType!=="touch"&&!p.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:_e(t.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:_e(t.onPointerDown,()=>{i.open&&i.onClose(),m.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:_e(t.onFocus,()=>{m.current||i.onOpen()}),onBlur:_e(t.onBlur,i.onClose),onClick:_e(t.onClick,i.onClose)})})});v8.displayName=Gy;var Rj="TooltipPortal",[b8,y8]=Yg(Rj,{forceMount:void 0}),ET=t=>{const{__scopeTooltip:e,forceMount:n,children:a,container:i}=t,o=Of(Rj,e);return s.jsx(b8,{scope:e,forceMount:n,children:s.jsx(Bn,{present:n||o.open,children:s.jsx(cu,{asChild:!0,container:i,children:a})})})};ET.displayName=Rj;var Gd="TooltipContent",AT=x.forwardRef((t,e)=>{const n=y8(Gd,t.__scopeTooltip),{forceMount:a=n.forceMount,side:i="top",...o}=t,c=Of(Gd,t.__scopeTooltip);return s.jsx(Bn,{present:a||c.open,children:c.disableHoverableContent?s.jsx(CT,{side:i,...o,ref:e}):s.jsx(j8,{side:i,...o,ref:e})})}),j8=x.forwardRef((t,e)=>{const n=Of(Gd,t.__scopeTooltip),a=NT(Gd,t.__scopeTooltip),i=x.useRef(null),o=ht(e,i),[c,d]=x.useState(null),{trigger:h,onClose:m}=n,p=i.current,{onPointerInTransitChange:g}=a,v=x.useCallback(()=>{d(null),g(!1)},[g]),y=x.useCallback((w,j)=>{const S=w.currentTarget,k={x:w.clientX,y:w.clientY},E=E8(k,S.getBoundingClientRect()),A=A8(k,E),T=C8(j.getBoundingClientRect()),_=_8([...A,...T]);d(_),g(!0)},[g]);return x.useEffect(()=>()=>v(),[v]),x.useEffect(()=>{if(h&&p){const w=S=>y(S,p),j=S=>y(S,h);return h.addEventListener("pointerleave",w),p.addEventListener("pointerleave",j),()=>{h.removeEventListener("pointerleave",w),p.removeEventListener("pointerleave",j)}}},[h,p,y,v]),x.useEffect(()=>{if(c){const w=j=>{const S=j.target,k={x:j.clientX,y:j.clientY},E=(h==null?void 0:h.contains(S))||(p==null?void 0:p.contains(S)),A=!T8(k,c);E?v():A&&(v(),m())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[h,p,c,m,v]),s.jsx(CT,{...t,ref:o})}),[w8,N8]=Yg(kT,{isInside:!1}),S8=WC("TooltipContent"),CT=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:a,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:c,...d}=t,h=Of(Gd,n),m=_j(n),{onClose:p}=h;return x.useEffect(()=>(document.addEventListener(lE,p),()=>document.removeEventListener(lE,p)),[p]),x.useEffect(()=>{if(h.trigger){const g=v=>{const y=v.target;y!=null&&y.contains(h.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[h.trigger,p]),s.jsx(mc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:s.jsxs(Gg,{"data-state":h.stateAttribute,...m,...d,ref:e,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(S8,{children:a}),s.jsx(w8,{scope:n,isInside:!0,children:s.jsx(jT,{id:h.contentId,role:"tooltip",children:i||a})})]})})});AT.displayName=Gd;var TT="TooltipArrow",k8=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...a}=t,i=_j(n);return N8(TT,n).isInside?null:s.jsx(Kg,{...i,...a,ref:e})});k8.displayName=TT;function E8(t,e){const n=Math.abs(e.top-t.y),a=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,a,i,o)){case o:return"left";case i:return"right";case n:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function A8(t,e,n=5){const a=[];switch(e){case"top":a.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":a.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":a.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":a.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return a}function C8(t){const{top:e,right:n,bottom:a,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:a},{x:i,y:a}]}function T8(t,e){const{x:n,y:a}=t;let i=!1;for(let o=0,c=e.length-1;o<e.length;c=o++){const d=e[o],h=e[c],m=d.x,p=d.y,g=h.x,v=h.y;p>a!=v>a&&n<(g-m)*(a-p)/(v-p)+m&&(i=!i)}return i}function _8(t){const e=t.slice();return e.sort((n,a)=>n.x<a.x?-1:n.x>a.x?1:n.y<a.y?-1:n.y>a.y?1:0),R8(e)}function R8(t){if(t.length<=1)return t.slice();const e=[];for(let a=0;a<t.length;a++){const i=t[a];for(;e.length>=2;){const o=e[e.length-1],c=e[e.length-2];if((o.x-c.x)*(i.y-c.y)>=(o.y-c.y)*(i.x-c.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let a=t.length-1;a>=0;a--){const i=t[a];for(;n.length>=2;){const o=n[n.length-1],c=n[n.length-2];if((o.x-c.x)*(i.y-c.y)>=(o.y-c.y)*(i.x-c.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var D8=ST,M8=ET,_T=AT;const Dj="-",P8=t=>{const e=L8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:c=>{const d=c.split(Dj);return d[0]===""&&d.length!==1&&d.shift(),RT(d,e)||O8(c)},getConflictingClassGroupIds:(c,d)=>{const h=n[c]||[];return d&&a[c]?[...h,...a[c]]:h}}},RT=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const n=t[0],a=e.nextPart.get(n),i=a?RT(t.slice(1),a):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(Dj);return(c=e.validators.find(({validator:d})=>d(o)))==null?void 0:c.classGroupId},cE=/^\[(.+)\]$/,O8=t=>{if(cE.test(t)){const e=cE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},L8=t=>{const{theme:e,classGroups:n}=t,a={nextPart:new Map,validators:[]};for(const i in n)Ky(n[i],a,i,e);return a},Ky=(t,e,n,a)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:dE(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(I8(i)){Ky(i(a),e,n,a);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,c])=>{Ky(c,dE(e,o),n,a)})})},dE=(t,e)=>{let n=t;return e.split(Dj).forEach(a=>{n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n},I8=t=>t.isThemeGetter,B8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,a=new Map;const i=(o,c)=>{n.set(o,c),e++,e>t&&(e=0,a=n,n=new Map)};return{get(o){let c=n.get(o);if(c!==void 0)return c;if((c=a.get(o))!==void 0)return i(o,c),c},set(o,c){n.has(o)?n.set(o,c):i(o,c)}}},Yy="!",Xy=":",z8=Xy.length,U8=t=>{const{prefix:e,experimentalParseClassName:n}=t;let a=i=>{const o=[];let c=0,d=0,h=0,m;for(let w=0;w<i.length;w++){let j=i[w];if(c===0&&d===0){if(j===Xy){o.push(i.slice(h,w)),h=w+z8;continue}if(j==="/"){m=w;continue}}j==="["?c++:j==="]"?c--:j==="("?d++:j===")"&&d--}const p=o.length===0?i:i.substring(h),g=$8(p),v=g!==p,y=m&&m>h?m-h:void 0;return{modifiers:o,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:y}};if(e){const i=e+Xy,o=a;a=c=>c.startsWith(i)?o(c.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const i=a;a=o=>n({className:o,parseClassName:i})}return a},$8=t=>t.endsWith(Yy)?t.substring(0,t.length-1):t.startsWith(Yy)?t.substring(1):t,F8=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const i=[];let o=[];return a.forEach(c=>{c[0]==="["||e[c]?(i.push(...o.sort(),c),o=[]):o.push(c)}),i.push(...o.sort()),i}},V8=t=>({cache:B8(t.cacheSize),parseClassName:U8(t),sortModifiers:F8(t),...P8(t)}),q8=/\s+/,H8=(t,e)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:i,sortModifiers:o}=e,c=[],d=t.trim().split(q8);let h="";for(let m=d.length-1;m>=0;m-=1){const p=d[m],{isExternal:g,modifiers:v,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:j}=n(p);if(g){h=p+(h.length>0?" "+h:h);continue}let S=!!j,k=a(S?w.substring(0,j):w);if(!k){if(!S){h=p+(h.length>0?" "+h:h);continue}if(k=a(w),!k){h=p+(h.length>0?" "+h:h);continue}S=!1}const E=o(v).join(":"),A=y?E+Yy:E,T=A+k;if(c.includes(T))continue;c.push(T);const _=i(k,S);for(let M=0;M<_.length;++M){const P=_[M];c.push(A+P)}h=p+(h.length>0?" "+h:h)}return h};function G8(){let t=0,e,n,a="";for(;t<arguments.length;)(e=arguments[t++])&&(n=DT(e))&&(a&&(a+=" "),a+=n);return a}const DT=t=>{if(typeof t=="string")return t;let e,n="";for(let a=0;a<t.length;a++)t[a]&&(e=DT(t[a]))&&(n&&(n+=" "),n+=e);return n};function K8(t,...e){let n,a,i,o=c;function c(h){const m=e.reduce((p,g)=>g(p),t());return n=V8(m),a=n.cache.get,i=n.cache.set,o=d,d(h)}function d(h){const m=a(h);if(m)return m;const p=H8(h,n);return i(h,p),p}return function(){return o(G8.apply(null,arguments))}}const ls=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},MT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,PT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Y8=/^\d+\/\d+$/,X8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,W8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Z8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Q8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,J8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dd=t=>Y8.test(t),wt=t=>!!t&&!Number.isNaN(Number(t)),Fo=t=>!!t&&Number.isInteger(Number(t)),Kb=t=>t.endsWith("%")&&wt(t.slice(0,-1)),Yi=t=>X8.test(t),eB=()=>!0,tB=t=>W8.test(t)&&!Z8.test(t),OT=()=>!1,nB=t=>Q8.test(t),sB=t=>J8.test(t),aB=t=>!Ye(t)&&!Xe(t),rB=t=>du(t,BT,OT),Ye=t=>MT.test(t),Yl=t=>du(t,zT,tB),Yb=t=>du(t,dB,wt),uE=t=>du(t,LT,OT),iB=t=>du(t,IT,sB),up=t=>du(t,UT,nB),Xe=t=>PT.test(t),bh=t=>uu(t,zT),oB=t=>uu(t,uB),hE=t=>uu(t,LT),lB=t=>uu(t,BT),cB=t=>uu(t,IT),hp=t=>uu(t,UT,!0),du=(t,e,n)=>{const a=MT.exec(t);return a?a[1]?e(a[1]):n(a[2]):!1},uu=(t,e,n=!1)=>{const a=PT.exec(t);return a?a[1]?e(a[1]):n:!1},LT=t=>t==="position"||t==="percentage",IT=t=>t==="image"||t==="url",BT=t=>t==="length"||t==="size"||t==="bg-size",zT=t=>t==="length",dB=t=>t==="number",uB=t=>t==="family-name",UT=t=>t==="shadow",hB=()=>{const t=ls("color"),e=ls("font"),n=ls("text"),a=ls("font-weight"),i=ls("tracking"),o=ls("leading"),c=ls("breakpoint"),d=ls("container"),h=ls("spacing"),m=ls("radius"),p=ls("shadow"),g=ls("inset-shadow"),v=ls("text-shadow"),y=ls("drop-shadow"),w=ls("blur"),j=ls("perspective"),S=ls("aspect"),k=ls("ease"),E=ls("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...T(),Xe,Ye],M=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],O=()=>[Xe,Ye,h],I=()=>[dd,"full","auto",...O()],G=()=>[Fo,"none","subgrid",Xe,Ye],R=()=>["auto",{span:["full",Fo,Xe,Ye]},Fo,Xe,Ye],X=()=>[Fo,"auto",Xe,Ye],$=()=>["auto","min","max","fr",Xe,Ye],Z=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...O()],V=()=>[dd,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],B=()=>[t,Xe,Ye],Y=()=>[...T(),hE,uE,{position:[Xe,Ye]}],se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],K=()=>["auto","cover","contain",lB,rB,{size:[Xe,Ye]}],z=()=>[Kb,bh,Yl],W=()=>["","none","full",m,Xe,Ye],q=()=>["",wt,bh,Yl],H=()=>["solid","dashed","dotted","double"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>[wt,Kb,hE,uE],ie=()=>["","none",w,Xe,Ye],he=()=>["none",wt,Xe,Ye],ae=()=>["none",wt,Xe,Ye],ue=()=>[wt,Xe,Ye],ce=()=>[dd,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Yi],breakpoint:[Yi],color:[eB],container:[Yi],"drop-shadow":[Yi],ease:["in","out","in-out"],font:[aB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Yi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Yi],shadow:[Yi],spacing:["px",wt],text:[Yi],"text-shadow":[Yi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",dd,Ye,Xe,S]}],container:["container"],columns:[{columns:[wt,Ye,Xe,d]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[Fo,"auto",Xe,Ye]}],basis:[{basis:[dd,"full","auto",d,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[wt,dd,"auto","initial","none",Ye]}],grow:[{grow:["",wt,Xe,Ye]}],shrink:[{shrink:["",wt,Xe,Ye]}],order:[{order:[Fo,"first","last","none",Xe,Ye]}],"grid-cols":[{"grid-cols":G()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":G()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...Z(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...Z()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":Z()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[d,"screen",...V()]}],"min-w":[{"min-w":[d,"screen","none",...V()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...V()]}],h:[{h:["screen",...V()]}],"min-h":[{"min-h":["screen","none",...V()]}],"max-h":[{"max-h":["screen",...V()]}],"font-size":[{text:["base",n,bh,Yl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,Xe,Yb]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Kb,Ye]}],"font-family":[{font:[oB,Ye,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Xe,Ye]}],"line-clamp":[{"line-clamp":[wt,"none",Xe,Yb]}],leading:[{leading:[o,...O()]}],"list-image":[{"list-image":["none",Xe,Ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Xe,Ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:[wt,"from-font","auto",Xe,Yl]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[wt,"auto",Xe,Ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe,Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe,Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Y()}],"bg-repeat":[{bg:se()}],"bg-size":[{bg:K()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Fo,Xe,Ye],radial:["",Xe,Ye],conic:[Fo,Xe,Ye]},cB,iB]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:z()}],"gradient-via-pos":[{via:z()}],"gradient-to-pos":[{to:z()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:q()}],"border-w-x":[{"border-x":q()}],"border-w-y":[{"border-y":q()}],"border-w-s":[{"border-s":q()}],"border-w-e":[{"border-e":q()}],"border-w-t":[{"border-t":q()}],"border-w-r":[{"border-r":q()}],"border-w-b":[{"border-b":q()}],"border-w-l":[{"border-l":q()}],"divide-x":[{"divide-x":q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...H(),"hidden","none"]}],"divide-style":[{divide:[...H(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...H(),"none","hidden"]}],"outline-offset":[{"outline-offset":[wt,Xe,Ye]}],"outline-w":[{outline:["",wt,bh,Yl]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",p,hp,up]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",g,hp,up]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[wt,Yl]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":q()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",v,hp,up]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[wt,Xe,Ye]}],"mix-blend":[{"mix-blend":[...ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[wt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":ne()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":ne()}],"mask-image-t-to-pos":[{"mask-t-to":ne()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":ne()}],"mask-image-r-to-pos":[{"mask-r-to":ne()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":ne()}],"mask-image-b-to-pos":[{"mask-b-to":ne()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":ne()}],"mask-image-l-to-pos":[{"mask-l-to":ne()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":ne()}],"mask-image-x-to-pos":[{"mask-x-to":ne()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":ne()}],"mask-image-y-to-pos":[{"mask-y-to":ne()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[Xe,Ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":ne()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[wt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":ne()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Y()}],"mask-repeat":[{mask:se()}],"mask-size":[{mask:K()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Xe,Ye]}],filter:[{filter:["","none",Xe,Ye]}],blur:[{blur:ie()}],brightness:[{brightness:[wt,Xe,Ye]}],contrast:[{contrast:[wt,Xe,Ye]}],"drop-shadow":[{"drop-shadow":["","none",y,hp,up]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",wt,Xe,Ye]}],"hue-rotate":[{"hue-rotate":[wt,Xe,Ye]}],invert:[{invert:["",wt,Xe,Ye]}],saturate:[{saturate:[wt,Xe,Ye]}],sepia:[{sepia:["",wt,Xe,Ye]}],"backdrop-filter":[{"backdrop-filter":["","none",Xe,Ye]}],"backdrop-blur":[{"backdrop-blur":ie()}],"backdrop-brightness":[{"backdrop-brightness":[wt,Xe,Ye]}],"backdrop-contrast":[{"backdrop-contrast":[wt,Xe,Ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",wt,Xe,Ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[wt,Xe,Ye]}],"backdrop-invert":[{"backdrop-invert":["",wt,Xe,Ye]}],"backdrop-opacity":[{"backdrop-opacity":[wt,Xe,Ye]}],"backdrop-saturate":[{"backdrop-saturate":[wt,Xe,Ye]}],"backdrop-sepia":[{"backdrop-sepia":["",wt,Xe,Ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Xe,Ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[wt,"initial",Xe,Ye]}],ease:[{ease:["linear","initial",k,Xe,Ye]}],delay:[{delay:[wt,Xe,Ye]}],animate:[{animate:["none",E,Xe,Ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Xe,Ye]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:he()}],"rotate-x":[{"rotate-x":he()}],"rotate-y":[{"rotate-y":he()}],"rotate-z":[{"rotate-z":he()}],scale:[{scale:ae()}],"scale-x":[{"scale-x":ae()}],"scale-y":[{"scale-y":ae()}],"scale-z":[{"scale-z":ae()}],"scale-3d":["scale-3d"],skew:[{skew:ue()}],"skew-x":[{"skew-x":ue()}],"skew-y":[{"skew-y":ue()}],transform:[{transform:[Xe,Ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ce()}],"translate-x":[{"translate-x":ce()}],"translate-y":[{"translate-y":ce()}],"translate-z":[{"translate-z":ce()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe,Ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe,Ye]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[wt,bh,Yl,Yb]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},fB=K8(hB);function ge(...t){return fB(UC(t))}const mB=D8,pB=x.forwardRef(({className:t,sideOffset:e=4,...n},a)=>s.jsx(M8,{children:s.jsx(_T,{ref:a,sideOffset:e,className:ge("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n})}));pB.displayName=_T.displayName;function Bp(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bp=function(n){return typeof n}:Bp=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bp(t)}function gB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xB(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function vB(t,e,n){return e&&xB(t.prototype,e),t}function bB(t,e){return e&&(Bp(e)==="object"||typeof e=="function")?e:zp(t)}function Wy(t){return Wy=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Wy(t)}function zp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Zy(t,e)}function Zy(t,e){return Zy=Object.setPrototypeOf||function(a,i){return a.__proto__=i,a},Zy(t,e)}function Up(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $T=function(t){yB(e,t);function e(){var n,a;gB(this,e);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return a=bB(this,(n=Wy(e)).call.apply(n,[this].concat(o))),Up(zp(a),"state",{bootstrapped:!1}),Up(zp(a),"_unsubscribe",void 0),Up(zp(a),"handlePersistorState",function(){var d=a.props.persistor,h=d.getState(),m=h.bootstrapped;m&&(a.props.onBeforeLift?Promise.resolve(a.props.onBeforeLift()).finally(function(){return a.setState({bootstrapped:!0})}):a.setState({bootstrapped:!0}),a._unsubscribe&&a._unsubscribe())}),a}return vB(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(x.PureComponent);Up($T,"defaultProps",{children:null,loading:null});var yh={},fp={},mp={},fE;function jB(){if(fE)return mp;fE=1,mp.__esModule=!0,mp.default=i;function t(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(d){return typeof d}:t=function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},t(o)}function e(){}var n={getItem:e,setItem:e,removeItem:e};function a(o){if((typeof self>"u"?"undefined":t(self))!=="object"||!(o in self))return!1;try{var c=self[o],d="redux-persist ".concat(o," test");c.setItem(d,"test"),c.getItem(d),c.removeItem(d)}catch{return!1}return!0}function i(o){var c="".concat(o,"Storage");return a(c)?self[c]:n}return mp}var mE;function wB(){if(mE)return fp;mE=1,fp.__esModule=!0,fp.default=n;var t=e(jB());function e(a){return a&&a.__esModule?a:{default:a}}function n(a){var i=(0,t.default)(a);return{getItem:function(c){return new Promise(function(d,h){d(i.getItem(c))})},setItem:function(c,d){return new Promise(function(h,m){h(i.setItem(c,d))})},removeItem:function(c){return new Promise(function(d,h){d(i.removeItem(c))})}}}return fp}var pE;function NB(){if(pE)return yh;pE=1,yh.__esModule=!0,yh.default=void 0;var t=e(wB());function e(a){return a&&a.__esModule?a:{default:a}}var n=(0,t.default)("local");return yh.default=n,yh}var SB=NB();const kB=gj(SB),sc="https://api.yayasanbaitulmuslim.my.id",Wi=d6.create({baseURL:sc,withCredentials:!0}),EB=t=>{t.interceptors.request.use(e=>e,e=>Promise.reject(e)),t.interceptors.response.use(e=>e,async e=>{var a,i;const n=e.config;if(!n._retry)if(n._retry=!0,!((a=n.url)!=null&&a.includes("/refresh"))&&!((i=n.url)!=null&&i.includes("/me")))try{return await $h.dispatch(Vp()).unwrap(),t.request(n)}catch(o){console.error("Cookie-based token refresh failed:",o),$h.dispatch(cg())}else console.log("Auth failed for critical endpoint, clearing auth"),$h.dispatch(cg());return Promise.reject(e)})};EB(Wi);class Js{constructor(e){Me(this,"baseEndpoint");this.baseEndpoint=`/api/v1${e}`}async handleRequest(e){var n,a;try{return(await e()).data}catch(i){const o=((a=(n=i.response)==null?void 0:n.data)==null?void 0:a.detail)||i.message||"An error occurred";throw new Error(o)}}async get(e){return this.handleRequest(()=>Wi.get(`${this.baseEndpoint}${e}`))}async post(e,n,a){return this.handleRequest(()=>Wi.post(`${this.baseEndpoint}${e}`,n,a))}async put(e,n,a){return this.handleRequest(()=>Wi.put(`${this.baseEndpoint}${e}`,n,a))}async patch(e,n,a){return this.handleRequest(()=>Wi.patch(`${this.baseEndpoint}${e}`,n,a))}async delete(e,n){return this.handleRequest(()=>n?Wi.delete(`${this.baseEndpoint}${e}`,{data:n}):Wi.delete(`${this.baseEndpoint}${e}`))}}class AB extends Js{constructor(){super("/auth")}async login(e){return this.post("/login",e)}async logout(){try{return await this.post("/logout",{})}catch(e){return console.error("Logout error:",e),{message:"Logout failed",success:!1}}}async refreshToken(){return this.post("/refresh",{})}async getCurrentUser(){return this.get("/me")}async requestPasswordReset(e){return this.post("/password-reset",e)}async confirmPasswordReset(e){return this.post("/password-reset/confirm",e)}async changePassword(e){return this.post("/change-password",e)}}const pc=new AB;var Ih=(t=>(t.SUPER_ADMIN="SUPER_ADMIN",t.ADMIN="ADMIN",t.GURU="GURU",t.KEPALA_SEKOLAH="KEPALA_SEKOLAH",t))(Ih||{}),La=(t=>(t.ACTIVE="active",t.INACTIVE="inactive",t.SUSPENDED="suspended",t))(La||{});class CB extends Js{constructor(){super("/users")}async getCurrentUser(){return this.get("/me")}async updateCurrentUser(e){return this.put("/me",e)}async updateCurrentUserMultipart(e){return this.put("/me/multipart",e,{headers:{"Content-Type":"multipart/form-data"}})}async changePassword(e){return this.post("/auth/change-password",e)}async getUsers(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`?${n.toString()}`:"";return this.get(a)}async createUser(e,n){const a=n?`?organization_id=${n}`:"",i={...e,status:"active"};return this.post(`${a}`,i)}async createUserMultipart(e,n){const a=n?`?organization_id=${n}`:"";return this.post(`/multipart${a}`,e,{headers:{"Content-Type":"multipart/form-data"}})}async getUserById(e){return this.get(`/${e}`)}async updateUser(e,n){return this.put(`/${e}`,n)}async updateUserMultipart(e,n){return this.put(`/${e}/multipart`,n,{headers:{"Content-Type":"multipart/form-data"}})}async deleteUser(e){return this.delete(`/${e}`)}async resetUserPassword(e){return this.post(`/${e}/reset-password`)}async setUserPassword(e,n){return this.post(`/${e}/set-password`,n)}async activateUser(e){return this.post(`/${e}/activate`)}async deactivateUser(e){return this.post(`/${e}/deactivate`)}async suspendUser(e){return this.post(`/${e}/suspend`)}async getAllowedRoles(){return this.get("/allowed-roles")}}const fi=new CB,Bh=pl("auth/updateProfile",async(t,{rejectWithValue:e})=>{try{let n;"formData"in t?n=await fi.updateCurrentUserMultipart(t.formData):n=await fi.updateCurrentUser(t);try{return await fi.getCurrentUser()}catch(a){return console.warn("Failed to refetch user data after profile update:",a),n}}catch(n){const a=(n==null?void 0:n.message)||"Profile update failed";return e(a)}}),kh="tafatur-app",TB={isAuthenticated:!1,isLoading:!1,user:null,error:null,projectId:kh},$p=pl("auth/login",async(t,{rejectWithValue:e})=>{try{return{user:(await pc.login(t)).user}}catch(n){const a=(n==null?void 0:n.message)||"Login failed";return e(a)}}),Fp=pl("auth/logout",async(t,{rejectWithValue:e})=>{try{await pc.logout();return}catch(n){const a=(n==null?void 0:n.message)||"Logout failed";return e(a)}}),Vp=pl("auth/refreshToken",async(t,{rejectWithValue:e})=>{try{return{user:(await pc.refreshToken()).user}}catch(n){const a=(n==null?void 0:n.message)||"Token refresh failed";return e(a)}}),qp=pl("auth/getCurrentUser",async(t,{rejectWithValue:e})=>{try{return await pc.getCurrentUser()}catch(n){const a=(n==null?void 0:n.message)||"Failed to get current user";return e(a)}}),zh=pl("auth/requestPasswordReset",async(t,{rejectWithValue:e})=>{try{return(await pc.requestPasswordReset(t)).message}catch(n){const a=(n==null?void 0:n.message)||"Password reset request failed";return e(a)}}),Hp=pl("auth/confirmPasswordReset",async(t,{rejectWithValue:e})=>{try{return(await pc.confirmPasswordReset(t)).message}catch(n){const a=(n==null?void 0:n.message)||"Password reset confirmation failed";return e(a)}}),Uh=pl("auth/changePassword",async(t,{rejectWithValue:e})=>{try{return(await pc.changePassword(t)).message}catch(n){const a=(n==null?void 0:n.message)||"Password change failed";return e(a)}}),FT=$C({name:"auth",initialState:TB,reducers:{clearError:t=>{t.error=null},clearAuth:t=>{t.isAuthenticated=!1,t.user=null,t.error=null,t.projectId=kh},clearPersistAndAuth:t=>{t.isAuthenticated=!1,t.user=null,t.error=null,t.projectId=kh},validateProjectState:t=>{t.projectId!==kh&&(t.isAuthenticated=!1,t.user=null,t.error=null,t.projectId=kh)},setUser:(t,e)=>{t.user=e.payload},updateUser:(t,e)=>{t.user&&(t.user={...t.user,...e.payload})}},extraReducers:t=>{t.addCase($p.pending,e=>{e.isLoading=!0,e.error=null}).addCase($p.fulfilled,(e,n)=>{e.isLoading=!1,e.isAuthenticated=!0,e.user=n.payload.user,e.error=null}).addCase($p.rejected,(e,n)=>{e.isLoading=!1,e.error=n.payload,e.isAuthenticated=!1}).addCase(Fp.pending,e=>{e.isLoading=!0}).addCase(Fp.fulfilled,e=>{e.isLoading=!1,e.isAuthenticated=!1,e.user=null,e.error=null}).addCase(Fp.rejected,(e,n)=>{e.isLoading=!1,e.error=n.payload}).addCase(Vp.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vp.fulfilled,(e,n)=>{e.isLoading=!1,n.payload.user&&(e.user=n.payload.user),e.isAuthenticated=!0,e.error=null}).addCase(Vp.rejected,(e,n)=>{e.isLoading=!1,e.error=n.payload,e.isAuthenticated=!1,e.user=null}).addCase(zh.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zh.fulfilled,e=>{e.isLoading=!1,e.error=null}).addCase(zh.rejected,(e,n)=>{e.isLoading=!1,e.error=n.payload}).addCase(Hp.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Hp.fulfilled,e=>{e.isLoading=!1,e.error=null}).addCase(Hp.rejected,(e,n)=>{e.isLoading=!1,e.error=n.payload}).addCase(Uh.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Uh.fulfilled,e=>{e.isLoading=!1,e.error=null}).addCase(Uh.rejected,(e,n)=>{e.isLoading=!1,e.error=n.payload}).addCase(qp.pending,e=>{e.isLoading=!0,e.error=null}).addCase(qp.fulfilled,(e,n)=>{e.isLoading=!1,e.user=n.payload,e.isAuthenticated=!0,e.error=null}).addCase(qp.rejected,(e,n)=>{e.isLoading=!1,e.error=n.payload,e.isAuthenticated=!1,e.user=null}).addCase(Bh.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bh.fulfilled,(e,n)=>{e.isLoading=!1,e.user=n.payload,e.error=null}).addCase(Bh.rejected,(e,n)=>{e.isLoading=!1,e.error=n.payload})}}),{clearError:_B,clearAuth:cg,clearPersistAndAuth:cle,setUser:dle,updateUser:ule,validateProjectState:hle}=FT.actions,RB=t=>t.auth.user,DB=t=>t.auth.isLoading,MB=FT.reducer,PB=()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches,OB={isDarkMode:PB()},VT=$C({name:"theme",initialState:OB,reducers:{setTheme:(t,e)=>{t.isDarkMode=e.payload}}}),{setTheme:Xb}=VT.actions,LB=VT.reducer,IB=Q5({auth:MB,theme:LB}),BB={key:"tafatur-root",storage:kB,whitelist:["auth","theme"]},zB=o6(BB,IB),$h=J5({reducer:zB,middleware:t=>t({serializableCheck:{ignoredActions:[e6,t6,n6,s6,a6,r6]}})}),qT=i6($h);var UB=(t,e,n,a,i,o,c,d)=>{let h=document.documentElement,m=["light","dark"];function p(y){(Array.isArray(t)?t:[t]).forEach(w=>{let j=w==="class",S=j&&o?i.map(k=>o[k]||k):i;j?(h.classList.remove(...S),h.classList.add(o&&o[y]?o[y]:y)):h.setAttribute(w,y)}),g(y)}function g(y){d&&m.includes(y)&&(h.style.colorScheme=y)}function v(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(a)p(a);else try{let y=localStorage.getItem(e)||n,w=c&&y==="system"?v():y;p(w)}catch{}},$B=x.createContext(void 0),FB={setTheme:t=>{},themes:[]},VB=()=>{var t;return(t=x.useContext($B))!=null?t:FB};x.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:a,enableColorScheme:i,defaultTheme:o,value:c,themes:d,nonce:h,scriptProps:m})=>{let p=JSON.stringify([n,e,o,t,d,c,a,i]).slice(1,-1);return x.createElement("script",{...m,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${UB.toString()})(${p})`}})});function qB(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const HB=t=>{switch(t){case"success":return YB;case"info":return WB;case"warning":return XB;case"error":return ZB;default:return null}},GB=Array(12).fill(0),KB=({visible:t,className:e})=>ve.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ve.createElement("div",{className:"sonner-spinner"},GB.map((n,a)=>ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),YB=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),XB=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),WB=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ZB=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),QB=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),JB=()=>{const[t,e]=ve.useState(document.hidden);return ve.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Qy=1;class ez{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:a,...i}=e,o=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Qy++,c=this.toasts.find(h=>h.id===o),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),c?this.toasts=this.toasts.map(h=>h.id===o?(this.publish({...h,...e,id:o,title:a}),{...h,...e,id:o,dismissible:d,title:a}):h):this.addToast({title:a,...i,dismissible:d,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(a=>a({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let a;n.loading!==void 0&&(a=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let o=a!==void 0,c;const d=i.then(async m=>{if(c=["resolve",m],ve.isValidElement(m))o=!1,this.create({id:a,type:"default",message:m});else if(nz(m)&&!m.ok){o=!1;const g=typeof n.error=="function"?await n.error(`HTTP error! status: ${m.status}`):n.error,v=typeof n.description=="function"?await n.description(`HTTP error! status: ${m.status}`):n.description,w=typeof g=="object"&&!ve.isValidElement(g)?g:{message:g};this.create({id:a,type:"error",description:v,...w})}else if(m instanceof Error){o=!1;const g=typeof n.error=="function"?await n.error(m):n.error,v=typeof n.description=="function"?await n.description(m):n.description,w=typeof g=="object"&&!ve.isValidElement(g)?g:{message:g};this.create({id:a,type:"error",description:v,...w})}else if(n.success!==void 0){o=!1;const g=typeof n.success=="function"?await n.success(m):n.success,v=typeof n.description=="function"?await n.description(m):n.description,w=typeof g=="object"&&!ve.isValidElement(g)?g:{message:g};this.create({id:a,type:"success",description:v,...w})}}).catch(async m=>{if(c=["reject",m],n.error!==void 0){o=!1;const p=typeof n.error=="function"?await n.error(m):n.error,g=typeof n.description=="function"?await n.description(m):n.description,y=typeof p=="object"&&!ve.isValidElement(p)?p:{message:p};this.create({id:a,type:"error",description:g,...y})}}).finally(()=>{o&&(this.dismiss(a),a=void 0),n.finally==null||n.finally.call(n)}),h=()=>new Promise((m,p)=>d.then(()=>c[0]==="reject"?p(c[1]):m(c[1])).catch(p));return typeof a!="string"&&typeof a!="number"?{unwrap:h}:Object.assign(a,{unwrap:h})},this.custom=(e,n)=>{const a=(n==null?void 0:n.id)||Qy++;return this.create({jsx:e(a),id:a,...n}),a},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ma=new ez,tz=(t,e)=>{const n=(e==null?void 0:e.id)||Qy++;return ma.addToast({title:t,...e,id:n}),n},nz=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",sz=tz,az=()=>ma.toasts,rz=()=>ma.getActiveToasts(),Wl=Object.assign(sz,{success:ma.success,info:ma.info,warning:ma.warning,error:ma.error,custom:ma.custom,message:ma.message,promise:ma.promise,dismiss:ma.dismiss,loading:ma.loading},{getHistory:az,getToasts:rz});qB("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function pp(t){return t.label!==void 0}const iz=3,oz="24px",lz="16px",gE=4e3,cz=356,dz=14,uz=45,hz=200;function li(...t){return t.filter(Boolean).join(" ")}function fz(t){const[e,n]=t.split("-"),a=[];return e&&a.push(e),n&&a.push(n),a}const mz=t=>{var e,n,a,i,o,c,d,h,m;const{invert:p,toast:g,unstyled:v,interacting:y,setHeights:w,visibleToasts:j,heights:S,index:k,toasts:E,expanded:A,removeToast:T,defaultRichColors:_,closeButton:M,style:P,cancelButtonStyle:O,actionButtonStyle:I,className:G="",descriptionClassName:R="",duration:X,position:$,gap:Z,expandByDefault:te,classNames:L,icons:V,closeButtonAriaLabel:B="Close toast"}=t,[Y,se]=ve.useState(null),[K,z]=ve.useState(null),[W,q]=ve.useState(!1),[H,ee]=ve.useState(!1),[ne,ie]=ve.useState(!1),[he,ae]=ve.useState(!1),[ue,ce]=ve.useState(!1),[Ce,Oe]=ve.useState(0),[nt,De]=ve.useState(0),ke=ve.useRef(g.duration||X||gE),it=ve.useRef(null),Le=ve.useRef(null),Qe=k===0,Ae=k+1<=j,Ie=g.type,Nt=g.dismissible!==!1,hn=g.className||"",ea=g.descriptionClassName||"",vs=ve.useMemo(()=>S.findIndex(qe=>qe.toastId===g.id)||0,[S,g.id]),Ft=ve.useMemo(()=>{var qe;return(qe=g.closeButton)!=null?qe:M},[g.closeButton,M]),on=ve.useMemo(()=>g.duration||X||gE,[g.duration,X]),Vt=ve.useRef(0),Gt=ve.useRef(0),Tn=ve.useRef(0),Jn=ve.useRef(null),[Ts,Us]=$.split("-"),Nn=ve.useMemo(()=>S.reduce((qe,bt,gt)=>gt>=vs?qe:qe+bt.height,0),[S,vs]),_s=JB(),bs=g.invert||p,ys=Ie==="loading";Gt.current=ve.useMemo(()=>vs*Z+Nn,[vs,Nn]),ve.useEffect(()=>{ke.current=on},[on]),ve.useEffect(()=>{q(!0)},[]),ve.useEffect(()=>{const qe=Le.current;if(qe){const bt=qe.getBoundingClientRect().height;return De(bt),w(gt=>[{toastId:g.id,height:bt,position:g.position},...gt]),()=>w(gt=>gt.filter(yt=>yt.toastId!==g.id))}},[w,g.id]),ve.useLayoutEffect(()=>{if(!W)return;const qe=Le.current,bt=qe.style.height;qe.style.height="auto";const gt=qe.getBoundingClientRect().height;qe.style.height=bt,De(gt),w(yt=>yt.find(Kt=>Kt.toastId===g.id)?yt.map(Kt=>Kt.toastId===g.id?{...Kt,height:gt}:Kt):[{toastId:g.id,height:gt,position:g.position},...yt])},[W,g.title,g.description,w,g.id]);const Qt=ve.useCallback(()=>{ee(!0),Oe(Gt.current),w(qe=>qe.filter(bt=>bt.toastId!==g.id)),setTimeout(()=>{T(g)},hz)},[g,T,w,Gt]);ve.useEffect(()=>{if(g.promise&&Ie==="loading"||g.duration===1/0||g.type==="loading")return;let qe;return A||y||_s?(()=>{if(Tn.current<Vt.current){const yt=new Date().getTime()-Vt.current;ke.current=ke.current-yt}Tn.current=new Date().getTime()})():(()=>{ke.current!==1/0&&(Vt.current=new Date().getTime(),qe=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Qt()},ke.current))})(),()=>clearTimeout(qe)},[A,y,g,Ie,_s,Qt]),ve.useEffect(()=>{g.delete&&Qt()},[Qt,g.delete]);function ta(){var qe;if(V!=null&&V.loading){var bt;return ve.createElement("div",{className:li(L==null?void 0:L.loader,g==null||(bt=g.classNames)==null?void 0:bt.loader,"sonner-loader"),"data-visible":Ie==="loading"},V.loading)}return ve.createElement(KB,{className:li(L==null?void 0:L.loader,g==null||(qe=g.classNames)==null?void 0:qe.loader),visible:Ie==="loading"})}const $s=g.icon||(V==null?void 0:V[Ie])||HB(Ie);var Rt,ln;return ve.createElement("li",{tabIndex:0,ref:Le,className:li(G,hn,L==null?void 0:L.toast,g==null||(e=g.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Ie],g==null||(n=g.classNames)==null?void 0:n[Ie]),"data-sonner-toast":"","data-rich-colors":(Rt=g.richColors)!=null?Rt:_,"data-styled":!(g.jsx||g.unstyled||v),"data-mounted":W,"data-promise":!!g.promise,"data-swiped":ue,"data-removed":H,"data-visible":Ae,"data-y-position":Ts,"data-x-position":Us,"data-index":k,"data-front":Qe,"data-swiping":ne,"data-dismissible":Nt,"data-type":Ie,"data-invert":bs,"data-swipe-out":he,"data-swipe-direction":K,"data-expanded":!!(A||te&&W),style:{"--index":k,"--toasts-before":k,"--z-index":E.length-k,"--offset":`${H?Ce:Gt.current}px`,"--initial-height":te?"auto":`${nt}px`,...P,...g.style},onDragEnd:()=>{ie(!1),se(null),Jn.current=null},onPointerDown:qe=>{ys||!Nt||(it.current=new Date,Oe(Gt.current),qe.target.setPointerCapture(qe.pointerId),qe.target.tagName!=="BUTTON"&&(ie(!0),Jn.current={x:qe.clientX,y:qe.clientY}))},onPointerUp:()=>{var qe,bt,gt;if(he||!Nt)return;Jn.current=null;const yt=Number(((qe=Le.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),cn=Number(((bt=Le.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Kt=new Date().getTime()-((gt=it.current)==null?void 0:gt.getTime()),dt=Y==="x"?yt:cn,Bt=Math.abs(dt)/Kt;if(Math.abs(dt)>=uz||Bt>.11){Oe(Gt.current),g.onDismiss==null||g.onDismiss.call(g,g),z(Y==="x"?yt>0?"right":"left":cn>0?"down":"up"),Qt(),ae(!0);return}else{var xt,qt;(xt=Le.current)==null||xt.style.setProperty("--swipe-amount-x","0px"),(qt=Le.current)==null||qt.style.setProperty("--swipe-amount-y","0px")}ce(!1),ie(!1),se(null)},onPointerMove:qe=>{var bt,gt,yt;if(!Jn.current||!Nt||((bt=window.getSelection())==null?void 0:bt.toString().length)>0)return;const Kt=qe.clientY-Jn.current.y,dt=qe.clientX-Jn.current.x;var Bt;const xt=(Bt=t.swipeDirections)!=null?Bt:fz($);!Y&&(Math.abs(dt)>1||Math.abs(Kt)>1)&&se(Math.abs(dt)>Math.abs(Kt)?"x":"y");let qt={x:0,y:0};const Rs=zn=>1/(1.5+Math.abs(zn)/20);if(Y==="y"){if(xt.includes("top")||xt.includes("bottom"))if(xt.includes("top")&&Kt<0||xt.includes("bottom")&&Kt>0)qt.y=Kt;else{const zn=Kt*Rs(Kt);qt.y=Math.abs(zn)<Math.abs(Kt)?zn:Kt}}else if(Y==="x"&&(xt.includes("left")||xt.includes("right")))if(xt.includes("left")&&dt<0||xt.includes("right")&&dt>0)qt.x=dt;else{const zn=dt*Rs(dt);qt.x=Math.abs(zn)<Math.abs(dt)?zn:dt}(Math.abs(qt.x)>0||Math.abs(qt.y)>0)&&ce(!0),(gt=Le.current)==null||gt.style.setProperty("--swipe-amount-x",`${qt.x}px`),(yt=Le.current)==null||yt.style.setProperty("--swipe-amount-y",`${qt.y}px`)}},Ft&&!g.jsx&&Ie!=="loading"?ve.createElement("button",{"aria-label":B,"data-disabled":ys,"data-close-button":!0,onClick:ys||!Nt?()=>{}:()=>{Qt(),g.onDismiss==null||g.onDismiss.call(g,g)},className:li(L==null?void 0:L.closeButton,g==null||(a=g.classNames)==null?void 0:a.closeButton)},(ln=V==null?void 0:V.close)!=null?ln:QB):null,(Ie||g.icon||g.promise)&&g.icon!==null&&((V==null?void 0:V[Ie])!==null||g.icon)?ve.createElement("div",{"data-icon":"",className:li(L==null?void 0:L.icon,g==null||(i=g.classNames)==null?void 0:i.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||ta():null,g.type!=="loading"?$s:null):null,ve.createElement("div",{"data-content":"",className:li(L==null?void 0:L.content,g==null||(o=g.classNames)==null?void 0:o.content)},ve.createElement("div",{"data-title":"",className:li(L==null?void 0:L.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?ve.createElement("div",{"data-description":"",className:li(R,ea,L==null?void 0:L.description,g==null||(d=g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),ve.isValidElement(g.cancel)?g.cancel:g.cancel&&pp(g.cancel)?ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||O,onClick:qe=>{pp(g.cancel)&&Nt&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,qe),Qt())},className:li(L==null?void 0:L.cancelButton,g==null||(h=g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,ve.isValidElement(g.action)?g.action:g.action&&pp(g.action)?ve.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||I,onClick:qe=>{pp(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,qe),!qe.defaultPrevented&&Qt())},className:li(L==null?void 0:L.actionButton,g==null||(m=g.classNames)==null?void 0:m.actionButton)},g.action.label):null)};function xE(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function pz(t,e){const n={};return[t,e].forEach((a,i)=>{const o=i===1,c=o?"--mobile-offset":"--offset",d=o?lz:oz;function h(m){["top","right","bottom","left"].forEach(p=>{n[`${c}-${p}`]=typeof m=="number"?`${m}px`:m})}typeof a=="number"||typeof a=="string"?h(a):typeof a=="object"?["top","right","bottom","left"].forEach(m=>{a[m]===void 0?n[`${c}-${m}`]=d:n[`${c}-${m}`]=typeof a[m]=="number"?`${a[m]}px`:a[m]}):h(d)}),n}const gz=ve.forwardRef(function(e,n){const{invert:a,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:d,className:h,offset:m,mobileOffset:p,theme:g="light",richColors:v,duration:y,style:w,visibleToasts:j=iz,toastOptions:S,dir:k=xE(),gap:E=dz,icons:A,containerAriaLabel:T="Notifications"}=e,[_,M]=ve.useState([]),P=ve.useMemo(()=>Array.from(new Set([i].concat(_.filter(K=>K.position).map(K=>K.position)))),[_,i]),[O,I]=ve.useState([]),[G,R]=ve.useState(!1),[X,$]=ve.useState(!1),[Z,te]=ve.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=ve.useRef(null),V=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=ve.useRef(null),Y=ve.useRef(!1),se=ve.useCallback(K=>{M(z=>{var W;return(W=z.find(q=>q.id===K.id))!=null&&W.delete||ma.dismiss(K.id),z.filter(({id:q})=>q!==K.id)})},[]);return ve.useEffect(()=>ma.subscribe(K=>{if(K.dismiss){requestAnimationFrame(()=>{M(z=>z.map(W=>W.id===K.id?{...W,delete:!0}:W))});return}setTimeout(()=>{pj.flushSync(()=>{M(z=>{const W=z.findIndex(q=>q.id===K.id);return W!==-1?[...z.slice(0,W),{...z[W],...K},...z.slice(W+1)]:[K,...z]})})})}),[_]),ve.useEffect(()=>{if(g!=="system"){te(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;const K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:z})=>{te(z?"dark":"light")})}catch{K.addListener(({matches:W})=>{try{te(W?"dark":"light")}catch(q){console.error(q)}})}},[g]),ve.useEffect(()=>{_.length<=1&&R(!1)},[_]),ve.useEffect(()=>{const K=z=>{var W;if(o.every(ee=>z[ee]||z.code===ee)){var H;R(!0),(H=L.current)==null||H.focus()}z.code==="Escape"&&(document.activeElement===L.current||(W=L.current)!=null&&W.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[o]),ve.useEffect(()=>{if(L.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,Y.current=!1)}},[L.current]),ve.createElement("section",{ref:n,"aria-label":`${T} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((K,z)=>{var W;const[q,H]=K.split("-");return _.length?ve.createElement("ol",{key:K,dir:k==="auto"?xE():k,tabIndex:-1,ref:L,className:h,"data-sonner-toaster":!0,"data-sonner-theme":Z,"data-y-position":q,"data-lifted":G&&_.length>1&&!c,"data-x-position":H,style:{"--front-toast-height":`${((W=O[0])==null?void 0:W.height)||0}px`,"--width":`${cz}px`,"--gap":`${E}px`,...w,...pz(m,p)},onBlur:ee=>{Y.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(Y.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,B.current=ee.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{X||R(!1)},onDragEnd:()=>R(!1),onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},_.filter(ee=>!ee.position&&z===0||ee.position===K).map((ee,ne)=>{var ie,he;return ve.createElement(mz,{key:ee.id,icons:A,index:ne,toast:ee,defaultRichColors:v,duration:(ie=S==null?void 0:S.duration)!=null?ie:y,className:S==null?void 0:S.className,descriptionClassName:S==null?void 0:S.descriptionClassName,invert:a,visibleToasts:j,closeButton:(he=S==null?void 0:S.closeButton)!=null?he:d,interacting:X,position:K,style:S==null?void 0:S.style,unstyled:S==null?void 0:S.unstyled,classNames:S==null?void 0:S.classNames,cancelButtonStyle:S==null?void 0:S.cancelButtonStyle,actionButtonStyle:S==null?void 0:S.actionButtonStyle,closeButtonAriaLabel:S==null?void 0:S.closeButtonAriaLabel,removeToast:se,toasts:_.filter(ae=>ae.position==ee.position),heights:O.filter(ae=>ae.position==ee.position),setHeights:I,expandByDefault:c,gap:E,expanded:G,swipeDirections:e.swipeDirections})})):null}))}),xz=({...t})=>{const{theme:e="system"}=VB();return s.jsx(gz,{theme:e,className:"toaster group",toastOptions:{unstyled:!0,classNames:{toast:"group toast grid w-full grid-cols-[auto_1fr] items-start gap-x-4 rounded-lg border bg-background p-4 text-foreground shadow-lg [&_:is([data-buttons],[data-action])]:col-start-2 [&_:is([data-buttons],[data-action])]:mt-2 [&_:is([data-buttons],[data-action])]:flex [&_:is([data-buttons],[data-action])]:gap-2",title:"text-sm font-semibold",description:"text-sm text-muted-foreground",actionButton:"inline-flex h-8 shrink-0 items-center justify-center rounded-md bg-primary px-3 text-xs font-medium text-primary-foreground",cancelButton:"inline-flex h-8 shrink-0 items-center justify-center rounded-md bg-muted px-3 text-xs font-medium text-muted-foreground",closeButton:"absolute right-2 top-2 rounded-full p-1.5 text-foreground/50 opacity-0 transition-opacity hover:bg-accent hover:text-foreground group-hover:opacity-100 focus:opacity-100 focus:outline-none focus:ring-2",loader:"h-5 w-5 animate-spin rounded-full border-4 border-muted border-t-primary",success:"!border-green-500 !bg-green-50 !text-green-600 [&[data-theme=dark]]:!border-green-800 [&[data-theme=dark]]:!bg-green-950 [&[data-theme=dark]]:!text-green-400 [&_.text-muted-foreground]:!text-green-700 [&[data-theme=dark]_.text-muted-foreground]:!text-green-300",info:"!border-blue-500 !bg-blue-50 !text-blue-600 [&[data-theme=dark]]:!border-blue-800 [&[data-theme=dark]]:!bg-blue-950 [&[data-theme=dark]]:!text-blue-400 [&_.text-muted-foreground]:!text-blue-700 [&[data-theme=dark]_.text-muted-foreground]:!text-blue-300",warning:"!border-yellow-500 !bg-yellow-50 !text-yellow-600 [&[data-theme=dark]]:!border-yellow-800 [&[data-theme=dark]]:!bg-yellow-950 [&[data-theme=dark]]:!text-yellow-400 [&_.text-muted-foreground]:!text-yellow-700 [&[data-theme=dark]_.text-muted-foreground]:!text-yellow-300",error:"!border-red-500 !bg-red-50 !text-red-600 [&[data-theme=dark]]:!border-red-800 [&[data-theme=dark]]:!bg-red-950 [&[data-theme=dark]]:!text-red-400 [&_.text-muted-foreground]:!text-red-700 [&[data-theme=dark]_.text-muted-foreground]:!text-red-300",icon:"h-5 w-5 shrink-0"}},...t})};Wl.dismiss;const vE={duration:5e3,position:"bottom-right"};function _t(){const t=({title:e,description:n,variant:a="default",...i})=>{const o={description:n,...vE,position:vE.position,...i};switch(a){case"destructive":return Wl.error(e||"",o);case"success":return Wl.success(e||"",o);case"info":return Wl.info(e||"",o);case"warning":return Wl.warning(e||"",o);default:return Wl(e||"",o)}};return{toast:t,dismiss:Wl.dismiss,error:e=>t({...e,variant:"destructive"}),success:e=>t({...e,variant:"success"}),info:e=>t({...e,variant:"info"}),warning:e=>t({...e,variant:"warning"})}}const Mj=()=>Df(),Xo=l6,HT=x.createContext(void 0),vz=({children:t})=>{const e=Mj(),n=Xo(y=>{var w;return((w=y.auth)==null?void 0:w.isAuthenticated)??!1}),a=Xo(y=>{var w;return((w=y.auth)==null?void 0:w.user)??null}),i=Xo(y=>{var w;return((w=y.auth)==null?void 0:w.isLoading)??!1}),o=Xo(y=>{var w;return((w=y.auth)==null?void 0:w.error)??null}),c=async y=>{try{await e($p(y)).unwrap()}catch(w){throw w}},d=async()=>{try{await e(Fp()).unwrap()}catch(y){console.error("Logout error:",y),e(cg())}finally{try{await qT.purge(),localStorage.removeItem("persist:tafatur-root"),sessionStorage.clear()}catch(y){console.error("Error clearing persist storage:",y)}}},h=async()=>{try{if(i||a&&n)return;await e(qp()).unwrap()}catch(y){console.error("Auth check failed:",y),e(cg())}},m=async y=>{try{await e(Uh(y)).unwrap()}catch(w){throw w}},p=()=>{e(_B())},g=()=>n&&!!a;x.useEffect(()=>{a&&n||!a&&!n&&!i&&h()},[]);const v={isAuthenticated:n,user:a,loading:i,error:o,login:c,logout:d,checkAuth:h,changeUserPassword:m,clearAuthError:p,isSessionValid:g};return s.jsx(HT.Provider,{value:v,children:t})},mr=()=>{const t=x.useContext(HT);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},bz=()=>{const t=Mj(),e=Xo(a=>a.theme.isDarkMode);return x.useEffect(()=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),x.useEffect(()=>{const a=window.matchMedia("(prefers-color-scheme: dark)"),i=o=>{t(Xb(o.matches))};return t(Xb(a.matches)),a.addEventListener("change",i),()=>{a.removeEventListener("change",i)}},[t]),{isDarkMode:e,toggleTheme:()=>{t(Xb(!e))}}};function yz({children:t}){return bz(),s.jsx(s.Fragment,{children:t})}var Wb="focusScope.autoFocusOnMount",Zb="focusScope.autoFocusOnUnmount",bE={bubbles:!1,cancelable:!0},jz="FocusScope",Lf=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...c}=t,[d,h]=x.useState(null),m=bn(i),p=bn(o),g=x.useRef(null),v=ht(e,j=>h(j)),y=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(a){let j=function(A){if(y.paused||!d)return;const T=A.target;d.contains(T)?g.current=T:Vo(g.current,{select:!0})},S=function(A){if(y.paused||!d)return;const T=A.relatedTarget;T!==null&&(d.contains(T)||Vo(g.current,{select:!0}))},k=function(A){if(document.activeElement===document.body)for(const _ of A)_.removedNodes.length>0&&Vo(d)};document.addEventListener("focusin",j),document.addEventListener("focusout",S);const E=new MutationObserver(k);return d&&E.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",S),E.disconnect()}}},[a,d,y.paused]),x.useEffect(()=>{if(d){jE.add(y);const j=document.activeElement;if(!d.contains(j)){const k=new CustomEvent(Wb,bE);d.addEventListener(Wb,m),d.dispatchEvent(k),k.defaultPrevented||(wz(Az(GT(d)),{select:!0}),document.activeElement===j&&Vo(d))}return()=>{d.removeEventListener(Wb,m),setTimeout(()=>{const k=new CustomEvent(Zb,bE);d.addEventListener(Zb,p),d.dispatchEvent(k),k.defaultPrevented||Vo(j??document.body,{select:!0}),d.removeEventListener(Zb,p),jE.remove(y)},0)}}},[d,m,p,y]);const w=x.useCallback(j=>{if(!n&&!a||y.paused)return;const S=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,k=document.activeElement;if(S&&k){const E=j.currentTarget,[A,T]=Nz(E);A&&T?!j.shiftKey&&k===T?(j.preventDefault(),n&&Vo(A,{select:!0})):j.shiftKey&&k===A&&(j.preventDefault(),n&&Vo(T,{select:!0})):k===E&&j.preventDefault()}},[n,a,y.paused]);return s.jsx(ze.div,{tabIndex:-1,...c,ref:v,onKeyDown:w})});Lf.displayName=jz;function wz(t,{select:e=!1}={}){const n=document.activeElement;for(const a of t)if(Vo(a,{select:e}),document.activeElement!==n)return}function Nz(t){const e=GT(t),n=yE(e,t),a=yE(e.reverse(),t);return[n,a]}function GT(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function yE(t,e){for(const n of t)if(!Sz(n,{upTo:e}))return n}function Sz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function kz(t){return t instanceof HTMLInputElement&&"select"in t}function Vo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&kz(t)&&e&&t.select()}}var jE=Ez();function Ez(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=wE(t,e),t.unshift(e)},remove(e){var n;t=wE(t,e),(n=t[0])==null||n.resume()}}}function wE(t,e){const n=[...t],a=n.indexOf(e);return a!==-1&&n.splice(a,1),n}function Az(t){return t.filter(e=>e.tagName!=="A")}var Qb=0;function Xg(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??NE()),document.body.insertAdjacentElement("beforeend",t[1]??NE()),Qb++,()=>{Qb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Qb--}},[])}function NE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ui=function(){return ui=Object.assign||function(e){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ui.apply(this,arguments)};function KT(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n}function Cz(t,e,n){if(n||arguments.length===2)for(var a=0,i=e.length,o;a<i;a++)(o||!(a in e))&&(o||(o=Array.prototype.slice.call(e,0,a)),o[a]=e[a]);return t.concat(o||Array.prototype.slice.call(e))}var Gp="right-scroll-bar-position",Kp="width-before-scroll-bar",Tz="with-scroll-bars-hidden",_z="--removed-body-scroll-bar-size";function Jb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Rz(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(a){var i=n.value;i!==a&&(n.value=a,n.callback(a,i))}}}})[0];return n.callback=e,n.facade}var Dz=typeof window<"u"?x.useLayoutEffect:x.useEffect,SE=new WeakMap;function Mz(t,e){var n=Rz(null,function(a){return t.forEach(function(i){return Jb(i,a)})});return Dz(function(){var a=SE.get(n);if(a){var i=new Set(a),o=new Set(t),c=n.current;i.forEach(function(d){o.has(d)||Jb(d,null)}),o.forEach(function(d){i.has(d)||Jb(d,c)})}SE.set(n,t)},[t]),n}function Pz(t){return t}function Oz(t,e){e===void 0&&(e=Pz);var n=[],a=!1,i={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var c=e(o,a);return n.push(c),function(){n=n.filter(function(d){return d!==c})}},assignSyncMedium:function(o){for(a=!0;n.length;){var c=n;n=[],c.forEach(o)}n={push:function(d){return o(d)},filter:function(){return n}}},assignMedium:function(o){a=!0;var c=[];if(n.length){var d=n;n=[],d.forEach(o),c=n}var h=function(){var p=c;c=[],p.forEach(o)},m=function(){return Promise.resolve().then(h)};m(),n={push:function(p){c.push(p),m()},filter:function(p){return c=c.filter(p),n}}}};return i}function Lz(t){t===void 0&&(t={});var e=Oz(null);return e.options=ui({async:!0,ssr:!1},t),e}var YT=function(t){var e=t.sideCar,n=KT(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=e.read();if(!a)throw new Error("Sidecar medium not found");return x.createElement(a,ui({},n))};YT.isSideCarExport=!0;function Iz(t,e){return t.useMedium(e),YT}var XT=Lz(),ey=function(){},Wg=x.forwardRef(function(t,e){var n=x.useRef(null),a=x.useState({onScrollCapture:ey,onWheelCapture:ey,onTouchMoveCapture:ey}),i=a[0],o=a[1],c=t.forwardProps,d=t.children,h=t.className,m=t.removeScrollBar,p=t.enabled,g=t.shards,v=t.sideCar,y=t.noIsolation,w=t.inert,j=t.allowPinchZoom,S=t.as,k=S===void 0?"div":S,E=t.gapMode,A=KT(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=v,_=Mz([n,e]),M=ui(ui({},A),i);return x.createElement(x.Fragment,null,p&&x.createElement(T,{sideCar:XT,removeScrollBar:m,shards:g,noIsolation:y,inert:w,setCallbacks:o,allowPinchZoom:!!j,lockRef:n,gapMode:E}),c?x.cloneElement(x.Children.only(d),ui(ui({},M),{ref:_})):x.createElement(k,ui({},M,{className:h,ref:_}),d))});Wg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wg.classNames={fullWidth:Kp,zeroRight:Gp};var Bz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Bz();return e&&t.setAttribute("nonce",e),t}function Uz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function $z(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Fz=function(){var t=0,e=null;return{add:function(n){t==0&&(e=zz())&&(Uz(e,n),$z(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Vz=function(){var t=Fz();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},WT=function(){var t=Vz(),e=function(n){var a=n.styles,i=n.dynamic;return t(a,i),null};return e},qz={left:0,top:0,right:0,gap:0},ty=function(t){return parseInt(t||"",10)||0},Hz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],a=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[ty(n),ty(a),ty(i)]},Gz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return qz;var e=Hz(t),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,a-n+e[2]-e[0])}},Kz=WT(),Id="data-scroll-locked",Yz=function(t,e,n,a){var i=t.left,o=t.top,c=t.right,d=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Tz,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(d,"px ").concat(a,`;
  }
  body[`).concat(Id,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gp,` {
    right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Kp,` {
    margin-right: `).concat(d,"px ").concat(a,`;
  }
  
  .`).concat(Gp," .").concat(Gp,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Kp," .").concat(Kp,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Id,`] {
    `).concat(_z,": ").concat(d,`px;
  }
`)},kE=function(){var t=parseInt(document.body.getAttribute(Id)||"0",10);return isFinite(t)?t:0},Xz=function(){x.useEffect(function(){return document.body.setAttribute(Id,(kE()+1).toString()),function(){var t=kE()-1;t<=0?document.body.removeAttribute(Id):document.body.setAttribute(Id,t.toString())}},[])},Wz=function(t){var e=t.noRelative,n=t.noImportant,a=t.gapMode,i=a===void 0?"margin":a;Xz();var o=x.useMemo(function(){return Gz(i)},[i]);return x.createElement(Kz,{styles:Yz(o,!e,i,n?"":"!important")})},Jy=!1;if(typeof window<"u")try{var gp=Object.defineProperty({},"passive",{get:function(){return Jy=!0,!0}});window.addEventListener("test",gp,gp),window.removeEventListener("test",gp,gp)}catch{Jy=!1}var ud=Jy?{passive:!1}:!1,Zz=function(t){return t.tagName==="TEXTAREA"},ZT=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Zz(t)&&n[e]==="visible")},Qz=function(t){return ZT(t,"overflowY")},Jz=function(t){return ZT(t,"overflowX")},EE=function(t,e){var n=e.ownerDocument,a=e;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var i=QT(t,a);if(i){var o=JT(t,a),c=o[1],d=o[2];if(c>d)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},e9=function(t){var e=t.scrollTop,n=t.scrollHeight,a=t.clientHeight;return[e,n,a]},t9=function(t){var e=t.scrollLeft,n=t.scrollWidth,a=t.clientWidth;return[e,n,a]},QT=function(t,e){return t==="v"?Qz(e):Jz(e)},JT=function(t,e){return t==="v"?e9(e):t9(e)},n9=function(t,e){return t==="h"&&e==="rtl"?-1:1},s9=function(t,e,n,a,i){var o=n9(t,window.getComputedStyle(e).direction),c=o*a,d=n.target,h=e.contains(d),m=!1,p=c>0,g=0,v=0;do{var y=JT(t,d),w=y[0],j=y[1],S=y[2],k=j-S-o*w;(w||k)&&QT(t,d)&&(g+=k,v+=w),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!h&&d!==document.body||h&&(e.contains(d)||e===d));return(p&&Math.abs(g)<1||!p&&Math.abs(v)<1)&&(m=!0),m},xp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},AE=function(t){return[t.deltaX,t.deltaY]},CE=function(t){return t&&"current"in t?t.current:t},a9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},r9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},i9=0,hd=[];function o9(t){var e=x.useRef([]),n=x.useRef([0,0]),a=x.useRef(),i=x.useState(i9++)[0],o=x.useState(WT)[0],c=x.useRef(t);x.useEffect(function(){c.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var j=Cz([t.lockRef.current],(t.shards||[]).map(CE),!0).filter(Boolean);return j.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),j.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var d=x.useCallback(function(j,S){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!c.current.allowPinchZoom;var k=xp(j),E=n.current,A="deltaX"in j?j.deltaX:E[0]-k[0],T="deltaY"in j?j.deltaY:E[1]-k[1],_,M=j.target,P=Math.abs(A)>Math.abs(T)?"h":"v";if("touches"in j&&P==="h"&&M.type==="range")return!1;var O=EE(P,M);if(!O)return!0;if(O?_=P:(_=P==="v"?"h":"v",O=EE(P,M)),!O)return!1;if(!a.current&&"changedTouches"in j&&(A||T)&&(a.current=_),!_)return!0;var I=a.current||_;return s9(I,S,j,I==="h"?A:T)},[]),h=x.useCallback(function(j){var S=j;if(!(!hd.length||hd[hd.length-1]!==o)){var k="deltaY"in S?AE(S):xp(S),E=e.current.filter(function(_){return _.name===S.type&&(_.target===S.target||S.target===_.shadowParent)&&a9(_.delta,k)})[0];if(E&&E.should){S.cancelable&&S.preventDefault();return}if(!E){var A=(c.current.shards||[]).map(CE).filter(Boolean).filter(function(_){return _.contains(S.target)}),T=A.length>0?d(S,A[0]):!c.current.noIsolation;T&&S.cancelable&&S.preventDefault()}}},[]),m=x.useCallback(function(j,S,k,E){var A={name:j,delta:S,target:k,should:E,shadowParent:l9(k)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(T){return T!==A})},1)},[]),p=x.useCallback(function(j){n.current=xp(j),a.current=void 0},[]),g=x.useCallback(function(j){m(j.type,AE(j),j.target,d(j,t.lockRef.current))},[]),v=x.useCallback(function(j){m(j.type,xp(j),j.target,d(j,t.lockRef.current))},[]);x.useEffect(function(){return hd.push(o),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",h,ud),document.addEventListener("touchmove",h,ud),document.addEventListener("touchstart",p,ud),function(){hd=hd.filter(function(j){return j!==o}),document.removeEventListener("wheel",h,ud),document.removeEventListener("touchmove",h,ud),document.removeEventListener("touchstart",p,ud)}},[]);var y=t.removeScrollBar,w=t.inert;return x.createElement(x.Fragment,null,w?x.createElement(o,{styles:r9(i)}):null,y?x.createElement(Wz,{gapMode:t.gapMode}):null)}function l9(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const c9=Iz(XT,o9);var If=x.forwardRef(function(t,e){return x.createElement(Wg,ui({},t,{ref:e,sideCar:c9}))});If.classNames=Wg.classNames;var d9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},fd=new WeakMap,vp=new WeakMap,bp={},ny=0,e_=function(t){return t&&(t.host||e_(t.parentNode))},u9=function(t,e){return e.map(function(n){if(t.contains(n))return n;var a=e_(n);return a&&t.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},h9=function(t,e,n,a){var i=u9(e,Array.isArray(t)?t:[t]);bp[n]||(bp[n]=new WeakMap);var o=bp[n],c=[],d=new Set,h=new Set(i),m=function(g){!g||d.has(g)||(d.add(g),m(g.parentNode))};i.forEach(m);var p=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(v){if(d.has(v))p(v);else try{var y=v.getAttribute(a),w=y!==null&&y!=="false",j=(fd.get(v)||0)+1,S=(o.get(v)||0)+1;fd.set(v,j),o.set(v,S),c.push(v),j===1&&w&&vp.set(v,!0),S===1&&v.setAttribute(n,"true"),w||v.setAttribute(a,"true")}catch(k){console.error("aria-hidden: cannot operate on ",v,k)}})};return p(e),d.clear(),ny++,function(){c.forEach(function(g){var v=fd.get(g)-1,y=o.get(g)-1;fd.set(g,v),o.set(g,y),v||(vp.has(g)||g.removeAttribute(a),vp.delete(g)),y||g.removeAttribute(n)}),ny--,ny||(fd=new WeakMap,fd=new WeakMap,vp=new WeakMap,bp={})}},Zg=function(t,e,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),i=d9(t);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live]"))),h9(a,i,n,"aria-hidden")):function(){return null}},Qg="Dialog",[t_,n_]=Qs(Qg),[f9,qr]=t_(Qg),s_=t=>{const{__scopeDialog:e,children:n,open:a,defaultOpen:i,onOpenChange:o,modal:c=!0}=t,d=x.useRef(null),h=x.useRef(null),[m,p]=Ur({prop:a,defaultProp:i??!1,onChange:o,caller:Qg});return s.jsx(f9,{scope:e,triggerRef:d,contentRef:h,contentId:hs(),titleId:hs(),descriptionId:hs(),open:m,onOpenChange:p,onOpenToggle:x.useCallback(()=>p(g=>!g),[p]),modal:c,children:n})};s_.displayName=Qg;var a_="DialogTrigger",r_=x.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=qr(a_,n),o=ht(e,i.triggerRef);return s.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Lj(i.open),...a,ref:o,onClick:_e(t.onClick,i.onOpenToggle)})});r_.displayName=a_;var Pj="DialogPortal",[m9,i_]=t_(Pj,{forceMount:void 0}),o_=t=>{const{__scopeDialog:e,forceMount:n,children:a,container:i}=t,o=qr(Pj,e);return s.jsx(m9,{scope:e,forceMount:n,children:x.Children.map(a,c=>s.jsx(Bn,{present:n||o.open,children:s.jsx(cu,{asChild:!0,container:i,children:c})}))})};o_.displayName=Pj;var dg="DialogOverlay",l_=x.forwardRef((t,e)=>{const n=i_(dg,t.__scopeDialog),{forceMount:a=n.forceMount,...i}=t,o=qr(dg,t.__scopeDialog);return o.modal?s.jsx(Bn,{present:a||o.open,children:s.jsx(g9,{...i,ref:e})}):null});l_.displayName=dg;var p9=nl("DialogOverlay.RemoveScroll"),g9=x.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=qr(dg,n);return s.jsx(If,{as:p9,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(ze.div,{"data-state":Lj(i.open),...a,ref:e,style:{pointerEvents:"auto",...a.style}})})}),ac="DialogContent",c_=x.forwardRef((t,e)=>{const n=i_(ac,t.__scopeDialog),{forceMount:a=n.forceMount,...i}=t,o=qr(ac,t.__scopeDialog);return s.jsx(Bn,{present:a||o.open,children:o.modal?s.jsx(x9,{...i,ref:e}):s.jsx(v9,{...i,ref:e})})});c_.displayName=ac;var x9=x.forwardRef((t,e)=>{const n=qr(ac,t.__scopeDialog),a=x.useRef(null),i=ht(e,n.contentRef,a);return x.useEffect(()=>{const o=a.current;if(o)return Zg(o)},[]),s.jsx(d_,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(t.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:_e(t.onPointerDownOutside,o=>{const c=o.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0;(c.button===2||d)&&o.preventDefault()}),onFocusOutside:_e(t.onFocusOutside,o=>o.preventDefault())})}),v9=x.forwardRef((t,e)=>{const n=qr(ac,t.__scopeDialog),a=x.useRef(!1),i=x.useRef(!1);return s.jsx(d_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=t.onCloseAutoFocus)==null||c.call(t,o),o.defaultPrevented||(a.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:o=>{var h,m;(h=t.onInteractOutside)==null||h.call(t,o),o.defaultPrevented||(a.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((m=n.triggerRef.current)==null?void 0:m.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),d_=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,...c}=t,d=qr(ac,n),h=x.useRef(null),m=ht(e,h);return Xg(),s.jsxs(s.Fragment,{children:[s.jsx(Lf,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:o,children:s.jsx(mc,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Lj(d.open),...c,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(y9,{titleId:d.titleId}),s.jsx(w9,{contentRef:h,descriptionId:d.descriptionId})]})]})}),Oj="DialogTitle",u_=x.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=qr(Oj,n);return s.jsx(ze.h2,{id:i.titleId,...a,ref:e})});u_.displayName=Oj;var h_="DialogDescription",f_=x.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=qr(h_,n);return s.jsx(ze.p,{id:i.descriptionId,...a,ref:e})});f_.displayName=h_;var m_="DialogClose",p_=x.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=qr(m_,n);return s.jsx(ze.button,{type:"button",...a,ref:e,onClick:_e(t.onClick,()=>i.onOpenChange(!1))})});p_.displayName=m_;function Lj(t){return t?"open":"closed"}var g_="DialogTitleWarning",[b9,x_]=U6(g_,{contentName:ac,titleName:Oj,docsSlug:"dialog"}),y9=({titleId:t})=>{const e=x_(g_),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},j9="DialogDescriptionWarning",w9=({contentRef:t,descriptionId:e})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${x_(j9).contentName}}.`;return x.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(a))},[a,t,e]),null},Jg=s_,Ij=r_,ex=o_,tx=l_,nx=c_,Bj=u_,zj=f_,sx=p_;/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v_=(...t)=>t.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:i="",children:o,iconNode:c,...d},h)=>x.createElement("svg",{ref:h,...S9,width:e,height:e,stroke:t,strokeWidth:a?Number(n)*24/Number(e):n,className:v_("lucide",i),...d},[...c.map(([m,p])=>x.createElement(m,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=(t,e)=>{const n=x.forwardRef(({className:a,...i},o)=>x.createElement(k9,{ref:o,iconNode:e,className:v_(`lucide-${N9(t)}`,a),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],A9=Hr("ArrowLeft",E9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],T9=Hr("ArrowRight",C9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ax=Hr("Check",_9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],b_=Hr("ChevronDown",R9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],y_=Hr("ChevronRight",D9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],P9=Hr("ChevronUp",M9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],L9=Hr("ChevronsUpDown",O9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],B9=Hr("Circle",I9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],TE=Hr("LoaderCircle",z9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],$9=Hr("Search",U9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],j_=Hr("X",F9);function w_({...t}){return s.jsx(Jg,{"data-slot":"sheet",...t})}function V9({...t}){return s.jsx(Ij,{"data-slot":"sheet-trigger",...t})}function q9({...t}){return s.jsx(ex,{"data-slot":"sheet-portal",...t})}function H9({className:t,...e}){return s.jsx(tx,{"data-slot":"sheet-overlay",className:ge("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function N_({className:t,children:e,side:n="right",...a}){return s.jsxs(q9,{children:[s.jsx(H9,{}),s.jsxs(nx,{"data-slot":"sheet-content",className:ge("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...a,children:[e,s.jsxs(sx,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[s.jsx(j_,{className:"size-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function S_({className:t,...e}){return s.jsx("div",{"data-slot":"sheet-header",className:ge("flex flex-col gap-1.5 p-4",t),...e})}function k_({className:t,...e}){return s.jsx(Bj,{"data-slot":"sheet-title",className:ge("text-foreground font-semibold",t),...e})}function E_({className:t,...e}){return s.jsx(zj,{"data-slot":"sheet-description",className:ge("text-muted-foreground text-sm",t),...e})}function Uj(){return x.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[])}var G9=x.createContext(void 0);function Bf(t){const e=x.useContext(G9);return t||e||"ltr"}function e0(t,[e,n]){return Math.min(n,Math.max(e,t))}function K9(t,e){return x.useReducer((n,a)=>e[n][a]??n,t)}var $j="ScrollArea",[A_,fle]=Qs($j),[Y9,pr]=A_($j),C_=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:a="hover",dir:i,scrollHideDelay:o=600,...c}=t,[d,h]=x.useState(null),[m,p]=x.useState(null),[g,v]=x.useState(null),[y,w]=x.useState(null),[j,S]=x.useState(null),[k,E]=x.useState(0),[A,T]=x.useState(0),[_,M]=x.useState(!1),[P,O]=x.useState(!1),I=ht(e,R=>h(R)),G=Bf(i);return s.jsx(Y9,{scope:n,type:a,dir:G,scrollHideDelay:o,scrollArea:d,viewport:m,onViewportChange:p,content:g,onContentChange:v,scrollbarX:y,onScrollbarXChange:w,scrollbarXEnabled:_,onScrollbarXEnabledChange:M,scrollbarY:j,onScrollbarYChange:S,scrollbarYEnabled:P,onScrollbarYEnabledChange:O,onCornerWidthChange:E,onCornerHeightChange:T,children:s.jsx(ze.div,{dir:G,...c,ref:I,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":A+"px",...t.style}})})});C_.displayName=$j;var T_="ScrollAreaViewport",__=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:a,nonce:i,...o}=t,c=pr(T_,n),d=x.useRef(null),h=ht(e,d,c.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),s.jsx(ze.div,{"data-radix-scroll-area-viewport":"",...o,ref:h,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...t.style},children:s.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});__.displayName=T_;var Ci="ScrollAreaScrollbar",R_=x.forwardRef((t,e)=>{const{forceMount:n,...a}=t,i=pr(Ci,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:c}=i,d=t.orientation==="horizontal";return x.useEffect(()=>(d?o(!0):c(!0),()=>{d?o(!1):c(!1)}),[d,o,c]),i.type==="hover"?s.jsx(X9,{...a,ref:e,forceMount:n}):i.type==="scroll"?s.jsx(W9,{...a,ref:e,forceMount:n}):i.type==="auto"?s.jsx(D_,{...a,ref:e,forceMount:n}):i.type==="always"?s.jsx(Fj,{...a,ref:e}):null});R_.displayName=Ci;var X9=x.forwardRef((t,e)=>{const{forceMount:n,...a}=t,i=pr(Ci,t.__scopeScrollArea),[o,c]=x.useState(!1);return x.useEffect(()=>{const d=i.scrollArea;let h=0;if(d){const m=()=>{window.clearTimeout(h),c(!0)},p=()=>{h=window.setTimeout(()=>c(!1),i.scrollHideDelay)};return d.addEventListener("pointerenter",m),d.addEventListener("pointerleave",p),()=>{window.clearTimeout(h),d.removeEventListener("pointerenter",m),d.removeEventListener("pointerleave",p)}}},[i.scrollArea,i.scrollHideDelay]),s.jsx(Bn,{present:n||o,children:s.jsx(D_,{"data-state":o?"visible":"hidden",...a,ref:e})})}),W9=x.forwardRef((t,e)=>{const{forceMount:n,...a}=t,i=pr(Ci,t.__scopeScrollArea),o=t.orientation==="horizontal",c=ix(()=>h("SCROLL_END"),100),[d,h]=K9("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(d==="idle"){const m=window.setTimeout(()=>h("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(m)}},[d,i.scrollHideDelay,h]),x.useEffect(()=>{const m=i.viewport,p=o?"scrollLeft":"scrollTop";if(m){let g=m[p];const v=()=>{const y=m[p];g!==y&&(h("SCROLL"),c()),g=y};return m.addEventListener("scroll",v),()=>m.removeEventListener("scroll",v)}},[i.viewport,o,h,c]),s.jsx(Bn,{present:n||d!=="hidden",children:s.jsx(Fj,{"data-state":d==="hidden"?"hidden":"visible",...a,ref:e,onPointerEnter:_e(t.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:_e(t.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),D_=x.forwardRef((t,e)=>{const n=pr(Ci,t.__scopeScrollArea),{forceMount:a,...i}=t,[o,c]=x.useState(!1),d=t.orientation==="horizontal",h=ix(()=>{if(n.viewport){const m=n.viewport.offsetWidth<n.viewport.scrollWidth,p=n.viewport.offsetHeight<n.viewport.scrollHeight;c(d?m:p)}},10);return Kd(n.viewport,h),Kd(n.content,h),s.jsx(Bn,{present:a||o,children:s.jsx(Fj,{"data-state":o?"visible":"hidden",...i,ref:e})})}),Fj=x.forwardRef((t,e)=>{const{orientation:n="vertical",...a}=t,i=pr(Ci,t.__scopeScrollArea),o=x.useRef(null),c=x.useRef(0),[d,h]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=I_(d.viewport,d.content),p={...a,sizes:d,onSizesChange:h,hasThumb:m>0&&m<1,onThumbChange:v=>o.current=v,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:v=>c.current=v};function g(v,y){return nU(v,c.current,d,y)}return n==="horizontal"?s.jsx(Z9,{...p,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const v=i.viewport.scrollLeft,y=_E(v,d,i.dir);o.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:v=>{i.viewport&&(i.viewport.scrollLeft=v)},onDragScroll:v=>{i.viewport&&(i.viewport.scrollLeft=g(v,i.dir))}}):n==="vertical"?s.jsx(Q9,{...p,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const v=i.viewport.scrollTop,y=_E(v,d);o.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:v=>{i.viewport&&(i.viewport.scrollTop=v)},onDragScroll:v=>{i.viewport&&(i.viewport.scrollTop=g(v))}}):null}),Z9=x.forwardRef((t,e)=>{const{sizes:n,onSizesChange:a,...i}=t,o=pr(Ci,t.__scopeScrollArea),[c,d]=x.useState(),h=x.useRef(null),m=ht(e,h,o.onScrollbarXChange);return x.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),s.jsx(P_,{"data-orientation":"horizontal",...i,ref:m,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":rx(n)+"px",...t.style},onThumbPointerDown:p=>t.onThumbPointerDown(p.x),onDragScroll:p=>t.onDragScroll(p.x),onWheelScroll:(p,g)=>{if(o.viewport){const v=o.viewport.scrollLeft+p.deltaX;t.onWheelScroll(v),z_(v,g)&&p.preventDefault()}},onResize:()=>{h.current&&o.viewport&&c&&a({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:hg(c.paddingLeft),paddingEnd:hg(c.paddingRight)}})}})}),Q9=x.forwardRef((t,e)=>{const{sizes:n,onSizesChange:a,...i}=t,o=pr(Ci,t.__scopeScrollArea),[c,d]=x.useState(),h=x.useRef(null),m=ht(e,h,o.onScrollbarYChange);return x.useEffect(()=>{h.current&&d(getComputedStyle(h.current))},[h]),s.jsx(P_,{"data-orientation":"vertical",...i,ref:m,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":rx(n)+"px",...t.style},onThumbPointerDown:p=>t.onThumbPointerDown(p.y),onDragScroll:p=>t.onDragScroll(p.y),onWheelScroll:(p,g)=>{if(o.viewport){const v=o.viewport.scrollTop+p.deltaY;t.onWheelScroll(v),z_(v,g)&&p.preventDefault()}},onResize:()=>{h.current&&o.viewport&&c&&a({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:hg(c.paddingTop),paddingEnd:hg(c.paddingBottom)}})}})}),[J9,M_]=A_(Ci),P_=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:a,hasThumb:i,onThumbChange:o,onThumbPointerUp:c,onThumbPointerDown:d,onThumbPositionChange:h,onDragScroll:m,onWheelScroll:p,onResize:g,...v}=t,y=pr(Ci,n),[w,j]=x.useState(null),S=ht(e,I=>j(I)),k=x.useRef(null),E=x.useRef(""),A=y.viewport,T=a.content-a.viewport,_=bn(p),M=bn(h),P=ix(g,10);function O(I){if(k.current){const G=I.clientX-k.current.left,R=I.clientY-k.current.top;m({x:G,y:R})}}return x.useEffect(()=>{const I=G=>{const R=G.target;(w==null?void 0:w.contains(R))&&_(G,T)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[A,w,T,_]),x.useEffect(M,[a,M]),Kd(w,P),Kd(y.content,P),s.jsx(J9,{scope:n,scrollbar:w,hasThumb:i,onThumbChange:bn(o),onThumbPointerUp:bn(c),onThumbPositionChange:M,onThumbPointerDown:bn(d),children:s.jsx(ze.div,{...v,ref:S,style:{position:"absolute",...v.style},onPointerDown:_e(t.onPointerDown,I=>{I.button===0&&(I.target.setPointerCapture(I.pointerId),k.current=w.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),O(I))}),onPointerMove:_e(t.onPointerMove,O),onPointerUp:_e(t.onPointerUp,I=>{const G=I.target;G.hasPointerCapture(I.pointerId)&&G.releasePointerCapture(I.pointerId),document.body.style.webkitUserSelect=E.current,y.viewport&&(y.viewport.style.scrollBehavior=""),k.current=null})})})}),ug="ScrollAreaThumb",O_=x.forwardRef((t,e)=>{const{forceMount:n,...a}=t,i=M_(ug,t.__scopeScrollArea);return s.jsx(Bn,{present:n||i.hasThumb,children:s.jsx(eU,{ref:e,...a})})}),eU=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:a,...i}=t,o=pr(ug,n),c=M_(ug,n),{onThumbPositionChange:d}=c,h=ht(e,g=>c.onThumbChange(g)),m=x.useRef(void 0),p=ix(()=>{m.current&&(m.current(),m.current=void 0)},100);return x.useEffect(()=>{const g=o.viewport;if(g){const v=()=>{if(p(),!m.current){const y=sU(g,d);m.current=y,d()}};return d(),g.addEventListener("scroll",v),()=>g.removeEventListener("scroll",v)}},[o.viewport,p,d]),s.jsx(ze.div,{"data-state":c.hasThumb?"visible":"hidden",...i,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:_e(t.onPointerDownCapture,g=>{const y=g.target.getBoundingClientRect(),w=g.clientX-y.left,j=g.clientY-y.top;c.onThumbPointerDown({x:w,y:j})}),onPointerUp:_e(t.onPointerUp,c.onThumbPointerUp)})});O_.displayName=ug;var Vj="ScrollAreaCorner",L_=x.forwardRef((t,e)=>{const n=pr(Vj,t.__scopeScrollArea),a=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&a?s.jsx(tU,{...t,ref:e}):null});L_.displayName=Vj;var tU=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,...a}=t,i=pr(Vj,n),[o,c]=x.useState(0),[d,h]=x.useState(0),m=!!(o&&d);return Kd(i.scrollbarX,()=>{var g;const p=((g=i.scrollbarX)==null?void 0:g.offsetHeight)||0;i.onCornerHeightChange(p),h(p)}),Kd(i.scrollbarY,()=>{var g;const p=((g=i.scrollbarY)==null?void 0:g.offsetWidth)||0;i.onCornerWidthChange(p),c(p)}),m?s.jsx(ze.div,{...a,ref:e,style:{width:o,height:d,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function hg(t){return t?parseInt(t,10):0}function I_(t,e){const n=t/e;return isNaN(n)?0:n}function rx(t){const e=I_(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=(t.scrollbar.size-n)*e;return Math.max(a,18)}function nU(t,e,n,a="ltr"){const i=rx(n),o=i/2,c=e||o,d=i-c,h=n.scrollbar.paddingStart+c,m=n.scrollbar.size-n.scrollbar.paddingEnd-d,p=n.content-n.viewport,g=a==="ltr"?[0,p]:[p*-1,0];return B_([h,m],g)(t)}function _E(t,e,n="ltr"){const a=rx(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,c=e.content-e.viewport,d=o-a,h=n==="ltr"?[0,c]:[c*-1,0],m=e0(t,h);return B_([0,c],[0,d])(m)}function B_(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const a=(e[1]-e[0])/(t[1]-t[0]);return e[0]+a*(n-t[0])}}function z_(t,e){return t>0&&t<e}var sU=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},a=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},c=n.left!==o.left,d=n.top!==o.top;(c||d)&&e(),n=o,a=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(a)};function ix(t,e){const n=bn(t),a=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(a.current),[]),x.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(n,e)},[n,e])}function Kd(t,e){const n=bn(e);wn(()=>{let a=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(a),i.unobserve(t)}}},[t,n])}var aU=C_,rU=__,iU=L_;function U_({className:t,children:e,...n}){return s.jsxs(aU,{"data-slot":"scroll-area",className:ge("relative",t),...n,children:[s.jsx(rU,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),s.jsx(qj,{}),s.jsx(iU,{})]})}function qj({className:t,orientation:e="vertical",...n}){return s.jsx(R_,{"data-slot":"scroll-area-scrollbar",orientation:e,className:ge("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:s.jsx(O_,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const RE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,DE=UC,ox=(t,e)=>n=>{var a;if((e==null?void 0:e.variants)==null)return DE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,c=Object.keys(i).map(m=>{const p=n==null?void 0:n[m],g=o==null?void 0:o[m];if(p===null)return null;const v=RE(p)||RE(g);return i[m][v]}),d=n&&Object.entries(n).reduce((m,p)=>{let[g,v]=p;return v===void 0||(m[g]=v),m},{}),h=e==null||(a=e.compoundVariants)===null||a===void 0?void 0:a.reduce((m,p)=>{let{class:g,className:v,...y}=p;return Object.entries(y).every(w=>{let[j,S]=w;return Array.isArray(S)?S.includes({...o,...d}[j]):{...o,...d}[j]===S})?[...m,g,v]:m},[]);return DE(t,c,h,n==null?void 0:n.class,n==null?void 0:n.className)},Hj=ox("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function pe({className:t,variant:e,size:n,asChild:a=!1,...i}){const o=a?vj:"button";return s.jsx(o,{"data-slot":"button",className:ge(Hj({variant:e,size:n,className:t})),...i})}/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lU=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase()),ME=t=>{const e=lU(t);return e.charAt(0).toUpperCase()+e.slice(1)},$_=(...t)=>t.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:i="",children:o,iconNode:c,...d},h)=>x.createElement("svg",{ref:h,...cU,width:e,height:e,stroke:t,strokeWidth:a?Number(n)*24/Number(e):n,className:$_("lucide",i),...d},[...c.map(([m,p])=>x.createElement(m,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(t,e)=>{const n=x.forwardRef(({className:a,...i},o)=>x.createElement(dU,{ref:o,iconNode:e,className:$_(`lucide-${oU(ME(t))}`,`lucide-${t}`,a),...i}));return n.displayName=ME(t),n};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],hU=tt("archive",uU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],il=tt("arrow-left",fU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],rc=tt("arrow-right",mU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ol=tt("book-open",pU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],af=tt("building-2",gU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],ll=tt("building",xU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Fa=tt("calendar",vU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],yU=tt("camera",bU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Bd=tt("chart-column",jU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],F_=tt("check",wU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],lx=tt("chevron-down",NU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Gj=tt("chevron-left",SU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Kj=tt("chevron-right",kU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],AU=tt("chevron-up",EU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ji=tt("circle-check-big",CU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],V_=tt("circle-x",TU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],sy=tt("clipboard-check",_U);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Yj=tt("clock",RU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],rf=tt("download",DU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],eo=tt("eye-off",MU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ys=tt("eye",PU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],va=tt("file-text",OU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],md=tt("file",LU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["rect",{width:"10",height:"8",x:"7",y:"8",rx:"1",key:"vys8me"}]],q_=tt("fullscreen",IU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Xj=tt("funnel",BU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Yd=tt("graduation-cap",zU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],H_=tt("grip-vertical",UU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],FU=tt("house",$U);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]],qU=tt("id-card",VU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],G_=tt("image",HU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ua=tt("loader-circle",GU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],K_=tt("lock",KU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],XU=tt("log-out",YU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],ic=tt("mail",WU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],cx=tt("map-pin",ZU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Y_=tt("menu",QU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],X_=tt("message-square",JU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["path",{d:"M5 12h14",key:"1ays0h"}]],t7=tt("minus",e7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],s7=tt("newspaper",n7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],W_=tt("phone",a7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ls=tt("plus",r7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Z_=tt("rotate-ccw",i7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Wj=tt("search",o7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],t0=tt("send",l7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],d7=tt("settings",c7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],h7=tt("share-2",u7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],m7=tt("shield",f7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Wo=tt("square-pen",p7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],x7=tt("star",g7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Yp=tt("target",v7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],fg=tt("trash-2",b7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],j7=tt("trending-down",y7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Q_=tt("trending-up",w7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],of=tt("upload",N7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],k7=tt("user-check",S7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],cl=tt("user",E7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],ds=tt("users",A7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mg=tt("x",C7);function Oa({children:t,onClick:e,...n}){const a=Uj(),i=o=>{a(),e&&e(o)};return s.jsx(ra,{...n,onClick:i,children:t})}const Ws="/assets/logo-sOkcouLR.png";function T7({collapsed:t,onToggleCollapse:e}){return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:ge("flex h-14 lg:h-16 items-center flex-shrink-0",t?"px-2 lg:px-3 justify-center":"px-4 lg:px-6 justify-between"),children:[s.jsx(Oa,{to:"/dashboard",className:ge("flex items-center",t?"justify-center":"space-x-2"),children:s.jsx("img",{src:Ws,className:ge("transition-all duration-300 object-contain",t?"w-8 h-8":"w-10 h-10 lg:w-12 lg:h-12"),alt:"logo okoce"})}),!t&&s.jsx(pe,{variant:"ghost",size:"sm",className:"hidden lg:flex h-8 w-8 p-0 flex-shrink-0",onClick:e,title:"Collapse sidebar",children:s.jsx(Gj,{className:"h-4 w-4"})})]}),t&&s.jsx("div",{className:"flex justify-center px-3 py-2  flex-shrink-0",children:s.jsx(pe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:e,title:"Expand sidebar",children:s.jsx(Kj,{className:"h-4 w-4"})})})]})}var ay={exports:{}},ry={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function _7(){if(PE)return ry;PE=1;var t=zC();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:e,a=t.useState,i=t.useEffect,o=t.useLayoutEffect,c=t.useDebugValue;function d(g,v){var y=v(),w=a({inst:{value:y,getSnapshot:v}}),j=w[0].inst,S=w[1];return o(function(){j.value=y,j.getSnapshot=v,h(j)&&S({inst:j})},[g,y,v]),i(function(){return h(j)&&S({inst:j}),g(function(){h(j)&&S({inst:j})})},[g]),c(y),y}function h(g){var v=g.getSnapshot;g=g.value;try{var y=v();return!n(g,y)}catch{return!0}}function m(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return ry.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,ry}var OE;function R7(){return OE||(OE=1,ay.exports=_7()),ay.exports}var D7=R7();function M7(){return D7.useSyncExternalStore(P7,()=>!0,()=>!1)}function P7(){return()=>{}}var Zj="Avatar",[O7,mle]=Qs(Zj),[L7,J_]=O7(Zj),eR=x.forwardRef((t,e)=>{const{__scopeAvatar:n,...a}=t,[i,o]=x.useState("idle");return s.jsx(L7,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:s.jsx(ze.span,{...a,ref:e})})});eR.displayName=Zj;var tR="AvatarImage",nR=x.forwardRef((t,e)=>{const{__scopeAvatar:n,src:a,onLoadingStatusChange:i=()=>{},...o}=t,c=J_(tR,n),d=I7(a,o),h=bn(m=>{i(m),c.onImageLoadingStatusChange(m)});return wn(()=>{d!=="idle"&&h(d)},[d,h]),d==="loaded"?s.jsx(ze.img,{...o,ref:e,src:a}):null});nR.displayName=tR;var sR="AvatarFallback",aR=x.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:a,...i}=t,o=J_(sR,n),[c,d]=x.useState(a===void 0);return x.useEffect(()=>{if(a!==void 0){const h=window.setTimeout(()=>d(!0),a);return()=>window.clearTimeout(h)}},[a]),c&&o.imageLoadingStatus!=="loaded"?s.jsx(ze.span,{...i,ref:e}):null});aR.displayName=sR;function LE(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function I7(t,{referrerPolicy:e,crossOrigin:n}){const a=M7(),i=x.useRef(null),o=a?(i.current||(i.current=new window.Image),i.current):null,[c,d]=x.useState(()=>LE(o,t));return wn(()=>{d(LE(o,t))},[o,t]),wn(()=>{const h=g=>()=>{d(g)};if(!o)return;const m=h("loaded"),p=h("error");return o.addEventListener("load",m),o.addEventListener("error",p),e&&(o.referrerPolicy=e),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",m),o.removeEventListener("error",p)}},[o,n,e]),c}var rR=eR,iR=nR,oR=aR;const zf=x.forwardRef(({className:t,...e},n)=>s.jsx(rR,{ref:n,className:ge("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));zf.displayName=rR.displayName;const lf=x.forwardRef(({className:t,...e},n)=>s.jsx(iR,{ref:n,className:ge("aspect-square h-full w-full",t),...e}));lf.displayName=iR.displayName;const Uf=x.forwardRef(({className:t,...e},n)=>s.jsx(oR,{ref:n,className:ge("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Uf.displayName=oR.displayName;function $f(t){const e=t+"CollectionProvider",[n,a]=Qs(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=j=>{const{scope:S,children:k}=j,E=ve.useRef(null),A=ve.useRef(new Map).current;return s.jsx(i,{scope:S,itemMap:A,collectionRef:E,children:k})};c.displayName=e;const d=t+"CollectionSlot",h=nl(d),m=ve.forwardRef((j,S)=>{const{scope:k,children:E}=j,A=o(d,k),T=ht(S,A.collectionRef);return s.jsx(h,{ref:T,children:E})});m.displayName=d;const p=t+"CollectionItemSlot",g="data-radix-collection-item",v=nl(p),y=ve.forwardRef((j,S)=>{const{scope:k,children:E,...A}=j,T=ve.useRef(null),_=ht(S,T),M=o(p,k);return ve.useEffect(()=>(M.itemMap.set(T,{ref:T,...A}),()=>void M.itemMap.delete(T))),s.jsx(v,{[g]:"",ref:_,children:E})});y.displayName=p;function w(j){const S=o(t+"CollectionConsumer",j);return ve.useCallback(()=>{const E=S.collectionRef.current;if(!E)return[];const A=Array.from(E.querySelectorAll(`[${g}]`));return Array.from(S.itemMap.values()).sort((M,P)=>A.indexOf(M.ref.current)-A.indexOf(P.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:c,Slot:m,ItemSlot:y},w,a]}var iy="rovingFocusGroup.onEntryFocus",B7={bubbles:!1,cancelable:!0},Ff="RovingFocusGroup",[n0,lR,z7]=$f(Ff),[U7,cR]=Qs(Ff,[z7]),[$7,F7]=U7(Ff),dR=x.forwardRef((t,e)=>s.jsx(n0.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(n0.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(V7,{...t,ref:e})})}));dR.displayName=Ff;var V7=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:i=!1,dir:o,currentTabStopId:c,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:h,onEntryFocus:m,preventScrollOnEntryFocus:p=!1,...g}=t,v=x.useRef(null),y=ht(e,v),w=Bf(o),[j,S]=Ur({prop:c,defaultProp:d??null,onChange:h,caller:Ff}),[k,E]=x.useState(!1),A=bn(m),T=lR(n),_=x.useRef(!1),[M,P]=x.useState(0);return x.useEffect(()=>{const O=v.current;if(O)return O.addEventListener(iy,A),()=>O.removeEventListener(iy,A)},[A]),s.jsx($7,{scope:n,orientation:a,dir:w,loop:i,currentTabStopId:j,onItemFocus:x.useCallback(O=>S(O),[S]),onItemShiftTab:x.useCallback(()=>E(!0),[]),onFocusableItemAdd:x.useCallback(()=>P(O=>O+1),[]),onFocusableItemRemove:x.useCallback(()=>P(O=>O-1),[]),children:s.jsx(ze.div,{tabIndex:k||M===0?-1:0,"data-orientation":a,...g,ref:y,style:{outline:"none",...t.style},onMouseDown:_e(t.onMouseDown,()=>{_.current=!0}),onFocus:_e(t.onFocus,O=>{const I=!_.current;if(O.target===O.currentTarget&&I&&!k){const G=new CustomEvent(iy,B7);if(O.currentTarget.dispatchEvent(G),!G.defaultPrevented){const R=T().filter(L=>L.focusable),X=R.find(L=>L.active),$=R.find(L=>L.id===j),te=[X,$,...R].filter(Boolean).map(L=>L.ref.current);fR(te,p)}}_.current=!1}),onBlur:_e(t.onBlur,()=>E(!1))})})}),uR="RovingFocusGroupItem",hR=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:i=!1,tabStopId:o,children:c,...d}=t,h=hs(),m=o||h,p=F7(uR,n),g=p.currentTabStopId===m,v=lR(n),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:j}=p;return x.useEffect(()=>{if(a)return y(),()=>w()},[a,y,w]),s.jsx(n0.ItemSlot,{scope:n,id:m,focusable:a,active:i,children:s.jsx(ze.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...d,ref:e,onMouseDown:_e(t.onMouseDown,S=>{a?p.onItemFocus(m):S.preventDefault()}),onFocus:_e(t.onFocus,()=>p.onItemFocus(m)),onKeyDown:_e(t.onKeyDown,S=>{if(S.key==="Tab"&&S.shiftKey){p.onItemShiftTab();return}if(S.target!==S.currentTarget)return;const k=G7(S,p.orientation,p.dir);if(k!==void 0){if(S.metaKey||S.ctrlKey||S.altKey||S.shiftKey)return;S.preventDefault();let A=v().filter(T=>T.focusable).map(T=>T.ref.current);if(k==="last")A.reverse();else if(k==="prev"||k==="next"){k==="prev"&&A.reverse();const T=A.indexOf(S.currentTarget);A=p.loop?K7(A,T+1):A.slice(T+1)}setTimeout(()=>fR(A))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:j!=null}):c})})});hR.displayName=uR;var q7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function H7(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function G7(t,e,n){const a=H7(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return q7[a]}function fR(t,e=!1){const n=document.activeElement;for(const a of t)if(a===n||(a.focus({preventScroll:e}),document.activeElement!==n))return}function K7(t,e){return t.map((n,a)=>t[(e+a)%t.length])}var Y7=dR,X7=hR,s0=["Enter"," "],W7=["ArrowDown","PageUp","Home"],mR=["ArrowUp","PageDown","End"],Z7=[...W7,...mR],Q7={ltr:[...s0,"ArrowRight"],rtl:[...s0,"ArrowLeft"]},J7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Vf="Menu",[cf,e$,t$]=$f(Vf),[gc,pR]=Qs(Vf,[t$,gl,cR]),dx=gl(),gR=cR(),[n$,xc]=gc(Vf),[s$,qf]=gc(Vf),xR=t=>{const{__scopeMenu:e,open:n=!1,children:a,dir:i,onOpenChange:o,modal:c=!0}=t,d=dx(e),[h,m]=x.useState(null),p=x.useRef(!1),g=bn(o),v=Bf(i);return x.useEffect(()=>{const y=()=>{p.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>p.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),s.jsx(Tj,{...d,children:s.jsx(n$,{scope:e,open:n,onOpenChange:g,content:h,onContentChange:m,children:s.jsx(s$,{scope:e,onClose:x.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:v,modal:c,children:a})})})};xR.displayName=Vf;var a$="MenuAnchor",Qj=x.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,i=dx(n);return s.jsx(Pf,{...i,...a,ref:e})});Qj.displayName=a$;var Jj="MenuPortal",[r$,vR]=gc(Jj,{forceMount:void 0}),bR=t=>{const{__scopeMenu:e,forceMount:n,children:a,container:i}=t,o=xc(Jj,e);return s.jsx(r$,{scope:e,forceMount:n,children:s.jsx(Bn,{present:n||o.open,children:s.jsx(cu,{asChild:!0,container:i,children:a})})})};bR.displayName=Jj;var hr="MenuContent",[i$,e1]=gc(hr),yR=x.forwardRef((t,e)=>{const n=vR(hr,t.__scopeMenu),{forceMount:a=n.forceMount,...i}=t,o=xc(hr,t.__scopeMenu),c=qf(hr,t.__scopeMenu);return s.jsx(cf.Provider,{scope:t.__scopeMenu,children:s.jsx(Bn,{present:a||o.open,children:s.jsx(cf.Slot,{scope:t.__scopeMenu,children:c.modal?s.jsx(o$,{...i,ref:e}):s.jsx(l$,{...i,ref:e})})})})}),o$=x.forwardRef((t,e)=>{const n=xc(hr,t.__scopeMenu),a=x.useRef(null),i=ht(e,a);return x.useEffect(()=>{const o=a.current;if(o)return Zg(o)},[]),s.jsx(t1,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:_e(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),l$=x.forwardRef((t,e)=>{const n=xc(hr,t.__scopeMenu);return s.jsx(t1,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),c$=nl("MenuContent.ScrollLock"),t1=x.forwardRef((t,e)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:c,disableOutsidePointerEvents:d,onEntryFocus:h,onEscapeKeyDown:m,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:y,disableOutsideScroll:w,...j}=t,S=xc(hr,n),k=qf(hr,n),E=dx(n),A=gR(n),T=e$(n),[_,M]=x.useState(null),P=x.useRef(null),O=ht(e,P,S.onContentChange),I=x.useRef(0),G=x.useRef(""),R=x.useRef(0),X=x.useRef(null),$=x.useRef("right"),Z=x.useRef(0),te=w?If:x.Fragment,L=w?{as:c$,allowPinchZoom:!0}:void 0,V=Y=>{var ne,ie;const se=G.current+Y,K=T().filter(he=>!he.disabled),z=document.activeElement,W=(ne=K.find(he=>he.ref.current===z))==null?void 0:ne.textValue,q=K.map(he=>he.textValue),H=j$(q,se,W),ee=(ie=K.find(he=>he.textValue===H))==null?void 0:ie.ref.current;(function he(ae){G.current=ae,window.clearTimeout(I.current),ae!==""&&(I.current=window.setTimeout(()=>he(""),1e3))})(se),ee&&setTimeout(()=>ee.focus())};x.useEffect(()=>()=>window.clearTimeout(I.current),[]),Xg();const B=x.useCallback(Y=>{var K,z;return $.current===((K=X.current)==null?void 0:K.side)&&N$(Y,(z=X.current)==null?void 0:z.area)},[]);return s.jsx(i$,{scope:n,searchRef:G,onItemEnter:x.useCallback(Y=>{B(Y)&&Y.preventDefault()},[B]),onItemLeave:x.useCallback(Y=>{var se;B(Y)||((se=P.current)==null||se.focus(),M(null))},[B]),onTriggerLeave:x.useCallback(Y=>{B(Y)&&Y.preventDefault()},[B]),pointerGraceTimerRef:R,onPointerGraceIntentChange:x.useCallback(Y=>{X.current=Y},[]),children:s.jsx(te,{...L,children:s.jsx(Lf,{asChild:!0,trapped:i,onMountAutoFocus:_e(o,Y=>{var se;Y.preventDefault(),(se=P.current)==null||se.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:s.jsx(mc,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:m,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:y,children:s.jsx(Y7,{asChild:!0,...A,dir:k.dir,orientation:"vertical",loop:a,currentTabStopId:_,onCurrentTabStopIdChange:M,onEntryFocus:_e(h,Y=>{k.isUsingKeyboardRef.current||Y.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Gg,{role:"menu","aria-orientation":"vertical","data-state":LR(S.open),"data-radix-menu-content":"",dir:k.dir,...E,...j,ref:O,style:{outline:"none",...j.style},onKeyDown:_e(j.onKeyDown,Y=>{const K=Y.target.closest("[data-radix-menu-content]")===Y.currentTarget,z=Y.ctrlKey||Y.altKey||Y.metaKey,W=Y.key.length===1;K&&(Y.key==="Tab"&&Y.preventDefault(),!z&&W&&V(Y.key));const q=P.current;if(Y.target!==q||!Z7.includes(Y.key))return;Y.preventDefault();const ee=T().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);mR.includes(Y.key)&&ee.reverse(),b$(ee)}),onBlur:_e(t.onBlur,Y=>{Y.currentTarget.contains(Y.target)||(window.clearTimeout(I.current),G.current="")}),onPointerMove:_e(t.onPointerMove,df(Y=>{const se=Y.target,K=Z.current!==Y.clientX;if(Y.currentTarget.contains(se)&&K){const z=Y.clientX>Z.current?"right":"left";$.current=z,Z.current=Y.clientX}}))})})})})})})});yR.displayName=hr;var d$="MenuGroup",n1=x.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return s.jsx(ze.div,{role:"group",...a,ref:e})});n1.displayName=d$;var u$="MenuLabel",jR=x.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return s.jsx(ze.div,{...a,ref:e})});jR.displayName=u$;var pg="MenuItem",IE="menu.itemSelect",ux=x.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:a,...i}=t,o=x.useRef(null),c=qf(pg,t.__scopeMenu),d=e1(pg,t.__scopeMenu),h=ht(e,o),m=x.useRef(!1),p=()=>{const g=o.current;if(!n&&g){const v=new CustomEvent(IE,{bubbles:!0,cancelable:!0});g.addEventListener(IE,y=>a==null?void 0:a(y),{once:!0}),ag(g,v),v.defaultPrevented?m.current=!1:c.onClose()}};return s.jsx(wR,{...i,ref:h,disabled:n,onClick:_e(t.onClick,p),onPointerDown:g=>{var v;(v=t.onPointerDown)==null||v.call(t,g),m.current=!0},onPointerUp:_e(t.onPointerUp,g=>{var v;m.current||(v=g.currentTarget)==null||v.click()}),onKeyDown:_e(t.onKeyDown,g=>{const v=d.searchRef.current!=="";n||v&&g.key===" "||s0.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});ux.displayName=pg;var wR=x.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:a=!1,textValue:i,...o}=t,c=e1(pg,n),d=gR(n),h=x.useRef(null),m=ht(e,h),[p,g]=x.useState(!1),[v,y]=x.useState("");return x.useEffect(()=>{const w=h.current;w&&y((w.textContent??"").trim())},[o.children]),s.jsx(cf.ItemSlot,{scope:n,disabled:a,textValue:i??v,children:s.jsx(X7,{asChild:!0,...d,focusable:!a,children:s.jsx(ze.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...o,ref:m,onPointerMove:_e(t.onPointerMove,df(w=>{a?c.onItemLeave(w):(c.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:_e(t.onPointerLeave,df(w=>c.onItemLeave(w))),onFocus:_e(t.onFocus,()=>g(!0)),onBlur:_e(t.onBlur,()=>g(!1))})})})}),h$="MenuCheckboxItem",NR=x.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:a,...i}=t;return s.jsx(CR,{scope:t.__scopeMenu,checked:n,children:s.jsx(ux,{role:"menuitemcheckbox","aria-checked":gg(n)?"mixed":n,...i,ref:e,"data-state":a1(n),onSelect:_e(i.onSelect,()=>a==null?void 0:a(gg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});NR.displayName=h$;var SR="MenuRadioGroup",[f$,m$]=gc(SR,{value:void 0,onValueChange:()=>{}}),kR=x.forwardRef((t,e)=>{const{value:n,onValueChange:a,...i}=t,o=bn(a);return s.jsx(f$,{scope:t.__scopeMenu,value:n,onValueChange:o,children:s.jsx(n1,{...i,ref:e})})});kR.displayName=SR;var ER="MenuRadioItem",AR=x.forwardRef((t,e)=>{const{value:n,...a}=t,i=m$(ER,t.__scopeMenu),o=n===i.value;return s.jsx(CR,{scope:t.__scopeMenu,checked:o,children:s.jsx(ux,{role:"menuitemradio","aria-checked":o,...a,ref:e,"data-state":a1(o),onSelect:_e(a.onSelect,()=>{var c;return(c=i.onValueChange)==null?void 0:c.call(i,n)},{checkForDefaultPrevented:!1})})})});AR.displayName=ER;var s1="MenuItemIndicator",[CR,p$]=gc(s1,{checked:!1}),TR=x.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:a,...i}=t,o=p$(s1,n);return s.jsx(Bn,{present:a||gg(o.checked)||o.checked===!0,children:s.jsx(ze.span,{...i,ref:e,"data-state":a1(o.checked)})})});TR.displayName=s1;var g$="MenuSeparator",_R=x.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return s.jsx(ze.div,{role:"separator","aria-orientation":"horizontal",...a,ref:e})});_R.displayName=g$;var x$="MenuArrow",RR=x.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,i=dx(n);return s.jsx(Kg,{...i,...a,ref:e})});RR.displayName=x$;var v$="MenuSub",[ple,DR]=gc(v$),Eh="MenuSubTrigger",MR=x.forwardRef((t,e)=>{const n=xc(Eh,t.__scopeMenu),a=qf(Eh,t.__scopeMenu),i=DR(Eh,t.__scopeMenu),o=e1(Eh,t.__scopeMenu),c=x.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:h}=o,m={__scopeMenu:t.__scopeMenu},p=x.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return x.useEffect(()=>p,[p]),x.useEffect(()=>{const g=d.current;return()=>{window.clearTimeout(g),h(null)}},[d,h]),s.jsx(Qj,{asChild:!0,...m,children:s.jsx(wR,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":LR(n.open),...t,ref:yi(e,i.onTriggerChange),onClick:g=>{var v;(v=t.onClick)==null||v.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:_e(t.onPointerMove,df(g=>{o.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!c.current&&(o.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:_e(t.onPointerLeave,df(g=>{var y,w;p();const v=(y=n.content)==null?void 0:y.getBoundingClientRect();if(v){const j=(w=n.content)==null?void 0:w.dataset.side,S=j==="right",k=S?-5:5,E=v[S?"left":"right"],A=v[S?"right":"left"];o.onPointerGraceIntentChange({area:[{x:g.clientX+k,y:g.clientY},{x:E,y:v.top},{x:A,y:v.top},{x:A,y:v.bottom},{x:E,y:v.bottom}],side:j}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(g),g.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:_e(t.onKeyDown,g=>{var y;const v=o.searchRef.current!=="";t.disabled||v&&g.key===" "||Q7[a.dir].includes(g.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),g.preventDefault())})})})});MR.displayName=Eh;var PR="MenuSubContent",OR=x.forwardRef((t,e)=>{const n=vR(hr,t.__scopeMenu),{forceMount:a=n.forceMount,...i}=t,o=xc(hr,t.__scopeMenu),c=qf(hr,t.__scopeMenu),d=DR(PR,t.__scopeMenu),h=x.useRef(null),m=ht(e,h);return s.jsx(cf.Provider,{scope:t.__scopeMenu,children:s.jsx(Bn,{present:a||o.open,children:s.jsx(cf.Slot,{scope:t.__scopeMenu,children:s.jsx(t1,{id:d.contentId,"aria-labelledby":d.triggerId,...i,ref:m,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var g;c.isUsingKeyboardRef.current&&((g=h.current)==null||g.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:_e(t.onFocusOutside,p=>{p.target!==d.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:_e(t.onEscapeKeyDown,p=>{c.onClose(),p.preventDefault()}),onKeyDown:_e(t.onKeyDown,p=>{var y;const g=p.currentTarget.contains(p.target),v=J7[c.dir].includes(p.key);g&&v&&(o.onOpenChange(!1),(y=d.trigger)==null||y.focus(),p.preventDefault())})})})})})});OR.displayName=PR;function LR(t){return t?"open":"closed"}function gg(t){return t==="indeterminate"}function a1(t){return gg(t)?"indeterminate":t?"checked":"unchecked"}function b$(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function y$(t,e){return t.map((n,a)=>t[(e+a)%t.length])}function j$(t,e,n){const i=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let c=y$(t,Math.max(o,0));i.length===1&&(c=c.filter(m=>m!==n));const h=c.find(m=>m.toLowerCase().startsWith(i.toLowerCase()));return h!==n?h:void 0}function w$(t,e){const{x:n,y:a}=t;let i=!1;for(let o=0,c=e.length-1;o<e.length;c=o++){const d=e[o],h=e[c],m=d.x,p=d.y,g=h.x,v=h.y;p>a!=v>a&&n<(g-m)*(a-p)/(v-p)+m&&(i=!i)}return i}function N$(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return w$(n,e)}function df(t){return e=>e.pointerType==="mouse"?t(e):void 0}var S$=xR,k$=Qj,E$=bR,A$=yR,C$=n1,T$=jR,_$=ux,R$=NR,D$=kR,M$=AR,P$=TR,O$=_R,L$=RR,I$=MR,B$=OR,hx="DropdownMenu",[z$,gle]=Qs(hx,[pR]),ia=pR(),[U$,IR]=z$(hx),BR=t=>{const{__scopeDropdownMenu:e,children:n,dir:a,open:i,defaultOpen:o,onOpenChange:c,modal:d=!0}=t,h=ia(e),m=x.useRef(null),[p,g]=Ur({prop:i,defaultProp:o??!1,onChange:c,caller:hx});return s.jsx(U$,{scope:e,triggerId:hs(),triggerRef:m,contentId:hs(),open:p,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(v=>!v),[g]),modal:d,children:s.jsx(S$,{...h,open:p,onOpenChange:g,dir:a,modal:d,children:n})})};BR.displayName=hx;var zR="DropdownMenuTrigger",UR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...i}=t,o=IR(zR,n),c=ia(n);return s.jsx(k$,{asChild:!0,...c,children:s.jsx(ze.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...i,ref:yi(e,o.triggerRef),onPointerDown:_e(t.onPointerDown,d=>{!a&&d.button===0&&d.ctrlKey===!1&&(o.onOpenToggle(),o.open||d.preventDefault())}),onKeyDown:_e(t.onKeyDown,d=>{a||(["Enter"," "].includes(d.key)&&o.onOpenToggle(),d.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});UR.displayName=zR;var $$="DropdownMenuPortal",$R=t=>{const{__scopeDropdownMenu:e,...n}=t,a=ia(e);return s.jsx(E$,{...a,...n})};$R.displayName=$$;var FR="DropdownMenuContent",VR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=IR(FR,n),o=ia(n),c=x.useRef(!1);return s.jsx(A$,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...a,ref:e,onCloseAutoFocus:_e(t.onCloseAutoFocus,d=>{var h;c.current||(h=i.triggerRef.current)==null||h.focus(),c.current=!1,d.preventDefault()}),onInteractOutside:_e(t.onInteractOutside,d=>{const h=d.detail.originalEvent,m=h.button===0&&h.ctrlKey===!0,p=h.button===2||m;(!i.modal||p)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});VR.displayName=FR;var F$="DropdownMenuGroup",V$=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ia(n);return s.jsx(C$,{...i,...a,ref:e})});V$.displayName=F$;var q$="DropdownMenuLabel",qR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ia(n);return s.jsx(T$,{...i,...a,ref:e})});qR.displayName=q$;var H$="DropdownMenuItem",HR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ia(n);return s.jsx(_$,{...i,...a,ref:e})});HR.displayName=H$;var G$="DropdownMenuCheckboxItem",GR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ia(n);return s.jsx(R$,{...i,...a,ref:e})});GR.displayName=G$;var K$="DropdownMenuRadioGroup",Y$=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ia(n);return s.jsx(D$,{...i,...a,ref:e})});Y$.displayName=K$;var X$="DropdownMenuRadioItem",KR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ia(n);return s.jsx(M$,{...i,...a,ref:e})});KR.displayName=X$;var W$="DropdownMenuItemIndicator",YR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ia(n);return s.jsx(P$,{...i,...a,ref:e})});YR.displayName=W$;var Z$="DropdownMenuSeparator",XR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ia(n);return s.jsx(O$,{...i,...a,ref:e})});XR.displayName=Z$;var Q$="DropdownMenuArrow",J$=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ia(n);return s.jsx(L$,{...i,...a,ref:e})});J$.displayName=Q$;var eF="DropdownMenuSubTrigger",WR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ia(n);return s.jsx(I$,{...i,...a,ref:e})});WR.displayName=eF;var tF="DropdownMenuSubContent",ZR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ia(n);return s.jsx(B$,{...i,...a,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZR.displayName=tF;var nF=BR,sF=UR,aF=$R,QR=VR,JR=qR,eD=HR,tD=GR,nD=KR,sD=YR,aD=XR,rD=WR,iD=ZR;const oD=nF,lD=sF,rF=x.forwardRef(({className:t,inset:e,children:n,...a},i)=>s.jsxs(rD,{ref:i,className:ge("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...a,children:[n,s.jsx(y_,{className:"ml-auto"})]}));rF.displayName=rD.displayName;const iF=x.forwardRef(({className:t,...e},n)=>s.jsx(iD,{ref:n,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));iF.displayName=iD.displayName;const r1=x.forwardRef(({className:t,sideOffset:e=4,...n},a)=>s.jsx(aF,{children:s.jsx(QR,{ref:a,sideOffset:e,className:ge("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));r1.displayName=QR.displayName;const Zi=x.forwardRef(({className:t,inset:e,...n},a)=>s.jsx(eD,{ref:a,className:ge("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));Zi.displayName=eD.displayName;const oF=x.forwardRef(({className:t,children:e,checked:n,...a},i)=>s.jsxs(tD,{ref:i,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(sD,{children:s.jsx(ax,{className:"h-4 w-4"})})}),e]}));oF.displayName=tD.displayName;const lF=x.forwardRef(({className:t,children:e,...n},a)=>s.jsxs(nD,{ref:a,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(sD,{children:s.jsx(B9,{className:"h-2 w-2 fill-current"})})}),e]}));lF.displayName=nD.displayName;const cD=x.forwardRef(({className:t,inset:e,...n},a)=>s.jsx(JR,{ref:a,className:ge("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));cD.displayName=JR.displayName;const a0=x.forwardRef(({className:t,...e},n)=>s.jsx(aD,{ref:n,className:ge("-mx-1 my-1 h-px bg-muted",t),...e}));a0.displayName=aD.displayName;const Ln={SUPER_ADMIN:"SUPER_ADMIN",ADMIN:"ADMIN",GURU:"GURU",KEPALA_SEKOLAH:"KEPALA_SEKOLAH"},Ad={[Ln.SUPER_ADMIN]:"Super Administrator",[Ln.ADMIN]:"Administrator",[Ln.GURU]:"Guru",[Ln.KEPALA_SEKOLAH]:"Kepala Sekolah"},cF={ACTIVE:"active"},BE=[{value:"A",label:"A",description:"Sangat Baik",score:4},{value:"B",label:"B",description:"Baik",score:3},{value:"C",label:"C",description:"Cukup",score:2},{value:"D",label:"D",description:"Perlu Perbaikan",score:1}],as=()=>{const t=Xo(j=>{var S;return((S=j.auth)==null?void 0:S.user)??null}),e=(t==null?void 0:t.role)||Ln.GURU,n=x.useCallback(j=>e===j,[e]),a=x.useCallback(()=>e===Ln.SUPER_ADMIN,[e]),i=x.useCallback(()=>e===Ln.ADMIN||e===Ln.SUPER_ADMIN,[e]),o=x.useCallback(()=>e===Ln.GURU,[e]),c=x.useCallback(()=>e===Ln.KEPALA_SEKOLAH,[e]),d=x.useCallback(j=>j.includes(e),[e]),h=x.useCallback(j=>j.includes(e),[e]),m=x.useCallback(j=>j.length===1&&j.includes(e),[e]),p=x.useCallback(()=>i(),[i]),g=x.useCallback(()=>i()||c(),[i,c]),v=x.useCallback(()=>i()||c(),[i,c]),y=x.useCallback(()=>o(),[o]),w=x.useCallback(()=>c(),[c]);return{currentRole:e,user:t,isRole:n,isSuperAdmin:a,isAdmin:i,isGuru:o,isKepalaSekolah:c,hasPermission:d,hasAnyRole:h,hasAllRoles:m,canManageUsers:p,canManageOrganization:g,canEvaluateTeachers:v,canSubmitRPP:y,canReviewRPP:w}},gr=(t,e)=>t?t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:")?t:t.startsWith("/")?`${sc}${t}`:`${sc}/${t}`:e||"/placeholder-image.jpg",wi=t=>gr(t,"/placeholder-news.jpg"),xg=t=>gr(t,"/placeholder-gallery.jpg"),vg=t=>gr(t,"/placeholder-organization.jpg"),dD=t=>gr(t,"/placeholder-article.jpg"),zE=t=>gr(t,"/placeholder-avatar.jpg"),dF=(t,e,n,a=80)=>{const i=gr(t);if(!i.includes(sc))return i;const o=new URLSearchParams;e&&o.append("w",e.toString()),n&&o.append("h",n.toString()),a!==80&&o.append("q",a.toString());const c=o.toString();return c?`${i}?${c}`:i},hu=(t,e=300)=>dF(t,e,e,70);function uD({collapsed:t=!1,className:e}){const{user:n,logout:a,loading:i}=mr(),{currentRole:o}=as(),[c,d]=x.useState(!1),h=Ei(),m=()=>{var j;const y=((j=n==null?void 0:n.profile)==null?void 0:j.name)||(n==null?void 0:n.display_name)||(n==null?void 0:n.full_name);if(!y)return"U";const w=y.split(" ");return w.length>=2?`${w[0].charAt(0)}${w[1].charAt(0)}`.toUpperCase():y.charAt(0).toUpperCase()},p=()=>{var y;return((y=n==null?void 0:n.profile)==null?void 0:y.name)||(n==null?void 0:n.display_name)||(n==null?void 0:n.full_name)||"User"},g=()=>{switch(o){case"SUPER_ADMIN":return"Super Administrator";case"ADMIN":return"Administrator";case"GURU":return"Guru";case"KEPALA_SEKOLAH":return"Kepala Sekolah";default:return o}},v=async()=>{try{d(!0),await a(),h("/login",{replace:!0})}catch(y){console.error("Logout error:",y)}finally{d(!1)}};return!n||i?s.jsx("div",{className:ge("flex",t?"justify-center":"justify-start",e),children:s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-8 w-8 bg-muted rounded-full"})})}):s.jsx("div",{className:ge("flex",t?"justify-center":"justify-start",e),children:s.jsxs(oD,{children:[s.jsx(lD,{asChild:!0,children:s.jsxs(pe,{variant:"ghost",className:ge("hover:bg-transparent",t?"p-1.5 flex items-center justify-center h-auto":"p-2 flex items-center space-x-2 w-full"),disabled:c,children:[s.jsxs("div",{className:"relative",children:[s.jsx(zf,{className:ge("flex-shrink-0",t?"h-5 w-5":"h-6 w-6"),children:n.img_url?s.jsx(lf,{src:gr(n.img_url),alt:p()}):s.jsx(Uf,{className:ge(t?"text-[10px]":"text-xs"),children:m()})}),n.status==="active"&&s.jsx("div",{className:ge("absolute bg-green-500 rounded-full border border-background",t?"-top-0.5 -right-0.5 h-2 w-2":"-top-1 -right-1 h-3 w-3")})]}),!t&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col items-start flex-1 min-w-0",children:[s.jsx("span",{className:"text-sm font-medium text-sidebar-foreground truncate w-full",children:p()}),s.jsx("div",{className:"flex items-center gap-1 w-full",children:s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:g()})})]}),s.jsx(lx,{className:"h-4 w-4 flex-shrink-0"})]})]})}),s.jsxs(r1,{align:t?"start":"end",className:"w-56",side:t?"right":"bottom",children:[s.jsx(cD,{children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("span",{className:"font-medium truncate",title:p(),children:p()}),n.email&&s.jsx("span",{className:"text-xs text-muted-foreground truncate",title:n.email,children:n.email}),s.jsx("span",{className:"text-xs text-muted-foreground truncate",title:g(),children:g()})]})}),s.jsx(a0,{}),s.jsx(Zi,{asChild:!0,children:s.jsxs(Oa,{to:"/profile",className:"flex items-center",children:[s.jsx(cl,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Profile"})]})}),s.jsx(a0,{}),s.jsx(Zi,{onClick:v,disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(Ua,{className:"mr-2 h-4 w-4 animate-spin"}),s.jsx("span",{children:"Signing out..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(XU,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Sign out"})]})})]})]})})}function uF({collapsed:t}){return s.jsx(s.Fragment,{children:s.jsx("div",{className:ge("flex-shrink-0 mt-auto",t?"p-2":"p-4 pt-3"),children:s.jsx(uD,{collapsed:t})})})}function hF({item:t,collapsed:e,expandedMenus:n,onMenuClick:a,onLinkClick:i}){const o=iu(),c=g=>n.includes(g),d=g=>g.href&&o.pathname===g.href?!0:g.children?g.children.some(v=>o.pathname===v.href):!1,h=t.children&&t.children.length>0,m=h&&c(t.title),p=d(t);return h?s.jsxs("div",{className:"mb-2",children:[s.jsxs("button",{onClick:()=>a(t),className:ge("flex items-center w-full rounded-lg px-3 py-2.5 text-sm font-medium transition-colors",e?"justify-center":"justify-between",p?"bg-sidebar-primary text-sidebar-primary-foreground":"text-sidebar-foreground hover:bg-sidebar-accent/50 hover:text-sidebar-accent-foreground"),title:e?t.title:void 0,children:[s.jsxs("div",{className:ge("flex items-center",e?"justify-center":"space-x-3"),children:[s.jsx(t.icon,{className:ge("flex-shrink-0",e?"h-4 w-4":"h-5 w-5")}),!e&&s.jsx("span",{children:t.title})]}),!e&&h&&s.jsx(lx,{className:ge("h-4 w-4 transition-transform flex-shrink-0",m&&"rotate-180")})]}),!e&&h&&m&&s.jsx("div",{className:"ml-6 mt-1 space-y-1",children:t.children.map(g=>s.jsxs(Oa,{to:g.href,className:ge("flex items-center space-x-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors",o.pathname===g.href?"bg-sidebar-primary/80 text-sidebar-primary-foreground":"text-sidebar-foreground hover:bg-sidebar-accent/30 hover:text-sidebar-accent-foreground"),onClick:i,children:[s.jsx(g.icon,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{children:g.title})]},g.href))})]}):s.jsx("div",{className:"mb-2",children:s.jsxs(Oa,{to:t.href,className:ge("flex items-center rounded-lg px-3 py-2.5 text-sm font-medium transition-colors",e?"justify-center":"space-x-3",p?"bg-sidebar-primary text-sidebar-primary-foreground":"text-sidebar-foreground hover:bg-sidebar-accent/50 hover:text-sidebar-accent-foreground"),onClick:i,title:e?t.title:void 0,children:[s.jsx(t.icon,{className:ge("flex-shrink-0",e?"h-4 w-4":"h-5 w-5")}),!e&&s.jsx("span",{children:t.title})]})})}const fF=[{title:"Dashboard",href:"/dashboard",icon:Bd,allowedRoles:["SUPER_ADMIN","ADMIN","GURU","KEPALA_SEKOLAH"]},{title:"RPP Guru",icon:va,allowedRoles:["SUPER_ADMIN","KEPALA_SEKOLAH","ADMIN","GURU"],children:[{title:"Daftar RPP",href:"/rpp-submissions",icon:sy,allowedRoles:["SUPER_ADMIN","KEPALA_SEKOLAH","ADMIN"]},{title:"RPP Saya",href:"/my-rpp-submissions",icon:of,allowedRoles:["GURU","KEPALA_SEKOLAH"]}]},{title:"Evaluasi Guru",icon:Yd,allowedRoles:["SUPER_ADMIN","KEPALA_SEKOLAH","ADMIN","GURU"],children:[{title:"Daftar Evaluasi",href:"/teacher-evaluations",icon:sy,allowedRoles:["SUPER_ADMIN","KEPALA_SEKOLAH","ADMIN"]},{title:"Evaluasi Saya",href:"/my-evaluations",icon:sy,allowedRoles:["GURU","KEPALA_SEKOLAH"]},{title:"Laporan Evaluasi",href:"/evaluations/reports",icon:Bd,allowedRoles:["SUPER_ADMIN","ADMIN"]}]},{title:"Manajemen Sistem",icon:d7,allowedRoles:["SUPER_ADMIN","ADMIN"],children:[{title:"Aspek Evaluasi",href:"/evaluation-aspects",icon:ol,allowedRoles:["SUPER_ADMIN","ADMIN"]},{title:"Periode",href:"/periods",icon:Fa,allowedRoles:["SUPER_ADMIN","ADMIN"]},{title:"Pengguna",href:"/users",icon:ds,allowedRoles:["SUPER_ADMIN","ADMIN"]}]},{title:"Manajemen Konten",icon:ll,allowedRoles:["SUPER_ADMIN","ADMIN"],children:[{title:"Pengurus",href:"/cms/board-members",icon:k7,allowedRoles:["SUPER_ADMIN","ADMIN"]},{title:"Sekolah",href:"/cms/organizations",icon:ll,allowedRoles:["SUPER_ADMIN","ADMIN"]},{title:"Artikel",href:"/cms/articles",icon:s7,allowedRoles:["SUPER_ADMIN","ADMIN"]},{title:"Galeri",href:"/cms/galleries",icon:G_,allowedRoles:["SUPER_ADMIN","ADMIN"]},{title:"Pesan",href:"/cms/messages",icon:X_,allowedRoles:["SUPER_ADMIN","ADMIN"]},{title:"Mitra",href:"/cms/mitra",icon:af,allowedRoles:["SUPER_ADMIN","ADMIN"]},{title:"Program",href:"/cms/program",icon:Yp,allowedRoles:["SUPER_ADMIN","ADMIN"]},{title:"Statistik",href:"/cms/statistik",icon:Bd,allowedRoles:["SUPER_ADMIN","ADMIN"]}]}],mF=t=>[...hD(fF,t)],hD=(t,e)=>t.filter(n=>n.allowedRoles.length===0?!0:n.allowedRoles.includes(e)).map(n=>{if(n.children){const a=hD(n.children,e);return{...n,children:a}}return n}).filter(n=>n.children?n.children.length>0:!0);function UE({collapsed:t=!1,expandedMenus:e,onToggleCollapse:n,onToggleSubmenu:a,onMenuClick:i,onLinkClick:o}){const{currentRole:c}=as(),d=x.useMemo(()=>mF(c),[c]);return s.jsxs("div",{className:"flex h-full flex-col",children:[s.jsx(T7,{collapsed:t,onToggleCollapse:n}),s.jsx("div",{className:"flex-1 overflow-hidden min-h-0",children:s.jsxs(U_,{className:"h-full",children:[s.jsx("div",{className:ge("p-3 pb-2",t&&"px-2"),children:s.jsx("nav",{className:"space-y-1",children:d.map(h=>s.jsx(hF,{item:h,collapsed:t,expandedMenus:e,onToggleSubmenu:a,onMenuClick:i,onLinkClick:o},h.title))})}),s.jsx(qj,{orientation:"vertical"})]})}),s.jsx(uF,{collapsed:t})]})}function pF({onOpenSidebar:t}){return s.jsx(s.Fragment,{children:s.jsxs("header",{className:"sticky top-0 z-40 flex h-12 sm:h-14 shrink-0 items-center justify-between border-b border-border bg-background px-3 sm:px-4 shadow-sm lg:hidden",children:[s.jsx(pe,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 sm:h-9 sm:w-9 p-0",children:s.jsx(Y_,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),s.jsx("div",{className:"flex items-center gap-x-2",children:s.jsx(uD,{collapsed:!0,className:"h-8 w-8 sm:h-9 sm:w-9 flex items-center justify-center"})})]})})}function gF(){return s.jsx("footer",{className:"border-t border-border bg-background",children:s.jsx("div",{className:"mx-auto max-w-7xl px-3 py-4 sm:px-4 sm:py-5 lg:px-6 lg:py-6",children:s.jsx("div",{className:"flex flex-col items-center justify-between space-y-3 md:flex-row md:space-y-0",children:s.jsx("div",{className:"flex items-center space-x-3 sm:space-x-4",children:s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"© 2025 Yayasan. All rights reserved."})})})})})}function xF({children:t}){const[e,n]=x.useState(!1),[a,i]=x.useState(!1),[o,c]=x.useState([]),d=Uj(),h=v=>{c(y=>y.includes(v)?y.filter(w=>w!==v):[...y,v])},m=v=>{v.children&&v.children.length>0&&(a&&i(!1),h(v.title))},p=()=>{i(!a)},g=()=>{n(!1),d()};return s.jsxs("div",{className:"min-h-screen bg-muted/5",children:[s.jsx("div",{className:ge("hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:flex-col transition-all duration-300",a?"lg:w-[5rem]":"lg:w-[16rem]"),children:s.jsx("div",{className:"flex grow flex-col gap-y-0 border-r border-sidebar-border bg-sidebar min-h-full",children:s.jsx(UE,{collapsed:a,expandedMenus:o,onToggleCollapse:p,onToggleSubmenu:h,onMenuClick:m,onLinkClick:g})})}),s.jsx(w_,{open:e,onOpenChange:n,children:s.jsxs(N_,{side:"left",className:"p-0 w-[16rem] max-w-[80vw]",children:[s.jsxs(S_,{className:"sr-only",children:[s.jsx(k_,{children:"Navigation Menu"}),s.jsx(E_,{children:"Application navigation and menu options"})]}),s.jsx(UE,{collapsed:!1,expandedMenus:o,onToggleCollapse:p,onToggleSubmenu:h,onMenuClick:m,onLinkClick:g})]})}),s.jsxs("div",{className:ge("min-h-screen flex flex-col transition-all duration-300",a?"lg:pl-[5rem]":"lg:pl-[16rem]"),children:[s.jsx(pF,{onOpenSidebar:()=>n(!0)}),s.jsx("main",{className:"flex-1 min-h-0",children:s.jsx("div",{className:"py-3 lg:py-6 px-3 sm:px-4 lg:px-6 xl:px-8",children:t||s.jsx(BC,{})})}),s.jsx("div",{className:"mt-auto flex-shrink-0",children:s.jsx(gF,{})})]})]})}function vF(t,e){for(var n={};t.length;){var a=t[0],i=a.code,o=a.message,c=a.path.join(".");if(!n[c])if("unionErrors"in a){var d=a.unionErrors[0].errors[0];n[c]={message:d.message,type:d.code}}else n[c]={message:o,type:i};if("unionErrors"in a&&a.unionErrors.forEach(function(p){return p.errors.forEach(function(g){return t.push(g)})}),e){var h=n[c].types,m=h&&h[a.code];n[c]=m6(c,e,n,i,m?[].concat(m,a.message):a.message)}t.shift()}return n}function xs(t,e,n){return n===void 0&&(n={}),function(a,i,o){try{return Promise.resolve(function(c,d){try{var h=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](a,e)).then(function(m){return o.shouldUseNativeValidation&&h6({},o),{errors:{},values:n.raw?Object.assign({},a):m}})}catch(m){return d(m)}return h&&h.then?h.then(void 0,d):h}(0,function(c){if(function(d){return Array.isArray(d==null?void 0:d.errors)}(c))return{values:{},errors:f6(vF(c.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw c}))}catch(c){return Promise.reject(c)}}}const at=x.forwardRef(({className:t,type:e,...n},a)=>s.jsx("input",{type:e,className:ge("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...n}));at.displayName="Input";function je({className:t,...e}){return s.jsx("div",{"data-slot":"card",className:ge("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function ct({className:t,...e}){return s.jsx("div",{"data-slot":"card-header",className:ge("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function pt({className:t,...e}){return s.jsx("div",{"data-slot":"card-title",className:ge("leading-none font-semibold",t),...e})}function dl({className:t,...e}){return s.jsx("div",{"data-slot":"card-description",className:ge("text-muted-foreground text-sm",t),...e})}function we({className:t,...e}){return s.jsx("div",{"data-slot":"card-content",className:ge("px-6",t),...e})}function ba({className:t,...e}){return s.jsx("div",{"data-slot":"card-footer",className:ge("flex items-center px-6 [.border-t]:pt-6",t),...e})}const bF=ox("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),pa=x.forwardRef(({className:t,variant:e,...n},a)=>s.jsx("div",{ref:a,role:"alert",className:ge(bF({variant:e}),t),...n}));pa.displayName="Alert";const fD=x.forwardRef(({className:t,...e},n)=>s.jsx("h5",{ref:n,className:ge("mb-1 font-medium leading-none tracking-tight",t),...e}));fD.displayName="AlertTitle";const ga=x.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ge("text-sm [&_p]:leading-relaxed",t),...e}));ga.displayName="AlertDescription";var yF="Label",mD=x.forwardRef((t,e)=>s.jsx(ze.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));mD.displayName=yF;var pD=mD;const jF=ox("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pe=x.forwardRef(({className:t,...e},n)=>s.jsx(pD,{ref:n,className:ge(jF(),t),...e}));Pe.displayName=pD.displayName;const In=p6,gD=x.createContext({}),$e=({...t})=>s.jsx(gD.Provider,{value:{name:t.name},children:s.jsx(FC,{...t})}),fx=()=>{const t=x.useContext(gD),e=x.useContext(xD),{getFieldState:n}=g6(),a=x6({name:t.name}),i=n(t.name,a);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:o}=e;return{id:o,name:t.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...i}},xD=x.createContext({});function Fe({className:t,...e}){const n=x.useId();return s.jsx(xD.Provider,{value:{id:n},children:s.jsx("div",{"data-slot":"form-item",className:ge("grid gap-2",t),...e})})}function Ve({className:t,...e}){const{error:n,formItemId:a}=fx();return s.jsx(Pe,{"data-slot":"form-label","data-error":!!n,className:ge("data-[error=true]:text-destructive",t),htmlFor:a,...e})}function Ue({...t}){const{error:e,formItemId:n,formDescriptionId:a,formMessageId:i}=fx();return s.jsx(vj,{"data-slot":"form-control",id:n,"aria-describedby":e?`${a} ${i}`:`${a}`,"aria-invalid":!!e,...t})}function sa({className:t,...e}){const{formDescriptionId:n}=fx();return s.jsx("p",{"data-slot":"form-description",id:n,className:ge("text-muted-foreground text-sm",t),...e})}function He({className:t,...e}){const{error:n,formMessageId:a}=fx(),i=n?String((n==null?void 0:n.message)??""):e.children;return i?s.jsx("p",{"data-slot":"form-message",id:a,className:ge("text-destructive text-sm",t),...e,children:i}):null}function mx(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var px="Checkbox",[wF,xle]=Qs(px),[NF,SF]=wF(px),vD=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:a,checked:i,defaultChecked:o,required:c,disabled:d,value:h="on",onCheckedChange:m,form:p,...g}=t,[v,y]=x.useState(null),w=ht(e,T=>y(T)),j=x.useRef(!1),S=v?p||!!v.closest("form"):!0,[k,E]=Ur({prop:i,defaultProp:o??!1,onChange:m,caller:px}),A=x.useRef(k);return x.useEffect(()=>{const T=v==null?void 0:v.form;if(T){const _=()=>E(A.current);return T.addEventListener("reset",_),()=>T.removeEventListener("reset",_)}},[v,E]),s.jsxs(NF,{scope:n,state:k,disabled:d,children:[s.jsx(ze.button,{type:"button",role:"checkbox","aria-checked":Jo(k)?"mixed":k,"aria-required":c,"data-state":wD(k),"data-disabled":d?"":void 0,disabled:d,value:h,...g,ref:w,onKeyDown:_e(t.onKeyDown,T=>{T.key==="Enter"&&T.preventDefault()}),onClick:_e(t.onClick,T=>{E(_=>Jo(_)?!0:!_),S&&(j.current=T.isPropagationStopped(),j.current||T.stopPropagation())})}),S&&s.jsx(jD,{control:v,bubbles:!j.current,name:a,value:h,checked:k,required:c,disabled:d,form:p,style:{transform:"translateX(-100%)"},defaultChecked:Jo(o)?!1:o})]})});vD.displayName=px;var bD="CheckboxIndicator",yD=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:a,...i}=t,o=SF(bD,n);return s.jsx(Bn,{present:a||Jo(o.state)||o.state===!0,children:s.jsx(ze.span,{"data-state":wD(o.state),"data-disabled":o.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});yD.displayName=bD;var kF="CheckboxBubbleInput",jD=x.forwardRef(({__scopeCheckbox:t,control:e,checked:n,bubbles:a=!0,defaultChecked:i,...o},c)=>{const d=x.useRef(null),h=ht(d,c),m=mx(n),p=Ej(e);x.useEffect(()=>{const v=d.current;if(!v)return;const y=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(y,"checked").set;if(m!==n&&j){const S=new Event("click",{bubbles:a});v.indeterminate=Jo(n),j.call(v,Jo(n)?!1:n),v.dispatchEvent(S)}},[m,n,a]);const g=x.useRef(Jo(n)?!1:n);return s.jsx(ze.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??g.current,...o,tabIndex:-1,ref:h,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});jD.displayName=kF;function Jo(t){return t==="indeterminate"}function wD(t){return Jo(t)?"indeterminate":t?"checked":"unchecked"}var EF=vD,AF=yD;function $E({className:t,...e}){return s.jsx(EF,{"data-slot":"checkbox",className:ge("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:s.jsx(AF,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(ax,{className:"size-3.5"})})})}const gx="/assets/bg--vdInIah.webp",CF=Bs({email:rt().email("Valid email is required").min(1,"Email is required"),password:rt().min(1,"Password is required"),rememberMe:Fg().default(!1)});function TF(){var T,_;const{login:t,isAuthenticated:e,loading:n,error:a,clearAuthError:i}=mr(),[o,c]=x.useState(!1),[d,h]=x.useState(""),[m,p]=x.useState(""),{toast:g}=_t(),v=Ei(),y=iu(),w=((T=y.state)==null?void 0:T.from)||"/",j=((_=y.state)==null?void 0:_.message)||"";x.useEffect(()=>{e&&v(w,{replace:!0})},[e,v,w]),x.useEffect(()=>{a&&h(a)},[a]),x.useEffect(()=>{j&&(p(j),g({title:"Informasi",description:j,variant:"default"}))},[j,g]);const S=gs({resolver:xs(CF),defaultValues:{email:"",password:"",rememberMe:!1}}),k=()=>{d&&(h(""),i()),m&&p("")},E=async M=>{h(""),i();try{await t({email:M.email,password:M.password}),M.rememberMe&&localStorage.setItem("rememberMe","true")}catch(P){console.error("Login failed:",P);const O=typeof P=="string"?P:(P==null?void 0:P.message)||"Terjadi kesalahan saat login";g({title:"Login Gagal",description:O,variant:"destructive"})}},A=()=>{v("/forgot-password",{state:{email:S.getValues("email")}})};return s.jsxs("div",{className:"min-h-screen",children:[s.jsxs("div",{className:"hidden lg:flex h-screen",children:[s.jsxs("div",{className:"w-[70%] relative bg-gray-100 dark:bg-gray-900",children:[s.jsx("img",{src:gx,alt:"Background",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/10"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 via-transparent to-transparent"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-black/20"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/30"}),s.jsxs("div",{className:"absolute top-8 left-8 text-white flex items-center space-x-4",children:[s.jsx("img",{src:Ws,alt:"Logo",className:"w-16 h-16 object-contain"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sistem Informasi Yayasan Baitul Muslim Lampung Timur"}),s.jsx("p",{className:"text-white/90 max-w-md",children:"Yayasan pendidikan dan dakwah Islam yang menyelenggarakan pendidikan terpadu berkualitas sejak 1993"})]})]})]}),s.jsx("div",{className:"w-[30%] flex items-center justify-center bg-background p-8",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:Ws,alt:"Logo",className:"w-16 h-16 object-contain"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Selamat Datang"}),s.jsx("p",{className:"text-muted-foreground",children:"Login dengan Email yang terdaftar untuk masuk ke Sistem Informasi Yayasan"})]})]}),s.jsxs(je,{className:"shadow-lg",children:[s.jsxs(ct,{className:"space-y-1",children:[s.jsx(pt,{className:"text-xl",children:"Login"}),s.jsx(dl,{children:"Masukan email dan password untuk akses akun"})]}),s.jsx(In,{...S,children:s.jsxs("form",{onSubmit:S.handleSubmit(E),children:[s.jsxs(we,{className:"space-y-4",children:[s.jsx($e,{control:S.control,name:"email",render:({field:M})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Email"}),s.jsx(Ue,{children:s.jsx(at,{type:"email",placeholder:"Masukkan email",disabled:n,...M,onChange:P=>{M.onChange(P),k()}})}),s.jsx(He,{})]})}),s.jsx($e,{control:S.control,name:"password",render:({field:M})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Password"}),s.jsx(Ue,{children:s.jsxs("div",{className:"relative",children:[s.jsx(at,{type:o?"text":"password",placeholder:"Masukkan password",disabled:n,...M,onChange:P=>{M.onChange(P),k()}}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>c(!o),disabled:n,children:o?s.jsx(eo,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(Ys,{className:"h-4 w-4 text-muted-foreground"})})]})}),s.jsx(He,{})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx($e,{control:S.control,name:"rememberMe",render:({field:M})=>s.jsxs(Fe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(Ue,{children:s.jsx($E,{checked:M.value,onCheckedChange:M.onChange,disabled:n})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(Ve,{className:"text-sm font-normal",children:"Ingat saya"})})]})}),s.jsx(pe,{type:"button",variant:"link",size:"sm",className:"px-0 h-auto font-normal",onClick:A,disabled:n,children:"Lupa password?"})]})]}),s.jsx(ba,{className:"flex flex-col space-y-4 mt-4",children:s.jsx(pe,{type:"submit",className:"w-full",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Ua,{className:"mr-2 h-4 w-4 animate-spin"}),"Masuk..."]}):"Masuk"})})]})})]})]})})]}),s.jsx("div",{className:"lg:hidden min-h-screen flex items-center justify-center p-4 bg-background",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:Ws,alt:"Logo",className:"w-16 h-16 object-contain"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Selamat Datang"}),s.jsx("p",{className:"text-muted-foreground",children:"Login dengan Email yang terdaftar untuk masuk ke Sistem Informasi Yayasan"})]})]}),s.jsxs(je,{className:"shadow-lg",children:[s.jsxs(ct,{className:"space-y-1",children:[s.jsx(pt,{className:"text-xl",children:"Login"}),s.jsx(dl,{children:"Masukan email dan password untuk akses akun"})]}),s.jsx(In,{...S,children:s.jsxs("form",{onSubmit:S.handleSubmit(E),children:[s.jsxs(we,{className:"space-y-4",children:[d&&s.jsx(pa,{variant:"destructive",children:s.jsx(ga,{children:d})}),m&&s.jsx(pa,{children:s.jsx(ga,{children:m})}),s.jsx($e,{control:S.control,name:"email",render:({field:M})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Email"}),s.jsx(Ue,{children:s.jsx(at,{type:"email",placeholder:"Masukkan email",disabled:n,...M,onChange:P=>{M.onChange(P),k()}})}),s.jsx(He,{})]})}),s.jsx($e,{control:S.control,name:"password",render:({field:M})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Password"}),s.jsx(Ue,{children:s.jsxs("div",{className:"relative",children:[s.jsx(at,{type:o?"text":"password",placeholder:"Masukkan password",disabled:n,...M,onChange:P=>{M.onChange(P),k()}}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>c(!o),disabled:n,children:o?s.jsx(eo,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(Ys,{className:"h-4 w-4 text-muted-foreground"})})]})}),s.jsx(He,{})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx($e,{control:S.control,name:"rememberMe",render:({field:M})=>s.jsxs(Fe,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(Ue,{children:s.jsx($E,{checked:M.value,onCheckedChange:M.onChange,disabled:n})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(Ve,{className:"text-sm font-normal",children:"Ingat saya"})})]})}),s.jsx(pe,{type:"button",variant:"link",size:"sm",className:"px-0 h-auto font-normal",onClick:A,disabled:n,children:"Lupa password?"})]})]}),s.jsx(ba,{className:"flex flex-col space-y-4 mt-4",children:s.jsx(pe,{type:"submit",className:"w-full",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Ua,{className:"mr-2 h-4 w-4 animate-spin"}),"Masuk..."]}):"Masuk"})})]})})]})]})})]})}var vc="NavigationMenu",[i1,ND,_F]=$f(vc),[r0,RF,DF]=$f(vc),[o1,vle]=Qs(vc,[_F,DF]),[MF,xr]=o1(vc),[PF,OF]=o1(vc),SD=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:a,onValueChange:i,defaultValue:o,delayDuration:c=200,skipDelayDuration:d=300,orientation:h="horizontal",dir:m,...p}=t,[g,v]=x.useState(null),y=ht(e,I=>v(I)),w=Bf(m),j=x.useRef(0),S=x.useRef(0),k=x.useRef(0),[E,A]=x.useState(!0),[T,_]=Ur({prop:a,onChange:I=>{const G=I!=="",R=d>0;G?(window.clearTimeout(k.current),R&&A(!1)):(window.clearTimeout(k.current),k.current=window.setTimeout(()=>A(!0),d)),i==null||i(I)},defaultProp:o??"",caller:vc}),M=x.useCallback(()=>{window.clearTimeout(S.current),S.current=window.setTimeout(()=>_(""),150)},[_]),P=x.useCallback(I=>{window.clearTimeout(S.current),_(I)},[_]),O=x.useCallback(I=>{T===I?window.clearTimeout(S.current):j.current=window.setTimeout(()=>{window.clearTimeout(S.current),_(I)},c)},[T,_,c]);return x.useEffect(()=>()=>{window.clearTimeout(j.current),window.clearTimeout(S.current),window.clearTimeout(k.current)},[]),s.jsx(kD,{scope:n,isRootMenu:!0,value:T,dir:w,orientation:h,rootNavigationMenu:g,onTriggerEnter:I=>{window.clearTimeout(j.current),E?O(I):P(I)},onTriggerLeave:()=>{window.clearTimeout(j.current),M()},onContentEnter:()=>window.clearTimeout(S.current),onContentLeave:M,onItemSelect:I=>{_(G=>G===I?"":I)},onItemDismiss:()=>_(""),children:s.jsx(ze.nav,{"aria-label":"Main","data-orientation":h,dir:w,...p,ref:y})})});SD.displayName=vc;var i0="NavigationMenuSub",LF=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:a,onValueChange:i,defaultValue:o,orientation:c="horizontal",...d}=t,h=xr(i0,n),[m,p]=Ur({prop:a,onChange:i,defaultProp:o??"",caller:i0});return s.jsx(kD,{scope:n,isRootMenu:!1,value:m,dir:h.dir,orientation:c,rootNavigationMenu:h.rootNavigationMenu,onTriggerEnter:g=>p(g),onItemSelect:g=>p(g),onItemDismiss:()=>p(""),children:s.jsx(ze.div,{"data-orientation":c,...d,ref:e})})});LF.displayName=i0;var kD=t=>{const{scope:e,isRootMenu:n,rootNavigationMenu:a,dir:i,orientation:o,children:c,value:d,onItemSelect:h,onItemDismiss:m,onTriggerEnter:p,onTriggerLeave:g,onContentEnter:v,onContentLeave:y}=t,[w,j]=x.useState(null),[S,k]=x.useState(new Map),[E,A]=x.useState(null);return s.jsx(MF,{scope:e,isRootMenu:n,rootNavigationMenu:a,value:d,previousValue:mx(d),baseId:hs(),dir:i,orientation:o,viewport:w,onViewportChange:j,indicatorTrack:E,onIndicatorTrackChange:A,onTriggerEnter:bn(p),onTriggerLeave:bn(g),onContentEnter:bn(v),onContentLeave:bn(y),onItemSelect:bn(h),onItemDismiss:bn(m),onViewportContentChange:x.useCallback((T,_)=>{k(M=>(M.set(T,_),new Map(M)))},[]),onViewportContentRemove:x.useCallback(T=>{k(_=>_.has(T)?(_.delete(T),new Map(_)):_)},[]),children:s.jsx(i1.Provider,{scope:e,children:s.jsx(PF,{scope:e,items:S,children:c})})})},ED="NavigationMenuList",AD=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...a}=t,i=xr(ED,n),o=s.jsx(ze.ul,{"data-orientation":i.orientation,...a,ref:e});return s.jsx(ze.div,{style:{position:"relative"},ref:i.onIndicatorTrackChange,children:s.jsx(i1.Slot,{scope:n,children:i.isRootMenu?s.jsx(PD,{asChild:!0,children:o}):o})})});AD.displayName=ED;var CD="NavigationMenuItem",[IF,TD]=o1(CD),_D=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:a,...i}=t,o=hs(),c=a||o||"LEGACY_REACT_AUTO_VALUE",d=x.useRef(null),h=x.useRef(null),m=x.useRef(null),p=x.useRef(()=>{}),g=x.useRef(!1),v=x.useCallback((w="start")=>{if(d.current){p.current();const j=l0(d.current);j.length&&d1(w==="start"?j:j.reverse())}},[]),y=x.useCallback(()=>{if(d.current){const w=l0(d.current);w.length&&(p.current=KF(w))}},[]);return s.jsx(IF,{scope:n,value:c,triggerRef:h,contentRef:d,focusProxyRef:m,wasEscapeCloseRef:g,onEntryKeyDown:v,onFocusProxyEnter:v,onRootContentClose:y,onContentFocusOutside:y,children:s.jsx(ze.li,{...i,ref:e})})});_D.displayName=CD;var o0="NavigationMenuTrigger",BF=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,disabled:a,...i}=t,o=xr(o0,t.__scopeNavigationMenu),c=TD(o0,t.__scopeNavigationMenu),d=x.useRef(null),h=ht(d,c.triggerRef,e),m=LD(o.baseId,c.value),p=ID(o.baseId,c.value),g=x.useRef(!1),v=x.useRef(!1),y=c.value===o.value;return s.jsxs(s.Fragment,{children:[s.jsx(i1.ItemSlot,{scope:n,value:c.value,children:s.jsx(OD,{asChild:!0,children:s.jsx(ze.button,{id:m,disabled:a,"data-disabled":a?"":void 0,"data-state":u1(y),"aria-expanded":y,"aria-controls":p,...i,ref:h,onPointerEnter:_e(t.onPointerEnter,()=>{v.current=!1,c.wasEscapeCloseRef.current=!1}),onPointerMove:_e(t.onPointerMove,bg(()=>{a||v.current||c.wasEscapeCloseRef.current||g.current||(o.onTriggerEnter(c.value),g.current=!0)})),onPointerLeave:_e(t.onPointerLeave,bg(()=>{a||(o.onTriggerLeave(),g.current=!1)})),onClick:_e(t.onClick,()=>{o.onItemSelect(c.value),v.current=y}),onKeyDown:_e(t.onKeyDown,w=>{const S={horizontal:"ArrowDown",vertical:o.dir==="rtl"?"ArrowLeft":"ArrowRight"}[o.orientation];y&&w.key===S&&(c.onEntryKeyDown(),w.preventDefault())})})})}),y&&s.jsxs(s.Fragment,{children:[s.jsx(jT,{"aria-hidden":!0,tabIndex:0,ref:c.focusProxyRef,onFocus:w=>{const j=c.contentRef.current,S=w.relatedTarget,k=S===d.current,E=j==null?void 0:j.contains(S);(k||!E)&&c.onFocusProxyEnter(k?"start":"end")}}),o.viewport&&s.jsx("span",{"aria-owns":p})]})]})});BF.displayName=o0;var zF="NavigationMenuLink",FE="navigationMenu.linkSelect",RD=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,active:a,onSelect:i,...o}=t;return s.jsx(OD,{asChild:!0,children:s.jsx(ze.a,{"data-active":a?"":void 0,"aria-current":a?"page":void 0,...o,ref:e,onClick:_e(t.onClick,c=>{const d=c.target,h=new CustomEvent(FE,{bubbles:!0,cancelable:!0});if(d.addEventListener(FE,m=>i==null?void 0:i(m),{once:!0}),ag(d,h),!h.defaultPrevented&&!c.metaKey){const m=new CustomEvent(Xp,{bubbles:!0,cancelable:!0});ag(d,m)}},{checkForDefaultPrevented:!1})})})});RD.displayName=zF;var l1="NavigationMenuIndicator",UF=x.forwardRef((t,e)=>{const{forceMount:n,...a}=t,i=xr(l1,t.__scopeNavigationMenu),o=!!i.value;return i.indicatorTrack?pj.createPortal(s.jsx(Bn,{present:n||o,children:s.jsx($F,{...a,ref:e})}),i.indicatorTrack):null});UF.displayName=l1;var $F=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...a}=t,i=xr(l1,n),o=ND(n),[c,d]=x.useState(null),[h,m]=x.useState(null),p=i.orientation==="horizontal",g=!!i.value;x.useEffect(()=>{var j;const w=(j=o().find(S=>S.value===i.value))==null?void 0:j.ref.current;w&&d(w)},[o,i.value]);const v=()=>{c&&m({size:p?c.offsetWidth:c.offsetHeight,offset:p?c.offsetLeft:c.offsetTop})};return c0(c,v),c0(i.indicatorTrack,v),h?s.jsx(ze.div,{"aria-hidden":!0,"data-state":g?"visible":"hidden","data-orientation":i.orientation,...a,ref:e,style:{position:"absolute",...p?{left:0,width:h.size+"px",transform:`translateX(${h.offset}px)`}:{top:0,height:h.size+"px",transform:`translateY(${h.offset}px)`},...a.style}}):null}),Xd="NavigationMenuContent",FF=x.forwardRef((t,e)=>{const{forceMount:n,...a}=t,i=xr(Xd,t.__scopeNavigationMenu),o=TD(Xd,t.__scopeNavigationMenu),c=ht(o.contentRef,e),d=o.value===i.value,h={value:o.value,triggerRef:o.triggerRef,focusProxyRef:o.focusProxyRef,wasEscapeCloseRef:o.wasEscapeCloseRef,onContentFocusOutside:o.onContentFocusOutside,onRootContentClose:o.onRootContentClose,...a};return i.viewport?s.jsx(VF,{forceMount:n,...h,ref:c}):s.jsx(Bn,{present:n||d,children:s.jsx(DD,{"data-state":u1(d),...h,ref:c,onPointerEnter:_e(t.onPointerEnter,i.onContentEnter),onPointerLeave:_e(t.onPointerLeave,bg(i.onContentLeave)),style:{pointerEvents:!d&&i.isRootMenu?"none":void 0,...h.style}})})});FF.displayName=Xd;var VF=x.forwardRef((t,e)=>{const n=xr(Xd,t.__scopeNavigationMenu),{onViewportContentChange:a,onViewportContentRemove:i}=n;return wn(()=>{a(t.value,{ref:e,...t})},[t,e,a]),wn(()=>()=>i(t.value),[t.value,i]),null}),Xp="navigationMenu.rootContentDismiss",DD=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:a,triggerRef:i,focusProxyRef:o,wasEscapeCloseRef:c,onRootContentClose:d,onContentFocusOutside:h,...m}=t,p=xr(Xd,n),g=x.useRef(null),v=ht(g,e),y=LD(p.baseId,a),w=ID(p.baseId,a),j=ND(n),S=x.useRef(null),{onItemDismiss:k}=p;x.useEffect(()=>{const A=g.current;if(p.isRootMenu&&A){const T=()=>{var _;k(),d(),A.contains(document.activeElement)&&((_=i.current)==null||_.focus())};return A.addEventListener(Xp,T),()=>A.removeEventListener(Xp,T)}},[p.isRootMenu,t.value,i,k,d]);const E=x.useMemo(()=>{const T=j().map(G=>G.value);p.dir==="rtl"&&T.reverse();const _=T.indexOf(p.value),M=T.indexOf(p.previousValue),P=a===p.value,O=M===T.indexOf(a);if(!P&&!O)return S.current;const I=(()=>{if(_!==M){if(P&&M!==-1)return _>M?"from-end":"from-start";if(O&&_!==-1)return _>M?"to-start":"to-end"}return null})();return S.current=I,I},[p.previousValue,p.value,p.dir,j,a]);return s.jsx(PD,{asChild:!0,children:s.jsx(mc,{id:w,"aria-labelledby":y,"data-motion":E,"data-orientation":p.orientation,...m,ref:v,disableOutsidePointerEvents:!1,onDismiss:()=>{var T;const A=new Event(Xp,{bubbles:!0,cancelable:!0});(T=g.current)==null||T.dispatchEvent(A)},onFocusOutside:_e(t.onFocusOutside,A=>{var _;h();const T=A.target;(_=p.rootNavigationMenu)!=null&&_.contains(T)&&A.preventDefault()}),onPointerDownOutside:_e(t.onPointerDownOutside,A=>{var P;const T=A.target,_=j().some(O=>{var I;return(I=O.ref.current)==null?void 0:I.contains(T)}),M=p.isRootMenu&&((P=p.viewport)==null?void 0:P.contains(T));(_||M||!p.isRootMenu)&&A.preventDefault()}),onKeyDown:_e(t.onKeyDown,A=>{var M;const T=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!T){const P=l0(A.currentTarget),O=document.activeElement,I=P.findIndex(X=>X===O),R=A.shiftKey?P.slice(0,I).reverse():P.slice(I+1,P.length);d1(R)?A.preventDefault():(M=o.current)==null||M.focus()}}),onEscapeKeyDown:_e(t.onEscapeKeyDown,A=>{c.current=!0})})})}),c1="NavigationMenuViewport",MD=x.forwardRef((t,e)=>{const{forceMount:n,...a}=t,o=!!xr(c1,t.__scopeNavigationMenu).value;return s.jsx(Bn,{present:n||o,children:s.jsx(qF,{...a,ref:e})})});MD.displayName=c1;var qF=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,children:a,...i}=t,o=xr(c1,n),c=ht(e,o.onViewportChange),d=OF(Xd,t.__scopeNavigationMenu),[h,m]=x.useState(null),[p,g]=x.useState(null),v=h?(h==null?void 0:h.width)+"px":void 0,y=h?(h==null?void 0:h.height)+"px":void 0,w=!!o.value,j=w?o.value:o.previousValue;return c0(p,()=>{p&&m({width:p.offsetWidth,height:p.offsetHeight})}),s.jsx(ze.div,{"data-state":u1(w),"data-orientation":o.orientation,...i,ref:c,style:{pointerEvents:!w&&o.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":v,"--radix-navigation-menu-viewport-height":y,...i.style},onPointerEnter:_e(t.onPointerEnter,o.onContentEnter),onPointerLeave:_e(t.onPointerLeave,bg(o.onContentLeave)),children:Array.from(d.items).map(([k,{ref:E,forceMount:A,...T}])=>{const _=j===k;return s.jsx(Bn,{present:A||_,children:s.jsx(DD,{...T,ref:yi(E,M=>{_&&M&&g(M)})})},k)})})}),HF="FocusGroup",PD=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...a}=t,i=xr(HF,n);return s.jsx(r0.Provider,{scope:n,children:s.jsx(r0.Slot,{scope:n,children:s.jsx(ze.div,{dir:i.dir,...a,ref:e})})})}),VE=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],GF="FocusGroupItem",OD=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...a}=t,i=RF(n),o=xr(GF,n);return s.jsx(r0.ItemSlot,{scope:n,children:s.jsx(ze.button,{...a,ref:e,onKeyDown:_e(t.onKeyDown,c=>{if(["Home","End",...VE].includes(c.key)){let h=i().map(g=>g.ref.current);if([o.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(c.key)&&h.reverse(),VE.includes(c.key)){const g=h.indexOf(c.currentTarget);h=h.slice(g+1)}setTimeout(()=>d1(h)),c.preventDefault()}})})})});function l0(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function d1(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}function KF(t){return t.forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}),()=>{t.forEach(e=>{const n=e.dataset.tabindex;e.setAttribute("tabindex",n)})}}function c0(t,e){const n=bn(e);wn(()=>{let a=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(a),i.unobserve(t)}}},[t,n])}function u1(t){return t?"open":"closed"}function LD(t,e){return`${t}-trigger-${e}`}function ID(t,e){return`${t}-content-${e}`}function bg(t){return e=>e.pointerType==="mouse"?t(e):void 0}var YF=SD,XF=AD,WF=_D,ZF=RD,QF=MD;function JF({className:t,children:e,viewport:n=!0,...a}){return s.jsxs(YF,{"data-slot":"navigation-menu","data-viewport":n,className:ge("group/navigation-menu relative flex max-w-max flex-1 items-center justify-center",t),...a,children:[e,n&&s.jsx(tV,{})]})}function eV({className:t,...e}){return s.jsx(XF,{"data-slot":"navigation-menu-list",className:ge("group flex flex-1 list-none items-center justify-center gap-1",t),...e})}function pd({className:t,...e}){return s.jsx(WF,{"data-slot":"navigation-menu-item",className:ge("relative",t),...e})}function tV({className:t,...e}){return s.jsx("div",{className:ge("absolute top-full left-0 isolate z-50 flex justify-center"),children:s.jsx(QF,{"data-slot":"navigation-menu-viewport",className:ge("origin-top-center bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border shadow md:w-[var(--radix-navigation-menu-viewport-width)]",t),...e})})}function gd({className:t,...e}){return s.jsx(ZF,{"data-slot":"navigation-menu-link",className:ge("data-[active=true]:focus:bg-accent data-[active=true]:hover:bg-accent data-[active=true]:bg-accent/50 data-[active=true]:text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus-visible:ring-ring/50 [&_svg:not([class*='text-'])]:text-muted-foreground flex flex-col gap-1 rounded-sm p-2 text-sm transition-all outline-none focus-visible:ring-[3px] focus-visible:outline-1 [&_svg:not([class*='size-'])]:size-4",t),...e})}const nV=t=>s.jsx(JF,{...t,children:s.jsxs(eV,{className:"gap-6 space-x-0 data-[orientation=vertical]:flex-col data-[orientation=vertical]:items-start",children:[s.jsx(pd,{children:s.jsx(gd,{asChild:!0,children:s.jsx(Oa,{to:"/",className:"text-foreground hover:text-primary transition-colors",children:"Beranda"})})}),s.jsx(pd,{children:s.jsx(gd,{asChild:!0,children:s.jsx(Oa,{to:"/about",className:"text-foreground hover:text-primary transition-colors",children:"Tentang"})})}),s.jsx(pd,{children:s.jsx(gd,{asChild:!0,children:s.jsx(Oa,{to:"/articles",className:"text-foreground hover:text-primary transition-colors",children:"Artikel"})})}),s.jsx(pd,{children:s.jsx(gd,{asChild:!0,children:s.jsx(Oa,{to:"/galleries",className:"text-foreground hover:text-primary transition-colors",children:"Galeri"})})}),s.jsx(pd,{children:s.jsx(gd,{asChild:!0,children:s.jsx(Oa,{to:"/schools",className:"text-foreground hover:text-primary transition-colors",children:"Sekolah"})})}),s.jsx(pd,{children:s.jsx(gd,{asChild:!0,children:s.jsx(Oa,{to:"/contact",className:"text-foreground hover:text-primary transition-colors",children:"Kontak"})})})]})});function xd({children:t,onClick:e,onNavigate:n,...a}){const i=Uj(),o=c=>{i(),n&&n(),e&&e(c)};return s.jsx(ra,{...a,onClick:o,children:t})}const sV=()=>{const[t,e]=x.useState(!1),n=()=>e(!1);return s.jsxs(w_,{open:t,onOpenChange:e,children:[s.jsx(V9,{asChild:!0,children:s.jsx(pe,{variant:"outline",size:"icon",className:"rounded-full border-border hover:bg-accent hover:text-accent-foreground",children:s.jsx(Y_,{className:"text-foreground"})})}),s.jsxs(N_,{side:"left",className:"p-0 w-[16rem] max-w-[80vw]",children:[s.jsxs(S_,{className:"sr-only",children:[s.jsx(k_,{children:"Navigation Menu"}),s.jsx(E_,{children:"Main navigation menu for the application"})]}),s.jsxs("div",{className:"flex h-full flex-col",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-border",children:[s.jsx("img",{src:Ws,alt:"Yayasan Baitul Muslim",className:"h-8 w-auto flex-shrink-0"}),s.jsx("span",{className:"text-foreground font-medium",children:"Menu"})]}),s.jsx("div",{className:"flex-1 overflow-hidden min-h-0",children:s.jsxs(U_,{className:"h-full",children:[s.jsx("div",{className:"p-4 pb-2",children:s.jsxs("nav",{className:"space-y-1",children:[s.jsx(xd,{to:"/",className:"flex items-center px-3 py-2 text-sm font-medium rounded-md text-foreground hover:bg-accent hover:text-accent-foreground transition-colors",onNavigate:n,children:"Beranda"}),s.jsx(xd,{to:"/about",className:"flex items-center px-3 py-2 text-sm font-medium rounded-md text-foreground hover:bg-accent hover:text-accent-foreground transition-colors",onNavigate:n,children:"Tentang"}),s.jsx(xd,{to:"/articles",className:"flex items-center px-3 py-2 text-sm font-medium rounded-md text-foreground hover:bg-accent hover:text-accent-foreground transition-colors",onNavigate:n,children:"Artikel"}),s.jsx(xd,{to:"/galleries",className:"flex items-center px-3 py-2 text-sm font-medium rounded-md text-foreground hover:bg-accent hover:text-accent-foreground transition-colors",onNavigate:n,children:"Galeri"}),s.jsx(xd,{to:"/schools",className:"flex items-center px-3 py-2 text-sm font-medium rounded-md text-foreground hover:bg-accent hover:text-accent-foreground transition-colors",onNavigate:n,children:"Sekolah"}),s.jsx(xd,{to:"/contact",className:"flex items-center px-3 py-2 text-sm font-medium rounded-md text-foreground hover:bg-accent hover:text-accent-foreground transition-colors",onNavigate:n,children:"Kontak"})]})}),s.jsx(qj,{orientation:"vertical"})]})})]})]})]})},aV=()=>s.jsx("nav",{className:"fixed top-6 inset-x-4 h-16 bg-card/95 backdrop-blur-sm border border-border shadow-lg max-w-screen-xl mx-auto rounded-full z-50",children:s.jsxs("div",{className:"h-full flex items-center justify-between mx-auto px-6",children:[s.jsx(Oa,{to:"/",children:s.jsx("img",{src:Ws,alt:"Yayasan Baitul Muslim",className:"h-8 w-auto"})}),s.jsx(nV,{className:"hidden md:block"}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("div",{className:"md:hidden",children:s.jsx(sV,{})})})]})});var rV="Separator",qE="horizontal",iV=["horizontal","vertical"],BD=x.forwardRef((t,e)=>{const{decorative:n,orientation:a=qE,...i}=t,o=oV(a)?a:qE,d=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return s.jsx(ze.div,{"data-orientation":o,...d,...i,ref:e})});BD.displayName=rV;function oV(t){return iV.includes(t)}var zD=BD;const UD=x.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...a},i)=>s.jsx(zD,{ref:i,decorative:n,orientation:e,className:ge("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...a}));UD.displayName=zD.displayName;const lV=()=>s.jsx("footer",{className:"bg-sidebar border-t border-border",children:s.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:Ws,alt:"Yayasan Baitul Muslim",className:"h-10 w-auto"}),s.jsx("h3",{className:"font-semibold text-foreground text-lg",children:"Yayasan Baitul Muslim"})]}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Yayasan pendidikan dan dakwah Islam yang menyelenggarakan pendidikan terpadu berkualitas sejak 1993."}),s.jsxs("div",{className:"space-y-3 mt-6",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"Kontak Kami"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(cx,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Jl. Ir. H. Djuanda No. 19",s.jsx("br",{}),"Way Jepara, Lampung Timur"]})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(W_,{className:"w-4 h-4 text-primary flex-shrink-0"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"+62 xxx-xxxx-xxxx"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(ic,{className:"w-4 h-4 text-primary flex-shrink-0"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"info@baitulmuslim.sch.id"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"Lokasi Kami"}),s.jsx("div",{className:"aspect-video w-full rounded-lg overflow-hidden border",children:s.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3970.096116324821!2d105.6164884!3d-5.2139046!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e40c4f8e0b7e259%3A0x4ef2ef143a22e33!2sJl.%20Ir.%20H.%20Djuanda%20No.19%2C%20Way%20Jepara%2C%20Kabupaten%20Lampung%20Timur%2C%20Lampung!5e0!3m2!1sid!2sid!4v1722571000000",width:"100%",height:"100%",loading:"lazy",title:"Lokasi Yayasan Baitul Muslim"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Klik peta untuk membuka di Google Maps"})]})]}),s.jsx(UD,{className:"my-8 bg-border"}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["© ",new Date().getFullYear()," Yayasan Baitul Muslim Lampung Timur. Hak cipta dilindungi."]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Oa,{to:"/contact",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:"Kontak"})})]})]})});function cV({children:t}){return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(aV,{}),s.jsx("main",{className:"flex-1",children:t||s.jsx(BC,{})}),s.jsx(lV,{})]})}const dV=Bs({email:rt().email("Please enter a valid email address").min(1,"Email is required")});function uV(){var p;const[t,e]=x.useState(!1),[n,a]=x.useState(""),i=Df(),o=Ei(),c=iu(),d=gs({resolver:xs(dV),defaultValues:{email:((p=c.state)==null?void 0:p.username)||""}});ve.useEffect(()=>{n&&a("")},[d.watch()]);const h=async g=>{e(!0),a("");try{await i(zh({email:g.email})).unwrap(),o("/callback",{state:{email:g.email}})}catch(v){const y=(v==null?void 0:v.message)||"Terjadi kesalahan saat mengirim email reset password";a(y)}finally{e(!1)}},m=()=>{o("/login")};return s.jsxs("div",{className:"min-h-screen",children:[s.jsxs("div",{className:"hidden lg:flex h-screen",children:[s.jsxs("div",{className:"w-[70%] relative bg-gray-100 dark:bg-gray-900",children:[s.jsx("img",{src:gx,alt:"Background",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/10"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 via-transparent to-transparent"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-black/20"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/30"}),s.jsxs("div",{className:"absolute top-8 left-8 text-white flex items-center space-x-4",children:[s.jsx("img",{src:Ws,alt:"Logo",className:"w-16 h-16 object-contain"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sistem Informasi Yayasan Baitul Muslim Lampung Timur"}),s.jsx("p",{className:"text-white/90 max-w-md",children:"Yayasan pendidikan dan dakwah Islam yang menyelenggarakan pendidikan terpadu berkualitas sejak 1993"})]})]})]}),s.jsx("div",{className:"w-[30%] flex items-center justify-center bg-background p-8",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:Ws,alt:"Logo",className:"w-16 h-16 object-contain"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Lupa Password"}),s.jsx("p",{className:"text-muted-foreground",children:"Masukkan email Anda untuk mendapatkan link reset password"})]})]}),s.jsxs(je,{className:"shadow-lg",children:[s.jsxs(ct,{className:"space-y-1",children:[s.jsx(pt,{className:"text-xl",children:"Reset Password"}),s.jsx(dl,{children:"Kami akan mengirimkan link reset password ke email Anda"})]}),s.jsx(In,{...d,children:s.jsxs("form",{onSubmit:d.handleSubmit(h),children:[s.jsxs(we,{className:"space-y-4",children:[n&&s.jsx(pa,{variant:"destructive",children:s.jsx(ga,{children:n})}),s.jsx($e,{control:d.control,name:"email",render:({field:g})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Email"}),s.jsx(Ue,{children:s.jsx(at,{type:"email",placeholder:"Masukkan email",disabled:t,...g})}),s.jsx(He,{})]})})]}),s.jsxs(ba,{className:"flex flex-col space-y-4 mt-4",children:[s.jsx(pe,{type:"submit",className:"w-full",disabled:t,children:t?s.jsxs(s.Fragment,{children:[s.jsx(Ua,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengirim..."]}):"Kirim Link Reset Password"}),s.jsxs(pe,{type:"button",variant:"outline",className:"w-full",onClick:m,disabled:t,children:[s.jsx(il,{className:"mr-2 h-4 w-4"}),"Kembali ke Login"]})]})]})})]})]})})]}),s.jsx("div",{className:"lg:hidden min-h-screen flex items-center justify-center p-4 bg-background",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:Ws,alt:"Logo",className:"w-16 h-16 object-contain"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Lupa Password"}),s.jsx("p",{className:"text-muted-foreground",children:"Masukkan email Anda untuk mendapatkan link reset password"})]})]}),s.jsxs(je,{className:"shadow-lg",children:[s.jsxs(ct,{className:"space-y-1",children:[s.jsx(pt,{className:"text-xl",children:"Reset Password"}),s.jsx(dl,{children:"Kami akan mengirimkan link reset password ke email Anda"})]}),s.jsx(In,{...d,children:s.jsxs("form",{onSubmit:d.handleSubmit(h),children:[s.jsxs(we,{className:"space-y-4",children:[n&&s.jsx(pa,{variant:"destructive",children:s.jsx(ga,{children:n})}),s.jsx($e,{control:d.control,name:"email",render:({field:g})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Email"}),s.jsx(Ue,{children:s.jsx(at,{type:"email",placeholder:"Masukkan email",disabled:t,...g})}),s.jsx(He,{})]})})]}),s.jsxs(ba,{className:"flex flex-col space-y-4 mt-4",children:[s.jsx(pe,{type:"submit",className:"w-full",disabled:t,children:t?s.jsxs(s.Fragment,{children:[s.jsx(Ua,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengirim..."]}):"Kirim Link Reset Password"}),s.jsxs(pe,{type:"button",variant:"outline",className:"w-full",onClick:m,disabled:t,children:[s.jsx(il,{className:"mr-2 h-4 w-4"}),"Kembali ke Login"]})]})]})})]})]})})]})}function hV(){var v;const t=Ei(),e=iu(),n=Df(),[a,i]=x.useState(!1),[o,c]=x.useState(""),[d,h]=x.useState(""),m=((v=e.state)==null?void 0:v.email)||"",p=()=>{t("/login")},g=async()=>{if(!m){t("/forgot-password");return}i(!0),c(""),h("");try{await n(zh({email:m})).unwrap(),h("Email telah dikirim ulang!")}catch(y){c(y||"Terjadi kesalahan saat mengirim ulang email")}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen",children:[s.jsxs("div",{className:"hidden lg:flex h-screen",children:[s.jsxs("div",{className:"w-[70%] relative bg-gray-100 dark:bg-gray-900",children:[s.jsx("img",{src:gx,alt:"Background",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/10"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 via-transparent to-transparent"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-black/20"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/30"}),s.jsxs("div",{className:"absolute top-8 left-8 text-white flex items-center space-x-4",children:[s.jsx("img",{src:Ws,alt:"Logo",className:"w-16 h-16 object-contain"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sistem Informasi Yayasan Baitul Muslim Lampung Timur"}),s.jsx("p",{className:"text-white/90 max-w-md",children:"Yayasan pendidikan dan dakwah Islam yang menyelenggarakan pendidikan terpadu berkualitas sejak 1993"})]})]})]}),s.jsx("div",{className:"w-[30%] flex items-center justify-center bg-background p-8",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:Ws,alt:"Logo",className:"w-16 h-16 object-contain"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Email Terkirim!"}),s.jsx("p",{className:"text-muted-foreground",children:"Link reset password telah dikirim ke email Anda"})]})]}),s.jsxs(je,{className:"shadow-lg",children:[s.jsxs(ct,{className:"space-y-1",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"rounded-full bg-green-100 p-3",children:s.jsx(Ji,{className:"h-8 w-8 text-green-600"})})}),s.jsx(pt,{className:"text-xl text-center",children:"Email Berhasil Dikirim"}),s.jsx(dl,{className:"text-center",children:"Kami telah mengirimkan link reset password ke email Anda"})]}),s.jsxs(we,{className:"space-y-4",children:[s.jsxs(pa,{children:[s.jsx(ic,{className:"h-4 w-4"}),s.jsxs(ga,{children:["Link reset password telah dikirim ke"," ",s.jsx("span",{className:"font-semibold",children:m})]})]}),o&&s.jsx(pa,{variant:"destructive",children:s.jsx(ga,{children:o})}),d&&s.jsxs(pa,{children:[s.jsx(Ji,{className:"h-4 w-4"}),s.jsx(ga,{children:d})]}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[s.jsx("p",{children:"Silakan cek email Anda dan klik link yang diberikan untuk reset password."}),s.jsx("p",{children:"Jika Anda tidak menerima email dalam beberapa menit, cek folder spam atau junk mail."})]})]}),s.jsxs(ba,{className:"flex flex-col space-y-4 mt-4",children:[s.jsxs(pe,{type:"button",className:"w-full",onClick:p,children:[s.jsx(il,{className:"mr-2 h-4 w-4"}),"Kembali ke Login"]}),s.jsx(pe,{type:"button",variant:"outline",className:"w-full",onClick:g,disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(Ua,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengirim..."]}):"Kirim Ulang Email"})]})]})]})})]}),s.jsx("div",{className:"lg:hidden min-h-screen flex items-center justify-center p-4 bg-background",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:Ws,alt:"Logo",className:"w-16 h-16 object-contain"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Email Terkirim!"}),s.jsx("p",{className:"text-muted-foreground",children:"Link reset password telah dikirim ke email Anda"})]})]}),s.jsxs(je,{className:"shadow-lg",children:[s.jsxs(ct,{className:"space-y-1",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"rounded-full bg-green-100 p-3",children:s.jsx(Ji,{className:"h-8 w-8 text-green-600"})})}),s.jsx(pt,{className:"text-xl text-center",children:"Email Berhasil Dikirim"}),s.jsx(dl,{className:"text-center",children:"Kami telah mengirimkan link reset password ke email Anda"})]}),s.jsxs(we,{className:"space-y-4",children:[s.jsxs(pa,{children:[s.jsx(ic,{className:"h-4 w-4"}),s.jsxs(ga,{children:["Link reset password telah dikirim ke"," ",s.jsx("span",{className:"font-semibold",children:m})]})]}),o&&s.jsx(pa,{variant:"destructive",children:s.jsx(ga,{children:o})}),d&&s.jsxs(pa,{children:[s.jsx(Ji,{className:"h-4 w-4"}),s.jsx(ga,{children:d})]}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[s.jsx("p",{children:"Silakan cek email Anda dan klik link yang diberikan untuk reset password."}),s.jsx("p",{children:"Jika Anda tidak menerima email dalam beberapa menit, cek folder spam atau junk mail."})]})]}),s.jsxs(ba,{className:"flex flex-col space-y-4 mt-4",children:[s.jsxs(pe,{type:"button",className:"w-full",onClick:p,children:[s.jsx(il,{className:"mr-2 h-4 w-4"}),"Kembali ke Login"]}),s.jsx(pe,{type:"button",variant:"outline",className:"w-full",onClick:g,disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(Ua,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengirim..."]}):"Kirim Ulang Email"})]})]})]})})]})}const fV=Bs({new_password:rt().min(6,"Password minimal 6 karakter").max(128,"Password maksimal 128 karakter"),confirm_password:rt()}).refine(t=>t.new_password===t.confirm_password,{message:"Password tidak cocok",path:["confirm_password"]});function mV(){const[t,e]=x.useState(!1),[n,a]=x.useState(""),[i,o]=x.useState(!1),[c,d]=x.useState(!1),h=Df(),m=Ei(),[p]=Ug(),g=p.get("token"),v=gs({resolver:xs(fV),defaultValues:{new_password:"",confirm_password:""}});x.useEffect(()=>{g||m("/forgot-password")},[g,m]),ve.useEffect(()=>{n&&a("")},[v.watch()]);const y=async j=>{if(!g){a("Token reset password tidak valid");return}e(!0),a("");try{await h(Hp({token:g,new_password:j.new_password})).unwrap(),m("/login",{state:{message:"Password berhasil direset. Silakan login dengan password baru."}})}catch(S){const k=(S==null?void 0:S.message)||"Terjadi kesalahan saat reset password";a(k)}finally{e(!1)}},w=()=>{m("/login")};return g?s.jsxs("div",{className:"min-h-screen",children:[s.jsxs("div",{className:"hidden lg:flex h-screen",children:[s.jsxs("div",{className:"w-[70%] relative bg-gray-100 dark:bg-gray-900",children:[s.jsx("img",{src:gx,alt:"Background",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/10"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 via-transparent to-transparent"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-black/20"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/30"}),s.jsxs("div",{className:"absolute top-8 left-8 text-white flex items-center space-x-4",children:[s.jsx("img",{src:Ws,alt:"Logo",className:"w-16 h-16 object-contain"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sistem Informasi Yayasan Baitul Muslim Lampung Timur"}),s.jsx("p",{className:"text-white/90 max-w-md",children:"Yayasan pendidikan dan dakwah Islam yang menyelenggarakan pendidikan terpadu berkualitas sejak 1993"})]})]})]}),s.jsx("div",{className:"w-[30%] flex items-center justify-center bg-background p-8",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:Ws,alt:"Logo",className:"w-16 h-16 object-contain"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Reset Password"}),s.jsx("p",{className:"text-muted-foreground",children:"Masukkan password baru Anda"})]})]}),s.jsxs(je,{className:"shadow-lg",children:[s.jsxs(ct,{className:"space-y-1",children:[s.jsx(pt,{className:"text-xl",children:"Password Baru"}),s.jsx(dl,{children:"Masukkan password baru yang aman untuk akun Anda"})]}),s.jsx(In,{...v,children:s.jsxs("form",{onSubmit:v.handleSubmit(y),children:[s.jsxs(we,{className:"space-y-4",children:[n&&s.jsx(pa,{variant:"destructive",children:s.jsx(ga,{children:n})}),s.jsx($e,{control:v.control,name:"new_password",render:({field:j})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Password Baru"}),s.jsx(Ue,{children:s.jsxs("div",{className:"relative",children:[s.jsx(at,{type:i?"text":"password",placeholder:"Masukkan password baru",disabled:t,...j}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>o(!i),disabled:t,children:i?s.jsx(eo,{className:"h-4 w-4"}):s.jsx(Ys,{className:"h-4 w-4"})})]})}),s.jsx(He,{})]})}),s.jsx($e,{control:v.control,name:"confirm_password",render:({field:j})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Konfirmasi Password"}),s.jsx(Ue,{children:s.jsxs("div",{className:"relative",children:[s.jsx(at,{type:c?"text":"password",placeholder:"Konfirmasi password baru",disabled:t,...j}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>d(!c),disabled:t,children:c?s.jsx(eo,{className:"h-4 w-4"}):s.jsx(Ys,{className:"h-4 w-4"})})]})}),s.jsx(He,{})]})})]}),s.jsxs(ba,{className:"flex flex-col space-y-4 mt-4",children:[s.jsx(pe,{type:"submit",className:"w-full",disabled:t,children:t?s.jsxs(s.Fragment,{children:[s.jsx(Ua,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):"Reset Password"}),s.jsxs(pe,{type:"button",variant:"outline",className:"w-full",onClick:w,disabled:t,children:[s.jsx(il,{className:"mr-2 h-4 w-4"}),"Kembali ke Login"]})]})]})})]})]})})]}),s.jsx("div",{className:"lg:hidden min-h-screen flex items-center justify-center p-4 bg-background",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:Ws,alt:"Logo",className:"w-16 h-16 object-contain"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Reset Password"}),s.jsx("p",{className:"text-muted-foreground",children:"Masukkan password baru Anda"})]})]}),s.jsxs(je,{className:"shadow-lg",children:[s.jsxs(ct,{className:"space-y-1",children:[s.jsx(pt,{className:"text-xl",children:"Password Baru"}),s.jsx(dl,{children:"Masukkan password baru yang aman untuk akun Anda"})]}),s.jsx(In,{...v,children:s.jsxs("form",{onSubmit:v.handleSubmit(y),children:[s.jsxs(we,{className:"space-y-4",children:[n&&s.jsx(pa,{variant:"destructive",children:s.jsx(ga,{children:n})}),s.jsx($e,{control:v.control,name:"new_password",render:({field:j})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Password Baru"}),s.jsx(Ue,{children:s.jsxs("div",{className:"relative",children:[s.jsx(at,{type:i?"text":"password",placeholder:"Masukkan password baru",disabled:t,...j}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>o(!i),disabled:t,children:i?s.jsx(eo,{className:"h-4 w-4"}):s.jsx(Ys,{className:"h-4 w-4"})})]})}),s.jsx(He,{})]})}),s.jsx($e,{control:v.control,name:"confirm_password",render:({field:j})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Konfirmasi Password"}),s.jsx(Ue,{children:s.jsxs("div",{className:"relative",children:[s.jsx(at,{type:c?"text":"password",placeholder:"Konfirmasi password baru",disabled:t,...j}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>d(!c),disabled:t,children:c?s.jsx(eo,{className:"h-4 w-4"}):s.jsx(Ys,{className:"h-4 w-4"})})]})}),s.jsx(He,{})]})})]}),s.jsxs(ba,{className:"flex flex-col space-y-4 mt-4",children:[s.jsx(pe,{type:"submit",className:"w-full",disabled:t,children:t?s.jsxs(s.Fragment,{children:[s.jsx(Ua,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):"Reset Password"}),s.jsxs(pe,{type:"button",variant:"outline",className:"w-full",onClick:w,disabled:t,children:[s.jsx(il,{className:"mr-2 h-4 w-4"}),"Kembali ke Login"]})]})]})})]})]})})]}):null}function pV({...t}){return s.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...t})}function gV({className:t,...e}){return s.jsx("ol",{"data-slot":"breadcrumb-list",className:ge("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",t),...e})}function xV({className:t,...e}){return s.jsx("li",{"data-slot":"breadcrumb-item",className:ge("inline-flex items-center gap-1.5",t),...e})}function vV({asChild:t,className:e,...n}){const a=t?vj:"a";return s.jsx(a,{"data-slot":"breadcrumb-link",className:ge("hover:text-foreground transition-colors",e),...n})}function bV({className:t,...e}){return s.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:ge("text-foreground font-normal",t),...e})}function yV({children:t,className:e,...n}){return s.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:ge("[&>svg]:size-3.5",e),...n,children:t??s.jsx(y_,{})})}function Cs({title:t,description:e,breadcrumbs:n=[],actions:a,className:i=""}){return s.jsxs("div",{className:`space-y-4 ${i}`,children:[n.length>0&&s.jsx(pV,{children:s.jsx(gV,{children:n.map((o,c)=>s.jsxs(ve.Fragment,{children:[s.jsx(xV,{children:o.current||!o.href?s.jsx(bV,{children:o.label}):s.jsx(vV,{asChild:!0,children:s.jsx(ra,{to:o.href,children:o.label})})}),c<n.length-1&&s.jsx(yV,{})]},c))})}),s.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-start lg:justify-between",children:[s.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[s.jsx("h1",{className:"break-words text-xl font-bold tracking-tight sm:text-2xl lg:text-3xl",children:t}),e&&s.jsx("div",{className:"break-words text-sm text-muted-foreground sm:text-base",children:e})]}),a&&s.jsx("div",{className:"flex w-full flex-wrap items-center gap-2 sm:w-auto [&>div]:flex [&>div]:flex-wrap [&>div]:gap-2",children:a})]})]})}function nn({...t}){return s.jsx(Jg,{"data-slot":"dialog",...t})}function $D({...t}){return s.jsx(Ij,{"data-slot":"dialog-trigger",...t})}function jV({...t}){return s.jsx(ex,{"data-slot":"dialog-portal",...t})}function wV({className:t,...e}){return s.jsx(tx,{"data-slot":"dialog-overlay",className:ge("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function sn({className:t,children:e,...n}){return s.jsxs(jV,{"data-slot":"dialog-portal",children:[s.jsx(wV,{}),s.jsxs(nx,{"data-slot":"dialog-content",className:ge("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,s.jsxs(sx,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(j_,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function an({className:t,...e}){return s.jsx("div",{"data-slot":"dialog-header",className:ge("flex flex-col gap-2 text-center sm:text-left",t),...e})}function zs({className:t,...e}){return s.jsx("div",{"data-slot":"dialog-footer",className:ge("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function rn({className:t,...e}){return s.jsx(Bj,{"data-slot":"dialog-title",className:ge("text-lg leading-none font-semibold",t),...e})}function Hf({className:t,...e}){return s.jsx(zj,{"data-slot":"dialog-description",className:ge("text-muted-foreground text-sm",t),...e})}const NV=Bs({email:rt().email("Format email tidak valid").min(1,"Email wajib diisi"),name:rt().min(1,"Nama wajib diisi").min(2,"Nama minimal 2 karakter"),phone:rt().optional().or(us("")),address:rt().optional().or(us("")),position:rt().optional().or(us(""))}),SV=({open:t,onOpenChange:e,user:n,onSave:a,loading:i=!1})=>{var y,w,j,S;const[o,c]=x.useState(null),[d,h]=x.useState(null),m=gs({resolver:xs(NV),defaultValues:{email:n.email||"",name:((y=n.profile)==null?void 0:y.name)||n.display_name||"",phone:((w=n.profile)==null?void 0:w.phone)||"",address:((j=n.profile)==null?void 0:j.address)||"",position:((S=n.profile)==null?void 0:S.position)||""}});x.useEffect(()=>{var k,E,A,T;t&&n&&(m.reset({email:n.email||"",name:((k=n.profile)==null?void 0:k.name)||n.display_name||"",phone:((E=n.profile)==null?void 0:E.phone)||"",address:((A=n.profile)==null?void 0:A.address)||"",position:((T=n.profile)==null?void 0:T.position)||""}),c(null),h(null))},[t,n,m]);const p=k=>{if(k&&k.length>0){const E=k[0];c(E);const A=new FileReader;A.onload=T=>{var _;h((_=T.target)==null?void 0:_.result)},A.readAsDataURL(E)}},g=k=>{const E={email:k.email,profile:{...n.profile,name:k.name,phone:k.phone||void 0,address:k.address||void 0,position:k.position||void 0}};a(E,o||void 0)},v=()=>{var A;const E=(((A=n.profile)==null?void 0:A.name)||n.display_name||"N").split(" ");return E.length>=2?E[0][0]+E[1][0]:E[0][0]};return s.jsx(nn,{open:t,onOpenChange:e,children:s.jsxs(sn,{className:"w-[95vw] max-w-2xl max-h-[90vh] flex flex-col",children:[s.jsx(an,{className:"flex-shrink-0 border-b pb-4",children:s.jsx(rn,{children:"Edit Profil"})}),s.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:s.jsx(In,{...m,children:s.jsxs("form",{onSubmit:m.handleSubmit(g),className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col items-center gap-4 mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(zf,{className:"w-24 h-24",children:d?s.jsx(lf,{src:d,alt:"Preview"}):n.img_url?s.jsx(lf,{src:gr(n.img_url),alt:n.display_name}):s.jsx(Uf,{className:"text-2xl",children:v()})}),s.jsx(pe,{type:"button",size:"sm",variant:"secondary",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full p-0",onClick:()=>{var k;return(k=document.getElementById("profile-image-upload"))==null?void 0:k.click()},disabled:i,children:s.jsx(yU,{className:"h-4 w-4"})})]}),s.jsx("input",{id:"profile-image-upload",type:"file",accept:"image/*",className:"hidden",onChange:k=>p(k.target.files)}),o&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Foto baru dipilih: ",o.name]})]}),s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx($e,{control:m.control,name:"email",render:({field:k})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Email"}),s.jsx(Ue,{children:s.jsx(at,{type:"email",placeholder:"Masukkan email",disabled:i,...k})}),s.jsx(He,{})]})}),s.jsx($e,{control:m.control,name:"name",render:({field:k})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Nama Lengkap"}),s.jsx(Ue,{children:s.jsx(at,{placeholder:"Masukkan nama lengkap",disabled:i,...k})}),s.jsx(He,{})]})}),s.jsx($e,{control:m.control,name:"position",render:({field:k})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Posisi/Jabatan"}),s.jsx(Ue,{children:s.jsx(at,{placeholder:"Masukkan posisi atau jabatan",disabled:i,...k})}),s.jsx(He,{})]})}),s.jsx($e,{control:m.control,name:"phone",render:({field:k})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Nomor Telepon"}),s.jsx(Ue,{children:s.jsx(at,{placeholder:"Masukkan nomor telepon",disabled:i,...k})}),s.jsx(He,{})]})}),s.jsx($e,{control:m.control,name:"address",render:({field:k})=>s.jsxs(Fe,{className:"md:col-span-2",children:[s.jsx(Ve,{children:"Alamat"}),s.jsx(Ue,{children:s.jsx(at,{placeholder:"Masukkan alamat lengkap",disabled:i,...k})}),s.jsx(He,{})]})})]})]})})}),s.jsxs(zs,{className:"flex-shrink-0 border-t pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:i,children:"Batal"}),s.jsx(pe,{onClick:m.handleSubmit(g),disabled:i,children:i?"Menyimpan...":"Simpan Perubahan"})]})]})})},FD=({seconds:t=5,onStart:e,onComplete:n}={})=>{const{logout:a}=mr(),i=x.useRef(null),o=()=>{i.current&&clearTimeout(i.current),e==null||e(),i.current=setTimeout(async()=>{try{await a(),n==null||n()}catch(d){console.error("Auto logout error:",d)}},t*1e3)},c=()=>{i.current&&clearTimeout(i.current)};return x.useEffect(()=>()=>{c()},[]),{startCountdown:o,cancelCountdown:c}},kV=Bs({current_password:rt().min(1,"Password saat ini wajib diisi"),new_password:rt().min(6,"Password baru minimal 6 karakter").max(128,"Password baru maksimal 128 karakter"),confirm_password:rt().min(1,"Konfirmasi password wajib diisi")}).refine(t=>t.new_password===t.confirm_password,{message:"Konfirmasi password tidak cocok",path:["confirm_password"]}),EV=({open:t,onOpenChange:e,onSave:n,loading:a})=>{const{toast:i}=_t(),[o,c]=x.useState(!1),d=Df(),h=o||a,{startCountdown:m}=FD({seconds:5,reason:"Password telah berubah, sistem akan logout untuk keamanan."}),[p,g]=x.useState(!1),[v,y]=x.useState(!1),[w,j]=x.useState(!1),S=gs({resolver:xs(kV),defaultValues:{current_password:"",new_password:"",confirm_password:""}}),k=S.watch("new_password"),E=M=>[{regex:/.{6,}/,label:"Minimal 6 karakter"},{regex:/^.{1,128}$/,label:"Maksimal 128 karakter"}].map(O=>({...O,met:O.regex.test(M)})),A=async M=>{c(!0);try{await d(Uh({current_password:M.current_password,new_password:M.new_password})).unwrap(),n(),i({title:"Password berhasil diubah",description:"Anda akan logout otomatis dalam 5 detik untuk keamanan.",variant:"default"}),S.reset(),e(!1),m()}catch(P){console.error("Error changing password:",P),i({title:"Gagal mengubah password",description:P||"Terjadi kesalahan saat mengubah password",variant:"destructive"})}finally{c(!1)}},T=()=>{h||(S.reset(),e(!1))},_=E(k||"");return s.jsx(nn,{open:t,onOpenChange:e,children:s.jsxs(sn,{className:"max-w-md",children:[s.jsx(an,{children:s.jsxs(rn,{className:"flex items-center gap-2",children:[s.jsx(K_,{className:"w-5 h-5"}),"Ganti Password"]})}),s.jsx(In,{...S,children:s.jsxs("form",{onSubmit:S.handleSubmit(A),className:"space-y-4",children:[s.jsx($e,{control:S.control,name:"current_password",render:({field:M})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Password Saat Ini"}),s.jsx(Ue,{children:s.jsxs("div",{className:"relative",children:[s.jsx(at,{type:p?"text":"password",placeholder:"Masukkan password saat ini",disabled:h,...M}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>g(!p),disabled:h,children:p?s.jsx(eo,{className:"h-4 w-4"}):s.jsx(Ys,{className:"h-4 w-4"})})]})}),s.jsx(He,{})]})}),s.jsx($e,{control:S.control,name:"new_password",render:({field:M})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Password Baru"}),s.jsx(Ue,{children:s.jsxs("div",{className:"relative",children:[s.jsx(at,{type:v?"text":"password",placeholder:"Masukkan password baru",disabled:h,...M}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>y(!v),disabled:h,children:v?s.jsx(eo,{className:"h-4 w-4"}):s.jsx(Ys,{className:"h-4 w-4"})})]})}),s.jsx(He,{})]})}),k&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Syarat Password:"}),s.jsx("div",{className:"space-y-1",children:_.map((M,P)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ji,{className:`w-3 h-3 ${M.met?"text-green-500":"text-gray-300"}`}),s.jsx("span",{className:`text-xs ${M.met?"text-green-600":"text-gray-500"}`,children:M.label})]},P))})]}),s.jsx($e,{control:S.control,name:"confirm_password",render:({field:M})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Konfirmasi Password Baru"}),s.jsx(Ue,{children:s.jsxs("div",{className:"relative",children:[s.jsx(at,{type:w?"text":"password",placeholder:"Konfirmasi password baru",disabled:h,...M}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>j(!w),disabled:h,children:w?s.jsx(eo,{className:"h-4 w-4"}):s.jsx(Ys,{className:"h-4 w-4"})})]})}),s.jsx(He,{})]})}),s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm text-blue-800 font-medium mb-1",children:"Tips Keamanan:"}),s.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[s.jsx("li",{children:"• Gunakan password yang sulit ditebak"}),s.jsx("li",{children:"• Jangan gunakan informasi pribadi yang mudah ditebak"}),s.jsx("li",{children:"• Ganti password secara berkala"}),s.jsx("li",{children:"• Jangan bagikan password kepada siapa pun"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:T,disabled:h,children:"Batal"}),s.jsx(pe,{type:"submit",disabled:h,children:h?"Mengubah...":"Ubah Password"})]})]})})]})})},AV={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},CV=(t,e,n)=>{let a;const i=AV[t];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dalam waktu "+a:a+" yang lalu":a},TV={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},_V={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},RV={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},DV={date:Bb({formats:TV,defaultWidth:"full"}),time:Bb({formats:_V,defaultWidth:"full"}),dateTime:Bb({formats:RV,defaultWidth:"full"})},MV={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},PV=(t,e,n,a)=>MV[t],OV={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},LV={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},IV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},BV={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},zV={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},UV={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},$V=(t,e)=>"ke-"+Number(t),FV={ordinalNumber:$V,era:ph({values:OV,defaultWidth:"wide"}),quarter:ph({values:LV,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ph({values:IV,defaultWidth:"wide"}),day:ph({values:BV,defaultWidth:"wide"}),dayPeriod:ph({values:zV,defaultWidth:"wide",formattingValues:UV,defaultFormattingWidth:"wide"})},VV=/^ke-(\d+)?/i,qV=/\d+/i,HV={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},GV={any:[/^s/i,/^(m|e)/i]},KV={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},YV={any:[/1/i,/2/i,/3/i,/4/i]},XV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},WV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZV={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},QV={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},JV={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},eq={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},tq={ordinalNumber:u6({matchPattern:VV,parsePattern:qV,valueCallback:t=>parseInt(t,10)}),era:gh({matchPatterns:HV,defaultMatchWidth:"wide",parsePatterns:GV,defaultParseWidth:"any"}),quarter:gh({matchPatterns:KV,defaultMatchWidth:"wide",parsePatterns:YV,defaultParseWidth:"any",valueCallback:t=>t+1}),month:gh({matchPatterns:XV,defaultMatchWidth:"wide",parsePatterns:WV,defaultParseWidth:"any"}),day:gh({matchPatterns:ZV,defaultMatchWidth:"wide",parsePatterns:QV,defaultParseWidth:"any"}),dayPeriod:gh({matchPatterns:JV,defaultMatchWidth:"any",parsePatterns:eq,defaultParseWidth:"any"})},xn={code:"id",formatDistance:CV,formatLong:DV,formatRelative:PV,localize:FV,match:tq,options:{weekStartsOn:1,firstWeekContainsDate:1}},nq=()=>{var E,A,T;const t=Mj(),e=Xo(RB),n=Xo(DB),{toast:a}=_t(),[i,o]=x.useState(!1),[c,d]=x.useState(!1),{startCountdown:h}=FD({seconds:5,reason:"Email telah berubah, sistem akan logout untuk keamanan."});if(!e)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Data pengguna tidak ditemukan"}),s.jsx("p",{className:"text-muted-foreground",children:"Silakan login kembali."})]})});const m=()=>{var _;return((_=e.profile)==null?void 0:_.name)||e.display_name||e.full_name||"N/A"},p=()=>Ad[e.role]||e.role||"N/A",g=()=>{const M=m().split(" ");return M.length>=2?M[0][0]+M[1][0]:M[0][0]},v=_=>gn(new Date(_),"dd MMMM yyyy",{locale:xn}),y=_=>gn(new Date(_),"dd MMMM yyyy, HH:mm",{locale:xn}),w=()=>{o(!0)},j=()=>{d(!0)},S=async(_,M)=>{var O;if(!e)return;const P=_.email&&_.email.trim()!==((O=e.email)==null?void 0:O.trim());try{if(M){const I=new FormData;I.append("data",JSON.stringify(_)),I.append("image",M),await t(Bh({formData:I})).unwrap()}else await t(Bh(_)).unwrap();P?(a({title:"Email berhasil diperbarui",description:"Anda akan logout otomatis dalam 5 detik untuk keamanan.",variant:"default"}),o(!1),h()):(a({title:"Profil berhasil diperbarui",description:"Data profil Anda telah diperbarui.",variant:"default"}),o(!1))}catch(I){const G=(I==null?void 0:I.message)||"Terjadi kesalahan saat memperbarui profil.";a({title:"Gagal memperbarui profil",description:G,variant:"destructive"})}},k=()=>{d(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Cs,{title:"Profil Saya",description:"Kelola informasi profil dan keamanan akun Anda",actions:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(pe,{variant:"outline",onClick:w,children:[s.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Edit Profil"]}),s.jsxs(pe,{onClick:j,children:[s.jsx(K_,{className:"w-4 h-4 mr-2"}),"Ganti Password"]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(je,{className:"lg:col-span-1",children:[s.jsxs(ct,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(zf,{className:"w-24 h-24",children:e.img_url?s.jsx(lf,{src:gr(e.img_url),alt:e.display_name}):s.jsx(Uf,{className:"text-2xl",children:g()})})}),s.jsx(pt,{className:"text-xl",children:m()})]}),s.jsx(we,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ic,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:e.email||"Tidak ada email"})]}),((E=e.profile)==null?void 0:E.phone)&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qU,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:e.profile.phone})]}),((A=e.profile)==null?void 0:A.position)&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(cl,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:e.profile.position})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(m7,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:p()})]}),e.organization_name&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ll,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:e.organization_name})]})]})})]}),s.jsxs(je,{className:"lg:col-span-2",children:[s.jsx(ct,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(cl,{className:"w-5 h-5"}),"Informasi Detail"]})}),s.jsx(we,{children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wider",children:"Informasi Personal"}),s.jsxs("div",{className:"space-y-3",children:[((T=e.profile)==null?void 0:T.address)&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Alamat"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.profile.address})]}),e.organization_name&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Organisasi"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.organization_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Tanggal Akun dibuat"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v(e.created_at)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wider",children:"Informasi Sistem"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Peran"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p()})]}),e.last_login_at&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Login Terakhir"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y(e.last_login_at)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Data Terakhir Diupdate"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.updated_at?y(e.updated_at):y(e.created_at)})]})]})]})]})})]})]}),s.jsx(SV,{open:i,onOpenChange:o,user:e,onSave:S,loading:n}),s.jsx(EV,{open:c,onOpenChange:d,onSave:k,loading:n})]})};var sq=[" ","Enter","ArrowUp","ArrowDown"],aq=[" ","Enter"],oc="Select",[xx,vx,rq]=$f(oc),[fu,ble]=Qs(oc,[rq,gl]),bx=gl(),[iq,xl]=fu(oc),[oq,lq]=fu(oc),VD=t=>{const{__scopeSelect:e,children:n,open:a,defaultOpen:i,onOpenChange:o,value:c,defaultValue:d,onValueChange:h,dir:m,name:p,autoComplete:g,disabled:v,required:y,form:w}=t,j=bx(e),[S,k]=x.useState(null),[E,A]=x.useState(null),[T,_]=x.useState(!1),M=Bf(m),[P,O]=Ur({prop:a,defaultProp:i??!1,onChange:o,caller:oc}),[I,G]=Ur({prop:c,defaultProp:d,onChange:h,caller:oc}),R=x.useRef(null),X=S?w||!!S.closest("form"):!0,[$,Z]=x.useState(new Set),te=Array.from($).map(L=>L.props.value).join(";");return s.jsx(Tj,{...j,children:s.jsxs(iq,{required:y,scope:e,trigger:S,onTriggerChange:k,valueNode:E,onValueNodeChange:A,valueNodeHasChildren:T,onValueNodeHasChildrenChange:_,contentId:hs(),value:I,onValueChange:G,open:P,onOpenChange:O,dir:M,triggerPointerDownPosRef:R,disabled:v,children:[s.jsx(xx.Provider,{scope:e,children:s.jsx(oq,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(L=>{Z(V=>new Set(V).add(L))},[]),onNativeOptionRemove:x.useCallback(L=>{Z(V=>{const B=new Set(V);return B.delete(L),B})},[]),children:n})}),X?s.jsxs(f4,{"aria-hidden":!0,required:y,tabIndex:-1,name:p,autoComplete:g,value:I,onChange:L=>G(L.target.value),disabled:v,form:w,children:[I===void 0?s.jsx("option",{value:""}):null,Array.from($)]},te):null]})})};VD.displayName=oc;var qD="SelectTrigger",HD=x.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:a=!1,...i}=t,o=bx(n),c=xl(qD,n),d=c.disabled||a,h=ht(e,c.onTriggerChange),m=vx(n),p=x.useRef("touch"),[g,v,y]=p4(j=>{const S=m().filter(A=>!A.disabled),k=S.find(A=>A.value===c.value),E=g4(S,j,k);E!==void 0&&c.onValueChange(E.value)}),w=j=>{d||(c.onOpenChange(!0),y()),j&&(c.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return s.jsx(Pf,{asChild:!0,...o,children:s.jsx(ze.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":m4(c.value)?"":void 0,...i,ref:h,onClick:_e(i.onClick,j=>{j.currentTarget.focus(),p.current!=="mouse"&&w(j)}),onPointerDown:_e(i.onPointerDown,j=>{p.current=j.pointerType;const S=j.target;S.hasPointerCapture(j.pointerId)&&S.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(w(j),j.preventDefault())}),onKeyDown:_e(i.onKeyDown,j=>{const S=g.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&v(j.key),!(S&&j.key===" ")&&sq.includes(j.key)&&(w(),j.preventDefault())})})})});HD.displayName=qD;var GD="SelectValue",KD=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:a,style:i,children:o,placeholder:c="",...d}=t,h=xl(GD,n),{onValueNodeHasChildrenChange:m}=h,p=o!==void 0,g=ht(e,h.onValueNodeChange);return wn(()=>{m(p)},[m,p]),s.jsx(ze.span,{...d,ref:g,style:{pointerEvents:"none"},children:m4(h.value)?s.jsx(s.Fragment,{children:c}):o})});KD.displayName=GD;var cq="SelectIcon",YD=x.forwardRef((t,e)=>{const{__scopeSelect:n,children:a,...i}=t;return s.jsx(ze.span,{"aria-hidden":!0,...i,ref:e,children:a||"▼"})});YD.displayName=cq;var dq="SelectPortal",XD=t=>s.jsx(cu,{asChild:!0,...t});XD.displayName=dq;var lc="SelectContent",WD=x.forwardRef((t,e)=>{const n=xl(lc,t.__scopeSelect),[a,i]=x.useState();if(wn(()=>{i(new DocumentFragment)},[]),!n.open){const o=a;return o?Qi.createPortal(s.jsx(ZD,{scope:t.__scopeSelect,children:s.jsx(xx.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),o):null}return s.jsx(QD,{...t,ref:e})});WD.displayName=lc;var _r=10,[ZD,vl]=fu(lc),uq="SelectContentImpl",hq=nl("SelectContent.RemoveScroll"),QD=x.forwardRef((t,e)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:c,side:d,sideOffset:h,align:m,alignOffset:p,arrowPadding:g,collisionBoundary:v,collisionPadding:y,sticky:w,hideWhenDetached:j,avoidCollisions:S,...k}=t,E=xl(lc,n),[A,T]=x.useState(null),[_,M]=x.useState(null),P=ht(e,ne=>T(ne)),[O,I]=x.useState(null),[G,R]=x.useState(null),X=vx(n),[$,Z]=x.useState(!1),te=x.useRef(!1);x.useEffect(()=>{if(A)return Zg(A)},[A]),Xg();const L=x.useCallback(ne=>{const[ie,...he]=X().map(ce=>ce.ref.current),[ae]=he.slice(-1),ue=document.activeElement;for(const ce of ne)if(ce===ue||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===ie&&_&&(_.scrollTop=0),ce===ae&&_&&(_.scrollTop=_.scrollHeight),ce==null||ce.focus(),document.activeElement!==ue))return},[X,_]),V=x.useCallback(()=>L([O,A]),[L,O,A]);x.useEffect(()=>{$&&V()},[$,V]);const{onOpenChange:B,triggerPointerDownPosRef:Y}=E;x.useEffect(()=>{if(A){let ne={x:0,y:0};const ie=ae=>{var ue,ce;ne={x:Math.abs(Math.round(ae.pageX)-(((ue=Y.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(ae.pageY)-(((ce=Y.current)==null?void 0:ce.y)??0))}},he=ae=>{ne.x<=10&&ne.y<=10?ae.preventDefault():A.contains(ae.target)||B(!1),document.removeEventListener("pointermove",ie),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",he,{capture:!0})}}},[A,B,Y]),x.useEffect(()=>{const ne=()=>B(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[B]);const[se,K]=p4(ne=>{const ie=X().filter(ue=>!ue.disabled),he=ie.find(ue=>ue.ref.current===document.activeElement),ae=g4(ie,ne,he);ae&&setTimeout(()=>ae.ref.current.focus())}),z=x.useCallback((ne,ie,he)=>{const ae=!te.current&&!he;(E.value!==void 0&&E.value===ie||ae)&&(I(ne),ae&&(te.current=!0))},[E.value]),W=x.useCallback(()=>A==null?void 0:A.focus(),[A]),q=x.useCallback((ne,ie,he)=>{const ae=!te.current&&!he;(E.value!==void 0&&E.value===ie||ae)&&R(ne)},[E.value]),H=a==="popper"?d0:JD,ee=H===d0?{side:d,sideOffset:h,align:m,alignOffset:p,arrowPadding:g,collisionBoundary:v,collisionPadding:y,sticky:w,hideWhenDetached:j,avoidCollisions:S}:{};return s.jsx(ZD,{scope:n,content:A,viewport:_,onViewportChange:M,itemRefCallback:z,selectedItem:O,onItemLeave:W,itemTextRefCallback:q,focusSelectedItem:V,selectedItemText:G,position:a,isPositioned:$,searchRef:se,children:s.jsx(If,{as:hq,allowPinchZoom:!0,children:s.jsx(Lf,{asChild:!0,trapped:E.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:_e(i,ne=>{var ie;(ie=E.trigger)==null||ie.focus({preventScroll:!0}),ne.preventDefault()}),children:s.jsx(mc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:s.jsx(H,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:ne=>ne.preventDefault(),...k,...ee,onPlaced:()=>Z(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:_e(k.onKeyDown,ne=>{const ie=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!ie&&ne.key.length===1&&K(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let ae=X().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(ae=ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const ue=ne.target,ce=ae.indexOf(ue);ae=ae.slice(ce+1)}setTimeout(()=>L(ae)),ne.preventDefault()}})})})})})})});QD.displayName=uq;var fq="SelectItemAlignedPosition",JD=x.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:a,...i}=t,o=xl(lc,n),c=vl(lc,n),[d,h]=x.useState(null),[m,p]=x.useState(null),g=ht(e,P=>p(P)),v=vx(n),y=x.useRef(!1),w=x.useRef(!0),{viewport:j,selectedItem:S,selectedItemText:k,focusSelectedItem:E}=c,A=x.useCallback(()=>{if(o.trigger&&o.valueNode&&d&&m&&j&&S&&k){const P=o.trigger.getBoundingClientRect(),O=m.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),G=k.getBoundingClientRect();if(o.dir!=="rtl"){const ue=G.left-O.left,ce=I.left-ue,Ce=P.left-ce,Oe=P.width+Ce,nt=Math.max(Oe,O.width),De=window.innerWidth-_r,ke=e0(ce,[_r,Math.max(_r,De-nt)]);d.style.minWidth=Oe+"px",d.style.left=ke+"px"}else{const ue=O.right-G.right,ce=window.innerWidth-I.right-ue,Ce=window.innerWidth-P.right-ce,Oe=P.width+Ce,nt=Math.max(Oe,O.width),De=window.innerWidth-_r,ke=e0(ce,[_r,Math.max(_r,De-nt)]);d.style.minWidth=Oe+"px",d.style.right=ke+"px"}const R=v(),X=window.innerHeight-_r*2,$=j.scrollHeight,Z=window.getComputedStyle(m),te=parseInt(Z.borderTopWidth,10),L=parseInt(Z.paddingTop,10),V=parseInt(Z.borderBottomWidth,10),B=parseInt(Z.paddingBottom,10),Y=te+L+$+B+V,se=Math.min(S.offsetHeight*5,Y),K=window.getComputedStyle(j),z=parseInt(K.paddingTop,10),W=parseInt(K.paddingBottom,10),q=P.top+P.height/2-_r,H=X-q,ee=S.offsetHeight/2,ne=S.offsetTop+ee,ie=te+L+ne,he=Y-ie;if(ie<=q){const ue=R.length>0&&S===R[R.length-1].ref.current;d.style.bottom="0px";const ce=m.clientHeight-j.offsetTop-j.offsetHeight,Ce=Math.max(H,ee+(ue?W:0)+ce+V),Oe=ie+Ce;d.style.height=Oe+"px"}else{const ue=R.length>0&&S===R[0].ref.current;d.style.top="0px";const Ce=Math.max(q,te+j.offsetTop+(ue?z:0)+ee)+he;d.style.height=Ce+"px",j.scrollTop=ie-q+j.offsetTop}d.style.margin=`${_r}px 0`,d.style.minHeight=se+"px",d.style.maxHeight=X+"px",a==null||a(),requestAnimationFrame(()=>y.current=!0)}},[v,o.trigger,o.valueNode,d,m,j,S,k,o.dir,a]);wn(()=>A(),[A]);const[T,_]=x.useState();wn(()=>{m&&_(window.getComputedStyle(m).zIndex)},[m]);const M=x.useCallback(P=>{P&&w.current===!0&&(A(),E==null||E(),w.current=!1)},[A,E]);return s.jsx(pq,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:y,onScrollButtonChange:M,children:s.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:s.jsx(ze.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});JD.displayName=fq;var mq="SelectPopperPosition",d0=x.forwardRef((t,e)=>{const{__scopeSelect:n,align:a="start",collisionPadding:i=_r,...o}=t,c=bx(n);return s.jsx(Gg,{...c,...o,ref:e,align:a,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});d0.displayName=mq;var[pq,h1]=fu(lc,{}),u0="SelectViewport",e4=x.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:a,...i}=t,o=vl(u0,n),c=h1(u0,n),d=ht(e,o.onViewportChange),h=x.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(xx.Slot,{scope:n,children:s.jsx(ze.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:_e(i.onScroll,m=>{const p=m.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:v}=c;if(v!=null&&v.current&&g){const y=Math.abs(h.current-p.scrollTop);if(y>0){const w=window.innerHeight-_r*2,j=parseFloat(g.style.minHeight),S=parseFloat(g.style.height),k=Math.max(j,S);if(k<w){const E=k+y,A=Math.min(w,E),T=E-A;g.style.height=A+"px",g.style.bottom==="0px"&&(p.scrollTop=T>0?T:0,g.style.justifyContent="flex-end")}}}h.current=p.scrollTop})})})]})});e4.displayName=u0;var t4="SelectGroup",[gq,xq]=fu(t4),vq=x.forwardRef((t,e)=>{const{__scopeSelect:n,...a}=t,i=hs();return s.jsx(gq,{scope:n,id:i,children:s.jsx(ze.div,{role:"group","aria-labelledby":i,...a,ref:e})})});vq.displayName=t4;var n4="SelectLabel",s4=x.forwardRef((t,e)=>{const{__scopeSelect:n,...a}=t,i=xq(n4,n);return s.jsx(ze.div,{id:i.id,...a,ref:e})});s4.displayName=n4;var yg="SelectItem",[bq,a4]=fu(yg),r4=x.forwardRef((t,e)=>{const{__scopeSelect:n,value:a,disabled:i=!1,textValue:o,...c}=t,d=xl(yg,n),h=vl(yg,n),m=d.value===a,[p,g]=x.useState(o??""),[v,y]=x.useState(!1),w=ht(e,E=>{var A;return(A=h.itemRefCallback)==null?void 0:A.call(h,E,a,i)}),j=hs(),S=x.useRef("touch"),k=()=>{i||(d.onValueChange(a),d.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(bq,{scope:n,value:a,disabled:i,textId:j,isSelected:m,onItemTextChange:x.useCallback(E=>{g(A=>A||((E==null?void 0:E.textContent)??"").trim())},[]),children:s.jsx(xx.ItemSlot,{scope:n,value:a,disabled:i,textValue:p,children:s.jsx(ze.div,{role:"option","aria-labelledby":j,"data-highlighted":v?"":void 0,"aria-selected":m&&v,"data-state":m?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...c,ref:w,onFocus:_e(c.onFocus,()=>y(!0)),onBlur:_e(c.onBlur,()=>y(!1)),onClick:_e(c.onClick,()=>{S.current!=="mouse"&&k()}),onPointerUp:_e(c.onPointerUp,()=>{S.current==="mouse"&&k()}),onPointerDown:_e(c.onPointerDown,E=>{S.current=E.pointerType}),onPointerMove:_e(c.onPointerMove,E=>{var A;S.current=E.pointerType,i?(A=h.onItemLeave)==null||A.call(h):S.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_e(c.onPointerLeave,E=>{var A;E.currentTarget===document.activeElement&&((A=h.onItemLeave)==null||A.call(h))}),onKeyDown:_e(c.onKeyDown,E=>{var T;((T=h.searchRef)==null?void 0:T.current)!==""&&E.key===" "||(aq.includes(E.key)&&k(),E.key===" "&&E.preventDefault())})})})})});r4.displayName=yg;var Ah="SelectItemText",i4=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:a,style:i,...o}=t,c=xl(Ah,n),d=vl(Ah,n),h=a4(Ah,n),m=lq(Ah,n),[p,g]=x.useState(null),v=ht(e,k=>g(k),h.onItemTextChange,k=>{var E;return(E=d.itemTextRefCallback)==null?void 0:E.call(d,k,h.value,h.disabled)}),y=p==null?void 0:p.textContent,w=x.useMemo(()=>s.jsx("option",{value:h.value,disabled:h.disabled,children:y},h.value),[h.disabled,h.value,y]),{onNativeOptionAdd:j,onNativeOptionRemove:S}=m;return wn(()=>(j(w),()=>S(w)),[j,S,w]),s.jsxs(s.Fragment,{children:[s.jsx(ze.span,{id:h.textId,...o,ref:v}),h.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Qi.createPortal(o.children,c.valueNode):null]})});i4.displayName=Ah;var o4="SelectItemIndicator",l4=x.forwardRef((t,e)=>{const{__scopeSelect:n,...a}=t;return a4(o4,n).isSelected?s.jsx(ze.span,{"aria-hidden":!0,...a,ref:e}):null});l4.displayName=o4;var h0="SelectScrollUpButton",c4=x.forwardRef((t,e)=>{const n=vl(h0,t.__scopeSelect),a=h1(h0,t.__scopeSelect),[i,o]=x.useState(!1),c=ht(e,a.onScrollButtonChange);return wn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=h.scrollTop>0;o(m)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?s.jsx(u4,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop-h.offsetHeight)}}):null});c4.displayName=h0;var f0="SelectScrollDownButton",d4=x.forwardRef((t,e)=>{const n=vl(f0,t.__scopeSelect),a=h1(f0,t.__scopeSelect),[i,o]=x.useState(!1),c=ht(e,a.onScrollButtonChange);return wn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const m=h.scrollHeight-h.clientHeight,p=Math.ceil(h.scrollTop)<m;o(p)};const h=n.viewport;return d(),h.addEventListener("scroll",d),()=>h.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?s.jsx(u4,{...t,ref:c,onAutoScroll:()=>{const{viewport:d,selectedItem:h}=n;d&&h&&(d.scrollTop=d.scrollTop+h.offsetHeight)}}):null});d4.displayName=f0;var u4=x.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:a,...i}=t,o=vl("SelectScrollButton",n),c=x.useRef(null),d=vx(n),h=x.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return x.useEffect(()=>()=>h(),[h]),wn(()=>{var p;const m=d().find(g=>g.ref.current===document.activeElement);(p=m==null?void 0:m.ref.current)==null||p.scrollIntoView({block:"nearest"})},[d]),s.jsx(ze.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:_e(i.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(a,50))}),onPointerMove:_e(i.onPointerMove,()=>{var m;(m=o.onItemLeave)==null||m.call(o),c.current===null&&(c.current=window.setInterval(a,50))}),onPointerLeave:_e(i.onPointerLeave,()=>{h()})})}),yq="SelectSeparator",h4=x.forwardRef((t,e)=>{const{__scopeSelect:n,...a}=t;return s.jsx(ze.div,{"aria-hidden":!0,...a,ref:e})});h4.displayName=yq;var m0="SelectArrow",jq=x.forwardRef((t,e)=>{const{__scopeSelect:n,...a}=t,i=bx(n),o=xl(m0,n),c=vl(m0,n);return o.open&&c.position==="popper"?s.jsx(Kg,{...i,...a,ref:e}):null});jq.displayName=m0;var wq="SelectBubbleInput",f4=x.forwardRef(({__scopeSelect:t,value:e,...n},a)=>{const i=x.useRef(null),o=ht(a,i),c=mx(e);return x.useEffect(()=>{const d=i.current;if(!d)return;const h=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==e&&p){const g=new Event("change",{bubbles:!0});p.call(d,e),d.dispatchEvent(g)}},[c,e]),s.jsx(ze.select,{...n,style:{...bT,...n.style},ref:o,defaultValue:e})});f4.displayName=wq;function m4(t){return t===""||t===void 0}function p4(t){const e=bn(t),n=x.useRef(""),a=x.useRef(0),i=x.useCallback(c=>{const d=n.current+c;e(d),function h(m){n.current=m,window.clearTimeout(a.current),m!==""&&(a.current=window.setTimeout(()=>h(""),1e3))}(d)},[e]),o=x.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,i,o]}function g4(t,e,n){const i=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let c=Nq(t,Math.max(o,0));i.length===1&&(c=c.filter(m=>m!==n));const h=c.find(m=>m.textValue.toLowerCase().startsWith(i.toLowerCase()));return h!==n?h:void 0}function Nq(t,e){return t.map((n,a)=>t[(e+a)%t.length])}var Sq=VD,x4=HD,kq=KD,Eq=YD,Aq=XD,v4=WD,Cq=e4,b4=s4,y4=r4,Tq=i4,_q=l4,j4=c4,w4=d4,N4=h4;const Ut=Sq,$t=kq,Lt=x.forwardRef(({className:t,children:e,...n},a)=>s.jsxs(x4,{ref:a,className:ge("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,s.jsx(Eq,{asChild:!0,children:s.jsx(b_,{className:"h-4 w-4 opacity-50"})})]}));Lt.displayName=x4.displayName;const S4=x.forwardRef(({className:t,...e},n)=>s.jsx(j4,{ref:n,className:ge("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(P9,{className:"h-4 w-4"})}));S4.displayName=j4.displayName;const k4=x.forwardRef(({className:t,...e},n)=>s.jsx(w4,{ref:n,className:ge("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(b_,{className:"h-4 w-4"})}));k4.displayName=w4.displayName;const It=x.forwardRef(({className:t,children:e,position:n="popper",...a},i)=>s.jsx(Aq,{children:s.jsxs(v4,{ref:i,className:ge("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...a,children:[s.jsx(S4,{}),s.jsx(Cq,{className:ge("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(k4,{})]})}));It.displayName=v4.displayName;const Rq=x.forwardRef(({className:t,...e},n)=>s.jsx(b4,{ref:n,className:ge("px-2 py-1.5 text-sm font-semibold",t),...e}));Rq.displayName=b4.displayName;const Be=x.forwardRef(({className:t,children:e,...n},a)=>s.jsxs(y4,{ref:a,className:ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(_q,{children:s.jsx(ax,{className:"h-4 w-4"})})}),s.jsx(Tq,{children:e})]}));Be.displayName=y4.displayName;const Dq=x.forwardRef(({className:t,...e},n)=>s.jsx(N4,{ref:n,className:ge("-mx-1 my-1 h-px bg-muted",t),...e}));Dq.displayName=N4.displayName;const Mq=ox("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function vt({className:t,variant:e,...n}){return s.jsx("div",{className:ge(Mq({variant:e}),t),...n})}class Pq extends Js{constructor(){super("/organizations")}async getOrganizations(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/?${n.toString()}`:"/";return this.get(a)}async createOrganization(e,n){const a=new FormData;return a.append("data",JSON.stringify(e)),n&&a.append("image",n),this.post("/",a,{headers:{"Content-Type":"multipart/form-data"}})}async getOrganizationById(e){return this.get(`/${e}`)}async updateOrganization(e,n,a){const i=new FormData;return i.append("data",JSON.stringify(n)),a&&i.append("image",a),this.put(`/${e}`,i,{headers:{"Content-Type":"multipart/form-data"}})}async deleteOrganization(e){return this.delete(`/${e}`)}}const Or=new Pq;class Oq extends Js{constructor(){super("/periods")}async getPeriods(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/?${n.toString()}`:"/";return this.get(a)}async createPeriod(e){return this.post("/",e)}async getPeriodById(e){return this.get(`/${e}`)}async getPeriodStats(e){return this.get(`/${e}/stats`)}async updatePeriod(e,n){return this.put(`/${e}`,n)}async activatePeriod(e){return this.patch(`/${e}/activate`)}async deactivatePeriod(e){return this.patch(`/${e}/deactivate`)}async deletePeriod(e){return this.delete(`/${e}`)}async getCurrentPeriods(){return this.get("/current")}async getActivePeriod(){return this.get("/active")}}const kn=new Oq;class Lq extends Js{constructor(){super("/evaluation-aspects")}async getEvaluationAspects(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`?${n.toString()}`:"";return this.get(a)}async getComprehensiveAnalytics(){return this.get("/analytics")}async createCategory(e){return this.post("/categories",e)}async updateCategory(e,n){return this.put(`/categories/${e}`,n)}async deleteCategory(e){return this.delete(`/categories/${e}`)}async getCategories(e=!1){const n=e?"?include_inactive=true":"";return this.get(`/categories${n}`)}async getAspectsByCategoryOrdered(e){return this.get(`/categories/${e}/aspects`)}async getCategoryWithAspects(e){return this.get(`/categories/${e}/with-aspects`)}async getEvaluationAspect(e){return this.get(`/${e}`)}async createEvaluationAspect(e){return this.post("/",e)}async updateEvaluationAspect(e,n){return this.put(`/${e}`,n)}async deleteEvaluationAspect(e){return this.delete(`/${e}`)}async activateAspect(e){return this.patch(`/${e}/activate`,{})}async deactivateAspect(e){return this.patch(`/${e}/deactivate`,{})}async updateCategoryOrder(e){return this.put("/ordering/category",e)}async updateAspectOrder(e){return this.put("/ordering/aspect",e)}async reorderAspectsInCategory(e){return this.put("/ordering/category/reorder",e)}async autoAssignOrders(){return this.post("/ordering/auto-assign",{})}async bulkCreateAspects(e){return this.post("/bulk/create",e)}async bulkUpdateAspects(e){return this.patch("/bulk/update",e)}async bulkDeleteAspects(e){return this.delete("/bulk/delete",e)}async manualSyncAspects(){return this.post("/sync/manual",{})}}const sr=new Lq;class Iq extends Js{constructor(){super("/teacher-evaluations")}async createTeacherEvaluation(e){return this.post("/",e)}async createEvaluationWithItems(e){return this.post("/with-items",e)}async getTeacherEvaluation(e){return this.get(`/${e}`)}async updateEvaluationFinalNotes(e,n){return this.put(`/${e}/final-notes`,n)}async deleteTeacherEvaluation(e){return this.delete(`/${e}`)}async createEvaluationItem(e,n){return this.post(`/${e}/items`,n)}async updateEvaluationItem(e,n,a){return this.put(`/${e}/items/${n}`,a)}async deleteEvaluationItem(e,n){return this.delete(`/${e}/items/${n}`)}async bulkUpdateEvaluationItems(e,n){return this.patch(`/${e}/bulk-items`,n)}async getTeacherEvaluationsFiltered(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/?${n.toString()}`:"/";return this.get(a)}async getTeacherEvaluationByPeriod(e,n){return this.get(`/teacher/${e}/period/${n}`)}async getEvaluationsByPeriod(e){return this.get(`/period/${e}`)}async assignTeachersToPeriod(e){return this.post("/assign-teachers-to-period",e)}async getPeriodEvaluationStats(e){return this.get(`/period/${e}/stats`)}async getTeacherEvaluationSummary(e,n){return this.get(`/teacher/${e}/period/${n}/summary`)}async getEvaluationsByTeacher(e,n){return this.getTeacherEvaluationsFiltered({...n,teacher_id:e})}async getEvaluationsByEvaluator(e,n){return this.getTeacherEvaluationsFiltered({...n,evaluator_id:e})}calculateCompletionPercentage(e,n){var i;const a=((i=e.items)==null?void 0:i.length)||0;return n>0?a/n*100:0}getFinalGradeDescription(e){return e>=87.5?"Excellent (A)":e>=62.5?"Good (B)":e>=37.5?"Satisfactory (C)":"Needs Improvement (D)"}groupItemsByAspect(e){const n=e.reduce((a,i)=>{const o=i.aspect_id;a[o]||(a[o]={aspect_id:o,aspect:i.aspect,items:[],average_score:0,grade_distribution:{A:0,B:0,C:0,D:0}}),a[o].items.push(i),i.grade&&a[o].grade_distribution[i.grade]++;const c=a[o].items.reduce((d,h)=>d+((h==null?void 0:h.score)||0),0);return a[o].average_score=c/a[o].items.length,a},{});return Object.values(n)}}const zd=new Iq;var Tt=(t=>(t.DRAFT="DRAFT",t.PENDING="PENDING",t.APPROVED="APPROVED",t.REJECTED="REJECTED",t))(Tt||{});class Bq extends Js{constructor(){super("/rpp-submissions")}async generateSubmissionsForPeriod(e){return this.post("/admin/generate-for-period",e)}async getMySubmissions(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/my-submissions?${n.toString()}`:"/my-submissions";return this.get(a)}async getMySubmissionForPeriod(e){return this.get(`/my-submission/${e}`)}async uploadRPPFile(e,n){return this.put(`/my-submission/${e}/upload`,n)}async createRPPSubmissionItem(e,n){return this.post(`/my-submission/${e}/create-item`,n)}async uploadFileToRPPItem(e,n){return this.put(`/my-submission-item/${e}/upload`,n)}async updateRPPSubmissionItemDetails(e,n){return this.put(`/my-submission-item/${e}/details`,n)}async deleteRPPSubmissionItem(e){return this.delete(`/my-submission-item/${e}`)}async submitForApproval(e,n={}){return this.post(`/my-submission/${e}/submit`,n)}async getPendingReviews(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/pending-reviews?${n.toString()}`:"/pending-reviews";return this.get(a)}async reviewSubmission(e,n){return this.post(`/review/${e}`,n)}async getSubmissions(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/?${n.toString()}`:"/";return this.get(a)}async getSubmission(e){return this.get(`/${e}`)}async getSubmissionStatistics(e){const n=new URLSearchParams;e&&n.append("period_id",e.toString());const a=n.toString()?`/statistics/overview?${n.toString()}`:"/statistics/overview";return this.get(a)}async getDashboardOverview(){return this.get("/dashboard/overview")}async getSubmissionItems(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/items/?${n.toString()}`:"/items/";return this.get(a)}async getSubmissionsByTeacher(e,n){return this.getSubmissions({...n,teacher_id:e})}async getSubmissionsByPeriod(e,n){return this.getSubmissions({...n,period_id:e})}async getSubmissionsByStatus(e,n){return this.getSubmissions({...n,status:e})}isSubmissionReady(e){return e.can_be_submitted&&e.items.length>0}getStatusDisplayName(e){return{[Tt.DRAFT]:"Draft",[Tt.PENDING]:"Menunggu Review",[Tt.APPROVED]:"Disetujui",[Tt.REJECTED]:"Ditolak"}[e]||e}getStatusColor(e){return{[Tt.DRAFT]:"gray",[Tt.PENDING]:"yellow",[Tt.APPROVED]:"green",[Tt.REJECTED]:"red"}[e]||"gray"}groupSubmissionsByTeacher(e){const n=e.reduce((a,i)=>{const o=i.teacher_id;a[o]||(a[o]={teacher:{id:i.teacher_id,name:i.teacher_name||"Unknown"},submissions:[],totalSubmissions:0,completedSubmissions:0,averageCompletion:0,statusDistribution:{draft:0,pending:0,approved:0,rejected:0}}),a[o].submissions.push(i),a[o].totalSubmissions++,i.items.length>0&&a[o].completedSubmissions++,a[o].statusDistribution[i.status]++;const c=a[o].submissions.reduce((d,h)=>d+h.completion_percentage,0);return a[o].averageCompletion=c/a[o].submissions.length,a},{});return Object.values(n)}groupSubmissionsByPeriod(e){const n=e.reduce((a,i)=>{const o=i.period_id;a[o]||(a[o]={period:{id:i.period_id,name:i.period_name||"Unknown"},submissions:[],totalSubmissions:0,completedSubmissions:0,averageCompletion:0,statusDistribution:{draft:0,pending:0,approved:0,rejected:0}}),a[o].submissions.push(i),a[o].totalSubmissions++,i.items.length>0&&a[o].completedSubmissions++,a[o].statusDistribution[i.status]++;const c=a[o].submissions.reduce((d,h)=>d+h.completion_percentage,0);return a[o].averageCompletion=c/a[o].submissions.length,a},{});return Object.values(n)}calculateCompletionStats(e){const n=e.length;if(n===0)return{total:0,completed:0,inProgress:0,notStarted:0,completionRate:0,averageCompletion:0};const a=e.filter(m=>m.items.length>0).length,i=0,o=e.filter(m=>m.items.length===0).length,d=e.reduce((m,p)=>m+p.completion_percentage,0)/n,h=a/n*100;return{total:n,completed:a,inProgress:i,notStarted:o,completionRate:h,averageCompletion:d}}}const ns=new Bq;class zq extends Js{constructor(){super("/media-files")}async uploadFile(e){const n=new FormData;return n.append("file",e.file),this.handleRequest(async()=>Wi.post(`${this.baseEndpoint}/upload`,n,{headers:{"Content-Type":"multipart/form-data"}}))}async getMediaFiles(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/?${n.toString()}`:"/";return this.get(a)}async getMediaFile(e){return this.get(`/${e}`)}async getFileViewInfo(e){return this.get(`/${e}/view`)}async getFilesByUploader(e,n){const a=new URLSearchParams;n&&Object.entries(n).forEach(([o,c])=>{c!=null&&a.append(o,c.toString())});const i=a.toString()?`/uploader/${e}?${a.toString()}`:`/uploader/${e}`;return this.get(i)}async getPublicFiles(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/public/list?${n.toString()}`:"/public/list";return this.get(a)}async downloadFile(e){return this.handleRequest(async()=>Wi.get(`${this.baseEndpoint}/${e}/download`,{responseType:"blob"}))}async updateMediaFile(e,n){return this.put(`/${e}`,n)}async deleteMediaFile(e){return this.delete(`/${e}`)}async bulkUpdateFiles(e){return this.put("/bulk",e)}async getFilesByOrganization(e,n){return this.getMediaFiles({...n,organization_id:e})}}const p0=new zq;class Uq extends Js{constructor(){super("/dashboard")}async getDashboard(e){const n=new URLSearchParams({period_id:e.period_id.toString(),...e.organization_id&&{organization_id:e.organization_id.toString()},...e.include_inactive!==void 0&&{include_inactive:e.include_inactive.toString()}}).toString();return this.get(`/?${n}`)}async getTeacherDashboard(e){const n=new URLSearchParams({period_id:e.period_id.toString()}).toString();return this.get(`/teacher?${n}`)}async getPrincipalDashboard(e){const n=new URLSearchParams({period_id:e.period_id.toString()}).toString();return this.get(`/principal?${n}`)}async getAdminDashboard(e){const n=new URLSearchParams({period_id:e.period_id.toString(),...e.organization_id&&{organization_id:e.organization_id.toString()}}).toString();return this.get(`/admin?${n}`)}async getQuickStats(e){const n=new URLSearchParams({period_id:e.period_id.toString()}).toString();return this.get(`/quick-stats?${n}`)}}const f1=new Uq;class $q extends Js{constructor(){super("/mitra")}async getMitras(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`?${n.toString()}`:"";return this.get(a)}async createMitra(e,n){const a=new FormData;return a.append("data",JSON.stringify(e)),n&&a.append("image",n),this.post("",a,{headers:{"Content-Type":"multipart/form-data"}})}async getMitraById(e){return this.get(`/${e}`)}async updateMitra(e,n,a){const i=new FormData;return i.append("data",JSON.stringify(n)),a&&i.append("image",a),this.put(`/${e}`,i,{headers:{"Content-Type":"multipart/form-data"}})}async deleteMitra(e){return this.delete(`/${e}`)}}const Ch=new $q;class Fq extends Js{constructor(){super("/programs")}async getPrograms(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`?${n.toString()}`:"";return this.get(a)}async createProgram(e,n){const a=new FormData;return a.append("data",JSON.stringify(e)),n&&a.append("image",n),this.post("",a,{headers:{"Content-Type":"multipart/form-data"}})}async getProgramById(e){return this.get(`/${e}`)}async updateProgram(e,n,a){const i=new FormData;return i.append("data",JSON.stringify(n)),a&&i.append("image",a),this.put(`/${e}`,i,{headers:{"Content-Type":"multipart/form-data"}})}async deleteProgram(e){return this.delete(`/${e}`)}}const Th=new Fq;class Vq extends Js{constructor(){super("/statistics")}async getStatistics(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/?${n.toString()}`:"/";return this.get(a)}async getAllStatistics(){return(await this.getStatistics({size:100})).items}async createStatistic(e,n){const a=new FormData;return a.append("data",JSON.stringify(e)),n&&a.append("image",n),this.post("/",a,{headers:{"Content-Type":"multipart/form-data"}})}async getStatisticById(e){return this.get(`/${e}`)}async updateStatistic(e,n,a){const i=new FormData;return i.append("data",JSON.stringify(n)),a&&i.append("image",a),this.put(`/${e}`,i,{headers:{"Content-Type":"multipart/form-data"}})}async deleteStatistic(e,n=!1){const a=new URLSearchParams;n&&a.append("hard_delete","true");const i=a.toString()?`/${e}?${a.toString()}`:`/${e}`;return this.delete(i)}async softDeleteStatistic(e){return this.deleteStatistic(e,!1)}async hardDeleteStatistic(e){return this.deleteStatistic(e,!0)}async getPublicStatistics(){return this.getAllStatistics()}async searchStatistics(e,n){const a={search:e,...n};return this.getStatistics(a)}async getStatisticsPaginated(e=1,n=10,a,i,o){const c={page:e,size:n,search:a,sort_by:i,sort_order:o};return this.getStatistics(c)}}const _h=new Vq;function Mt({title:t,value:e,subtitle:n,trend:a,trendValue:i,formatter:o=c=>c.toString()}){const c=()=>{switch(a){case"up":return s.jsx(Q_,{className:"h-4 w-4 text-green-500"});case"down":return s.jsx(j7,{className:"h-4 w-4 text-red-500"});default:return s.jsx(t7,{className:"h-4 w-4 text-muted-foreground"})}},d=()=>{switch(a){case"up":return"text-green-500";case"down":return"text-red-500";default:return"text-muted-foreground"}};return s.jsxs(je,{children:[s.jsx(ct,{className:"pb-2",children:s.jsx(pt,{className:"text-sm font-medium text-muted-foreground",children:t})}),s.jsxs(we,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o(e)}),n&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:n}),a&&i&&s.jsxs("div",{className:`flex items-center gap-1 text-xs mt-2 ${d()}`,children:[c(),s.jsx("span",{children:i})]})]})]})}function jg({distribution:t}){const e=Object.values(t).reduce((c,d)=>c+d,0),n=c=>e>0?Math.round(c/e*100):0,a={A:"#22c55e",B:"#3b82f6",C:"#eab308",D:"#ef4444"},i=Object.entries(t).filter(([c,d])=>d>0).map(([c,d])=>({name:`Grade ${c}`,value:d,percentage:n(d),color:a[c]||"#6b7280"})),o=({active:c,payload:d})=>{if(c&&d&&d.length){const h=d[0].payload;return s.jsxs("div",{className:"bg-background border border-border rounded-lg p-2 shadow-md",children:[s.jsx("p",{className:"font-medium",children:h.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[h.value," (",h.percentage,"%)"]})]})}return null};return s.jsxs(je,{children:[s.jsx(ct,{children:s.jsx(pt,{className:"text-sm font-medium",children:"Distribusi Grade"})}),s.jsxs(we,{children:[e===0?s.jsx("div",{className:"flex items-center justify-center h-48 text-muted-foreground",children:s.jsx("p",{children:"Belum ada data grade"})}):s.jsx("div",{className:"h-48",children:s.jsx(K5,{width:"100%",height:"100%",children:s.jsxs(Y5,{children:[s.jsx(X5,{data:i,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:2,dataKey:"value",children:i.map((c,d)=>s.jsx(W5,{fill:c.color},`cell-${d}`))}),s.jsx(Z5,{content:s.jsx(o,{})})]})})}),i.length>0&&s.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2",children:i.map(c=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:c.color}}),s.jsx("span",{className:"text-xs font-medium",children:c.name}),s.jsxs("span",{className:"text-xs text-muted-foreground ml-auto",children:[c.value," (",c.percentage,"%)"]})]},c.name))})]})]})}function qq({periodId:t}){const[e,n]=x.useState(null),[a,i]=x.useState(!0),[o,c]=x.useState(null);return x.useEffect(()=>{(async()=>{try{i(!0),c(null);const h=await f1.getTeacherDashboard({period_id:t});n(h)}catch(h){c(h instanceof Error?h.message:"Failed to fetch dashboard data")}finally{i(!1)}})()},[t]),a?s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(d=>s.jsx(je,{className:"animate-pulse",children:s.jsx(we,{className:"p-6",children:s.jsx("div",{className:"h-20 bg-muted rounded"})})},d))})}):o?s.jsx(je,{children:s.jsxs(we,{className:"p-6",children:[s.jsxs("p",{className:"text-red-500",children:["Error: ",o]}),s.jsx(pe,{onClick:()=>window.location.reload(),className:"mt-4",variant:"outline",children:"Coba Lagi"})]})}):e?s.jsxs("div",{className:"space-y-6",children:[e.period&&s.jsxs(je,{children:[s.jsx(ct,{children:s.jsxs(pt,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Periode Aktif"}),s.jsx(vt,{variant:e.period.is_active?"default":"secondary",children:e.period.is_active?"Aktif":"Tidak Aktif"})]})}),s.jsx(we,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Periode"}),s.jsx("p",{className:"font-medium",children:e.period.period_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Sekolah"}),s.jsx("p",{className:"font-medium",children:e.organization_name||"N/A"})]})]})})]}),s.jsxs(je,{children:[s.jsx(ct,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(va,{className:"h-5 w-5"}),"Statistik RPP Saya"]})}),s.jsx(we,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Mt,{title:"Total RPP",value:e.my_rpp_stats.total_submissions}),s.jsx(Mt,{title:"Disetujui",value:e.my_rpp_stats.approved_submissions,subtitle:"RPP approved"}),s.jsx(Mt,{title:"Pending",value:e.my_rpp_stats.pending_submissions,subtitle:"Menunggu review"}),s.jsx(Mt,{title:"Tingkat Completion",value:Math.round(e.my_rpp_stats.submission_rate),formatter:d=>`${d}%`})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(je,{children:[s.jsx(ct,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(Yd,{className:"h-5 w-5"}),"Statistik Evaluasi Saya"]})}),s.jsx(we,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Mt,{title:"Total Evaluasi",value:e.my_evaluation_stats.total_evaluations}),s.jsx(Mt,{title:"Rata-rata Skor",value:e.my_evaluation_stats.avg_score||0,formatter:d=>d.toFixed(1)}),e.my_evaluation_stats.avg_total_score!==null&&s.jsx(Mt,{title:"Rata-rata Total",value:e.my_evaluation_stats.avg_total_score,formatter:d=>d.toFixed(1)}),e.my_evaluation_stats.avg_final_score!==null&&s.jsx(Mt,{title:"Rata-rata Final",value:e.my_evaluation_stats.avg_final_score,formatter:d=>d.toFixed(1)})]})})]}),e.my_evaluation_stats.grade_distribution&&Object.keys(e.my_evaluation_stats.grade_distribution).length>0&&s.jsx(jg,{distribution:e.my_evaluation_stats.grade_distribution})]})]}):s.jsx(je,{children:s.jsx(we,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"No data available"})})})}function Hq({periodId:t}){const[e,n]=x.useState(null),[a,i]=x.useState(!0),[o,c]=x.useState(null);return x.useEffect(()=>{(async()=>{try{i(!0),c(null);const h=await f1.getPrincipalDashboard({period_id:t});n(h)}catch(h){c(h instanceof Error?h.message:"Failed to fetch dashboard data")}finally{i(!1)}})()},[t]),a?s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(d=>s.jsx(je,{className:"animate-pulse",children:s.jsx(we,{className:"p-6",children:s.jsx("div",{className:"h-20 bg-muted rounded"})})},d))})}):o?s.jsx(je,{children:s.jsxs(we,{className:"p-6",children:[s.jsxs("p",{className:"text-red-500",children:["Error: ",o]}),s.jsx(pe,{onClick:()=>window.location.reload(),className:"mt-4",variant:"outline",children:"Coba Lagi"})]})}):e?s.jsxs("div",{className:"space-y-6",children:[e.period&&s.jsxs(je,{children:[s.jsx(ct,{children:s.jsxs(pt,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Periode Aktif"}),s.jsx(vt,{variant:e.period.is_active?"default":"secondary",children:e.period.is_active?"Aktif":"Tidak Aktif"})]})}),s.jsx(we,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Periode"}),s.jsx("p",{className:"font-medium",children:e.period.period_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Sekolah"}),s.jsx("p",{className:"font-medium",children:e.organization_name||"N/A"})]})]})})]}),s.jsxs(je,{children:[s.jsx(ct,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(va,{className:"h-5 w-5"}),"Statistik RPP Saya"]})}),s.jsx(we,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Mt,{title:"Total RPP",value:e.my_rpp_stats.total_submissions}),s.jsx(Mt,{title:"Disetujui",value:e.my_rpp_stats.approved_submissions,subtitle:"RPP approved"}),s.jsx(Mt,{title:"Pending",value:e.my_rpp_stats.pending_submissions,subtitle:"Menunggu review"}),s.jsx(Mt,{title:"Tingkat Completion",value:Math.round(e.my_rpp_stats.submission_rate),formatter:d=>`${d}%`})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(je,{children:[s.jsx(ct,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(Yd,{className:"h-5 w-5"}),"Statistik Evaluasi Saya"]})}),s.jsx(we,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Mt,{title:"Total Evaluasi",value:e.my_evaluation_stats.total_evaluations}),s.jsx(Mt,{title:"Rata-rata Skor",value:e.my_evaluation_stats.avg_score||0,formatter:d=>d.toFixed(1)}),e.my_evaluation_stats.avg_total_score!==null&&s.jsx(Mt,{title:"Rata-rata Total",value:e.my_evaluation_stats.avg_total_score,formatter:d=>d.toFixed(1)}),e.my_evaluation_stats.avg_final_score!==null&&s.jsx(Mt,{title:"Rata-rata Final",value:e.my_evaluation_stats.avg_final_score,formatter:d=>d.toFixed(1)})]})})]}),e.my_evaluation_stats.grade_distribution&&Object.keys(e.my_evaluation_stats.grade_distribution).length>0&&s.jsx(jg,{distribution:e.my_evaluation_stats.grade_distribution})]}),s.jsxs(je,{children:[s.jsx(ct,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(ll,{className:"h-5 w-5"}),"Ringkasan Sekolah"]})}),s.jsx(we,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(Mt,{title:"Total Guru",value:e.organization_overview.total_teachers||0}),e.organization_overview.active_teachers!==void 0&&s.jsx(Mt,{title:"Guru Aktif",value:e.organization_overview.active_teachers})]})})]}),s.jsxs(je,{children:[s.jsx(ct,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(va,{className:"h-5 w-5"}),"Statistik RPP Sekolah"]})}),s.jsx(we,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Mt,{title:"Total RPP",value:e.rpp_stats.total_submissions}),s.jsx(Mt,{title:"Pending Review",value:e.rpp_stats.pending_submissions,subtitle:"Menunggu review"}),s.jsx(Mt,{title:"Disetujui",value:e.rpp_stats.approved_submissions}),s.jsx(Mt,{title:"Tingkat Completion",value:Math.round(e.rpp_stats.submission_rate),formatter:d=>`${d}%`})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(je,{children:[s.jsx(ct,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(Yd,{className:"h-5 w-5"}),"Statistik Evaluasi Sekolah"]})}),s.jsx(we,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Mt,{title:"Total Evaluasi",value:e.evaluation_stats.total_evaluations}),s.jsx(Mt,{title:"Rata-rata Skor",value:e.evaluation_stats.avg_score||0,formatter:d=>d.toFixed(1)}),e.evaluation_stats.avg_total_score!==null&&s.jsx(Mt,{title:"Rata-rata Total",value:e.evaluation_stats.avg_total_score,formatter:d=>d.toFixed(1)}),e.evaluation_stats.avg_final_score!==null&&s.jsx(Mt,{title:"Rata-rata Final",value:e.evaluation_stats.avg_final_score,formatter:d=>d.toFixed(1)})]})})]}),e.evaluation_stats.grade_distribution&&Object.keys(e.evaluation_stats.grade_distribution).length>0&&s.jsx(jg,{distribution:e.evaluation_stats.grade_distribution})]}),s.jsxs(je,{children:[s.jsx(ct,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(ds,{className:"h-5 w-5"}),"Ringkasan Guru"]})}),s.jsx(we,{children:s.jsx("div",{className:"space-y-4",children:e.teacher_summaries.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Belum ada data guru tersedia"}):s.jsx("div",{className:"grid gap-4",children:e.teacher_summaries.map((d,h)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:d.teacher_name||"Unknown Teacher"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.total_rpps||0," RPP total, ",d.approved_rpps||0," disetujui"]})]}),d.completion_rate!==void 0&&s.jsxs(vt,{variant:d.completion_rate>=80?"default":d.completion_rate>=60?"secondary":"destructive",children:[Math.round(d.completion_rate),"%"]})]},d.teacher_id||h))})})})]})]}):s.jsx(je,{children:s.jsx(we,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"No data available"})})})}function Gq({periodId:t,organizationId:e}){const[n,a]=x.useState(null),[i,o]=x.useState(!0),[c,d]=x.useState(null);return x.useEffect(()=>{(async()=>{try{o(!0),d(null);const m=await f1.getAdminDashboard({period_id:t,...e&&{organization_id:e}});a(m)}catch(m){d(m instanceof Error?m.message:"Failed to fetch dashboard data")}finally{o(!1)}})()},[t,e]),i?s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[1,2,3,4].map(h=>s.jsx(je,{className:"animate-pulse",children:s.jsx(we,{className:"p-6",children:s.jsx("div",{className:"h-20 bg-muted rounded"})})},h))})}):c?s.jsx(je,{children:s.jsxs(we,{className:"p-6",children:[s.jsxs("p",{className:"text-red-500",children:["Error: ",c]}),s.jsx(pe,{onClick:()=>window.location.reload(),className:"mt-4",variant:"outline",children:"Coba Lagi"})]})}):n?s.jsxs("div",{className:"space-y-6",children:[n.period&&s.jsxs(je,{children:[s.jsx(ct,{children:s.jsxs(pt,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Periode Aktif"}),s.jsx(vt,{variant:n.period.is_active?"default":"secondary",children:n.period.is_active?"Aktif":"Tidak Aktif"})]})}),s.jsx(we,{children:s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Periode"}),s.jsx("p",{className:"font-medium",children:n.period.period_name})]})})})]}),s.jsxs(je,{children:[s.jsx(ct,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(FU,{className:"h-5 w-5"}),"Ringkasan Sistem"]})}),s.jsx(we,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(Mt,{title:"Total Pengguna",value:n.system_overview.total_users||0}),s.jsx(Mt,{title:"Total Sekolah",value:n.system_overview.total_organizations||0})]})})]}),s.jsxs(je,{children:[s.jsx(ct,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(va,{className:"h-5 w-5"}),"Statistik RPP Sistem"]})}),s.jsx(we,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(Mt,{title:"Total RPP",value:n.rpp_stats.total_submissions}),s.jsx(Mt,{title:"Pending Review",value:n.rpp_stats.pending_submissions,subtitle:"Menunggu review"}),s.jsx(Mt,{title:"Disetujui",value:n.rpp_stats.approved_submissions}),s.jsx(Mt,{title:"Tingkat Completion",value:Math.round(n.rpp_stats.submission_rate),formatter:h=>`${h}%`})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(je,{children:[s.jsx(ct,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(Yd,{className:"h-5 w-5"}),e?"Statistik Evaluasi Sekolah":"Statistik Evaluasi Sistem"]})}),s.jsx(we,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Mt,{title:"Total Evaluasi",value:n.evaluation_stats.total_evaluations}),s.jsx(Mt,{title:"Rata-rata Skor",value:n.evaluation_stats.avg_score||0,formatter:h=>h.toFixed(1)}),n.evaluation_stats.avg_total_score!==null&&s.jsx(Mt,{title:"Rata-rata Total",value:n.evaluation_stats.avg_total_score,formatter:h=>h.toFixed(1)}),n.evaluation_stats.avg_final_score!==null&&s.jsx(Mt,{title:"Rata-rata Final",value:n.evaluation_stats.avg_final_score,formatter:h=>h.toFixed(1)})]})})]}),n.evaluation_stats.grade_distribution&&Object.keys(n.evaluation_stats.grade_distribution).length>0&&s.jsx(jg,{distribution:n.evaluation_stats.grade_distribution})]}),s.jsxs(je,{children:[s.jsx(ct,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(ll,{className:"h-5 w-5"}),"Ringkasan Sekolah"]})}),s.jsx(we,{children:s.jsx("div",{className:"space-y-4",children:n.organization_summaries.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Belum ada data Sekolah tersedia"}):s.jsx("div",{className:"grid gap-4",children:n.organization_summaries.map(h=>{var m,p,g,v;return s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium",children:h.organization_name}),s.jsxs(vt,{variant:"outline",children:[h.total_teachers||0," Guru"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-muted-foreground",children:[s.jsxs("div",{children:["RPP: ",((m=h.rpp_stats)==null?void 0:m.total_submissions)||0]}),s.jsxs("div",{children:["Approved: ",((p=h.rpp_stats)==null?void 0:p.approved_submissions)||0]}),s.jsxs("div",{children:["Evaluasi: ",((g=h.evaluation_stats)==null?void 0:g.total_evaluations)||0]}),s.jsxs("div",{children:["Avg Score: ",(((v=h.evaluation_stats)==null?void 0:v.avg_score)||0).toFixed(1)]})]})]},h.organization_id)})})})})]})]}):s.jsx(je,{children:s.jsx(we,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"No data available"})})})}function HE(){var j;const{user:t,logout:e}=mr(),{currentRole:n,isAdmin:a,isGuru:i,isKepalaSekolah:o}=as(),[c,d]=x.useState(null),[h,m]=x.useState([]),[p,g]=x.useState(!0);x.useEffect(()=>{(async()=>{try{g(!0);const k=await kn.getPeriods({page:1,limit:50}),E=k.items.filter(A=>A.is_active);m(k.items),E.length>0?d(E[0].id):k.items.length>0&&d(k.items[0].id)}catch(k){console.error("Failed to fetch periods:",k)}finally{g(!1)}})()},[]);const v=async()=>{try{await e()}catch(S){console.error("Logout failed:",S)}},y=S=>{switch(S){case"SUPER_ADMIN":return"Super Administrator";case"ADMIN":return"Administrator";case"GURU":return"Guru";case"KEPALA_SEKOLAH":return"Kepala Sekolah";default:return S}},w=()=>c?i()?s.jsx(qq,{periodId:c}):o()?s.jsx(Hq,{periodId:c}):a()?s.jsx(Gq,{periodId:c}):s.jsx(je,{children:s.jsx(we,{className:"p-6 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"Role tidak dikenali"})})}):s.jsx(je,{children:s.jsx(we,{className:"p-6 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:p?"Loading periods...":"Silakan pilih periode untuk melihat dashboard"})})});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Selamat datang, ",(j=t==null?void 0:t.profile)==null?void 0:j.name]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Fa,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs(Ut,{value:(c==null?void 0:c.toString())||"",onValueChange:S=>d(parseInt(S)),disabled:p,children:[s.jsx(Lt,{className:"w-[200px]",children:s.jsx($t,{placeholder:"Pilih Periode"})}),s.jsx(It,{children:h.map(S=>s.jsx(Be,{value:S.id.toString(),children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{children:[S.academic_year," - ",S.semester]})})},S.id))})]})]}),s.jsx(pe,{asChild:!0,variant:"default",children:s.jsxs(ra,{to:"/profile",children:[s.jsx(cl,{className:"h-4 w-4 mr-2"}),"Profil"]})}),s.jsx(pe,{variant:"destructive",onClick:v,children:"Keluar"})]})]}),s.jsxs(je,{children:[s.jsx(ct,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(ds,{className:"h-5 w-5"}),"Informasi Pengguna"]})}),s.jsx(we,{className:"space-y-4",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),s.jsx("p",{className:"text-lg",children:(t==null?void 0:t.email)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Peran"}),y(n)]})]})})]}),w()]})}const oa=t=>{const e=Ei(),n=iu(),{defaults:a,cleanDefaults:i=!0}=t,o=x.useRef(!1),c=x.useRef(null),d=x.useRef(null);x.useEffect(()=>{o.current&&(d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{c.current=null,o.current=!1,d.current=null},50))},[n.search]);const h=x.useCallback(()=>{const j=new URLSearchParams(n.search),S={...a};return Object.keys(a).forEach(k=>{const E=j.get(k);if(E!==null){const A=a[k];if(typeof A=="number"){const T=parseInt(E);isNaN(T)||(S[k]=T)}else typeof A=="boolean"?S[k]=E==="true":S[k]=E}}),S},[n.search,a]),m=x.useCallback((j,S)=>{if(o.current)return;const{replace:k=!0,preserveOthers:E=!0}=S||{};let A;E?A=new URLSearchParams(n.search):A=new URLSearchParams,Object.entries(j).forEach(([M,P])=>{if(P!=null){const O=a[M];i&&P===O?A.delete(M):A.set(M,P.toString())}else A.delete(M)});const T=A.toString(),_=`${n.pathname}${T?`?${T}`:""}`;_!==`${n.pathname}${n.search}`&&(o.current=!0,e(_,{replace:k}))},[e,n.pathname,n.search,a,i]),p=x.useCallback(j=>{const S=h();return!(n.search.length>0)&&j&&Object.keys(j).length>0?(m(j,{replace:!0,preserveOthers:!1}),{...a,...j}):S},[h,m,n.search,a]),g=x.useCallback(()=>{i?e(n.pathname,{replace:!0}):m(a,{replace:!0,preserveOthers:!1})},[e,n.pathname,m,a,i]),v=x.useCallback(()=>h(),[h]),y=x.useCallback(()=>{const j=h();return Object.keys(a).some(S=>j[S]!==a[S])},[h,a]),w=x.useCallback(()=>`${window.location.origin}${n.pathname}${n.search}`,[n.pathname,n.search]);return{getFiltersFromURL:h,updateURL:m,buildInitialURL:p,resetFilters:g,getCurrentFilters:v,hasActiveFilters:y,getShareableURL:w}};function m1(t){return t?Ad[t]||t:"Tidak ada role"}function E4(){return[{value:Ln.SUPER_ADMIN,label:Ad[Ln.SUPER_ADMIN]},{value:Ln.ADMIN,label:Ad[Ln.ADMIN]},{value:Ln.GURU,label:Ad[Ln.GURU]},{value:Ln.KEPALA_SEKOLAH,label:Ad[Ln.KEPALA_SEKOLAH]}]}function Kq(t){switch(t){case Ln.SUPER_ADMIN:return"destructive";case Ln.ADMIN:return"destructive";case Ln.KEPALA_SEKOLAH:return"default";case Ln.GURU:return"secondary";default:return"outline"}}const fs=x.forwardRef(({className:t,...e},n)=>s.jsx("div",{className:"w-full overflow-auto rounded-md md:overflow-hidden",children:s.jsx("table",{ref:n,className:ge("w-full border-collapse",t),...e})}));fs.displayName="Table";const ms=x.forwardRef(({className:t,...e},n)=>s.jsx("thead",{ref:n,className:ge("bg-primary",t),...e}));ms.displayName="TableHeader";const ps=x.forwardRef(({className:t,...e},n)=>s.jsx("tbody",{ref:n,className:ge("",t),...e}));ps.displayName="TableBody";const Yq=x.forwardRef(({className:t,...e},n)=>s.jsx("tfoot",{ref:n,className:ge("border-t bg-muted/50 font-medium",t),...e}));Yq.displayName="TableFooter";const et=x.forwardRef(({className:t,...e},n)=>s.jsx("tr",{ref:n,className:ge("border-b",t),...e}));et.displayName="TableRow";const Te=x.forwardRef(({className:t,...e},n)=>s.jsx("th",{ref:n,className:ge("p-4 text-left align-middle font-medium text-popover hover:cursor-default",t),...e}));Te.displayName="TableHead";const Ee=x.forwardRef(({className:t,...e},n)=>s.jsx("td",{ref:n,className:ge("p-4 align-middle",t),...e}));Ee.displayName="TableCell";const Xq=x.forwardRef(({className:t,...e},n)=>s.jsx("caption",{ref:n,className:ge("mt-4 text-sm text-muted-foreground",t),...e}));Xq.displayName="TableCaption";const un=({onView:t,onEdit:e,onDelete:n,onComposeEmail:a,onExport:i,showView:o=!0,showEdit:c=!0,showDelete:d=!0,showComposeEmail:h=!1,showExport:m=!1,disableEdit:p=!1,editDisabledTooltip:g="Edit tidak tersedia",customActions:v=[]})=>{const y=w=>({Users:ds,Edit:Wo,Eye:Ys,Trash2:fg,Mail:ic,Download:rf,Upload:of,Archive:hU})[w]||Wo;return s.jsxs(oD,{children:[s.jsx(lD,{asChild:!0,children:s.jsx(pe,{variant:"ghost",className:"h-8 w-8 p-0",children:s.jsx(Wo,{className:"h-4 w-4"})})}),s.jsxs(r1,{align:"end",children:[o&&s.jsxs(Zi,{onClick:t,children:[s.jsx(Ys,{className:"mr-2 h-4 w-4"}),"Lihat"]}),c&&s.jsxs(Zi,{onClick:p?void 0:e,disabled:p,title:p?g:void 0,className:p?"opacity-50 cursor-not-allowed":"",children:[s.jsx(Wo,{className:"mr-2 h-4 w-4"}),"Edit"]}),h&&s.jsxs(Zi,{onClick:a,children:[s.jsx(ic,{className:"mr-2 h-4 w-4"}),"Kirim Email"]}),m&&s.jsxs(Zi,{onClick:i,children:[s.jsx(rf,{className:"mr-2 h-4 w-4"}),"Export Excel"]}),v.map((w,j)=>{const S=y(w.icon);return s.jsxs(Zi,{onClick:w.onClick,className:w.className,children:[s.jsx(S,{className:"mr-2 h-4 w-4"}),w.label]},j)}),d&&s.jsxs(Zi,{onClick:n,className:"text-red-600",children:[s.jsx(fg,{className:"mr-2 h-4 w-4"}),"Hapus"]})]})]})},Wq=({users:t,loading:e=!1,onEdit:n,onDelete:a,onView:i,disableEdit:o=!1,canModifyUser:c,canDeleteUser:d})=>s.jsx("div",{className:"rounded-md border",children:s.jsxs(fs,{children:[s.jsx(ms,{children:s.jsxs(et,{children:[s.jsx(Te,{children:"Nama"}),s.jsx(Te,{children:"Posisi"}),s.jsx(Te,{children:"Email"}),s.jsx(Te,{children:"Organisasi"}),s.jsx(Te,{children:"Role"}),s.jsx(Te,{children:"Telepon"}),s.jsx(Te,{children:"Status"}),s.jsx(Te,{className:"text-right",children:"Aksi"})]})}),s.jsx(ps,{children:e?s.jsx(et,{children:s.jsx(Ee,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"Memuat pengguna..."})}):t.length===0?s.jsx(et,{children:s.jsx(Ee,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"Tidak ada user ditemukan"})}):t.map(h=>{var m,p,g;return s.jsxs(et,{children:[s.jsx(Ee,{children:((m=h.profile)==null?void 0:m.name)||h.display_name}),s.jsx(Ee,{children:((p=h.profile)==null?void 0:p.position)||"-"}),s.jsx(Ee,{children:h.email}),s.jsx(Ee,{children:h.organization_name||"-"}),s.jsx(Ee,{children:m1(h.role)}),s.jsx(Ee,{children:((g=h.profile)==null?void 0:g.phone)||"-"}),s.jsx(Ee,{children:h.status===La.ACTIVE?"Aktif":"Tidak Aktif"}),s.jsx(Ee,{className:"text-right",children:s.jsx(un,{onView:()=>i(h),onEdit:()=>n(h),onDelete:()=>a(h),showEdit:!o&&(!c||c(h)),showDelete:!d||d(h)})})]},h.id)})})]})}),Zq=({users:t,loading:e=!1,onEdit:n,onDelete:a,onView:i,disableEdit:o=!1,canModifyUser:c,canDeleteUser:d})=>{const h=p=>s.jsx(vt,{variant:p===La.ACTIVE?"default":"destructive",className:"text-xs",children:p===La.ACTIVE?"Aktif":"Tidak Aktif"}),m=p=>p.split(" ").map(g=>g[0]).join("").toUpperCase();return e?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Memuat pengguna..."}):t.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Tidak ada user ditemukan"}):s.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(p=>{var g,v,y,w,j;return s.jsx(je,{className:"hover:shadow-md transition-shadow",children:s.jsxs(we,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(zf,{className:"w-10 h-10",children:s.jsx(Uf,{className:"text-sm",children:m(((g=p.profile)==null?void 0:g.name)||p.display_name||"N")})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm",children:((v=p.profile)==null?void 0:v.name)||p.display_name}),s.jsx("div",{className:"flex items-center space-x-2 mt-1",children:h(p.status)})]})]}),s.jsx(un,{onView:()=>i(p),onEdit:()=>n(p),onDelete:()=>a(p),showEdit:!o&&(!c||c(p)),showDelete:!d||d(p)})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground mb-2",children:[s.jsx(ic,{className:"w-4 h-4"}),s.jsx("span",{className:"truncate",children:p.email})]}),((y=p.profile)==null?void 0:y.position)&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground mb-2",children:[s.jsx(cl,{className:"w-4 h-4"}),s.jsx("span",{children:p.profile.position})]}),((w=p.profile)==null?void 0:w.phone)&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground mb-2",children:[s.jsx(W_,{className:"w-4 h-4"}),s.jsx("span",{children:p.profile.phone})]}),p.organization_name&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground mb-2",children:[s.jsx(ll,{className:"w-4 h-4"}),s.jsx("span",{children:p.organization_name})]}),((j=p.profile)==null?void 0:j.address)&&s.jsxs("div",{className:"flex items-start space-x-2 text-sm text-muted-foreground mb-2",children:[s.jsx(cx,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"line-clamp-2",children:p.profile.address})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Role:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:s.jsx(vt,{variant:Kq(p.role),className:"text-xs",children:m1(p.role)})})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground pt-2 border-t",children:[s.jsx(Fa,{className:"w-3 h-3"}),s.jsxs("span",{children:["Dibuat: ",gn(new Date(p.created_at),"dd MMM yyyy",{locale:xn})]}),p.last_login_at&&s.jsxs("span",{className:"ml-auto",children:["Login: ",gn(new Date(p.last_login_at),"dd MMM",{locale:xn})]})]})]})},p.id)})})},Qq=Bs({email:rt().email("Email tidak valid").min(1,"Email wajib diisi"),name:rt().min(1,"Nama wajib diisi").min(2,"Nama minimal 2 karakter"),phone:rt().optional().or(us("")),address:rt().optional().or(us("")),position:rt().optional().or(us("")),role:qk(Ih,{required_error:"Role wajib dipilih"}),status:qk(La).optional(),organization_id:tl().optional().nullable(),password:rt().optional()}),Jq=({open:t,onOpenChange:e,editingUser:n,onSave:a})=>{const[i,o]=x.useState(!1),[c,d]=x.useState([]),[h,m]=x.useState(!1),[p,g]=x.useState([]),[v,y]=x.useState(!1),w=!!n,j=gs({resolver:xs(Qq),defaultValues:{email:"",name:"",phone:"",address:"",position:"",role:Ih.GURU,status:La.ACTIVE,organization_id:void 0,password:""}});x.useEffect(()=>{var E,A,T,_;if(t){const M=async()=>{m(!0);try{const O=await Or.getOrganizations({size:100,sort_by:"name",sort_order:"asc"});d(O.items)}catch(O){console.error("Error loading organizations:",O),d([])}finally{m(!1)}},P=async()=>{y(!0);try{const O=await fi.getAllowedRoles();g(O)}catch(O){console.error("Error loading allowed roles:",O),g([])}finally{y(!1)}};M(),P(),n?j.reset({email:n.email,name:((E=n.profile)==null?void 0:E.name)||"",phone:((A=n.profile)==null?void 0:A.phone)||"",address:((T=n.profile)==null?void 0:T.address)||"",position:((_=n.profile)==null?void 0:_.position)||"",role:n.role||Ih.GURU,status:n.status,organization_id:n.organization_id,password:""}):j.reset({email:"",name:"",phone:"",address:"",position:"",role:Ih.GURU,status:La.ACTIVE,organization_id:void 0,password:""})}},[t,n,j]);const S=async E=>{o(!0);try{if(w){const A={email:E.email,profile:{name:E.name,phone:E.phone||void 0,address:E.address||void 0,position:E.position||void 0},role:E.role,status:E.status,organization_id:E.organization_id||void 0,password:E.password||void 0};a(A)}else{const A={email:E.email,profile:{name:E.name,phone:E.phone||void 0,address:E.address||void 0,position:E.position||void 0},role:E.role,password:E.password,organization_id:E.organization_id||void 0,status:La.ACTIVE};a(A)}e(!1)}catch(A){console.error("Error saving user:",A)}finally{o(!1)}},k=()=>{i||(j.reset(),e(!1))};return s.jsx(nn,{open:t,onOpenChange:e,children:s.jsxs(sn,{className:"w-[95vw] max-w-2xl max-h-[90vh] flex flex-col",children:[s.jsx(an,{className:"flex-shrink-0 border-b pb-4",children:s.jsx(rn,{children:w?"Edit Pengguna":"Tambah Pengguna Baru"})}),s.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:s.jsx(In,{...j,children:s.jsx("form",{onSubmit:j.handleSubmit(S),className:"space-y-6",children:s.jsxs("div",{className:"flex  flex-col gap-6",children:[s.jsx($e,{control:j.control,name:"email",render:({field:E})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Email"}),s.jsx(Ue,{children:s.jsx(at,{placeholder:"email@example.com",disabled:i,...E})}),s.jsx(He,{})]})}),s.jsx($e,{control:j.control,name:"name",render:({field:E})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Nama Lengkap"}),s.jsx(Ue,{children:s.jsx(at,{placeholder:"Masukkan nama lengkap",disabled:i,...E})}),s.jsx(He,{})]})}),!(n&&n.role==="SUPER_ADMIN")&&s.jsx($e,{control:j.control,name:"role",render:({field:E})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Role"}),s.jsxs(Ut,{onValueChange:E.onChange,value:E.value,disabled:i||v,children:[s.jsx(Ue,{children:s.jsx(Lt,{children:s.jsx($t,{placeholder:"Pilih role"})})}),s.jsx(It,{children:v?s.jsx(Be,{value:"loading",disabled:!0,children:"Memuat roles..."}):p.map(A=>{const T=E4().find(_=>_.value===A);return T?s.jsx(Be,{value:A,children:T.label},A):null})})]}),s.jsx(He,{})]})}),w&&!(n&&n.role==="SUPER_ADMIN")&&s.jsx($e,{control:j.control,name:"status",render:({field:E})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Status"}),s.jsxs(Ut,{onValueChange:E.onChange,value:E.value,disabled:i,children:[s.jsx(Ue,{children:s.jsx(Lt,{children:s.jsx($t,{placeholder:"Pilih status"})})}),s.jsxs(It,{children:[s.jsx(Be,{value:La.ACTIVE,children:"Aktif"}),s.jsx(Be,{value:La.INACTIVE,children:"Tidak Aktif"})]})]}),s.jsx(He,{})]})}),s.jsx($e,{control:j.control,name:"organization_id",render:({field:E})=>{var A;return s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Sekolah/Organisasi"}),s.jsxs(Ut,{onValueChange:T=>E.onChange(T?parseInt(T):void 0),value:((A=E.value)==null?void 0:A.toString())||"",disabled:i||h,children:[s.jsx(Ue,{children:s.jsx(Lt,{children:s.jsx($t,{placeholder:h?"Memuat...":"Pilih sekolah/organisasi"})})}),s.jsx(It,{children:c.map(T=>s.jsx(Be,{value:T.id.toString(),children:T.name},T.id))})]}),s.jsx(He,{})]})}}),s.jsx($e,{control:j.control,name:"position",render:({field:E})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Posisi/Jabatan"}),s.jsx(Ue,{children:s.jsx(at,{placeholder:"Masukkan posisi atau jabatan",disabled:i,...E})}),s.jsx(He,{})]})}),s.jsx($e,{control:j.control,name:"phone",render:({field:E})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Nomor Telepon"}),s.jsx(Ue,{children:s.jsx(at,{placeholder:"Masukkan nomor telepon",disabled:i,...E})}),s.jsx(He,{})]})}),s.jsx($e,{control:j.control,name:"password",render:({field:E})=>s.jsxs(Fe,{children:[s.jsxs(Ve,{children:["Password ",w&&"(Biarkan kosong jika tidak ingin mengubah)"]}),s.jsx(Ue,{children:s.jsx(at,{type:"password",placeholder:w?"Masukkan password baru":"Masukkan password",disabled:i,...E})}),s.jsx(He,{})]})}),s.jsx($e,{control:j.control,name:"address",render:({field:E})=>s.jsxs(Fe,{className:"md:col-span-2",children:[s.jsx(Ve,{children:"Alamat"}),s.jsx(Ue,{children:s.jsx(at,{placeholder:"Masukkan alamat lengkap",disabled:i,...E})}),s.jsx(He,{})]})})]})})})}),s.jsxs(zs,{className:"flex-shrink-0 border-t pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:k,disabled:i||h,children:"Batal"}),s.jsx(pe,{onClick:j.handleSubmit(S),disabled:i||h,children:i?"Menyimpan...":h?"Memuat...":w?"Perbarui Pengguna":"Tambah Pengguna"})]})]})})},$a=({title:t,subtitle:e,className:n=""})=>s.jsx("div",{className:`mb-4 ${n}`,children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-foreground",children:t}),e&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e})]})})}),eH=(t,e)=>{const[n,a]=x.useState(t);return x.useEffect(()=>{const i=setTimeout(()=>{a(t)},e);return()=>{clearTimeout(i)}},[t,e]),n},vr=({searchQuery:t,onSearchChange:e,placeholder:n="Cari...",className:a,debounceDelay:i=500})=>{const[o,c]=x.useState(t),d=eH(o,i);return x.useEffect(()=>{d!==t&&e(d)},[d,e,t]),x.useEffect(()=>{c(t)},[t]),s.jsxs("div",{className:ge("relative",a),children:[s.jsx(Wj,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(at,{placeholder:n,value:o,onChange:h=>c(h.target.value),className:"pl-9"})]})};function $r({children:t}){const[e,n]=x.useState(!0),a=()=>{n(!e)};return s.jsxs(je,{className:"shadow-md",children:[s.jsxs(ct,{className:"text-primary flex flex-row justify-between items-center",children:[s.jsxs(pt,{className:"font-semibold flex items-center",children:[s.jsx(Xj,{className:"primary w-5 h-5 mr-2"}),"Opsi Filter"]}),s.jsx("button",{onClick:a,className:"flex items-center space-x-2 p-2 rounded-md hover:text-accent",children:e?s.jsxs(s.Fragment,{children:[s.jsx(AU,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Sembunyikan Filter"})]}):s.jsxs(s.Fragment,{children:[s.jsx(lx,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Tampilkan Filter"})]})})]}),e&&s.jsx(we,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:t})})]})}const ya=({currentPage:t,totalPages:e,itemsPerPage:n,totalItems:a,hasNext:i=!1,onPageChange:o,onItemsPerPageChange:c})=>{const d=e!==void 0&&e>0,h=()=>{if(!d)return[];const v=[];if(e<=5)for(let w=1;w<=e;w++)v.push(w);else{v.push(1);let w=Math.max(2,t-1),j=Math.min(e-1,t+1);t<=2?j=4:t>=e-1&&(w=e-3),w>2&&v.push("...");for(let S=w;S<=j;S++)v.push(S);j<e-1&&v.push("..."),v.push(e)}return v},m=a&&a>0?(t-1)*n+1:0,p=a?Math.min(t*n,a):t*n,g=d?t>=e:!i;return s.jsx("div",{className:"w-full pt-8",children:s.jsx("div",{className:"p-4 border border-secondary rounded-md bg-primary text-popover",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-0",children:[s.jsx("span",{className:"text-sm text-popover",children:a!==void 0?`Menampilkan ${m} - ${p} dari ${a} entri`:`Menampilkan ${m} - ${p} entri`}),s.jsxs(Ut,{value:n.toString(),onValueChange:c,children:[s.jsx(Lt,{className:"w-20 h-8",children:s.jsx($t,{})}),s.jsx(It,{children:[10,25,50,100].map(v=>s.jsx(Be,{value:v.toString(),children:v},v))})]})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[s.jsx(pe,{variant:"outline",size:"sm",onClick:()=>o(t-1),disabled:t===1,className:"h-8 w-8 p-0",children:s.jsx(Gj,{className:"h-4 w-4 text-primary"})}),d?h().map((v,y)=>typeof v=="number"?s.jsx(pe,{variant:t===v?"default":"outline",size:"sm",onClick:()=>o(v),className:`h-8 w-8 p-0 ${t===v?"text-popover":"text-primary"}`,children:v},y):s.jsx("span",{className:"mx-1 text-primary",children:"..."},y)):s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("span",{className:"text-sm text-primary px-2",children:["Halaman ",t]})}),s.jsx(pe,{variant:"outline",size:"sm",onClick:()=>o(t+1),disabled:g,className:"h-8 w-8 p-0",children:s.jsx(Kj,{className:"h-4 w-4 text-primary"})})]})]})})})};var A4="AlertDialog",[tH,yle]=Qs(A4,[n_]),co=n_(),C4=t=>{const{__scopeAlertDialog:e,...n}=t,a=co(e);return s.jsx(Jg,{...a,...n,modal:!0})};C4.displayName=A4;var nH="AlertDialogTrigger",T4=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=co(n);return s.jsx(Ij,{...i,...a,ref:e})});T4.displayName=nH;var sH="AlertDialogPortal",_4=t=>{const{__scopeAlertDialog:e,...n}=t,a=co(e);return s.jsx(ex,{...a,...n})};_4.displayName=sH;var aH="AlertDialogOverlay",R4=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=co(n);return s.jsx(tx,{...i,...a,ref:e})});R4.displayName=aH;var Ud="AlertDialogContent",[rH,iH]=tH(Ud),oH=WC("AlertDialogContent"),D4=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:a,...i}=t,o=co(n),c=x.useRef(null),d=ht(e,c),h=x.useRef(null);return s.jsx(b9,{contentName:Ud,titleName:M4,docsSlug:"alert-dialog",children:s.jsx(rH,{scope:n,cancelRef:h,children:s.jsxs(nx,{role:"alertdialog",...o,...i,ref:d,onOpenAutoFocus:_e(i.onOpenAutoFocus,m=>{var p;m.preventDefault(),(p=h.current)==null||p.focus({preventScroll:!0})}),onPointerDownOutside:m=>m.preventDefault(),onInteractOutside:m=>m.preventDefault(),children:[s.jsx(oH,{children:a}),s.jsx(cH,{contentRef:c})]})})})});D4.displayName=Ud;var M4="AlertDialogTitle",P4=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=co(n);return s.jsx(Bj,{...i,...a,ref:e})});P4.displayName=M4;var O4="AlertDialogDescription",L4=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=co(n);return s.jsx(zj,{...i,...a,ref:e})});L4.displayName=O4;var lH="AlertDialogAction",I4=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=co(n);return s.jsx(sx,{...i,...a,ref:e})});I4.displayName=lH;var B4="AlertDialogCancel",z4=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,{cancelRef:i}=iH(B4,n),o=co(n),c=ht(e,i);return s.jsx(sx,{...o,...a,ref:c})});z4.displayName=B4;var cH=({contentRef:t})=>{const e=`\`${Ud}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ud}\` by passing a \`${O4}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ud}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var a;document.getElementById((a=t.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},dH=C4,uH=T4,hH=_4,U4=R4,$4=D4,F4=I4,V4=z4,q4=P4,H4=L4;const ss=dH,Wd=uH,fH=hH,G4=x.forwardRef(({className:t,...e},n)=>s.jsx(U4,{className:ge("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));G4.displayName=U4.displayName;const Gn=x.forwardRef(({className:t,...e},n)=>s.jsxs(fH,{children:[s.jsx(G4,{}),s.jsx($4,{ref:n,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Gn.displayName=$4.displayName;const Kn=({className:t,...e})=>s.jsx("div",{className:ge("flex flex-col space-y-2 text-center sm:text-left",t),...e});Kn.displayName="AlertDialogHeader";const Yn=({className:t,...e})=>s.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Yn.displayName="AlertDialogFooter";const Xn=x.forwardRef(({className:t,...e},n)=>s.jsx(q4,{ref:n,className:ge("text-lg font-semibold",t),...e}));Xn.displayName=q4.displayName;const Wn=x.forwardRef(({className:t,...e},n)=>s.jsx(H4,{ref:n,className:ge("text-sm text-muted-foreground",t),...e}));Wn.displayName=H4.displayName;const Zn=x.forwardRef(({className:t,...e},n)=>s.jsx(F4,{ref:n,className:ge(Hj(),t),...e}));Zn.displayName=F4.displayName;const Qn=x.forwardRef(({className:t,...e},n)=>s.jsx(V4,{ref:n,className:ge(Hj({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Qn.displayName=V4.displayName;const mH=()=>{var H,ee,ne,ie,he;const{isAdmin:t,isSuperAdmin:e}=as(),{toast:n}=_t(),{updateURL:a,getCurrentFilters:i}=oa({defaults:{search:"",role:"all",status:"all",page:1,size:10},cleanDefaults:!0}),o=i(),[c,d]=x.useState([]),[h,m]=x.useState(!0),[p,g]=x.useState(0),[v,y]=x.useState(0),[w,j]=x.useState(!1),[S,k]=x.useState(!1),[E,A]=x.useState(null),[T,_]=x.useState(null),[M,P]=x.useState(null),O=t(),I=async()=>{m(!0);try{const ae={page:o.page,size:o.size,search:o.search||void 0,role:o.role!=="all"?o.role:void 0,status:o.status!=="all"?o.status:void 0},ue=await fi.getUsers(ae);d(ue.items),g(ue.total),y(ue.pages)}catch(ae){console.error("Failed to fetch users:",ae);const ue=(ae==null?void 0:ae.message)||"Gagal memuat data pengguna. Silakan coba lagi.";n({title:"Error",description:ue,variant:"destructive"})}finally{m(!1)}};x.useEffect(()=>{O&&I()},[o.page,o.size,o.search,o.role,o.status,O]);const G=ae=>{_(ae),k(!0)},R=ae=>{if(!$(ae)){const ue=ae.role==="SUPER_ADMIN"?"Super Admin tidak dapat diubah untuk keamanan sistem.":"Anda tidak memiliki akses untuk mengedit user ini.";n({title:"Akses Ditolak",description:ue,variant:"destructive"});return}A(ae),j(!0)},X=ae=>{if(!Z(ae)){const ue=ae.role==="SUPER_ADMIN"?"Super Admin tidak dapat dihapus untuk keamanan sistem.":"Anda tidak memiliki akses untuk menghapus user ini.";n({title:"Akses Ditolak",description:ue,variant:"destructive"});return}P(ae)},$=ae=>e()?!0:t()?!["ADMIN","SUPER_ADMIN"].includes(ae.role):!1,Z=ae=>ae.role==="SUPER_ADMIN"?!1:$(ae),te=async()=>{var ae;if(M)try{await fi.deleteUser(M.id),P(null),I(),n({title:"User berhasil dihapus",description:`User ${((ae=M.profile)==null?void 0:ae.name)||M.display_name} telah dihapus dari sistem.`,variant:"default"})}catch(ue){console.error("Failed to delete user:",ue);const ce=(ue==null?void 0:ue.message)||"Gagal menghapus pengguna. Silakan coba lagi.";n({title:"Error",description:ce,variant:"destructive"})}},L=()=>{A(null),j(!0)},V=async ae=>{var ue,ce;try{E?(await fi.updateUser(E.id,ae),n({title:"User berhasil diperbarui",description:`Data user ${((ue=ae.profile)==null?void 0:ue.name)||"pengguna"} telah diperbarui.`,variant:"default"})):(await fi.createUser(ae),n({title:"User berhasil dibuat",description:`User ${((ce=ae.profile)==null?void 0:ce.name)||"pengguna"} telah ditambahkan ke sistem.`,variant:"default"})),j(!1),A(null),I()}catch(Ce){console.error("Failed to save user:",Ce);const Oe=(Ce==null?void 0:Ce.message)||"Gagal menyimpan pengguna. Silakan coba lagi.";n({title:"Error",description:Oe,variant:"destructive"})}},B=ae=>{a({size:parseInt(ae),page:1})},Y=x.useCallback(ae=>{ae!==o.search&&a({search:ae,page:1})},[a,o.search]),se=x.useCallback(ae=>{ae!==o.role&&a({role:ae,page:1})},[a,o.role]),K=x.useCallback(ae=>{ae!==o.status&&a({status:ae,page:1})},[a,o.status]),z=ae=>{a({page:ae})},W=E4(),q=()=>{let ae="Daftar Pengguna";const ue=[];if(o.role!=="all"){const ce=W.find(Ce=>Ce.value===o.role);ce&&ue.push(ce.label)}return o.status!=="all"&&ue.push(o.status===La.ACTIVE?"Aktif":"Tidak Aktif"),ue.length>0&&(ae+=" - "+ue.join(" - ")),ae};return O?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Cs,{title:"Manajemen Pengguna",description:"Kelola pengguna sistem, peran, dan hak akses",actions:s.jsxs(pe,{onClick:L,children:[s.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Tambah User"]})}),s.jsxs($r,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"role-filter",children:"Role"}),s.jsxs(Ut,{value:o.role,onValueChange:se,children:[s.jsx(Lt,{id:"role-filter",children:s.jsx($t,{placeholder:"Pilih role"})}),s.jsxs(It,{children:[s.jsx(Be,{value:"all",children:"Semua Role"}),W.map(ae=>s.jsx(Be,{value:ae.value,children:ae.label},ae.value))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"status-filter",children:"Status"}),s.jsxs(Ut,{value:o.status,onValueChange:K,children:[s.jsx(Lt,{id:"status-filter",children:s.jsx($t,{placeholder:"Pilih status"})}),s.jsxs(It,{children:[s.jsx(Be,{value:"all",children:"Semua Status"}),s.jsx(Be,{value:La.ACTIVE,children:"Aktif"}),s.jsx(Be,{value:La.INACTIVE,children:"Tidak Aktif"})]})]})]})]}),s.jsx(je,{children:s.jsx(we,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx($a,{title:q(),subtitle:"Kelola pengguna sistem, peran, dan hak akses"}),s.jsx(vr,{searchQuery:o.search,onSearchChange:Y,placeholder:"Cari nama, email, NIP, atau telepon..."}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(Wq,{users:c,loading:h,onView:G,onEdit:R,onDelete:X,canModifyUser:$,canDeleteUser:Z})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(Zq,{users:c,loading:h,onView:G,onEdit:R,onDelete:X,canModifyUser:$,canDeleteUser:Z})}),v>1&&s.jsx(ya,{currentPage:o.page,totalPages:v,itemsPerPage:o.size,totalItems:p,onPageChange:z,onItemsPerPageChange:B})]})})}),s.jsx(Jq,{open:w,onOpenChange:j,editingUser:E,onSave:V}),T&&s.jsx(nn,{open:S,onOpenChange:k,children:s.jsxs(sn,{className:"max-w-2xl",children:[s.jsx(an,{children:s.jsx(rn,{children:"Detail User"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Pe,{children:"Nama"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:((H=T.profile)==null?void 0:H.name)||T.display_name})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Email"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:T.email})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Status"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:T.status})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Role"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:m1(T.role)})]}),((ee=T.profile)==null?void 0:ee.phone)&&s.jsxs("div",{children:[s.jsx(Pe,{children:"Telepon"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:T.profile.phone})]}),((ne=T.profile)==null?void 0:ne.position)&&s.jsxs("div",{children:[s.jsx(Pe,{children:"Posisi"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:T.profile.position})]}),((ie=T.profile)==null?void 0:ie.address)&&s.jsxs("div",{children:[s.jsx(Pe,{children:"Alamat"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:T.profile.address})]})]})]})}),s.jsx(ss,{open:!!M,onOpenChange:()=>P(null),children:s.jsxs(Gn,{children:[s.jsxs(Kn,{children:[s.jsx(Xn,{children:"Konfirmasi Hapus"}),s.jsxs(Wn,{children:["Tindakan ini tidak dapat dibatalkan. User"," ",s.jsx("span",{className:"font-semibold",children:((he=M==null?void 0:M.profile)==null?void 0:he.name)||(M==null?void 0:M.display_name)})," akan dihapus secara permanen dari sistem."]})]}),s.jsxs(Yn,{children:[s.jsx(Qn,{children:"Batal"}),s.jsx(Zn,{onClick:te,className:"bg-red-600 hover:bg-red-700",children:"Hapus User"})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki akses untuk melihat halaman ini."})]})})},K4=t=>{if(typeof window>"u")return t.replace(/<[^>]*>/g,"");const e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText||""},GE=t=>K4(t).trim().length===0,pH=(t,e)=>{const n=K4(t);return e&&n.length>e?n.substring(0,e)+"...":n},gH=(t,e={})=>{const{isDetailView:n=!1,maxLength:a=150,className:i=""}=e;return t?n?{content:t,isEmpty:GE(t),isHtml:!0,className:`rich-text-content ${i}`}:{content:pH(t,a),isEmpty:GE(t),isHtml:!1,className:i}:{content:"",isEmpty:!0,isHtml:!1}};function yn({content:t="",isDetailView:e=!1,maxLength:n=150,className:a="",fallback:i="No description available"}){const o=gH(t,{isDetailView:e,maxLength:n,className:a});return o.isEmpty?s.jsx("span",{className:ge("text-muted-foreground italic",a),children:i}):o.isHtml&&e?s.jsx("div",{className:ge("prose prose-sm max-w-none","prose-headings:font-semibold prose-headings:text-foreground","prose-p:text-foreground prose-p:leading-relaxed","prose-strong:text-foreground prose-strong:font-semibold","prose-ul:text-foreground prose-ol:text-foreground","prose-li:text-foreground","prose-blockquote:text-muted-foreground prose-blockquote:border-l-border","prose-code:text-foreground prose-code:bg-muted prose-code:px-1 prose-code:py-0.5 prose-code:rounded",o.className),dangerouslySetInnerHTML:{__html:o.content}}):s.jsx("span",{className:ge("leading-relaxed",o.className),children:o.content})}const xH=({organizations:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>s.jsx("div",{className:"rounded-md border",children:s.jsxs(fs,{children:[s.jsx(ms,{children:s.jsxs(et,{children:[s.jsx(Te,{children:"Sekolah"}),s.jsx(Te,{children:"Deskripsi"}),s.jsx(Te,{children:"Pengguna"}),s.jsx(Te,{children:"Dibuat"}),s.jsx(Te,{className:"text-right",children:"Aksi"})]})}),s.jsx(ps,{children:e?s.jsx(et,{children:s.jsx(Ee,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Memuat Sekolah..."})}):t.length===0?s.jsx(et,{children:s.jsx(Ee,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Tidak ada Sekolah ditemukan"})}):t.map(o=>s.jsxs(et,{children:[s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[o.img_url?s.jsx("img",{src:hu(o.img_url,48),alt:o.name,className:"w-8 h-8 rounded object-cover"}):s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-muted rounded",children:s.jsx(ds,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:o.name}),o.head_name&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Kepala: ",o.head_name]})]})]})}),s.jsx(Ee,{children:s.jsx(yn,{content:o.excerpt||o.description,isDetailView:!1,maxLength:80,fallback:"Tidak ada deskripsi"})}),s.jsxs(Ee,{className:"text-center flex",children:[s.jsx(ds,{className:"w-4"}),s.jsxs("span",{children:["  ",o.user_count]})]}),s.jsx(Ee,{children:gn(new Date(o.created_at),"dd MMM yyyy",{locale:xn})}),s.jsx(Ee,{className:"text-right",children:s.jsx(un,{onView:()=>i(o),onEdit:()=>n(o),onDelete:()=>a(o)})})]},o.id))})]})}),vH=({organizations:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>{const o=d=>s.jsxs(vt,{variant:d>0?"default":"secondary",className:"text-xs",children:[d," pengguna"]}),c=d=>s.jsx(vt,{variant:d?"default":"outline",className:"text-xs",children:d||"Belum ada kepala"});return e?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Memuat Sekolah..."}):t.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Tidak ada Sekolah ditemukan"}):s.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(d=>s.jsx(je,{className:"hover:shadow-md transition-shadow",children:s.jsxs(we,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[d.img_url?s.jsx("img",{src:hu(d.img_url,64),alt:d.name,className:"w-10 h-10 rounded-full object-cover"}):s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-muted rounded-full",children:s.jsx(ll,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm",children:d.name}),s.jsx("div",{className:"flex items-center space-x-2 mt-1",children:o(d.user_count)})]})]}),s.jsx(un,{onView:()=>i(d),onEdit:()=>n(d),onDelete:()=>a(d)})]}),(d.description||d.excerpt)&&s.jsxs("div",{className:"flex items-start space-x-2 text-sm text-muted-foreground mb-2",children:[s.jsx(va,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),s.jsx("div",{className:"line-clamp-2",children:s.jsx(yn,{content:d.excerpt||d.description,isDetailView:!1,maxLength:100,fallback:"Tidak ada deskripsi"})})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground mb-2",children:[s.jsx(cl,{className:"w-4 h-4"}),s.jsx("span",{children:d.head_name||"Belum ada kepala"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground mb-3",children:[s.jsx(ds,{className:"w-4 h-4"}),s.jsxs("span",{children:[d.user_count," pengguna"]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Status Kepala:"}),c(d.head_name)]}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground pt-2 border-t",children:[s.jsx(Fa,{className:"w-3 h-3"}),s.jsxs("span",{children:["Dibuat: ",gn(new Date(d.created_at),"dd MMM yyyy",{locale:xn})]}),d.updated_at&&s.jsxs("span",{className:"ml-auto",children:["Diperbarui: ",gn(new Date(d.updated_at),"dd MMM",{locale:xn})]})]})]})},d.id))})},br=x.forwardRef(({className:t,...e},n)=>s.jsx("textarea",{className:ge("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));br.displayName="Textarea";var Y4=typeof global=="object"&&global&&global.Object===Object&&global,bH=typeof self=="object"&&self&&self.Object===Object&&self,Ti=Y4||bH||Function("return this")(),ul=Ti.Symbol,X4=Object.prototype,yH=X4.hasOwnProperty,jH=X4.toString,jh=ul?ul.toStringTag:void 0;function wH(t){var e=yH.call(t,jh),n=t[jh];try{t[jh]=void 0;var a=!0}catch{}var i=jH.call(t);return a&&(e?t[jh]=n:delete t[jh]),i}var NH=Object.prototype,SH=NH.toString;function kH(t){return SH.call(t)}var EH="[object Null]",AH="[object Undefined]",KE=ul?ul.toStringTag:void 0;function mu(t){return t==null?t===void 0?AH:EH:KE&&KE in Object(t)?wH(t):kH(t)}function ao(t){return t!=null&&typeof t=="object"}var cc=Array.isArray;function bl(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function W4(t){return t}var CH="[object AsyncFunction]",TH="[object Function]",_H="[object GeneratorFunction]",RH="[object Proxy]";function p1(t){if(!bl(t))return!1;var e=mu(t);return e==TH||e==_H||e==CH||e==RH}var oy=Ti["__core-js_shared__"],YE=function(){var t=/[^.]+$/.exec(oy&&oy.keys&&oy.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function DH(t){return!!YE&&YE in t}var MH=Function.prototype,PH=MH.toString;function bc(t){if(t!=null){try{return PH.call(t)}catch{}try{return t+""}catch{}}return""}var OH=/[\\^$.*+?()[\]{}|]/g,LH=/^\[object .+?Constructor\]$/,IH=Function.prototype,BH=Object.prototype,zH=IH.toString,UH=BH.hasOwnProperty,$H=RegExp("^"+zH.call(UH).replace(OH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function FH(t){if(!bl(t)||DH(t))return!1;var e=p1(t)?$H:LH;return e.test(bc(t))}function VH(t,e){return t==null?void 0:t[e]}function yc(t,e){var n=VH(t,e);return FH(n)?n:void 0}var g0=yc(Ti,"WeakMap"),XE=Object.create,qH=function(){function t(){}return function(e){if(!bl(e))return{};if(XE)return XE(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function HH(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function GH(t,e){var n=-1,a=t.length;for(e||(e=Array(a));++n<a;)e[n]=t[n];return e}var KH=800,YH=16,XH=Date.now;function WH(t){var e=0,n=0;return function(){var a=XH(),i=YH-(a-n);if(n=a,i>0){if(++e>=KH)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function ZH(t){return function(){return t}}var wg=function(){try{var t=yc(Object,"defineProperty");return t({},"",{}),t}catch{}}(),QH=wg?function(t,e){return wg(t,"toString",{configurable:!0,enumerable:!1,value:ZH(e),writable:!0})}:W4,JH=WH(QH);function eG(t,e){for(var n=-1,a=t==null?0:t.length;++n<a&&e(t[n],n,t)!==!1;);return t}var tG=9007199254740991,nG=/^(?:0|[1-9]\d*)$/;function Z4(t,e){var n=typeof t;return e=e??tG,!!e&&(n=="number"||n!="symbol"&&nG.test(t))&&t>-1&&t%1==0&&t<e}function g1(t,e,n){e=="__proto__"&&wg?wg(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Gf(t,e){return t===e||t!==t&&e!==e}var sG=Object.prototype,aG=sG.hasOwnProperty;function Q4(t,e,n){var a=t[e];(!(aG.call(t,e)&&Gf(a,n))||n===void 0&&!(e in t))&&g1(t,e,n)}function rG(t,e,n,a){var i=!n;n||(n={});for(var o=-1,c=e.length;++o<c;){var d=e[o],h=void 0;h===void 0&&(h=t[d]),i?g1(n,d,h):Q4(n,d,h)}return n}var WE=Math.max;function iG(t,e,n){return e=WE(e===void 0?t.length-1:e,0),function(){for(var a=arguments,i=-1,o=WE(a.length-e,0),c=Array(o);++i<o;)c[i]=a[e+i];i=-1;for(var d=Array(e+1);++i<e;)d[i]=a[i];return d[e]=n(c),HH(t,this,d)}}function oG(t,e){return JH(iG(t,e,W4),t+"")}var lG=9007199254740991;function J4(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=lG}function yx(t){return t!=null&&J4(t.length)&&!p1(t)}function cG(t,e,n){if(!bl(n))return!1;var a=typeof e;return(a=="number"?yx(n)&&Z4(e,n.length):a=="string"&&e in n)?Gf(n[e],t):!1}function dG(t){return oG(function(e,n){var a=-1,i=n.length,o=i>1?n[i-1]:void 0,c=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,c&&cG(n[0],n[1],c)&&(o=i<3?void 0:o,i=1),e=Object(e);++a<i;){var d=n[a];d&&t(e,d,a,o)}return e})}var uG=Object.prototype;function x1(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||uG;return t===n}function hG(t,e){for(var n=-1,a=Array(t);++n<t;)a[n]=e(n);return a}var fG="[object Arguments]";function ZE(t){return ao(t)&&mu(t)==fG}var eM=Object.prototype,mG=eM.hasOwnProperty,pG=eM.propertyIsEnumerable,x0=ZE(function(){return arguments}())?ZE:function(t){return ao(t)&&mG.call(t,"callee")&&!pG.call(t,"callee")};function gG(){return!1}var tM=typeof Ia=="object"&&Ia&&!Ia.nodeType&&Ia,QE=tM&&typeof Ba=="object"&&Ba&&!Ba.nodeType&&Ba,xG=QE&&QE.exports===tM,JE=xG?Ti.Buffer:void 0,vG=JE?JE.isBuffer:void 0,uf=vG||gG,bG="[object Arguments]",yG="[object Array]",jG="[object Boolean]",wG="[object Date]",NG="[object Error]",SG="[object Function]",kG="[object Map]",EG="[object Number]",AG="[object Object]",CG="[object RegExp]",TG="[object Set]",_G="[object String]",RG="[object WeakMap]",DG="[object ArrayBuffer]",MG="[object DataView]",PG="[object Float32Array]",OG="[object Float64Array]",LG="[object Int8Array]",IG="[object Int16Array]",BG="[object Int32Array]",zG="[object Uint8Array]",UG="[object Uint8ClampedArray]",$G="[object Uint16Array]",FG="[object Uint32Array]",vn={};vn[PG]=vn[OG]=vn[LG]=vn[IG]=vn[BG]=vn[zG]=vn[UG]=vn[$G]=vn[FG]=!0;vn[bG]=vn[yG]=vn[DG]=vn[jG]=vn[MG]=vn[wG]=vn[NG]=vn[SG]=vn[kG]=vn[EG]=vn[AG]=vn[CG]=vn[TG]=vn[_G]=vn[RG]=!1;function VG(t){return ao(t)&&J4(t.length)&&!!vn[mu(t)]}function v1(t){return function(e){return t(e)}}var nM=typeof Ia=="object"&&Ia&&!Ia.nodeType&&Ia,Fh=nM&&typeof Ba=="object"&&Ba&&!Ba.nodeType&&Ba,qG=Fh&&Fh.exports===nM,ly=qG&&Y4.process,Zd=function(){try{var t=Fh&&Fh.require&&Fh.require("util").types;return t||ly&&ly.binding&&ly.binding("util")}catch{}}(),e2=Zd&&Zd.isTypedArray,b1=e2?v1(e2):VG,HG=Object.prototype,GG=HG.hasOwnProperty;function sM(t,e){var n=cc(t),a=!n&&x0(t),i=!n&&!a&&uf(t),o=!n&&!a&&!i&&b1(t),c=n||a||i||o,d=c?hG(t.length,String):[],h=d.length;for(var m in t)(e||GG.call(t,m))&&!(c&&(m=="length"||i&&(m=="offset"||m=="parent")||o&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||Z4(m,h)))&&d.push(m);return d}function aM(t,e){return function(n){return t(e(n))}}var KG=aM(Object.keys,Object),YG=Object.prototype,XG=YG.hasOwnProperty;function WG(t){if(!x1(t))return KG(t);var e=[];for(var n in Object(t))XG.call(t,n)&&n!="constructor"&&e.push(n);return e}function ZG(t){return yx(t)?sM(t):WG(t)}function QG(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var JG=Object.prototype,eK=JG.hasOwnProperty;function tK(t){if(!bl(t))return QG(t);var e=x1(t),n=[];for(var a in t)a=="constructor"&&(e||!eK.call(t,a))||n.push(a);return n}function rM(t){return yx(t)?sM(t,!0):tK(t)}var hf=yc(Object,"create");function nK(){this.__data__=hf?hf(null):{},this.size=0}function sK(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var aK="__lodash_hash_undefined__",rK=Object.prototype,iK=rK.hasOwnProperty;function oK(t){var e=this.__data__;if(hf){var n=e[t];return n===aK?void 0:n}return iK.call(e,t)?e[t]:void 0}var lK=Object.prototype,cK=lK.hasOwnProperty;function dK(t){var e=this.__data__;return hf?e[t]!==void 0:cK.call(e,t)}var uK="__lodash_hash_undefined__";function hK(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=hf&&e===void 0?uK:e,this}function dc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var a=t[e];this.set(a[0],a[1])}}dc.prototype.clear=nK;dc.prototype.delete=sK;dc.prototype.get=oK;dc.prototype.has=dK;dc.prototype.set=hK;function fK(){this.__data__=[],this.size=0}function jx(t,e){for(var n=t.length;n--;)if(Gf(t[n][0],e))return n;return-1}var mK=Array.prototype,pK=mK.splice;function gK(t){var e=this.__data__,n=jx(e,t);if(n<0)return!1;var a=e.length-1;return n==a?e.pop():pK.call(e,n,1),--this.size,!0}function xK(t){var e=this.__data__,n=jx(e,t);return n<0?void 0:e[n][1]}function vK(t){return jx(this.__data__,t)>-1}function bK(t,e){var n=this.__data__,a=jx(n,t);return a<0?(++this.size,n.push([t,e])):n[a][1]=e,this}function uo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var a=t[e];this.set(a[0],a[1])}}uo.prototype.clear=fK;uo.prototype.delete=gK;uo.prototype.get=xK;uo.prototype.has=vK;uo.prototype.set=bK;var ff=yc(Ti,"Map");function yK(){this.size=0,this.__data__={hash:new dc,map:new(ff||uo),string:new dc}}function jK(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function wx(t,e){var n=t.__data__;return jK(e)?n[typeof e=="string"?"string":"hash"]:n.map}function wK(t){var e=wx(this,t).delete(t);return this.size-=e?1:0,e}function NK(t){return wx(this,t).get(t)}function SK(t){return wx(this,t).has(t)}function kK(t,e){var n=wx(this,t),a=n.size;return n.set(t,e),this.size+=n.size==a?0:1,this}function jc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var a=t[e];this.set(a[0],a[1])}}jc.prototype.clear=yK;jc.prototype.delete=wK;jc.prototype.get=NK;jc.prototype.has=SK;jc.prototype.set=kK;function EK(t,e){for(var n=-1,a=e.length,i=t.length;++n<a;)t[i+n]=e[n];return t}var iM=aM(Object.getPrototypeOf,Object),AK="[object Object]",CK=Function.prototype,TK=Object.prototype,oM=CK.toString,_K=TK.hasOwnProperty,RK=oM.call(Object);function DK(t){if(!ao(t)||mu(t)!=AK)return!1;var e=iM(t);if(e===null)return!0;var n=_K.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&oM.call(n)==RK}function MK(){this.__data__=new uo,this.size=0}function PK(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function OK(t){return this.__data__.get(t)}function LK(t){return this.__data__.has(t)}var IK=200;function BK(t,e){var n=this.__data__;if(n instanceof uo){var a=n.__data__;if(!ff||a.length<IK-1)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new jc(a)}return n.set(t,e),this.size=n.size,this}function pi(t){var e=this.__data__=new uo(t);this.size=e.size}pi.prototype.clear=MK;pi.prototype.delete=PK;pi.prototype.get=OK;pi.prototype.has=LK;pi.prototype.set=BK;var lM=typeof Ia=="object"&&Ia&&!Ia.nodeType&&Ia,t2=lM&&typeof Ba=="object"&&Ba&&!Ba.nodeType&&Ba,zK=t2&&t2.exports===lM,n2=zK?Ti.Buffer:void 0,s2=n2?n2.allocUnsafe:void 0;function cM(t,e){if(e)return t.slice();var n=t.length,a=s2?s2(n):new t.constructor(n);return t.copy(a),a}function UK(t,e){for(var n=-1,a=t==null?0:t.length,i=0,o=[];++n<a;){var c=t[n];e(c,n,t)&&(o[i++]=c)}return o}function $K(){return[]}var FK=Object.prototype,VK=FK.propertyIsEnumerable,a2=Object.getOwnPropertySymbols,qK=a2?function(t){return t==null?[]:(t=Object(t),UK(a2(t),function(e){return VK.call(t,e)}))}:$K;function HK(t,e,n){var a=e(t);return cc(t)?a:EK(a,n(t))}function v0(t){return HK(t,ZG,qK)}var b0=yc(Ti,"DataView"),y0=yc(Ti,"Promise"),j0=yc(Ti,"Set"),r2="[object Map]",GK="[object Object]",i2="[object Promise]",o2="[object Set]",l2="[object WeakMap]",c2="[object DataView]",KK=bc(b0),YK=bc(ff),XK=bc(y0),WK=bc(j0),ZK=bc(g0),Mr=mu;(b0&&Mr(new b0(new ArrayBuffer(1)))!=c2||ff&&Mr(new ff)!=r2||y0&&Mr(y0.resolve())!=i2||j0&&Mr(new j0)!=o2||g0&&Mr(new g0)!=l2)&&(Mr=function(t){var e=mu(t),n=e==GK?t.constructor:void 0,a=n?bc(n):"";if(a)switch(a){case KK:return c2;case YK:return r2;case XK:return i2;case WK:return o2;case ZK:return l2}return e});var QK=Object.prototype,JK=QK.hasOwnProperty;function eY(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&JK.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Ng=Ti.Uint8Array;function y1(t){var e=new t.constructor(t.byteLength);return new Ng(e).set(new Ng(t)),e}function tY(t,e){var n=y1(t.buffer);return new t.constructor(n,t.byteOffset,t.byteLength)}var nY=/\w*$/;function sY(t){var e=new t.constructor(t.source,nY.exec(t));return e.lastIndex=t.lastIndex,e}var d2=ul?ul.prototype:void 0,u2=d2?d2.valueOf:void 0;function aY(t){return u2?Object(u2.call(t)):{}}function dM(t,e){var n=e?y1(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var rY="[object Boolean]",iY="[object Date]",oY="[object Map]",lY="[object Number]",cY="[object RegExp]",dY="[object Set]",uY="[object String]",hY="[object Symbol]",fY="[object ArrayBuffer]",mY="[object DataView]",pY="[object Float32Array]",gY="[object Float64Array]",xY="[object Int8Array]",vY="[object Int16Array]",bY="[object Int32Array]",yY="[object Uint8Array]",jY="[object Uint8ClampedArray]",wY="[object Uint16Array]",NY="[object Uint32Array]";function SY(t,e,n){var a=t.constructor;switch(e){case fY:return y1(t);case rY:case iY:return new a(+t);case mY:return tY(t);case pY:case gY:case xY:case vY:case bY:case yY:case jY:case wY:case NY:return dM(t,n);case oY:return new a;case lY:case uY:return new a(t);case cY:return sY(t);case dY:return new a;case hY:return aY(t)}}function uM(t){return typeof t.constructor=="function"&&!x1(t)?qH(iM(t)):{}}var kY="[object Map]";function EY(t){return ao(t)&&Mr(t)==kY}var h2=Zd&&Zd.isMap,AY=h2?v1(h2):EY,CY="[object Set]";function TY(t){return ao(t)&&Mr(t)==CY}var f2=Zd&&Zd.isSet,_Y=f2?v1(f2):TY,RY=1,hM="[object Arguments]",DY="[object Array]",MY="[object Boolean]",PY="[object Date]",OY="[object Error]",fM="[object Function]",LY="[object GeneratorFunction]",IY="[object Map]",BY="[object Number]",mM="[object Object]",zY="[object RegExp]",UY="[object Set]",$Y="[object String]",FY="[object Symbol]",VY="[object WeakMap]",qY="[object ArrayBuffer]",HY="[object DataView]",GY="[object Float32Array]",KY="[object Float64Array]",YY="[object Int8Array]",XY="[object Int16Array]",WY="[object Int32Array]",ZY="[object Uint8Array]",QY="[object Uint8ClampedArray]",JY="[object Uint16Array]",eX="[object Uint32Array]",pn={};pn[hM]=pn[DY]=pn[qY]=pn[HY]=pn[MY]=pn[PY]=pn[GY]=pn[KY]=pn[YY]=pn[XY]=pn[WY]=pn[IY]=pn[BY]=pn[mM]=pn[zY]=pn[UY]=pn[$Y]=pn[FY]=pn[ZY]=pn[QY]=pn[JY]=pn[eX]=!0;pn[OY]=pn[fM]=pn[VY]=!1;function Wp(t,e,n,a,i,o){var c,d=e&RY;if(c!==void 0)return c;if(!bl(t))return t;var h=cc(t);if(h)c=eY(t);else{var m=Mr(t),p=m==fM||m==LY;if(uf(t))return cM(t,d);if(m==mM||m==hM||p&&!i)c=p?{}:uM(t);else{if(!pn[m])return i?t:{};c=SY(t,m,d)}}o||(o=new pi);var g=o.get(t);if(g)return g;o.set(t,c),_Y(t)?t.forEach(function(w){c.add(Wp(w,e,n,w,t,o))}):AY(t)&&t.forEach(function(w,j){c.set(j,Wp(w,e,n,j,t,o))});var v=v0,y=h?void 0:v(t);return eG(y||t,function(w,j){y&&(j=w,w=t[j]),Q4(c,j,Wp(w,e,n,j,t,o))}),c}var tX=1,nX=4;function $d(t){return Wp(t,tX|nX)}var sX="__lodash_hash_undefined__";function aX(t){return this.__data__.set(t,sX),this}function rX(t){return this.__data__.has(t)}function Sg(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new jc;++e<n;)this.add(t[e])}Sg.prototype.add=Sg.prototype.push=aX;Sg.prototype.has=rX;function iX(t,e){for(var n=-1,a=t==null?0:t.length;++n<a;)if(e(t[n],n,t))return!0;return!1}function oX(t,e){return t.has(e)}var lX=1,cX=2;function pM(t,e,n,a,i,o){var c=n&lX,d=t.length,h=e.length;if(d!=h&&!(c&&h>d))return!1;var m=o.get(t),p=o.get(e);if(m&&p)return m==e&&p==t;var g=-1,v=!0,y=n&cX?new Sg:void 0;for(o.set(t,e),o.set(e,t);++g<d;){var w=t[g],j=e[g];if(a)var S=c?a(j,w,g,e,t,o):a(w,j,g,t,e,o);if(S!==void 0){if(S)continue;v=!1;break}if(y){if(!iX(e,function(k,E){if(!oX(y,E)&&(w===k||i(w,k,n,a,o)))return y.push(E)})){v=!1;break}}else if(!(w===j||i(w,j,n,a,o))){v=!1;break}}return o.delete(t),o.delete(e),v}function dX(t){var e=-1,n=Array(t.size);return t.forEach(function(a,i){n[++e]=[i,a]}),n}function uX(t){var e=-1,n=Array(t.size);return t.forEach(function(a){n[++e]=a}),n}var hX=1,fX=2,mX="[object Boolean]",pX="[object Date]",gX="[object Error]",xX="[object Map]",vX="[object Number]",bX="[object RegExp]",yX="[object Set]",jX="[object String]",wX="[object Symbol]",NX="[object ArrayBuffer]",SX="[object DataView]",m2=ul?ul.prototype:void 0,cy=m2?m2.valueOf:void 0;function kX(t,e,n,a,i,o,c){switch(n){case SX:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case NX:return!(t.byteLength!=e.byteLength||!o(new Ng(t),new Ng(e)));case mX:case pX:case vX:return Gf(+t,+e);case gX:return t.name==e.name&&t.message==e.message;case bX:case jX:return t==e+"";case xX:var d=dX;case yX:var h=a&hX;if(d||(d=uX),t.size!=e.size&&!h)return!1;var m=c.get(t);if(m)return m==e;a|=fX,c.set(t,e);var p=pM(d(t),d(e),a,i,o,c);return c.delete(t),p;case wX:if(cy)return cy.call(t)==cy.call(e)}return!1}var EX=1,AX=Object.prototype,CX=AX.hasOwnProperty;function TX(t,e,n,a,i,o){var c=n&EX,d=v0(t),h=d.length,m=v0(e),p=m.length;if(h!=p&&!c)return!1;for(var g=h;g--;){var v=d[g];if(!(c?v in e:CX.call(e,v)))return!1}var y=o.get(t),w=o.get(e);if(y&&w)return y==e&&w==t;var j=!0;o.set(t,e),o.set(e,t);for(var S=c;++g<h;){v=d[g];var k=t[v],E=e[v];if(a)var A=c?a(E,k,v,e,t,o):a(k,E,v,t,e,o);if(!(A===void 0?k===E||i(k,E,n,a,o):A)){j=!1;break}S||(S=v=="constructor")}if(j&&!S){var T=t.constructor,_=e.constructor;T!=_&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof _=="function"&&_ instanceof _)&&(j=!1)}return o.delete(t),o.delete(e),j}var _X=1,p2="[object Arguments]",g2="[object Array]",yp="[object Object]",RX=Object.prototype,x2=RX.hasOwnProperty;function DX(t,e,n,a,i,o){var c=cc(t),d=cc(e),h=c?g2:Mr(t),m=d?g2:Mr(e);h=h==p2?yp:h,m=m==p2?yp:m;var p=h==yp,g=m==yp,v=h==m;if(v&&uf(t)){if(!uf(e))return!1;c=!0,p=!1}if(v&&!p)return o||(o=new pi),c||b1(t)?pM(t,e,n,a,i,o):kX(t,e,h,n,a,i,o);if(!(n&_X)){var y=p&&x2.call(t,"__wrapped__"),w=g&&x2.call(e,"__wrapped__");if(y||w){var j=y?t.value():t,S=w?e.value():e;return o||(o=new pi),i(j,S,n,a,o)}}return v?(o||(o=new pi),TX(t,e,n,a,i,o)):!1}function gM(t,e,n,a,i){return t===e?!0:t==null||e==null||!ao(t)&&!ao(e)?t!==t&&e!==e:DX(t,e,n,a,gM,i)}function MX(t){return function(e,n,a){for(var i=-1,o=Object(e),c=a(e),d=c.length;d--;){var h=c[++i];if(n(o[h],h,o)===!1)break}return e}}var PX=MX();function w0(t,e,n){(n!==void 0&&!Gf(t[e],n)||n===void 0&&!(e in t))&&g1(t,e,n)}function OX(t){return ao(t)&&yx(t)}function N0(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function LX(t){return rG(t,rM(t))}function IX(t,e,n,a,i,o,c){var d=N0(t,n),h=N0(e,n),m=c.get(h);if(m){w0(t,n,m);return}var p=o?o(d,h,n+"",t,e,c):void 0,g=p===void 0;if(g){var v=cc(h),y=!v&&uf(h),w=!v&&!y&&b1(h);p=h,v||y||w?cc(d)?p=d:OX(d)?p=GH(d):y?(g=!1,p=cM(h,!0)):w?(g=!1,p=dM(h,!0)):p=[]:DK(h)||x0(h)?(p=d,x0(d)?p=LX(d):(!bl(d)||p1(d))&&(p=uM(h))):g=!1}g&&(c.set(h,p),i(p,h,a,o,c),c.delete(h)),w0(t,n,p)}function xM(t,e,n,a,i){t!==e&&PX(e,function(o,c){if(i||(i=new pi),bl(o))IX(t,e,c,n,xM,a,i);else{var d=a?a(N0(t,c),o,c+"",t,e,i):void 0;d===void 0&&(d=o),w0(t,c,d)}},rM)}function Ko(t,e){return gM(t,e)}var el=dG(function(t,e,n){xM(t,e,n)}),Ze=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(Ze||{});class Ni{constructor(e,n,a={}){this.attrName=e,this.keyName=n;const i=Ze.TYPE&Ze.ATTRIBUTE;this.scope=a.scope!=null?a.scope&Ze.LEVEL|i:Ze.ATTRIBUTE,a.whitelist!=null&&(this.whitelist=a.whitelist)}static keys(e){return Array.from(e.attributes).map(n=>n.name)}add(e,n){return this.canAdd(e,n)?(e.setAttribute(this.keyName,n),!0):!1}canAdd(e,n){return this.whitelist==null?!0:typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const n=e.getAttribute(this.keyName);return this.canAdd(e,n)&&n?n:""}}class Fd extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const vM=class S0{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,n=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(n){let a=null;try{a=e.parentNode}catch{return null}return this.find(a,n)}return null}create(e,n,a){const i=this.query(n);if(i==null)throw new Fd(`Unable to create ${n} blot`);const o=i,c=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:o.create(a),d=new o(e,c,a);return S0.blots.set(d.domNode,d),d}find(e,n=!1){return S0.find(e,n)}query(e,n=Ze.ANY){let a;return typeof e=="string"?a=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?a=this.types.text:typeof e=="number"?e&Ze.LEVEL&Ze.BLOCK?a=this.types.block:e&Ze.LEVEL&Ze.INLINE&&(a=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(i=>(a=this.classes[i],!!a)),a=a||this.tags[e.tagName]),a==null?null:"scope"in a&&n&Ze.LEVEL&a.scope&&n&Ze.TYPE&a.scope?a:null}register(...e){return e.map(n=>{const a="blotName"in n,i="attrName"in n;if(!a&&!i)throw new Fd("Invalid definition");if(a&&n.blotName==="abstract")throw new Fd("Cannot register abstract class");const o=a?n.blotName:i?n.attrName:void 0;return this.types[o]=n,i?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):a&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(c=>c.toUpperCase()):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(c=>{(this.tags[c]==null||n.className==null)&&(this.tags[c]=n)}))),n})}};vM.blots=new WeakMap;let Qd=vM;function v2(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${e}-`)===0)}class BX extends Ni{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(n=>n.split("-").slice(0,-1).join("-"))}add(e,n){return this.canAdd(e,n)?(this.remove(e),e.classList.add(`${this.keyName}-${n}`),!0):!1}remove(e){v2(e,this.keyName).forEach(n=>{e.classList.remove(n)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const n=(v2(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,n)?n:""}}const Gr=BX;function dy(t){const e=t.split("-"),n=e.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("");return e[0]+n}class zX extends Ni{static keys(e){return(e.getAttribute("style")||"").split(";").map(n=>n.split(":")[0].trim())}add(e,n){return this.canAdd(e,n)?(e.style[dy(this.keyName)]=n,!0):!1}remove(e){e.style[dy(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const n=e.style[dy(this.keyName)];return this.canAdd(e,n)?n:""}}const yl=zX;class UX{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,n){n?e.add(this.domNode,n)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Qd.find(this.domNode);if(e==null)return;const n=Ni.keys(this.domNode),a=Gr.keys(this.domNode),i=yl.keys(this.domNode);n.concat(a).concat(i).forEach(o=>{const c=e.scroll.query(o,Ze.ATTRIBUTE);c instanceof Ni&&(this.attributes[c.attrName]=c)})}copy(e){Object.keys(this.attributes).forEach(n=>{const a=this.attributes[n].value(this.domNode);e.format(n,a)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(n=>{this.attributes[n].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,n)=>(e[n]=this.attributes[n].value(this.domNode),e),{})}}const Nx=UX,bM=class{constructor(e,n){this.scroll=e,this.domNode=n,Qd.blots.set(n,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new Fd("Blot definition missing tagName");let n,a;return Array.isArray(this.tagName)?(typeof e=="string"?(a=e.toUpperCase(),parseInt(a,10).toString()===a&&(a=parseInt(a,10))):typeof e=="number"&&(a=e),typeof a=="number"?n=document.createElement(this.tagName[a-1]):a&&this.tagName.indexOf(a)>-1?n=document.createElement(a):n=document.createElement(this.tagName[0])):n=document.createElement(this.tagName),this.className&&n.classList.add(this.className),n}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),Qd.blots.delete(this.domNode)}deleteAt(e,n){this.isolate(e,n).remove()}formatAt(e,n,a,i){const o=this.isolate(e,n);if(this.scroll.query(a,Ze.BLOT)!=null&&i)o.wrap(a,i);else if(this.scroll.query(a,Ze.ATTRIBUTE)!=null){const c=this.scroll.create(this.statics.scope);o.wrap(c),c.format(a,i)}}insertAt(e,n,a){const i=a==null?this.scroll.create("text",n):this.scroll.create(n,a),o=this.split(e);this.parent.insertBefore(i,o||void 0)}isolate(e,n){const a=this.split(e);if(a==null)throw new Error("Attempt to isolate at end");return a.split(n),a}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,n){const a=typeof e=="string"?this.scroll.create(e,n):e;return this.parent!=null&&(this.parent.insertBefore(a,this.next||void 0),this.remove()),a}split(e,n){return e===0?this:this.next}update(e,n){}wrap(e,n){const a=typeof e=="string"?this.scroll.create(e,n):e;if(this.parent!=null&&this.parent.insertBefore(a,this.next||void 0),typeof a.appendChild!="function")throw new Fd(`Cannot wrap ${e}`);return a.appendChild(this),a}};bM.blotName="abstract";let yM=bM;const jM=class extends yM{static value(e){return!0}index(e,n){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1}position(e,n){let a=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(a+=1),[this.parent.domNode,a]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};jM.scope=Ze.INLINE_BLOT;let $X=jM;const Ks=$X;class FX{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const n=e.slice(1);this.append(...n)}}at(e){const n=this.iterator();let a=n();for(;a&&e>0;)e-=1,a=n();return a}contains(e){const n=this.iterator();let a=n();for(;a;){if(a===e)return!0;a=n()}return!1}indexOf(e){const n=this.iterator();let a=n(),i=0;for(;a;){if(a===e)return i;i+=1,a=n()}return-1}insertBefore(e,n){e!=null&&(this.remove(e),e.next=n,n!=null?(e.prev=n.prev,n.prev!=null&&(n.prev.next=e),n.prev=e,n===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let n=0,a=this.head;for(;a!=null;){if(a===e)return n;n+=a.length(),a=a.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const n=e;return e!=null&&(e=e.next),n}}find(e,n=!1){const a=this.iterator();let i=a();for(;i;){const o=i.length();if(e<o||n&&e===o&&(i.next==null||i.next.length()!==0))return[i,e];e-=o,i=a()}return[null,0]}forEach(e){const n=this.iterator();let a=n();for(;a;)e(a),a=n()}forEachAt(e,n,a){if(n<=0)return;const[i,o]=this.find(e);let c=e-o;const d=this.iterator(i);let h=d();for(;h&&c<e+n;){const m=h.length();e>c?a(h,e-c,Math.min(n,c+m-e)):a(h,0,Math.min(m,e+n-c)),c+=m,h=d()}}map(e){return this.reduce((n,a)=>(n.push(e(a)),n),[])}reduce(e,n){const a=this.iterator();let i=a();for(;i;)n=e(n,i),i=a();return n}}function b2(t,e){const n=e.find(t);if(n)return n;try{return e.create(t)}catch{const a=e.create(Ze.INLINE);return Array.from(t.childNodes).forEach(i=>{a.domNode.appendChild(i)}),t.parentNode&&t.parentNode.replaceChild(a.domNode,t),a.attach(),a}}const wM=class qo extends yM{constructor(e,n){super(e,n),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,qo.uiClass&&this.uiNode.classList.add(qo.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new FX,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const n=b2(e,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof Fd)return;throw n}})}deleteAt(e,n){if(e===0&&n===this.length())return this.remove();this.children.forEachAt(e,n,(a,i,o)=>{a.deleteAt(i,o)})}descendant(e,n=0){const[a,i]=this.children.find(n);return e.blotName==null&&e(a)||e.blotName!=null&&a instanceof e?[a,i]:a instanceof qo?a.descendant(e,i):[null,-1]}descendants(e,n=0,a=Number.MAX_VALUE){let i=[],o=a;return this.children.forEachAt(n,a,(c,d,h)=>{(e.blotName==null&&e(c)||e.blotName!=null&&c instanceof e)&&i.push(c),c instanceof qo&&(i=i.concat(c.descendants(e,d,o))),o-=h}),i}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(n=>{e||this.statics.allowedChildren.some(a=>n instanceof a)||(n.statics.scope===Ze.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),e=!0):n instanceof qo?n.unwrap():n.remove())})}formatAt(e,n,a,i){this.children.forEachAt(e,n,(o,c,d)=>{o.formatAt(c,d,a,i)})}insertAt(e,n,a){const[i,o]=this.children.find(e);if(i)i.insertAt(o,n,a);else{const c=a==null?this.scroll.create("text",n):this.scroll.create(n,a);this.appendChild(c)}}insertBefore(e,n){e.parent!=null&&e.parent.children.remove(e);let a=null;this.children.insertBefore(e,n||null),e.parent=this,n!=null&&(a=n.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==a)&&this.domNode.insertBefore(e.domNode,a),e.attach()}length(){return this.children.reduce((e,n)=>e+n.length(),0)}moveChildren(e,n){this.children.forEach(a=>{e.insertBefore(a,n)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(e,n=!1){const[a,i]=this.children.find(e,n),o=[[this,e]];return a instanceof qo?o.concat(a.path(i,n)):(a!=null&&o.push([a,i]),o)}removeChild(e){this.children.remove(e)}replaceWith(e,n){const a=typeof e=="string"?this.scroll.create(e,n):e;return a instanceof qo&&this.moveChildren(a),super.replaceWith(a)}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const a=this.clone();return this.parent&&this.parent.insertBefore(a,this.next||void 0),this.children.forEachAt(e,this.length(),(i,o,c)=>{const d=i.split(o,n);d!=null&&a.appendChild(d)}),a}splitAfter(e){const n=this.clone();for(;e.next!=null;)n.appendChild(e.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,n){const a=[],i=[];e.forEach(o=>{o.target===this.domNode&&o.type==="childList"&&(a.push(...o.addedNodes),i.push(...o.removedNodes))}),i.forEach(o=>{if(o.parentNode!=null&&o.tagName!=="IFRAME"&&document.body.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const c=this.scroll.find(o);c!=null&&(c.domNode.parentNode==null||c.domNode.parentNode===this.domNode)&&c.detach()}),a.filter(o=>o.parentNode===this.domNode&&o!==this.uiNode).sort((o,c)=>o===c?0:o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(o=>{let c=null;o.nextSibling!=null&&(c=this.scroll.find(o.nextSibling));const d=b2(o,this.scroll);(d.next!==c||d.next==null)&&(d.parent!=null&&d.parent.removeChild(this),this.insertBefore(d,c||void 0))}),this.enforceAllowedChildren()}};wM.uiClass="";let VX=wM;const Lr=VX;function qX(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}const vd=class bd extends Lr{static create(e){return super.create(e)}static formats(e,n){const a=n.query(bd.blotName);if(!(a!=null&&e.tagName===a.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Nx(this.domNode)}format(e,n){if(e===this.statics.blotName&&!n)this.children.forEach(a=>{a instanceof bd||(a=a.wrap(bd.blotName,!0)),this.attributes.copy(a)}),this.unwrap();else{const a=this.scroll.query(e,Ze.INLINE);if(a==null)return;a instanceof Ni?this.attributes.attribute(a,n):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n)}}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,a,i){this.formats()[a]!=null||this.scroll.query(a,Ze.ATTRIBUTE)?this.isolate(e,n).format(a,i):super.formatAt(e,n,a,i)}optimize(e){super.optimize(e);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const a=this.next;a instanceof bd&&a.prev===this&&qX(n,a.formats())&&(a.moveChildren(this),a.remove())}replaceWith(e,n){const a=super.replaceWith(e,n);return this.attributes.copy(a),a}update(e,n){super.update(e,n),e.some(a=>a.target===this.domNode&&a.type==="attributes")&&this.attributes.build()}wrap(e,n){const a=super.wrap(e,n);return a instanceof bd&&this.attributes.move(a),a}};vd.allowedChildren=[vd,Ks],vd.blotName="inline",vd.scope=Ze.INLINE_BLOT,vd.tagName="SPAN";let HX=vd;const j1=HX,yd=class k0 extends Lr{static create(e){return super.create(e)}static formats(e,n){const a=n.query(k0.blotName);if(!(a!=null&&e.tagName===a.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new Nx(this.domNode)}format(e,n){const a=this.scroll.query(e,Ze.BLOCK);a!=null&&(a instanceof Ni?this.attributes.attribute(a,n):e===this.statics.blotName&&!n?this.replaceWith(k0.blotName):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n))}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,a,i){this.scroll.query(a,Ze.BLOCK)!=null?this.format(a,i):super.formatAt(e,n,a,i)}insertAt(e,n,a){if(a==null||this.scroll.query(n,Ze.INLINE)!=null)super.insertAt(e,n,a);else{const i=this.split(e);if(i!=null){const o=this.scroll.create(n,a);i.parent.insertBefore(o,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,n){const a=super.replaceWith(e,n);return this.attributes.copy(a),a}update(e,n){super.update(e,n),e.some(a=>a.target===this.domNode&&a.type==="attributes")&&this.attributes.build()}};yd.blotName="block",yd.scope=Ze.BLOCK_BLOT,yd.tagName="P",yd.allowedChildren=[j1,yd,Ks];let GX=yd;const mf=GX,E0=class extends Lr{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,n){super.deleteAt(e,n),this.enforceAllowedChildren()}formatAt(e,n,a,i){super.formatAt(e,n,a,i),this.enforceAllowedChildren()}insertAt(e,n,a){super.insertAt(e,n,a),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};E0.blotName="container",E0.scope=Ze.BLOCK_BLOT;let KX=E0;const Sx=KX;class YX extends Ks{static formats(e,n){}format(e,n){super.formatAt(0,this.length(),e,n)}formatAt(e,n,a,i){e===0&&n===this.length()?this.format(a,i):super.formatAt(e,n,a,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Va=YX,XX={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},WX=100,jd=class extends Lr{constructor(e,n){super(null,n),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(a=>{this.update(a)}),this.observer.observe(this.domNode,XX),this.attach()}create(e,n){return this.registry.create(this,e,n)}find(e,n=!1){const a=this.registry.find(e,n);return a?a.scroll===this?a:n?this.find(a.scroll.domNode.parentNode,!0):null:null}query(e,n=Ze.ANY){return this.registry.query(e,n)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,n){this.update(),e===0&&n===this.length()?this.children.forEach(a=>{a.remove()}):super.deleteAt(e,n)}formatAt(e,n,a,i){this.update(),super.formatAt(e,n,a,i)}insertAt(e,n,a){this.update(),super.insertAt(e,n,a)}optimize(e=[],n={}){super.optimize(n);const a=n.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)e.push(i.pop());const o=(h,m=!0)=>{h==null||h===this||h.domNode.parentNode!=null&&(a.has(h.domNode)||a.set(h.domNode,[]),m&&o(h.parent))},c=h=>{a.has(h.domNode)&&(h instanceof Lr&&h.children.forEach(c),a.delete(h.domNode),h.optimize(n))};let d=e;for(let h=0;d.length>0;h+=1){if(h>=WX)throw new Error("[Parchment] Maximum optimize iterations reached");for(d.forEach(m=>{const p=this.find(m.target,!0);p!=null&&(p.domNode===m.target&&(m.type==="childList"?(o(this.find(m.previousSibling,!1)),Array.from(m.addedNodes).forEach(g=>{const v=this.find(g,!1);o(v,!1),v instanceof Lr&&v.children.forEach(y=>{o(y,!1)})})):m.type==="attributes"&&o(p.prev)),o(p))}),this.children.forEach(c),d=Array.from(this.observer.takeRecords()),i=d.slice();i.length>0;)e.push(i.pop())}}update(e,n={}){e=e||this.observer.takeRecords();const a=new WeakMap;e.map(i=>{const o=this.find(i.target,!0);return o==null?null:a.has(o.domNode)?(a.get(o.domNode).push(i),null):(a.set(o.domNode,[i]),o)}).forEach(i=>{i!=null&&i!==this&&a.has(i.domNode)&&i.update(a.get(i.domNode)||[],n)}),n.mutationsMap=a,a.has(this.domNode)&&super.update(a.get(this.domNode),n),this.optimize(e,n)}};jd.blotName="scroll",jd.defaultChild=mf,jd.allowedChildren=[mf,Sx],jd.scope=Ze.BLOCK_BLOT,jd.tagName="DIV";let ZX=jd;const w1=ZX,A0=class NM extends Ks{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,n){super(e,n),this.text=this.statics.value(this.domNode)}deleteAt(e,n){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+n)}index(e,n){return this.domNode===e?n:-1}insertAt(e,n,a){a==null?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,n,a)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof NM&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,n=!1){return[this.domNode,e]}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const a=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(a,this.next||void 0),this.text=this.statics.value(this.domNode),a}update(e,n){e.some(a=>a.type==="characterData"&&a.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};A0.blotName="text",A0.scope=Ze.INLINE_BLOT;let QX=A0;const kg=QX,JX=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Ni,AttributorStore:Nx,BlockBlot:mf,ClassAttributor:Gr,ContainerBlot:Sx,EmbedBlot:Va,InlineBlot:j1,LeafBlot:Ks,ParentBlot:Lr,Registry:Qd,Scope:Ze,ScrollBlot:w1,StyleAttributor:yl,TextBlot:kg},Symbol.toStringTag,{value:"Module"}));var jp={exports:{}},uy,y2;function eW(){if(y2)return uy;y2=1;var t=-1,e=1,n=0;function a(R,X,$,Z,te){if(R===X)return R?[[n,R]]:[];if($!=null){var L=I(R,X,$);if(L)return L}var V=d(R,X),B=R.substring(0,V);R=R.substring(V),X=X.substring(V),V=m(R,X);var Y=R.substring(R.length-V);R=R.substring(0,R.length-V),X=X.substring(0,X.length-V);var se=i(R,X);return B&&se.unshift([n,B]),Y&&se.push([n,Y]),E(se,te),Z&&g(se),se}function i(R,X){var $;if(!R)return[[e,X]];if(!X)return[[t,R]];var Z=R.length>X.length?R:X,te=R.length>X.length?X:R,L=Z.indexOf(te);if(L!==-1)return $=[[e,Z.substring(0,L)],[n,te],[e,Z.substring(L+te.length)]],R.length>X.length&&($[0][0]=$[2][0]=t),$;if(te.length===1)return[[t,R],[e,X]];var V=p(R,X);if(V){var B=V[0],Y=V[1],se=V[2],K=V[3],z=V[4],W=a(B,se),q=a(Y,K);return W.concat([[n,z]],q)}return o(R,X)}function o(R,X){for(var $=R.length,Z=X.length,te=Math.ceil(($+Z)/2),L=te,V=2*te,B=new Array(V),Y=new Array(V),se=0;se<V;se++)B[se]=-1,Y[se]=-1;B[L+1]=0,Y[L+1]=0;for(var K=$-Z,z=K%2!==0,W=0,q=0,H=0,ee=0,ne=0;ne<te;ne++){for(var ie=-ne+W;ie<=ne-q;ie+=2){var he=L+ie,ae;ie===-ne||ie!==ne&&B[he-1]<B[he+1]?ae=B[he+1]:ae=B[he-1]+1;for(var ue=ae-ie;ae<$&&ue<Z&&R.charAt(ae)===X.charAt(ue);)ae++,ue++;if(B[he]=ae,ae>$)q+=2;else if(ue>Z)W+=2;else if(z){var ce=L+K-ie;if(ce>=0&&ce<V&&Y[ce]!==-1){var Ce=$-Y[ce];if(ae>=Ce)return c(R,X,ae,ue)}}}for(var Oe=-ne+H;Oe<=ne-ee;Oe+=2){var ce=L+Oe,Ce;Oe===-ne||Oe!==ne&&Y[ce-1]<Y[ce+1]?Ce=Y[ce+1]:Ce=Y[ce-1]+1;for(var nt=Ce-Oe;Ce<$&&nt<Z&&R.charAt($-Ce-1)===X.charAt(Z-nt-1);)Ce++,nt++;if(Y[ce]=Ce,Ce>$)ee+=2;else if(nt>Z)H+=2;else if(!z){var he=L+K-Oe;if(he>=0&&he<V&&B[he]!==-1){var ae=B[he],ue=L+ae-he;if(Ce=$-Ce,ae>=Ce)return c(R,X,ae,ue)}}}}return[[t,R],[e,X]]}function c(R,X,$,Z){var te=R.substring(0,$),L=X.substring(0,Z),V=R.substring($),B=X.substring(Z),Y=a(te,L),se=a(V,B);return Y.concat(se)}function d(R,X){if(!R||!X||R.charAt(0)!==X.charAt(0))return 0;for(var $=0,Z=Math.min(R.length,X.length),te=Z,L=0;$<te;)R.substring(L,te)==X.substring(L,te)?($=te,L=$):Z=te,te=Math.floor((Z-$)/2+$);return A(R.charCodeAt(te-1))&&te--,te}function h(R,X){var $=R.length,Z=X.length;if($==0||Z==0)return 0;$>Z?R=R.substring($-Z):$<Z&&(X=X.substring(0,$));var te=Math.min($,Z);if(R==X)return te;for(var L=0,V=1;;){var B=R.substring(te-V),Y=X.indexOf(B);if(Y==-1)return L;V+=Y,(Y==0||R.substring(te-V)==X.substring(0,V))&&(L=V,V++)}}function m(R,X){if(!R||!X||R.slice(-1)!==X.slice(-1))return 0;for(var $=0,Z=Math.min(R.length,X.length),te=Z,L=0;$<te;)R.substring(R.length-te,R.length-L)==X.substring(X.length-te,X.length-L)?($=te,L=$):Z=te,te=Math.floor((Z-$)/2+$);return T(R.charCodeAt(R.length-te))&&te--,te}function p(R,X){var $=R.length>X.length?R:X,Z=R.length>X.length?X:R;if($.length<4||Z.length*2<$.length)return null;function te(q,H,ee){for(var ne=q.substring(ee,ee+Math.floor(q.length/4)),ie=-1,he="",ae,ue,ce,Ce;(ie=H.indexOf(ne,ie+1))!==-1;){var Oe=d(q.substring(ee),H.substring(ie)),nt=m(q.substring(0,ee),H.substring(0,ie));he.length<nt+Oe&&(he=H.substring(ie-nt,ie)+H.substring(ie,ie+Oe),ae=q.substring(0,ee-nt),ue=q.substring(ee+Oe),ce=H.substring(0,ie-nt),Ce=H.substring(ie+Oe))}return he.length*2>=q.length?[ae,ue,ce,Ce,he]:null}var L=te($,Z,Math.ceil($.length/4)),V=te($,Z,Math.ceil($.length/2)),B;if(!L&&!V)return null;V?L?B=L[4].length>V[4].length?L:V:B=V:B=L;var Y,se,K,z;R.length>X.length?(Y=B[0],se=B[1],K=B[2],z=B[3]):(K=B[0],z=B[1],Y=B[2],se=B[3]);var W=B[4];return[Y,se,K,z,W]}function g(R){for(var X=!1,$=[],Z=0,te=null,L=0,V=0,B=0,Y=0,se=0;L<R.length;)R[L][0]==n?($[Z++]=L,V=Y,B=se,Y=0,se=0,te=R[L][1]):(R[L][0]==e?Y+=R[L][1].length:se+=R[L][1].length,te&&te.length<=Math.max(V,B)&&te.length<=Math.max(Y,se)&&(R.splice($[Z-1],0,[t,te]),R[$[Z-1]+1][0]=e,Z--,Z--,L=Z>0?$[Z-1]:-1,V=0,B=0,Y=0,se=0,te=null,X=!0)),L++;for(X&&E(R),k(R),L=1;L<R.length;){if(R[L-1][0]==t&&R[L][0]==e){var K=R[L-1][1],z=R[L][1],W=h(K,z),q=h(z,K);W>=q?(W>=K.length/2||W>=z.length/2)&&(R.splice(L,0,[n,z.substring(0,W)]),R[L-1][1]=K.substring(0,K.length-W),R[L+1][1]=z.substring(W),L++):(q>=K.length/2||q>=z.length/2)&&(R.splice(L,0,[n,K.substring(0,q)]),R[L-1][0]=e,R[L-1][1]=z.substring(0,z.length-q),R[L+1][0]=t,R[L+1][1]=K.substring(q),L++),L++}L++}}var v=/[^a-zA-Z0-9]/,y=/\s/,w=/[\r\n]/,j=/\n\r?\n$/,S=/^\r?\n\r?\n/;function k(R){function X(q,H){if(!q||!H)return 6;var ee=q.charAt(q.length-1),ne=H.charAt(0),ie=ee.match(v),he=ne.match(v),ae=ie&&ee.match(y),ue=he&&ne.match(y),ce=ae&&ee.match(w),Ce=ue&&ne.match(w),Oe=ce&&q.match(j),nt=Ce&&H.match(S);return Oe||nt?5:ce||Ce?4:ie&&!ae&&ue?3:ae||ue?2:ie||he?1:0}for(var $=1;$<R.length-1;){if(R[$-1][0]==n&&R[$+1][0]==n){var Z=R[$-1][1],te=R[$][1],L=R[$+1][1],V=m(Z,te);if(V){var B=te.substring(te.length-V);Z=Z.substring(0,Z.length-V),te=B+te.substring(0,te.length-V),L=B+L}for(var Y=Z,se=te,K=L,z=X(Z,te)+X(te,L);te.charAt(0)===L.charAt(0);){Z+=te.charAt(0),te=te.substring(1)+L.charAt(0),L=L.substring(1);var W=X(Z,te)+X(te,L);W>=z&&(z=W,Y=Z,se=te,K=L)}R[$-1][1]!=Y&&(Y?R[$-1][1]=Y:(R.splice($-1,1),$--),R[$][1]=se,K?R[$+1][1]=K:(R.splice($+1,1),$--))}$++}}function E(R,X){R.push([n,""]);for(var $=0,Z=0,te=0,L="",V="",B;$<R.length;){if($<R.length-1&&!R[$][1]){R.splice($,1);continue}switch(R[$][0]){case e:te++,V+=R[$][1],$++;break;case t:Z++,L+=R[$][1],$++;break;case n:var Y=$-te-Z-1;if(X){if(Y>=0&&M(R[Y][1])){var se=R[Y][1].slice(-1);if(R[Y][1]=R[Y][1].slice(0,-1),L=se+L,V=se+V,!R[Y][1]){R.splice(Y,1),$--;var K=Y-1;R[K]&&R[K][0]===e&&(te++,V=R[K][1]+V,K--),R[K]&&R[K][0]===t&&(Z++,L=R[K][1]+L,K--),Y=K}}if(_(R[$][1])){var se=R[$][1].charAt(0);R[$][1]=R[$][1].slice(1),L+=se,V+=se}}if($<R.length-1&&!R[$][1]){R.splice($,1);break}if(L.length>0||V.length>0){L.length>0&&V.length>0&&(B=d(V,L),B!==0&&(Y>=0?R[Y][1]+=V.substring(0,B):(R.splice(0,0,[n,V.substring(0,B)]),$++),V=V.substring(B),L=L.substring(B)),B=m(V,L),B!==0&&(R[$][1]=V.substring(V.length-B)+R[$][1],V=V.substring(0,V.length-B),L=L.substring(0,L.length-B)));var z=te+Z;L.length===0&&V.length===0?(R.splice($-z,z),$=$-z):L.length===0?(R.splice($-z,z,[e,V]),$=$-z+1):V.length===0?(R.splice($-z,z,[t,L]),$=$-z+1):(R.splice($-z,z,[t,L],[e,V]),$=$-z+2)}$!==0&&R[$-1][0]===n?(R[$-1][1]+=R[$][1],R.splice($,1)):$++,te=0,Z=0,L="",V="";break}}R[R.length-1][1]===""&&R.pop();var W=!1;for($=1;$<R.length-1;)R[$-1][0]===n&&R[$+1][0]===n&&(R[$][1].substring(R[$][1].length-R[$-1][1].length)===R[$-1][1]?(R[$][1]=R[$-1][1]+R[$][1].substring(0,R[$][1].length-R[$-1][1].length),R[$+1][1]=R[$-1][1]+R[$+1][1],R.splice($-1,1),W=!0):R[$][1].substring(0,R[$+1][1].length)==R[$+1][1]&&(R[$-1][1]+=R[$+1][1],R[$][1]=R[$][1].substring(R[$+1][1].length)+R[$+1][1],R.splice($+1,1),W=!0)),$++;W&&E(R,X)}function A(R){return R>=55296&&R<=56319}function T(R){return R>=56320&&R<=57343}function _(R){return T(R.charCodeAt(0))}function M(R){return A(R.charCodeAt(R.length-1))}function P(R){for(var X=[],$=0;$<R.length;$++)R[$][1].length>0&&X.push(R[$]);return X}function O(R,X,$,Z){return M(R)||_(Z)?null:P([[n,R],[t,X],[e,$],[n,Z]])}function I(R,X,$){var Z=typeof $=="number"?{index:$,length:0}:$.oldRange,te=typeof $=="number"?null:$.newRange,L=R.length,V=X.length;if(Z.length===0&&(te===null||te.length===0)){var B=Z.index,Y=R.slice(0,B),se=R.slice(B),K=te?te.index:null;e:{var z=B+V-L;if(K!==null&&K!==z||z<0||z>V)break e;var W=X.slice(0,z),q=X.slice(z);if(q!==se)break e;var H=Math.min(B,z),ee=Y.slice(0,H),ne=W.slice(0,H);if(ee!==ne)break e;var ie=Y.slice(H),he=W.slice(H);return O(ee,ie,he,se)}e:{if(K!==null&&K!==B)break e;var ae=B,W=X.slice(0,ae),q=X.slice(ae);if(W!==Y)break e;var ue=Math.min(L-ae,V-ae),ce=se.slice(se.length-ue),Ce=q.slice(q.length-ue);if(ce!==Ce)break e;var ie=se.slice(0,se.length-ue),he=q.slice(0,q.length-ue);return O(Y,ie,he,ce)}}if(Z.length>0&&te&&te.length===0)e:{var ee=R.slice(0,Z.index),ce=R.slice(Z.index+Z.length),H=ee.length,ue=ce.length;if(V<H+ue)break e;var ne=X.slice(0,H),Ce=X.slice(V-ue);if(ee!==ne||ce!==Ce)break e;var ie=R.slice(H,L-ue),he=X.slice(H,V-ue);return O(ee,ie,he,ce)}return null}function G(R,X,$,Z){return a(R,X,$,Z,!0)}return G.INSERT=e,G.DELETE=t,G.EQUAL=n,uy=G,uy}var Rh={exports:{}};Rh.exports;var j2;function SM(){return j2||(j2=1,function(t,e){var n=200,a="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",c="[object Array]",d="[object Boolean]",h="[object Date]",m="[object Error]",p="[object Function]",g="[object GeneratorFunction]",v="[object Map]",y="[object Number]",w="[object Object]",j="[object Promise]",S="[object RegExp]",k="[object Set]",E="[object String]",A="[object Symbol]",T="[object WeakMap]",_="[object ArrayBuffer]",M="[object DataView]",P="[object Float32Array]",O="[object Float64Array]",I="[object Int8Array]",G="[object Int16Array]",R="[object Int32Array]",X="[object Uint8Array]",$="[object Uint8ClampedArray]",Z="[object Uint16Array]",te="[object Uint32Array]",L=/[\\^$.*+?()[\]{}|]/g,V=/\w*$/,B=/^\[object .+?Constructor\]$/,Y=/^(?:0|[1-9]\d*)$/,se={};se[o]=se[c]=se[_]=se[M]=se[d]=se[h]=se[P]=se[O]=se[I]=se[G]=se[R]=se[v]=se[y]=se[w]=se[S]=se[k]=se[E]=se[A]=se[X]=se[$]=se[Z]=se[te]=!0,se[m]=se[p]=se[T]=!1;var K=typeof Yo=="object"&&Yo&&Yo.Object===Object&&Yo,z=typeof self=="object"&&self&&self.Object===Object&&self,W=K||z||Function("return this")(),q=e&&!e.nodeType&&e,H=q&&!0&&t&&!t.nodeType&&t,ee=H&&H.exports===q;function ne(C,F){return C.set(F[0],F[1]),C}function ie(C,F){return C.add(F),C}function he(C,F){for(var J=-1,xe=C?C.length:0;++J<xe&&F(C[J],J,C)!==!1;);return C}function ae(C,F){for(var J=-1,xe=F.length,ut=C.length;++J<xe;)C[ut+J]=F[J];return C}function ue(C,F,J,xe){for(var ut=-1,Je=C?C.length:0;++ut<Je;)J=F(J,C[ut],ut,C);return J}function ce(C,F){for(var J=-1,xe=Array(C);++J<C;)xe[J]=F(J);return xe}function Ce(C,F){return C==null?void 0:C[F]}function Oe(C){var F=!1;if(C!=null&&typeof C.toString!="function")try{F=!!(C+"")}catch{}return F}function nt(C){var F=-1,J=Array(C.size);return C.forEach(function(xe,ut){J[++F]=[ut,xe]}),J}function De(C,F){return function(J){return C(F(J))}}function ke(C){var F=-1,J=Array(C.size);return C.forEach(function(xe){J[++F]=xe}),J}var it=Array.prototype,Le=Function.prototype,Qe=Object.prototype,Ae=W["__core-js_shared__"],Ie=function(){var C=/[^.]+$/.exec(Ae&&Ae.keys&&Ae.keys.IE_PROTO||"");return C?"Symbol(src)_1."+C:""}(),Nt=Le.toString,hn=Qe.hasOwnProperty,ea=Qe.toString,vs=RegExp("^"+Nt.call(hn).replace(L,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ft=ee?W.Buffer:void 0,on=W.Symbol,Vt=W.Uint8Array,Gt=De(Object.getPrototypeOf,Object),Tn=Object.create,Jn=Qe.propertyIsEnumerable,Ts=it.splice,Us=Object.getOwnPropertySymbols,Nn=Ft?Ft.isBuffer:void 0,_s=De(Object.keys,Object),bs=js(W,"DataView"),ys=js(W,"Map"),Qt=js(W,"Promise"),ta=js(W,"Set"),$s=js(W,"WeakMap"),Rt=js(Object,"create"),ln=Dn(bs),qe=Dn(ys),bt=Dn(Qt),gt=Dn(ta),yt=Dn($s),cn=on?on.prototype:void 0,Kt=cn?cn.valueOf:void 0;function dt(C){var F=-1,J=C?C.length:0;for(this.clear();++F<J;){var xe=C[F];this.set(xe[0],xe[1])}}function Bt(){this.__data__=Rt?Rt(null):{}}function xt(C){return this.has(C)&&delete this.__data__[C]}function qt(C){var F=this.__data__;if(Rt){var J=F[C];return J===a?void 0:J}return hn.call(F,C)?F[C]:void 0}function Rs(C){var F=this.__data__;return Rt?F[C]!==void 0:hn.call(F,C)}function zn(C,F){var J=this.__data__;return J[C]=Rt&&F===void 0?a:F,this}dt.prototype.clear=Bt,dt.prototype.delete=xt,dt.prototype.get=qt,dt.prototype.has=Rs,dt.prototype.set=zn;function Xt(C){var F=-1,J=C?C.length:0;for(this.clear();++F<J;){var xe=C[F];this.set(xe[0],xe[1])}}function qa(){this.__data__=[]}function Na(C){var F=this.__data__,J=Qr(F,C);if(J<0)return!1;var xe=F.length-1;return J==xe?F.pop():Ts.call(F,J,1),!0}function Sl(C){var F=this.__data__,J=Qr(F,C);return J<0?void 0:F[J][1]}function Xr(C){return Qr(this.__data__,C)>-1}function Wr(C,F){var J=this.__data__,xe=Qr(J,C);return xe<0?J.push([C,F]):J[xe][1]=F,this}Xt.prototype.clear=qa,Xt.prototype.delete=Na,Xt.prototype.get=Sl,Xt.prototype.has=Xr,Xt.prototype.set=Wr;function _n(C){var F=-1,J=C?C.length:0;for(this.clear();++F<J;){var xe=C[F];this.set(xe[0],xe[1])}}function Zr(){this.__data__={hash:new dt,map:new(ys||Xt),string:new dt}}function Rn(C){return ei(this,C).delete(C)}function Ec(C){return ei(this,C).get(C)}function Ac(C){return ei(this,C).has(C)}function yr(C,F){return ei(this,C).set(C,F),this}_n.prototype.clear=Zr,_n.prototype.delete=Rn,_n.prototype.get=Ec,_n.prototype.has=Ac,_n.prototype.set=yr;function Un(C){this.__data__=new Xt(C)}function ju(){this.__data__=new Xt}function Cc(C){return this.__data__.delete(C)}function Tc(C){return this.__data__.get(C)}function wu(C){return this.__data__.has(C)}function fo(C,F){var J=this.__data__;if(J instanceof Xt){var xe=J.__data__;if(!ys||xe.length<n-1)return xe.push([C,F]),this;J=this.__data__=new _n(xe)}return J.set(C,F),this}Un.prototype.clear=ju,Un.prototype.delete=Cc,Un.prototype.get=Tc,Un.prototype.has=wu,Un.prototype.set=fo;function jr(C,F){var J=go(C)||ti(C)?ce(C.length,String):[],xe=J.length,ut=!!xe;for(var Je in C)hn.call(C,Je)&&!(ut&&(Je=="length"||Eu(Je,xe)))&&J.push(Je);return J}function la(C,F,J){var xe=C[F];(!(hn.call(C,F)&&Rl(xe,J))||J===void 0&&!(F in C))&&(C[F]=J)}function Qr(C,F){for(var J=C.length;J--;)if(Rl(C[J][0],F))return J;return-1}function Sa(C,F){return C&&Di(F,vo(F),C)}function Ha(C,F,J,xe,ut,Je,Dt){var Et;if(xe&&(Et=Je?xe(C,ut,Je,Dt):xe(C)),Et!==void 0)return Et;if(!da(C))return C;var fn=go(C);if(fn){if(Et=Mc(C),!F)return Rc(C,Et)}else{var Pt=Ka(C),rs=Pt==p||Pt==g;if(xo(C))return _i(C,F);if(Pt==w||Pt==o||rs&&!Je){if(Oe(C))return Je?C:{};if(Et=ca(rs?{}:C),!F)return Jr(C,Sa(Et,C))}else{if(!se[Pt])return Je?C:{};Et=ku(C,Pt,Ha,F)}}Dt||(Dt=new Un);var qs=Dt.get(C);if(qs)return qs;if(Dt.set(C,Et),!fn)var $n=J?Dc(C):vo(C);return he($n||C,function(ws,Fn){$n&&(Fn=ws,ws=C[Fn]),la(Et,Fn,Ha(ws,F,J,xe,Fn,C,Dt))}),Et}function kl(C){return da(C)?Tn(C):{}}function El(C,F,J){var xe=F(C);return go(C)?xe:ae(xe,J(C))}function Nu(C){return ea.call(C)}function _c(C){if(!da(C)||_l(C))return!1;var F=Sr(C)||Oe(C)?vs:B;return F.test(Dn(C))}function Fs(C){if(!po(C))return _s(C);var F=[];for(var J in Object(C))hn.call(C,J)&&J!="constructor"&&F.push(J);return F}function _i(C,F){if(F)return C.slice();var J=new C.constructor(C.length);return C.copy(J),J}function Al(C){var F=new C.constructor(C.byteLength);return new Vt(F).set(new Vt(C)),F}function Ga(C,F){var J=F?Al(C.buffer):C.buffer;return new C.constructor(J,C.byteOffset,C.byteLength)}function Cl(C,F,J){var xe=F?J(nt(C),!0):nt(C);return ue(xe,ne,new C.constructor)}function Ri(C){var F=new C.constructor(C.source,V.exec(C));return F.lastIndex=C.lastIndex,F}function Su(C,F,J){var xe=F?J(ke(C),!0):ke(C);return ue(xe,ie,new C.constructor)}function Vs(C){return Kt?Object(Kt.call(C)):{}}function Tl(C,F){var J=F?Al(C.buffer):C.buffer;return new C.constructor(J,C.byteOffset,C.length)}function Rc(C,F){var J=-1,xe=C.length;for(F||(F=Array(xe));++J<xe;)F[J]=C[J];return F}function Di(C,F,J,xe){J||(J={});for(var ut=-1,Je=F.length;++ut<Je;){var Dt=F[ut],Et=void 0;la(J,Dt,Et===void 0?C[Dt]:Et)}return J}function Jr(C,F){return Di(C,wr(C),F)}function Dc(C){return El(C,vo,wr)}function ei(C,F){var J=C.__data__;return mo(F)?J[typeof F=="string"?"string":"hash"]:J.map}function js(C,F){var J=Ce(C,F);return _c(J)?J:void 0}var wr=Us?De(Us,Object):bo,Ka=Nu;(bs&&Ka(new bs(new ArrayBuffer(1)))!=M||ys&&Ka(new ys)!=v||Qt&&Ka(Qt.resolve())!=j||ta&&Ka(new ta)!=k||$s&&Ka(new $s)!=T)&&(Ka=function(C){var F=ea.call(C),J=F==w?C.constructor:void 0,xe=J?Dn(J):void 0;if(xe)switch(xe){case ln:return M;case qe:return v;case bt:return j;case gt:return k;case yt:return T}return F});function Mc(C){var F=C.length,J=C.constructor(F);return F&&typeof C[0]=="string"&&hn.call(C,"index")&&(J.index=C.index,J.input=C.input),J}function ca(C){return typeof C.constructor=="function"&&!po(C)?kl(Gt(C)):{}}function ku(C,F,J,xe){var ut=C.constructor;switch(F){case _:return Al(C);case d:case h:return new ut(+C);case M:return Ga(C,xe);case P:case O:case I:case G:case R:case X:case $:case Z:case te:return Tl(C,xe);case v:return Cl(C,xe,J);case y:case E:return new ut(C);case S:return Ri(C);case k:return Su(C,xe,J);case A:return Vs(C)}}function Eu(C,F){return F=F??i,!!F&&(typeof C=="number"||Y.test(C))&&C>-1&&C%1==0&&C<F}function mo(C){var F=typeof C;return F=="string"||F=="number"||F=="symbol"||F=="boolean"?C!=="__proto__":C===null}function _l(C){return!!Ie&&Ie in C}function po(C){var F=C&&C.constructor,J=typeof F=="function"&&F.prototype||Qe;return C===J}function Dn(C){if(C!=null){try{return Nt.call(C)}catch{}try{return C+""}catch{}}return""}function Nr(C){return Ha(C,!0,!0)}function Rl(C,F){return C===F||C!==C&&F!==F}function ti(C){return ka(C)&&hn.call(C,"callee")&&(!Jn.call(C,"callee")||ea.call(C)==o)}var go=Array.isArray;function Ya(C){return C!=null&&Ea(C.length)&&!Sr(C)}function ka(C){return Mi(C)&&Ya(C)}var xo=Nn||yo;function Sr(C){var F=da(C)?ea.call(C):"";return F==p||F==g}function Ea(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=i}function da(C){var F=typeof C;return!!C&&(F=="object"||F=="function")}function Mi(C){return!!C&&typeof C=="object"}function vo(C){return Ya(C)?jr(C):Fs(C)}function bo(){return[]}function yo(){return!1}t.exports=Nr}(Rh,Rh.exports)),Rh.exports}var Dh={exports:{}};Dh.exports;var w2;function kM(){return w2||(w2=1,function(t,e){var n=200,a="__lodash_hash_undefined__",i=1,o=2,c=9007199254740991,d="[object Arguments]",h="[object Array]",m="[object AsyncFunction]",p="[object Boolean]",g="[object Date]",v="[object Error]",y="[object Function]",w="[object GeneratorFunction]",j="[object Map]",S="[object Number]",k="[object Null]",E="[object Object]",A="[object Promise]",T="[object Proxy]",_="[object RegExp]",M="[object Set]",P="[object String]",O="[object Symbol]",I="[object Undefined]",G="[object WeakMap]",R="[object ArrayBuffer]",X="[object DataView]",$="[object Float32Array]",Z="[object Float64Array]",te="[object Int8Array]",L="[object Int16Array]",V="[object Int32Array]",B="[object Uint8Array]",Y="[object Uint8ClampedArray]",se="[object Uint16Array]",K="[object Uint32Array]",z=/[\\^$.*+?()[\]{}|]/g,W=/^\[object .+?Constructor\]$/,q=/^(?:0|[1-9]\d*)$/,H={};H[$]=H[Z]=H[te]=H[L]=H[V]=H[B]=H[Y]=H[se]=H[K]=!0,H[d]=H[h]=H[R]=H[p]=H[X]=H[g]=H[v]=H[y]=H[j]=H[S]=H[E]=H[_]=H[M]=H[P]=H[G]=!1;var ee=typeof Yo=="object"&&Yo&&Yo.Object===Object&&Yo,ne=typeof self=="object"&&self&&self.Object===Object&&self,ie=ee||ne||Function("return this")(),he=e&&!e.nodeType&&e,ae=he&&!0&&t&&!t.nodeType&&t,ue=ae&&ae.exports===he,ce=ue&&ee.process,Ce=function(){try{return ce&&ce.binding&&ce.binding("util")}catch{}}(),Oe=Ce&&Ce.isTypedArray;function nt(C,F){for(var J=-1,xe=C==null?0:C.length,ut=0,Je=[];++J<xe;){var Dt=C[J];F(Dt,J,C)&&(Je[ut++]=Dt)}return Je}function De(C,F){for(var J=-1,xe=F.length,ut=C.length;++J<xe;)C[ut+J]=F[J];return C}function ke(C,F){for(var J=-1,xe=C==null?0:C.length;++J<xe;)if(F(C[J],J,C))return!0;return!1}function it(C,F){for(var J=-1,xe=Array(C);++J<C;)xe[J]=F(J);return xe}function Le(C){return function(F){return C(F)}}function Qe(C,F){return C.has(F)}function Ae(C,F){return C==null?void 0:C[F]}function Ie(C){var F=-1,J=Array(C.size);return C.forEach(function(xe,ut){J[++F]=[ut,xe]}),J}function Nt(C,F){return function(J){return C(F(J))}}function hn(C){var F=-1,J=Array(C.size);return C.forEach(function(xe){J[++F]=xe}),J}var ea=Array.prototype,vs=Function.prototype,Ft=Object.prototype,on=ie["__core-js_shared__"],Vt=vs.toString,Gt=Ft.hasOwnProperty,Tn=function(){var C=/[^.]+$/.exec(on&&on.keys&&on.keys.IE_PROTO||"");return C?"Symbol(src)_1."+C:""}(),Jn=Ft.toString,Ts=RegExp("^"+Vt.call(Gt).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Us=ue?ie.Buffer:void 0,Nn=ie.Symbol,_s=ie.Uint8Array,bs=Ft.propertyIsEnumerable,ys=ea.splice,Qt=Nn?Nn.toStringTag:void 0,ta=Object.getOwnPropertySymbols,$s=Us?Us.isBuffer:void 0,Rt=Nt(Object.keys,Object),ln=wr(ie,"DataView"),qe=wr(ie,"Map"),bt=wr(ie,"Promise"),gt=wr(ie,"Set"),yt=wr(ie,"WeakMap"),cn=wr(Object,"create"),Kt=Dn(ln),dt=Dn(qe),Bt=Dn(bt),xt=Dn(gt),qt=Dn(yt),Rs=Nn?Nn.prototype:void 0,zn=Rs?Rs.valueOf:void 0;function Xt(C){var F=-1,J=C==null?0:C.length;for(this.clear();++F<J;){var xe=C[F];this.set(xe[0],xe[1])}}function qa(){this.__data__=cn?cn(null):{},this.size=0}function Na(C){var F=this.has(C)&&delete this.__data__[C];return this.size-=F?1:0,F}function Sl(C){var F=this.__data__;if(cn){var J=F[C];return J===a?void 0:J}return Gt.call(F,C)?F[C]:void 0}function Xr(C){var F=this.__data__;return cn?F[C]!==void 0:Gt.call(F,C)}function Wr(C,F){var J=this.__data__;return this.size+=this.has(C)?0:1,J[C]=cn&&F===void 0?a:F,this}Xt.prototype.clear=qa,Xt.prototype.delete=Na,Xt.prototype.get=Sl,Xt.prototype.has=Xr,Xt.prototype.set=Wr;function _n(C){var F=-1,J=C==null?0:C.length;for(this.clear();++F<J;){var xe=C[F];this.set(xe[0],xe[1])}}function Zr(){this.__data__=[],this.size=0}function Rn(C){var F=this.__data__,J=_i(F,C);if(J<0)return!1;var xe=F.length-1;return J==xe?F.pop():ys.call(F,J,1),--this.size,!0}function Ec(C){var F=this.__data__,J=_i(F,C);return J<0?void 0:F[J][1]}function Ac(C){return _i(this.__data__,C)>-1}function yr(C,F){var J=this.__data__,xe=_i(J,C);return xe<0?(++this.size,J.push([C,F])):J[xe][1]=F,this}_n.prototype.clear=Zr,_n.prototype.delete=Rn,_n.prototype.get=Ec,_n.prototype.has=Ac,_n.prototype.set=yr;function Un(C){var F=-1,J=C==null?0:C.length;for(this.clear();++F<J;){var xe=C[F];this.set(xe[0],xe[1])}}function ju(){this.size=0,this.__data__={hash:new Xt,map:new(qe||_n),string:new Xt}}function Cc(C){var F=js(this,C).delete(C);return this.size-=F?1:0,F}function Tc(C){return js(this,C).get(C)}function wu(C){return js(this,C).has(C)}function fo(C,F){var J=js(this,C),xe=J.size;return J.set(C,F),this.size+=J.size==xe?0:1,this}Un.prototype.clear=ju,Un.prototype.delete=Cc,Un.prototype.get=Tc,Un.prototype.has=wu,Un.prototype.set=fo;function jr(C){var F=-1,J=C==null?0:C.length;for(this.__data__=new Un;++F<J;)this.add(C[F])}function la(C){return this.__data__.set(C,a),this}function Qr(C){return this.__data__.has(C)}jr.prototype.add=jr.prototype.push=la,jr.prototype.has=Qr;function Sa(C){var F=this.__data__=new _n(C);this.size=F.size}function Ha(){this.__data__=new _n,this.size=0}function kl(C){var F=this.__data__,J=F.delete(C);return this.size=F.size,J}function El(C){return this.__data__.get(C)}function Nu(C){return this.__data__.has(C)}function _c(C,F){var J=this.__data__;if(J instanceof _n){var xe=J.__data__;if(!qe||xe.length<n-1)return xe.push([C,F]),this.size=++J.size,this;J=this.__data__=new Un(xe)}return J.set(C,F),this.size=J.size,this}Sa.prototype.clear=Ha,Sa.prototype.delete=kl,Sa.prototype.get=El,Sa.prototype.has=Nu,Sa.prototype.set=_c;function Fs(C,F){var J=ti(C),xe=!J&&Rl(C),ut=!J&&!xe&&Ya(C),Je=!J&&!xe&&!ut&&Mi(C),Dt=J||xe||ut||Je,Et=Dt?it(C.length,String):[],fn=Et.length;for(var Pt in C)Gt.call(C,Pt)&&!(Dt&&(Pt=="length"||ut&&(Pt=="offset"||Pt=="parent")||Je&&(Pt=="buffer"||Pt=="byteLength"||Pt=="byteOffset")||ku(Pt,fn)))&&Et.push(Pt);return Et}function _i(C,F){for(var J=C.length;J--;)if(Nr(C[J][0],F))return J;return-1}function Al(C,F,J){var xe=F(C);return ti(C)?xe:De(xe,J(C))}function Ga(C){return C==null?C===void 0?I:k:Qt&&Qt in Object(C)?Ka(C):po(C)}function Cl(C){return da(C)&&Ga(C)==d}function Ri(C,F,J,xe,ut){return C===F?!0:C==null||F==null||!da(C)&&!da(F)?C!==C&&F!==F:Su(C,F,J,xe,Ri,ut)}function Su(C,F,J,xe,ut,Je){var Dt=ti(C),Et=ti(F),fn=Dt?h:ca(C),Pt=Et?h:ca(F);fn=fn==d?E:fn,Pt=Pt==d?E:Pt;var rs=fn==E,qs=Pt==E,$n=fn==Pt;if($n&&Ya(C)){if(!Ya(F))return!1;Dt=!0,rs=!1}if($n&&!rs)return Je||(Je=new Sa),Dt||Mi(C)?Di(C,F,J,xe,ut,Je):Jr(C,F,fn,J,xe,ut,Je);if(!(J&i)){var ws=rs&&Gt.call(C,"__wrapped__"),Fn=qs&&Gt.call(F,"__wrapped__");if(ws||Fn){var ni=ws?C.value():C,kr=Fn?F.value():F;return Je||(Je=new Sa),ut(ni,kr,J,xe,Je)}}return $n?(Je||(Je=new Sa),Dc(C,F,J,xe,ut,Je)):!1}function Vs(C){if(!Ea(C)||mo(C))return!1;var F=xo(C)?Ts:W;return F.test(Dn(C))}function Tl(C){return da(C)&&Sr(C.length)&&!!H[Ga(C)]}function Rc(C){if(!_l(C))return Rt(C);var F=[];for(var J in Object(C))Gt.call(C,J)&&J!="constructor"&&F.push(J);return F}function Di(C,F,J,xe,ut,Je){var Dt=J&i,Et=C.length,fn=F.length;if(Et!=fn&&!(Dt&&fn>Et))return!1;var Pt=Je.get(C);if(Pt&&Je.get(F))return Pt==F;var rs=-1,qs=!0,$n=J&o?new jr:void 0;for(Je.set(C,F),Je.set(F,C);++rs<Et;){var ws=C[rs],Fn=F[rs];if(xe)var ni=Dt?xe(Fn,ws,rs,F,C,Je):xe(ws,Fn,rs,C,F,Je);if(ni!==void 0){if(ni)continue;qs=!1;break}if($n){if(!ke(F,function(kr,Pi){if(!Qe($n,Pi)&&(ws===kr||ut(ws,kr,J,xe,Je)))return $n.push(Pi)})){qs=!1;break}}else if(!(ws===Fn||ut(ws,Fn,J,xe,Je))){qs=!1;break}}return Je.delete(C),Je.delete(F),qs}function Jr(C,F,J,xe,ut,Je,Dt){switch(J){case X:if(C.byteLength!=F.byteLength||C.byteOffset!=F.byteOffset)return!1;C=C.buffer,F=F.buffer;case R:return!(C.byteLength!=F.byteLength||!Je(new _s(C),new _s(F)));case p:case g:case S:return Nr(+C,+F);case v:return C.name==F.name&&C.message==F.message;case _:case P:return C==F+"";case j:var Et=Ie;case M:var fn=xe&i;if(Et||(Et=hn),C.size!=F.size&&!fn)return!1;var Pt=Dt.get(C);if(Pt)return Pt==F;xe|=o,Dt.set(C,F);var rs=Di(Et(C),Et(F),xe,ut,Je,Dt);return Dt.delete(C),rs;case O:if(zn)return zn.call(C)==zn.call(F)}return!1}function Dc(C,F,J,xe,ut,Je){var Dt=J&i,Et=ei(C),fn=Et.length,Pt=ei(F),rs=Pt.length;if(fn!=rs&&!Dt)return!1;for(var qs=fn;qs--;){var $n=Et[qs];if(!(Dt?$n in F:Gt.call(F,$n)))return!1}var ws=Je.get(C);if(ws&&Je.get(F))return ws==F;var Fn=!0;Je.set(C,F),Je.set(F,C);for(var ni=Dt;++qs<fn;){$n=Et[qs];var kr=C[$n],Pi=F[$n];if(xe)var om=Dt?xe(Pi,kr,$n,F,C,Je):xe(kr,Pi,$n,C,F,Je);if(!(om===void 0?kr===Pi||ut(kr,Pi,J,xe,Je):om)){Fn=!1;break}ni||(ni=$n=="constructor")}if(Fn&&!ni){var Pc=C.constructor,Dl=F.constructor;Pc!=Dl&&"constructor"in C&&"constructor"in F&&!(typeof Pc=="function"&&Pc instanceof Pc&&typeof Dl=="function"&&Dl instanceof Dl)&&(Fn=!1)}return Je.delete(C),Je.delete(F),Fn}function ei(C){return Al(C,vo,Mc)}function js(C,F){var J=C.__data__;return Eu(F)?J[typeof F=="string"?"string":"hash"]:J.map}function wr(C,F){var J=Ae(C,F);return Vs(J)?J:void 0}function Ka(C){var F=Gt.call(C,Qt),J=C[Qt];try{C[Qt]=void 0;var xe=!0}catch{}var ut=Jn.call(C);return xe&&(F?C[Qt]=J:delete C[Qt]),ut}var Mc=ta?function(C){return C==null?[]:(C=Object(C),nt(ta(C),function(F){return bs.call(C,F)}))}:bo,ca=Ga;(ln&&ca(new ln(new ArrayBuffer(1)))!=X||qe&&ca(new qe)!=j||bt&&ca(bt.resolve())!=A||gt&&ca(new gt)!=M||yt&&ca(new yt)!=G)&&(ca=function(C){var F=Ga(C),J=F==E?C.constructor:void 0,xe=J?Dn(J):"";if(xe)switch(xe){case Kt:return X;case dt:return j;case Bt:return A;case xt:return M;case qt:return G}return F});function ku(C,F){return F=F??c,!!F&&(typeof C=="number"||q.test(C))&&C>-1&&C%1==0&&C<F}function Eu(C){var F=typeof C;return F=="string"||F=="number"||F=="symbol"||F=="boolean"?C!=="__proto__":C===null}function mo(C){return!!Tn&&Tn in C}function _l(C){var F=C&&C.constructor,J=typeof F=="function"&&F.prototype||Ft;return C===J}function po(C){return Jn.call(C)}function Dn(C){if(C!=null){try{return Vt.call(C)}catch{}try{return C+""}catch{}}return""}function Nr(C,F){return C===F||C!==C&&F!==F}var Rl=Cl(function(){return arguments}())?Cl:function(C){return da(C)&&Gt.call(C,"callee")&&!bs.call(C,"callee")},ti=Array.isArray;function go(C){return C!=null&&Sr(C.length)&&!xo(C)}var Ya=$s||yo;function ka(C,F){return Ri(C,F)}function xo(C){if(!Ea(C))return!1;var F=Ga(C);return F==y||F==w||F==m||F==T}function Sr(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=c}function Ea(C){var F=typeof C;return C!=null&&(F=="object"||F=="function")}function da(C){return C!=null&&typeof C=="object"}var Mi=Oe?Le(Oe):Tl;function vo(C){return go(C)?Fs(C):Rc(C)}function bo(){return[]}function yo(){return!1}t.exports=ka}(Dh,Dh.exports)),Dh.exports}var wp={},N2;function tW(){if(N2)return wp;N2=1,Object.defineProperty(wp,"__esModule",{value:!0});const t=SM(),e=kM();var n;return function(a){function i(h={},m={},p=!1){typeof h!="object"&&(h={}),typeof m!="object"&&(m={});let g=t(m);p||(g=Object.keys(g).reduce((v,y)=>(g[y]!=null&&(v[y]=g[y]),v),{}));for(const v in h)h[v]!==void 0&&m[v]===void 0&&(g[v]=h[v]);return Object.keys(g).length>0?g:void 0}a.compose=i;function o(h={},m={}){typeof h!="object"&&(h={}),typeof m!="object"&&(m={});const p=Object.keys(h).concat(Object.keys(m)).reduce((g,v)=>(e(h[v],m[v])||(g[v]=m[v]===void 0?null:m[v]),g),{});return Object.keys(p).length>0?p:void 0}a.diff=o;function c(h={},m={}){h=h||{};const p=Object.keys(m).reduce((g,v)=>(m[v]!==h[v]&&h[v]!==void 0&&(g[v]=m[v]),g),{});return Object.keys(h).reduce((g,v)=>(h[v]!==m[v]&&m[v]===void 0&&(g[v]=null),g),p)}a.invert=c;function d(h,m,p=!1){if(typeof h!="object")return m;if(typeof m!="object")return;if(!p)return m;const g=Object.keys(m).reduce((v,y)=>(h[y]===void 0&&(v[y]=m[y]),v),{});return Object.keys(g).length>0?g:void 0}a.transform=d}(n||(n={})),wp.default=n,wp}var Np={},S2;function EM(){if(S2)return Np;S2=1,Object.defineProperty(Np,"__esModule",{value:!0});var t;return function(e){function n(a){return typeof a.delete=="number"?a.delete:typeof a.retain=="number"?a.retain:typeof a.retain=="object"&&a.retain!==null?1:typeof a.insert=="string"?a.insert.length:1}e.length=n}(t||(t={})),Np.default=t,Np}var Sp={},k2;function nW(){if(k2)return Sp;k2=1,Object.defineProperty(Sp,"__esModule",{value:!0});const t=EM();class e{constructor(a){this.ops=a,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(a){a||(a=1/0);const i=this.ops[this.index];if(i){const o=this.offset,c=t.default.length(i);if(a>=c-o?(a=c-o,this.index+=1,this.offset=0):this.offset+=a,typeof i.delete=="number")return{delete:a};{const d={};return i.attributes&&(d.attributes=i.attributes),typeof i.retain=="number"?d.retain=a:typeof i.retain=="object"&&i.retain!==null?d.retain=i.retain:typeof i.insert=="string"?d.insert=i.insert.substr(o,a):d.insert=i.insert,d}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?t.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const a=this.ops[this.index];return a?typeof a.delete=="number"?"delete":typeof a.retain=="number"||typeof a.retain=="object"&&a.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const a=this.offset,i=this.index,o=this.next(),c=this.ops.slice(this.index);return this.offset=a,this.index=i,[o].concat(c)}}else return[]}}return Sp.default=e,Sp}var E2;function sW(){return E2||(E2=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const n=eW(),a=SM(),i=kM(),o=tW();e.AttributeMap=o.default;const c=EM();e.Op=c.default;const d=nW();e.OpIterator=d.default;const h="\0",m=(g,v)=>{if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);if(typeof v!="object"||v===null)throw new Error(`cannot retain a ${typeof v}`);const y=Object.keys(g)[0];if(!y||y!==Object.keys(v)[0])throw new Error(`embed types not matched: ${y} != ${Object.keys(v)[0]}`);return[y,g[y],v[y]]};class p{constructor(v){Array.isArray(v)?this.ops=v:v!=null&&Array.isArray(v.ops)?this.ops=v.ops:this.ops=[]}static registerEmbed(v,y){this.handlers[v]=y}static unregisterEmbed(v){delete this.handlers[v]}static getHandler(v){const y=this.handlers[v];if(!y)throw new Error(`no handlers for embed type "${v}"`);return y}insert(v,y){const w={};return typeof v=="string"&&v.length===0?this:(w.insert=v,y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(w.attributes=y),this.push(w))}delete(v){return v<=0?this:this.push({delete:v})}retain(v,y){if(typeof v=="number"&&v<=0)return this;const w={retain:v};return y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(w.attributes=y),this.push(w)}push(v){let y=this.ops.length,w=this.ops[y-1];if(v=a(v),typeof w=="object"){if(typeof v.delete=="number"&&typeof w.delete=="number")return this.ops[y-1]={delete:w.delete+v.delete},this;if(typeof w.delete=="number"&&v.insert!=null&&(y-=1,w=this.ops[y-1],typeof w!="object"))return this.ops.unshift(v),this;if(i(v.attributes,w.attributes)){if(typeof v.insert=="string"&&typeof w.insert=="string")return this.ops[y-1]={insert:w.insert+v.insert},typeof v.attributes=="object"&&(this.ops[y-1].attributes=v.attributes),this;if(typeof v.retain=="number"&&typeof w.retain=="number")return this.ops[y-1]={retain:w.retain+v.retain},typeof v.attributes=="object"&&(this.ops[y-1].attributes=v.attributes),this}}return y===this.ops.length?this.ops.push(v):this.ops.splice(y,0,v),this}chop(){const v=this.ops[this.ops.length-1];return v&&typeof v.retain=="number"&&!v.attributes&&this.ops.pop(),this}filter(v){return this.ops.filter(v)}forEach(v){this.ops.forEach(v)}map(v){return this.ops.map(v)}partition(v){const y=[],w=[];return this.forEach(j=>{(v(j)?y:w).push(j)}),[y,w]}reduce(v,y){return this.ops.reduce(v,y)}changeLength(){return this.reduce((v,y)=>y.insert?v+c.default.length(y):y.delete?v-y.delete:v,0)}length(){return this.reduce((v,y)=>v+c.default.length(y),0)}slice(v=0,y=1/0){const w=[],j=new d.default(this.ops);let S=0;for(;S<y&&j.hasNext();){let k;S<v?k=j.next(v-S):(k=j.next(y-S),w.push(k)),S+=c.default.length(k)}return new p(w)}compose(v){const y=new d.default(this.ops),w=new d.default(v.ops),j=[],S=w.peek();if(S!=null&&typeof S.retain=="number"&&S.attributes==null){let E=S.retain;for(;y.peekType()==="insert"&&y.peekLength()<=E;)E-=y.peekLength(),j.push(y.next());S.retain-E>0&&w.next(S.retain-E)}const k=new p(j);for(;y.hasNext()||w.hasNext();)if(w.peekType()==="insert")k.push(w.next());else if(y.peekType()==="delete")k.push(y.next());else{const E=Math.min(y.peekLength(),w.peekLength()),A=y.next(E),T=w.next(E);if(T.retain){const _={};if(typeof A.retain=="number")_.retain=typeof T.retain=="number"?E:T.retain;else if(typeof T.retain=="number")A.retain==null?_.insert=A.insert:_.retain=A.retain;else{const P=A.retain==null?"insert":"retain",[O,I,G]=m(A[P],T.retain),R=p.getHandler(O);_[P]={[O]:R.compose(I,G,P==="retain")}}const M=o.default.compose(A.attributes,T.attributes,typeof A.retain=="number");if(M&&(_.attributes=M),k.push(_),!w.hasNext()&&i(k.ops[k.ops.length-1],_)){const P=new p(y.rest());return k.concat(P).chop()}}else typeof T.delete=="number"&&(typeof A.retain=="number"||typeof A.retain=="object"&&A.retain!==null)&&k.push(T)}return k.chop()}concat(v){const y=new p(this.ops.slice());return v.ops.length>0&&(y.push(v.ops[0]),y.ops=y.ops.concat(v.ops.slice(1))),y}diff(v,y){if(this.ops===v.ops)return new p;const w=[this,v].map(A=>A.map(T=>{if(T.insert!=null)return typeof T.insert=="string"?T.insert:h;const _=A===v?"on":"with";throw new Error("diff() called "+_+" non-document")}).join("")),j=new p,S=n(w[0],w[1],y,!0),k=new d.default(this.ops),E=new d.default(v.ops);return S.forEach(A=>{let T=A[1].length;for(;T>0;){let _=0;switch(A[0]){case n.INSERT:_=Math.min(E.peekLength(),T),j.push(E.next(_));break;case n.DELETE:_=Math.min(T,k.peekLength()),k.next(_),j.delete(_);break;case n.EQUAL:_=Math.min(k.peekLength(),E.peekLength(),T);const M=k.next(_),P=E.next(_);i(M.insert,P.insert)?j.retain(_,o.default.diff(M.attributes,P.attributes)):j.push(P).delete(_);break}T-=_}}),j.chop()}eachLine(v,y=`
`){const w=new d.default(this.ops);let j=new p,S=0;for(;w.hasNext();){if(w.peekType()!=="insert")return;const k=w.peek(),E=c.default.length(k)-w.peekLength(),A=typeof k.insert=="string"?k.insert.indexOf(y,E)-E:-1;if(A<0)j.push(w.next());else if(A>0)j.push(w.next(A));else{if(v(j,w.next(1).attributes||{},S)===!1)return;S+=1,j=new p}}j.length()>0&&v(j,{},S)}invert(v){const y=new p;return this.reduce((w,j)=>{if(j.insert)y.delete(c.default.length(j));else{if(typeof j.retain=="number"&&j.attributes==null)return y.retain(j.retain),w+j.retain;if(j.delete||typeof j.retain=="number"){const S=j.delete||j.retain;return v.slice(w,w+S).forEach(E=>{j.delete?y.push(E):j.retain&&j.attributes&&y.retain(c.default.length(E),o.default.invert(j.attributes,E.attributes))}),w+S}else if(typeof j.retain=="object"&&j.retain!==null){const S=v.slice(w,w+1),k=new d.default(S.ops).next(),[E,A,T]=m(j.retain,k.insert),_=p.getHandler(E);return y.retain({[E]:_.invert(A,T)},o.default.invert(j.attributes,k.attributes)),w+1}}return w},0),y.chop()}transform(v,y=!1){if(y=!!y,typeof v=="number")return this.transformPosition(v,y);const w=v,j=new d.default(this.ops),S=new d.default(w.ops),k=new p;for(;j.hasNext()||S.hasNext();)if(j.peekType()==="insert"&&(y||S.peekType()!=="insert"))k.retain(c.default.length(j.next()));else if(S.peekType()==="insert")k.push(S.next());else{const E=Math.min(j.peekLength(),S.peekLength()),A=j.next(E),T=S.next(E);if(A.delete)continue;if(T.delete)k.push(T);else{const _=A.retain,M=T.retain;let P=typeof M=="object"&&M!==null?M:E;if(typeof _=="object"&&_!==null&&typeof M=="object"&&M!==null){const O=Object.keys(_)[0];if(O===Object.keys(M)[0]){const I=p.getHandler(O);I&&(P={[O]:I.transform(_[O],M[O],y)})}}k.retain(P,o.default.transform(A.attributes,T.attributes,y))}}return k.chop()}transformPosition(v,y=!1){y=!!y;const w=new d.default(this.ops);let j=0;for(;w.hasNext()&&j<=v;){const S=w.peekLength(),k=w.peekType();if(w.next(),k==="delete"){v-=Math.min(S,v-j);continue}else k==="insert"&&(j<v||!y)&&(v+=S);j+=S}return v}}p.Op=c.default,p.OpIterator=d.default,p.AttributeMap=o.default,p.handlers={},e.default=p,t.exports=p,t.exports.default=p}(jp,jp.exports)),jp.exports}var ur=sW();const We=gj(ur);class Kr extends Va{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Kr.blotName="break";Kr.tagName="BR";let Fr=class extends kg{};const aW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function kx(t){return t.replace(/[&<>"']/g,e=>aW[e])}const di=class di extends j1{static compare(e,n){const a=di.order.indexOf(e),i=di.order.indexOf(n);return a>=0||i>=0?a-i:e===n?0:e<n?-1:1}formatAt(e,n,a,i){if(di.compare(this.statics.blotName,a)<0&&this.scroll.query(a,Ze.BLOT)){const o=this.isolate(e,n);i&&o.wrap(a,i)}else super.formatAt(e,n,a,i)}optimize(e){if(super.optimize(e),this.parent instanceof di&&di.compare(this.statics.blotName,this.parent.statics.blotName)>0){const n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}};Me(di,"allowedChildren",[di,Kr,Va,Fr]),Me(di,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Si=di;const A2=1;class Is extends mf{constructor(){super(...arguments);Me(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=AM(this)),this.cache.delta}deleteAt(n,a){super.deleteAt(n,a),this.cache={}}formatAt(n,a,i,o){a<=0||(this.scroll.query(i,Ze.BLOCK)?n+a===this.length()&&this.format(i,o):super.formatAt(n,Math.min(a,this.length()-n-1),i,o),this.cache={})}insertAt(n,a,i){if(i!=null){super.insertAt(n,a,i),this.cache={};return}if(a.length===0)return;const o=a.split(`
`),c=o.shift();c.length>0&&(n<this.length()-1||this.children.tail==null?super.insertAt(Math.min(n,this.length()-1),c):this.children.tail.insertAt(this.children.tail.length(),c),this.cache={});let d=this;o.reduce((h,m)=>(d=d.split(h,!0),d.insertAt(0,m),m.length),n+c.length)}insertBefore(n,a){const{head:i}=this.children;super.insertBefore(n,a),i instanceof Kr&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+A2),this.cache.length}moveChildren(n,a){super.moveChildren(n,a),this.cache={}}optimize(n){super.optimize(n),this.cache={}}path(n){return super.path(n,!0)}removeChild(n){super.removeChild(n),this.cache={}}split(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(a&&(n===0||n>=this.length()-A2)){const o=this.clone();return n===0?(this.parent.insertBefore(o,this),this):(this.parent.insertBefore(o,this.next),o)}const i=super.split(n,a);return this.cache={},i}}Is.blotName="block";Is.tagName="P";Is.defaultChild=Kr;Is.allowedChildren=[Kr,Si,Va,Fr];class dr extends Va{attach(){super.attach(),this.attributes=new Nx(this.domNode)}delta(){return new We().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,n){const a=this.scroll.query(e,Ze.BLOCK_ATTRIBUTE);a!=null&&this.attributes.attribute(a,n)}formatAt(e,n,a,i){this.format(a,i)}insertAt(e,n,a){if(a!=null){super.insertAt(e,n,a);return}const i=n.split(`
`),o=i.pop(),c=i.map(h=>{const m=this.scroll.create(Is.blotName);return m.insertAt(0,h),m}),d=this.split(e);c.forEach(h=>{this.parent.insertBefore(h,d)}),o&&this.parent.insertBefore(this.scroll.create("text",o),d)}}dr.scope=Ze.BLOCK_BLOT;function AM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.descendants(Ks).reduce((n,a)=>a.length()===0?n:n.insert(a.value(),lr(a,{},e)),new We).insert(`
`,lr(t))}function lr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t==null||("formats"in t&&typeof t.formats=="function"&&(e={...e,...t.formats()},n&&delete e["code-token"]),t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope)?e:lr(t.parent,e,n)}const rr=class rr extends Va{static value(){}constructor(e,n,a){super(e,n),this.selection=a,this.textNode=document.createTextNode(rr.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,n){if(this.savedLength!==0){super.format(e,n);return}let a=this,i=0;for(;a!=null&&a.statics.scope!==Ze.BLOCK_BLOT;)i+=a.offset(a.parent),a=a.parent;a!=null&&(this.savedLength=rr.CONTENTS.length,a.optimize(),a.formatAt(i,rr.CONTENTS.length,e,n),this.savedLength=0)}index(e,n){return e===this.textNode?0:super.index(e,n)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const n=this.prev instanceof Fr?this.prev:null,a=n?n.length():0,i=this.next instanceof Fr?this.next:null,o=i?i.text:"",{textNode:c}=this,d=c.data.split(rr.CONTENTS).join("");c.data=rr.CONTENTS;let h;if(n)h=n,(d||i)&&(n.insertAt(n.length(),d+o),i&&i.remove());else if(i)h=i,i.insertAt(0,d);else{const m=document.createTextNode(d);h=this.scroll.create(m),this.parent.insertBefore(h,this)}if(this.remove(),e){const m=(v,y)=>n&&v===n.domNode?y:v===c?a+y-1:i&&v===i.domNode?a+d.length+y:null,p=m(e.start.node,e.start.offset),g=m(e.end.node,e.end.offset);if(p!==null&&g!==null)return{startNode:h.domNode,startOffset:p,endNode:h.domNode,endOffset:g}}return null}update(e,n){if(e.some(a=>a.type==="characterData"&&a.target===this.textNode)){const a=this.restore();a&&(n.range=a)}}optimize(e){super.optimize(e);let{parent:n}=this;for(;n;){if(n.domNode.tagName==="A"){this.savedLength=rr.CONTENTS.length,n.isolate(this.offset(n),this.length()).unwrap(),this.savedLength=0;break}n=n.parent}}value(){return""}};Me(rr,"blotName","cursor"),Me(rr,"className","ql-cursor"),Me(rr,"tagName","span"),Me(rr,"CONTENTS","\uFEFF");let Jd=rr;var hy={exports:{}},C2;function rW(){return C2||(C2=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function i(h,m,p){this.fn=h,this.context=m,this.once=p||!1}function o(h,m,p,g,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var y=new i(p,g||h,v),w=n?n+m:m;return h._events[w]?h._events[w].fn?h._events[w]=[h._events[w],y]:h._events[w].push(y):(h._events[w]=y,h._eventsCount++),h}function c(h,m){--h._eventsCount===0?h._events=new a:delete h._events[m]}function d(){this._events=new a,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],p,g;if(this._eventsCount===0)return m;for(g in p=this._events)e.call(p,g)&&m.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(p)):m},d.prototype.listeners=function(m){var p=n?n+m:m,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,y=g.length,w=new Array(y);v<y;v++)w[v]=g[v].fn;return w},d.prototype.listenerCount=function(m){var p=n?n+m:m,g=this._events[p];return g?g.fn?1:g.length:0},d.prototype.emit=function(m,p,g,v,y,w){var j=n?n+m:m;if(!this._events[j])return!1;var S=this._events[j],k=arguments.length,E,A;if(S.fn){switch(S.once&&this.removeListener(m,S.fn,void 0,!0),k){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,p),!0;case 3:return S.fn.call(S.context,p,g),!0;case 4:return S.fn.call(S.context,p,g,v),!0;case 5:return S.fn.call(S.context,p,g,v,y),!0;case 6:return S.fn.call(S.context,p,g,v,y,w),!0}for(A=1,E=new Array(k-1);A<k;A++)E[A-1]=arguments[A];S.fn.apply(S.context,E)}else{var T=S.length,_;for(A=0;A<T;A++)switch(S[A].once&&this.removeListener(m,S[A].fn,void 0,!0),k){case 1:S[A].fn.call(S[A].context);break;case 2:S[A].fn.call(S[A].context,p);break;case 3:S[A].fn.call(S[A].context,p,g);break;case 4:S[A].fn.call(S[A].context,p,g,v);break;default:if(!E)for(_=1,E=new Array(k-1);_<k;_++)E[_-1]=arguments[_];S[A].fn.apply(S[A].context,E)}}return!0},d.prototype.on=function(m,p,g){return o(this,m,p,g,!1)},d.prototype.once=function(m,p,g){return o(this,m,p,g,!0)},d.prototype.removeListener=function(m,p,g,v){var y=n?n+m:m;if(!this._events[y])return this;if(!p)return c(this,y),this;var w=this._events[y];if(w.fn)w.fn===p&&(!v||w.once)&&(!g||w.context===g)&&c(this,y);else{for(var j=0,S=[],k=w.length;j<k;j++)(w[j].fn!==p||v&&!w[j].once||g&&w[j].context!==g)&&S.push(w[j]);S.length?this._events[y]=S.length===1?S[0]:S:c(this,y)}return this},d.prototype.removeAllListeners=function(m){var p;return m?(p=n?n+m:m,this._events[p]&&c(this,p)):(this._events=new a,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,t.exports=d}(hy)),hy.exports}var iW=rW();const oW=gj(iW),C0=new WeakMap,T0=["error","warn","log","info"];let _0="warn";function CM(t){if(_0&&T0.indexOf(t)<=T0.indexOf(_0)){for(var e=arguments.length,n=new Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];console[t](...n)}}function ho(t){return T0.reduce((e,n)=>(e[n]=CM.bind(console,n,t),e),{})}ho.level=t=>{_0=t};CM.level=ho.level;const fy=ho("quill:events"),lW=["selectionchange","mousedown","mouseup","click"];lW.forEach(t=>{document.addEventListener(t,function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const o=C0.get(i);o&&o.emitter&&o.emitter.handleDOM(...n)})})});class Ge extends oW{constructor(){super(),this.domListeners={},this.on("error",fy.error)}emit(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return fy.log.call(fy,...n),super.emit(...n)}handleDOM(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];(this.domListeners[e.type]||[]).forEach(o=>{let{node:c,handler:d}=o;(e.target===c||c.contains(e.target))&&d(e,...a)})}listenDOM(e,n,a){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:n,handler:a})}}Me(Ge,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),Me(Ge,"sources",{API:"api",SILENT:"silent",USER:"user"});const my=ho("quill:selection");class uc{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=n}}class cW{constructor(e,n){this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new uc(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Ge.sources.USER),1)}),this.emitter.on(Ge.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const a=this.getNativeRange();a!=null&&a.start.node!==this.cursor.textNode&&this.emitter.once(Ge.events.SCROLL_UPDATE,(i,o)=>{try{this.root.contains(a.start.node)&&this.root.contains(a.end.node)&&this.setNativeRange(a.start.node,a.start.offset,a.end.node,a.end.offset);const c=o.some(d=>d.type==="characterData"||d.type==="childList"||d.type==="attributes"&&d.target===this.root);this.update(c?Ge.sources.SILENT:i)}catch{}})}),this.emitter.on(Ge.events.SCROLL_OPTIMIZE,(a,i)=>{if(i.range){const{startNode:o,startOffset:c,endNode:d,endOffset:h}=i.range;this.setNativeRange(o,c,d,h),this.update(Ge.sources.SILENT)}}),this.update(Ge.sources.SILENT)}handleComposition(){this.emitter.on(Ge.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Ge.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Ge.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,n){this.scroll.update();const a=this.getNativeRange();if(!(a==null||!a.native.collapsed||this.scroll.query(e,Ze.BLOCK))){if(a.start.node!==this.cursor.textNode){const i=this.scroll.find(a.start.node,!1);if(i==null)return;if(i instanceof Ks){const o=i.split(a.start.offset);i.parent.insertBefore(this.cursor,o)}else i.insertBefore(this.cursor,a.start.node);this.cursor.attach()}this.cursor.format(e,n),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const a=this.scroll.length();e=Math.min(e,a-1),n=Math.min(e+n,a-1)-e;let i,[o,c]=this.scroll.leaf(e);if(o==null)return null;if(n>0&&c===o.length()){const[p]=this.scroll.leaf(e+1);if(p){const[g]=this.scroll.line(e),[v]=this.scroll.line(e+1);g===v&&(o=p,c=0)}}[i,c]=o.position(c,!0);const d=document.createRange();if(n>0)return d.setStart(i,c),[o,c]=this.scroll.leaf(e+n),o==null?null:([i,c]=o.position(c,!0),d.setEnd(i,c),d.getBoundingClientRect());let h="left",m;if(i instanceof Text){if(!i.data.length)return null;c<i.data.length?(d.setStart(i,c),d.setEnd(i,c+1)):(d.setStart(i,c-1),d.setEnd(i,c),h="right"),m=d.getBoundingClientRect()}else{if(!(o.domNode instanceof Element))return null;m=o.domNode.getBoundingClientRect(),c>0&&(h="right")}return{bottom:m.top+m.height,height:m.height,left:m[h],right:m[h],top:m.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const n=e.getRangeAt(0);if(n==null)return null;const a=this.normalizeNative(n);return my.info("getNativeRange",a),a}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const n=this.getNativeRange();return n==null?[null,null]:[this.normalizedToRange(n),n]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&py(this.root,document.activeElement)}normalizedToRange(e){const n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);const a=n.map(c=>{const[d,h]=c,m=this.scroll.find(d,!0),p=m.offset(this.scroll);return h===0?p:m instanceof Ks?p+m.index(d,h):p+m.length()}),i=Math.min(Math.max(...a),this.scroll.length()-1),o=Math.min(i,...a);return new uc(o,i-o)}normalizeNative(e){if(!py(this.root,e.startContainer)||!e.collapsed&&!py(this.root,e.endContainer))return null;const n={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[n.start,n.end].forEach(a=>{let{node:i,offset:o}=a;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>o)i=i.childNodes[o],o=0;else if(i.childNodes.length===o)i=i.lastChild,i instanceof Text?o=i.data.length:i.childNodes.length>0?o=i.childNodes.length:o=i.childNodes.length+1;else break;a.node=i,a.offset=o}),n}rangeToNative(e){const n=this.scroll.length(),a=(i,o)=>{i=Math.min(n-1,i);const[c,d]=this.scroll.leaf(i);return c?c.position(d,o):[null,-1]};return[...a(e.index,!1),...a(e.index+e.length,!0)]}setNativeRange(e,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(my.info("setNativeRange",e,n,a,i),e!=null&&(this.root.parentNode==null||e.parentNode==null||a.parentNode==null))return;const c=document.getSelection();if(c!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:d}=this.getNativeRange()||{};if(d==null||o||e!==d.startContainer||n!==d.startOffset||a!==d.endContainer||i!==d.endOffset){e instanceof Element&&e.tagName==="BR"&&(n=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),a instanceof Element&&a.tagName==="BR"&&(i=Array.from(a.parentNode.childNodes).indexOf(a),a=a.parentNode);const h=document.createRange();h.setStart(e,n),h.setEnd(a,i),c.removeAllRanges(),c.addRange(h)}}else c.removeAllRanges(),this.root.blur()}setRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ge.sources.API;if(typeof n=="string"&&(a=n,n=!1),my.info("setRange",e),e!=null){const i=this.rangeToNative(e);this.setNativeRange(...i,n)}else this.setNativeRange(null);this.update(a)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ge.sources.USER;const n=this.lastRange,[a,i]=this.getRange();if(this.lastRange=a,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!Ko(n,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const c=this.cursor.restore();c&&this.setNativeRange(c.startNode,c.startOffset,c.endNode,c.endOffset)}const o=[Ge.events.SELECTION_CHANGE,$d(this.lastRange),$d(n),e];this.emitter.emit(Ge.events.EDITOR_CHANGE,...o),e!==Ge.sources.SILENT&&this.emitter.emit(...o)}}}function py(t,e){try{e.parentNode}catch{return!1}return t.contains(e)}const dW=/^[ -~]*$/;class uW{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let n=this.scroll.length();this.scroll.batchStart();const a=T2(e),i=new We;return fW(a.ops.slice()).reduce((c,d)=>{const h=ur.Op.length(d);let m=d.attributes||{},p=!1,g=!1;if(d.insert!=null){if(i.retain(h),typeof d.insert=="string"){const w=d.insert;g=!w.endsWith(`
`)&&(n<=c||!!this.scroll.descendant(dr,c)[0]),this.scroll.insertAt(c,w);const[j,S]=this.scroll.line(c);let k=el({},lr(j));if(j instanceof Is){const[E]=j.descendant(Ks,S);E&&(k=el(k,lr(E)))}m=ur.AttributeMap.diff(k,m)||{}}else if(typeof d.insert=="object"){const w=Object.keys(d.insert)[0];if(w==null)return c;const j=this.scroll.query(w,Ze.INLINE)!=null;if(j)(n<=c||this.scroll.descendant(dr,c)[0])&&(g=!0);else if(c>0){const[S,k]=this.scroll.descendant(Ks,c-1);S instanceof Fr?S.value()[k]!==`
`&&(p=!0):S instanceof Va&&S.statics.scope===Ze.INLINE_BLOT&&(p=!0)}if(this.scroll.insertAt(c,w,d.insert[w]),j){const[S]=this.scroll.descendant(Ks,c);if(S){const k=el({},lr(S));m=ur.AttributeMap.diff(k,m)||{}}}}n+=h}else if(i.push(d),d.retain!==null&&typeof d.retain=="object"){const w=Object.keys(d.retain)[0];if(w==null)return c;this.scroll.updateEmbedAt(c,w,d.retain[w])}Object.keys(m).forEach(w=>{this.scroll.formatAt(c,h,w,m[w])});const v=p?1:0,y=g?1:0;return n+=v+y,i.retain(v),i.delete(y),c+h+v+y},0),i.reduce((c,d)=>typeof d.delete=="number"?(this.scroll.deleteAt(c,d.delete),c):c+ur.Op.length(d),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(a)}deleteText(e,n){return this.scroll.deleteAt(e,n),this.update(new We().retain(e).delete(n))}formatLine(e,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(a).forEach(o=>{this.scroll.lines(e,Math.max(n,1)).forEach(c=>{c.format(o,a[o])})}),this.scroll.optimize();const i=new We().retain(e).retain(n,$d(a));return this.update(i)}formatText(e,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(a).forEach(o=>{this.scroll.formatAt(e,n,o,a[o])});const i=new We().retain(e).retain(n,$d(a));return this.update(i)}getContents(e,n){return this.delta.slice(e,e+n)}getDelta(){return this.scroll.lines().reduce((e,n)=>e.concat(n.delta()),new We)}getFormat(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=[],i=[];n===0?this.scroll.path(e).forEach(d=>{const[h]=d;h instanceof Is?a.push(h):h instanceof Ks&&i.push(h)}):(a=this.scroll.lines(e,n),i=this.scroll.descendants(Ks,e,n));const[o,c]=[a,i].map(d=>{const h=d.shift();if(h==null)return{};let m=lr(h);for(;Object.keys(m).length>0;){const p=d.shift();if(p==null)return m;m=hW(lr(p),m)}return m});return{...o,...c}}getHTML(e,n){const[a,i]=this.scroll.line(e);if(a){const o=a.length();return a.length()>=i+n&&!(i===0&&n===o)?pf(a,i,n,!0):pf(this.scroll,e,n,!0)}return""}getText(e,n){return this.getContents(e,n).filter(a=>typeof a.insert=="string").map(a=>a.insert).join("")}insertContents(e,n){const a=T2(n),i=new We().retain(e).concat(a);return this.scroll.insertContents(e,a),this.update(i)}insertEmbed(e,n,a){return this.scroll.insertAt(e,n,a),this.update(new We().retain(e).insert({[n]:a}))}insertText(e,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,n),Object.keys(a).forEach(i=>{this.scroll.formatAt(e,n.length,i,a[i])}),this.update(new We().retain(e).insert(n,$d(a)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==Is.blotName)return!1;const n=e;return n.children.length>1?!1:n.children.head instanceof Kr}removeFormat(e,n){const a=this.getText(e,n),[i,o]=this.scroll.line(e+n);let c=0,d=new We;i!=null&&(c=i.length()-o,d=i.delta().slice(o,o+c-1).insert(`
`));const m=this.getContents(e,n+c).diff(new We().insert(a).concat(d)),p=new We().retain(e).concat(m);return this.applyDelta(p)}update(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(dW)&&this.scroll.find(n[0].target)){const o=this.scroll.find(n[0].target),c=lr(o),d=o.offset(this.scroll),h=n[0].oldValue.replace(Jd.CONTENTS,""),m=new We().insert(h),p=new We().insert(o.value()),g=a&&{oldRange:_2(a.oldRange,-d),newRange:_2(a.newRange,-d)};e=new We().retain(d).concat(m.diff(p,g)).reduce((y,w)=>w.insert?y.insert(w.insert,c):y.push(w),new We),this.delta=i.compose(e)}else this.delta=this.getDelta(),(!e||!Ko(i.compose(e),this.delta))&&(e=i.diff(this.delta,a));return e}}function wd(t,e,n){if(t.length===0){const[y]=gy(n.pop());return e<=0?`</li></${y}>`:`</li></${y}>${wd([],e-1,n)}`}const[{child:a,offset:i,length:o,indent:c,type:d},...h]=t,[m,p]=gy(d);if(c>e)return n.push(d),c===e+1?`<${m}><li${p}>${pf(a,i,o)}${wd(h,c,n)}`:`<${m}><li>${wd(t,e+1,n)}`;const g=n[n.length-1];if(c===e&&d===g)return`</li><li${p}>${pf(a,i,o)}${wd(h,c,n)}`;const[v]=gy(n.pop());return`</li></${v}>${wd(t,e-1,n)}`}function pf(t,e,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in t&&typeof t.html=="function")return t.html(e,n);if(t instanceof Fr)return kx(t.value().slice(e,e+n)).replaceAll(" ","&nbsp;");if(t instanceof Lr){if(t.statics.blotName==="list-container"){const m=[];return t.children.forEachAt(e,n,(p,g,v)=>{const y="formats"in p&&typeof p.formats=="function"?p.formats():{};m.push({child:p,offset:g,length:v,indent:y.indent||0,type:y.list})}),wd(m,-1,[])}const i=[];if(t.children.forEachAt(e,n,(m,p,g)=>{i.push(pf(m,p,g))}),a||t.statics.blotName==="list")return i.join("");const{outerHTML:o,innerHTML:c}=t.domNode,[d,h]=o.split(`>${c}<`);return d==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${h}`:`${d}>${i.join("")}<${h}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function hW(t,e){return Object.keys(e).reduce((n,a)=>{if(t[a]==null)return n;const i=e[a];return i===t[a]?n[a]=i:Array.isArray(i)?i.indexOf(t[a])<0?n[a]=i.concat([t[a]]):n[a]=i:n[a]=[i,t[a]],n},{})}function gy(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function T2(t){return t.reduce((e,n)=>{if(typeof n.insert=="string"){const a=n.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(a,n.attributes)}return e.push(n)},new We)}function _2(t,e){let{index:n,length:a}=t;return new uc(n+e,a)}function fW(t){const e=[];return t.forEach(n=>{typeof n.insert=="string"?n.insert.split(`
`).forEach((i,o)=>{o&&e.push({insert:`
`,attributes:n.attributes}),i&&e.push({insert:i,attributes:n.attributes})}):e.push(n)}),e}class Yr{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=n}}Me(Yr,"DEFAULTS",{});const kp="\uFEFF";class N1 extends Va{constructor(e,n){super(e,n),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(a=>{this.contentNode.appendChild(a)}),this.leftGuard=document.createTextNode(kp),this.rightGuard=document.createTextNode(kp),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,n)}restore(e){let n=null,a;const i=e.data.split(kp).join("");if(e===this.leftGuard)if(this.prev instanceof Fr){const o=this.prev.length();this.prev.insertAt(o,i),n={startNode:this.prev.domNode,startOffset:o+i.length}}else a=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(a),this),n={startNode:a,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof Fr?(this.next.insertAt(0,i),n={startNode:this.next.domNode,startOffset:i.length}):(a=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(a),this.next),n={startNode:a,startOffset:i.length}));return e.data=kp,n}update(e,n){e.forEach(a=>{if(a.type==="characterData"&&(a.target===this.leftGuard||a.target===this.rightGuard)){const i=this.restore(a.target);i&&(n.range=i)}})}}class mW{constructor(e,n){Me(this,"isComposing",!1);this.scroll=e,this.emitter=n,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const n=e.target instanceof Node?this.scroll.find(e.target,!0):null;n&&!(n instanceof N1)&&(this.emitter.emit(Ge.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(Ge.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(Ge.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(Ge.events.COMPOSITION_END,e),this.isComposing=!1}}const Jh=class Jh{constructor(e,n){Me(this,"modules",{});this.quill=e,this.options=n}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const n=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new n(this.quill,this.options.modules[e]||{}),this.modules[e]}};Me(Jh,"DEFAULTS",{modules:{}}),Me(Jh,"themes",{default:Jh});let eu=Jh;const pW=t=>t.parentElement||t.getRootNode().host||null,gW=t=>{const e=t.getBoundingClientRect(),n="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,a="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*n,bottom:e.top+t.clientHeight*a,left:e.left}},Ep=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e},R2=(t,e,n,a,i,o)=>t<n&&e>a?0:t<n?-(n-t+i):e>a?e-t>a-n?t+i-n:e-a+o:0,xW=(t,e)=>{var o,c,d;const n=t.ownerDocument;let a=e,i=t;for(;i;){const h=i===n.body,m=h?{top:0,right:((o=window.visualViewport)==null?void 0:o.width)??n.documentElement.clientWidth,bottom:((c=window.visualViewport)==null?void 0:c.height)??n.documentElement.clientHeight,left:0}:gW(i),p=getComputedStyle(i),g=R2(a.left,a.right,m.left,m.right,Ep(p.scrollPaddingLeft),Ep(p.scrollPaddingRight)),v=R2(a.top,a.bottom,m.top,m.bottom,Ep(p.scrollPaddingTop),Ep(p.scrollPaddingBottom));if(g||v)if(h)(d=n.defaultView)==null||d.scrollBy(g,v);else{const{scrollLeft:y,scrollTop:w}=i;v&&(i.scrollTop+=v),g&&(i.scrollLeft+=g);const j=i.scrollLeft-y,S=i.scrollTop-w;a={left:a.left-j,top:a.top-S,right:a.right-j,bottom:a.bottom-S}}i=h||p.position==="fixed"?null:pW(i)}},vW=100,bW=["block","break","cursor","inline","scroll","text"],yW=(t,e,n)=>{const a=new Qd;return bW.forEach(i=>{const o=e.query(i);o&&a.register(o)}),t.forEach(i=>{let o=e.query(i);o||n.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let c=0;for(;o;)if(a.register(o),o="blotName"in o?o.requiredContainer??null:null,c+=1,c>vW){n.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),a},Vd=ho("quill"),Ap=new Qd;Lr.uiClass="ql-ui";const Dr=class Dr{static debug(e){e===!0&&(e="log"),ho.level(e)}static find(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return C0.get(e)||Ap.find(e,n)}static import(e){return this.imports[e]==null&&Vd.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],n=!!(!(arguments.length<=1)&&arguments[1]),a="attrName"in e?e.attrName:e.blotName;typeof a=="string"?this.register(`formats/${a}`,e,n):Object.keys(e).forEach(i=>{this.register(i,e[i],n)})}else{const e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],a=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!a&&Vd.warn(`Overwriting ${e} with`,n),this.imports[e]=n,(e.startsWith("blots/")||e.startsWith("formats/"))&&n&&typeof n!="boolean"&&n.blotName!=="abstract"&&Ap.register(n),typeof n.register=="function"&&n.register(Ap)}}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=jW(e,n),this.container=this.options.container,this.container==null){Vd.error("Invalid Quill container",e);return}this.options.debug&&Dr.debug(this.options.debug);const a=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",C0.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Ge;const i=w1.blotName,o=this.options.registry.query(i);if(!o||!("blotName"in o))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new o(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new uW(this.scroll),this.selection=new cW(this.scroll,this.emitter),this.composition=new mW(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Ge.events.EDITOR_CHANGE,c=>{c===Ge.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Ge.events.SCROLL_UPDATE,(c,d)=>{const h=this.selection.lastRange,[m]=this.selection.getRange(),p=h&&m?{oldRange:h,newRange:m}:void 0;Tr.call(this,()=>this.editor.update(null,d,p),c)}),this.emitter.on(Ge.events.SCROLL_EMBED_UPDATE,(c,d)=>{const h=this.selection.lastRange,[m]=this.selection.getRange(),p=h&&m?{oldRange:h,newRange:m}:void 0;Tr.call(this,()=>{const g=new We().retain(c.offset(this)).retain({[c.statics.blotName]:d});return this.editor.update(g,[],p)},Dr.sources.USER)}),a){const c=this.clipboard.convert({html:`${a}<p><br></p>`,text:`
`});this.setContents(c)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const a=e;e=document.createElement("div"),e.classList.add(a)}return this.container.insertBefore(e,n),e}blur(){this.selection.setRange(null)}deleteText(e,n,a){return[e,n,,a]=Xi(e,n,a),Tr.call(this,()=>this.editor.deleteText(e,n),a,e,-1*n)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const n=e();return this.allowReadOnlyEdits=!1,n}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ge.sources.API;return Tr.call(this,()=>{const i=this.getSelection(!0);let o=new We;if(i==null)return o;if(this.scroll.query(e,Ze.BLOCK))o=this.editor.formatLine(i.index,i.length,{[e]:n});else{if(i.length===0)return this.selection.format(e,n),o;o=this.editor.formatText(i.index,i.length,{[e]:n})}return this.setSelection(i,Ge.sources.SILENT),o},a)}formatLine(e,n,a,i,o){let c;return[e,n,c,o]=Xi(e,n,a,i,o),Tr.call(this,()=>this.editor.formatLine(e,n,c),o,e,0)}formatText(e,n,a,i,o){let c;return[e,n,c,o]=Xi(e,n,a,i,o),Tr.call(this,()=>this.editor.formatText(e,n,c),o,e,0)}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=null;if(typeof e=="number"?a=this.selection.getBounds(e,n):a=this.selection.getBounds(e.index,e.length),!a)return null;const i=this.container.getBoundingClientRect();return{bottom:a.bottom-i.top,height:a.height,left:a.left-i.left,right:a.right-i.left,top:a.top-i.top,width:a.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,n]=Xi(e,n),this.editor.getContents(e,n)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,n):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,n)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=Xi(e,n),this.editor.getHTML(e,n)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=Xi(e,n),this.editor.getText(e,n)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,n,a){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Dr.sources.API;return Tr.call(this,()=>this.editor.insertEmbed(e,n,a),i,e)}insertText(e,n,a,i,o){let c;return[e,,c,o]=Xi(e,0,a,i,o),Tr.call(this,()=>this.editor.insertText(e,n,c),o,e,n.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,n,a){return[e,n,,a]=Xi(e,n,a),Tr.call(this,()=>this.editor.removeFormat(e,n),a,e)}scrollRectIntoView(e){xW(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,n=e&&this.selection.getBounds(e.index,e.length);n&&this.scrollRectIntoView(n)}setContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ge.sources.API;return Tr.call(this,()=>{e=new We(e);const a=this.getLength(),i=this.editor.deleteText(0,a),o=this.editor.insertContents(0,e),c=this.editor.deleteText(this.getLength()-1,1);return i.compose(o).compose(c)},n)}setSelection(e,n,a){e==null?this.selection.setRange(null,n||Dr.sources.API):([e,n,,a]=Xi(e,n,a),this.selection.setRange(new uc(Math.max(0,e),n),a),a!==Ge.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ge.sources.API;const a=new We().insert(e);return this.setContents(a,n)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ge.sources.USER;const n=this.scroll.update(e);return this.selection.update(e),n}updateContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ge.sources.API;return Tr.call(this,()=>(e=new We(e),this.editor.applyDelta(e)),n,!0)}};Me(Dr,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Ap,theme:"default"}),Me(Dr,"events",Ge.events),Me(Dr,"sources",Ge.sources),Me(Dr,"version","2.0.3"),Me(Dr,"imports",{delta:We,parchment:JX,"core/module":Yr,"core/theme":eu});let Ne=Dr;function D2(t){return typeof t=="string"?document.querySelector(t):t}function xy(t){return Object.entries(t??{}).reduce((e,n)=>{let[a,i]=n;return{...e,[a]:i===!0?{}:i}},{})}function M2(t){return Object.fromEntries(Object.entries(t).filter(e=>e[1]!==void 0))}function jW(t,e){const n=D2(t);if(!n)throw new Error("Invalid Quill container");const i=!e.theme||e.theme===Ne.DEFAULTS.theme?eu:Ne.import(`themes/${e.theme}`);if(!i)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:o,...c}=Ne.DEFAULTS,{modules:d,...h}=i.DEFAULTS;let m=xy(e.modules);m!=null&&m.toolbar&&m.toolbar.constructor!==Object&&(m={...m,toolbar:{container:m.toolbar}});const p=el({},xy(o),xy(d),m),g={...c,...M2(h),...M2(e)};let v=e.registry;return v?e.formats&&Vd.warn('Ignoring "formats" option because "registry" is specified'):v=e.formats?yW(e.formats,g.registry,Vd):g.registry,{...g,registry:v,container:n,theme:i,modules:Object.entries(p).reduce((y,w)=>{let[j,S]=w;if(!S)return y;const k=Ne.import(`modules/${j}`);return k==null?(Vd.error(`Cannot load ${j} module. Are you sure you registered it?`),y):{...y,[j]:el({},k.DEFAULTS||{},S)}},{}),bounds:D2(g.bounds)}}function Tr(t,e,n,a){if(!this.isEnabled()&&e===Ge.sources.USER&&!this.allowReadOnlyEdits)return new We;let i=n==null?null:this.getSelection();const o=this.editor.delta,c=t();if(i!=null&&(n===!0&&(n=i.index),a==null?i=P2(i,c,e):a!==0&&(i=P2(i,n,a,e)),this.setSelection(i,Ge.sources.SILENT)),c.length()>0){const d=[Ge.events.TEXT_CHANGE,c,o,e];this.emitter.emit(Ge.events.EDITOR_CHANGE,...d),e!==Ge.sources.SILENT&&this.emitter.emit(...d)}return c}function Xi(t,e,n,a,i){let o={};return typeof t.index=="number"&&typeof t.length=="number"?typeof e!="number"?(i=a,a=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):typeof e!="number"&&(i=a,a=n,n=e,e=0),typeof n=="object"?(o=n,i=a):typeof n=="string"&&(a!=null?o[n]=a:i=n),i=i||Ge.sources.API,[t,e,o,i]}function P2(t,e,n,a){const i=typeof n=="number"?n:0;if(t==null)return null;let o,c;return e&&typeof e.transformPosition=="function"?[o,c]=[t.index,t.index+t.length].map(d=>e.transformPosition(d,a!==Ge.sources.USER)):[o,c]=[t.index,t.index+t.length].map(d=>d<e||d===e&&a===Ge.sources.USER?d:i>=0?d+i:Math.max(e,d+i)),new uc(o,c-o)}class wc extends Sx{}function O2(t){return t instanceof Is||t instanceof dr}function L2(t){return typeof t.updateContent=="function"}class Nd extends w1{constructor(e,n,a){let{emitter:i}=a;super(e,n),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",o=>this.handleDragStart(o))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(Ge.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(Ge.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,n){this.emitter.emit(Ge.events.SCROLL_EMBED_UPDATE,e,n)}deleteAt(e,n){const[a,i]=this.line(e),[o]=this.line(e+n);if(super.deleteAt(e,n),o!=null&&a!==o&&i>0){if(a instanceof dr||o instanceof dr){this.optimize();return}const c=o.children.head instanceof Kr?null:o.children.head;a.moveChildren(o,c),a.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,n,a,i){super.formatAt(e,n,a,i),this.optimize()}insertAt(e,n,a){if(e>=this.length())if(a==null||this.scroll.query(n,Ze.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),a==null&&n.endsWith(`
`)?i.insertAt(0,n.slice(0,-1),a):i.insertAt(0,n,a)}else{const i=this.scroll.create(n,a);this.appendChild(i)}else super.insertAt(e,n,a);this.optimize()}insertBefore(e,n){if(e.statics.scope===Ze.INLINE_BLOT){const a=this.scroll.create(this.statics.defaultChild.blotName);a.appendChild(e),super.insertBefore(a,n)}else super.insertBefore(e,n)}insertContents(e,n){const a=this.deltaToRenderBlocks(n.concat(new We().insert(`
`))),i=a.pop();if(i==null)return;this.batchStart();const o=a.shift();if(o){const h=o.type==="block"&&(o.delta.length()===0||!this.descendant(dr,e)[0]&&e<this.length()),m=o.type==="block"?o.delta:new We().insert({[o.key]:o.value});vy(this,e,m);const p=o.type==="block"?1:0,g=e+m.length()+p;h&&this.insertAt(g-1,`
`);const v=lr(this.line(e)[0]),y=ur.AttributeMap.diff(v,o.attributes)||{};Object.keys(y).forEach(w=>{this.formatAt(g-1,1,w,y[w])}),e=g}let[c,d]=this.children.find(e);if(a.length&&(c&&(c=c.split(d),d=0),a.forEach(h=>{if(h.type==="block"){const m=this.createBlock(h.attributes,c||void 0);vy(m,0,h.delta)}else{const m=this.create(h.key,h.value);this.insertBefore(m,c||void 0),Object.keys(h.attributes).forEach(p=>{m.format(p,h.attributes[p])})}})),i.type==="block"&&i.delta.length()){const h=c?c.offset(c.scroll)+d:this.length();vy(this,h,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const n=this.path(e).pop();if(!n)return[null,-1];const[a,i]=n;return a instanceof Ks?[a,i]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(O2,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const a=(i,o,c)=>{let d=[],h=c;return i.children.forEachAt(o,c,(m,p,g)=>{O2(m)?d.push(m):m instanceof Sx&&(d=d.concat(a(m,p,h))),h-=g}),d};return a(this,e,n)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,n),e.length>0&&this.emitter.emit(Ge.events.SCROLL_OPTIMIZE,e,n))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let n=Ge.sources.USER;typeof e=="string"&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(a=>{let{target:i}=a;const o=this.find(i,!0);return o&&!L2(o)}),e.length>0&&this.emitter.emit(Ge.events.SCROLL_BEFORE_UPDATE,n,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(Ge.events.SCROLL_UPDATE,n,e)}updateEmbedAt(e,n,a){const[i]=this.descendant(o=>o instanceof dr,e);i&&i.statics.blotName===n&&L2(i)&&i.updateContent(a)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const n=[];let a=new We;return e.forEach(i=>{const o=i==null?void 0:i.insert;if(o)if(typeof o=="string"){const c=o.split(`
`);c.slice(0,-1).forEach(h=>{a.insert(h,i.attributes),n.push({type:"block",delta:a,attributes:i.attributes??{}}),a=new We});const d=c[c.length-1];d&&a.insert(d,i.attributes)}else{const c=Object.keys(o)[0];if(!c)return;this.query(c,Ze.INLINE)?a.push(i):(a.length()&&n.push({type:"block",delta:a,attributes:{}}),a=new We,n.push({type:"blockEmbed",key:c,value:o[c],attributes:i.attributes??{}}))}}),a.length()&&n.push({type:"block",delta:a,attributes:{}}),n}createBlock(e,n){let a;const i={};Object.entries(e).forEach(d=>{let[h,m]=d;this.query(h,Ze.BLOCK&Ze.BLOT)!=null?a=h:i[h]=m});const o=this.create(a||this.statics.defaultChild.blotName,a?e[a]:void 0);this.insertBefore(o,n||void 0);const c=o.length();return Object.entries(i).forEach(d=>{let[h,m]=d;o.formatAt(0,c,h,m)}),o}}Me(Nd,"blotName","scroll"),Me(Nd,"className","ql-editor"),Me(Nd,"tagName","DIV"),Me(Nd,"defaultChild",Is),Me(Nd,"allowedChildren",[Is,dr,wc]);function vy(t,e,n){n.reduce((a,i)=>{const o=ur.Op.length(i);let c=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const d=i.insert;t.insertAt(a,d);const[h]=t.descendant(Ks,a),m=lr(h);c=ur.AttributeMap.diff(m,c)||{}}else if(typeof i.insert=="object"){const d=Object.keys(i.insert)[0];if(d==null)return a;if(t.insertAt(a,d,i.insert[d]),t.scroll.query(d,Ze.INLINE)!=null){const[m]=t.descendant(Ks,a),p=lr(m);c=ur.AttributeMap.diff(p,c)||{}}}}return Object.keys(c).forEach(d=>{t.formatAt(a,o,d,c[d])}),a+o},e)}const S1={scope:Ze.BLOCK,whitelist:["right","center","justify"]},wW=new Ni("align","align",S1),TM=new Gr("align","ql-align",S1),_M=new yl("align","text-align",S1);class RM extends yl{value(e){let n=super.value(e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${n.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):n}}const NW=new Gr("color","ql-color",{scope:Ze.INLINE}),k1=new RM("color","color",{scope:Ze.INLINE}),SW=new Gr("background","ql-bg",{scope:Ze.INLINE}),E1=new RM("background","background-color",{scope:Ze.INLINE});class Nc extends wc{static create(e){const n=super.create(e);return n.setAttribute("spellcheck","false"),n}code(e,n){return this.children.map(a=>a.length()<=1?"":a.domNode.innerText).join(`
`).slice(e,e+n)}html(e,n){return`<pre>
${kx(this.code(e,n))}
</pre>`}}class Zs extends Is{static register(){Ne.register(Nc)}}Me(Zs,"TAB","  ");class A1 extends Si{}A1.blotName="code";A1.tagName="CODE";Zs.blotName="code-block";Zs.className="ql-code-block";Zs.tagName="DIV";Nc.blotName="code-block-container";Nc.className="ql-code-block-container";Nc.tagName="DIV";Nc.allowedChildren=[Zs];Zs.allowedChildren=[Fr,Kr,Jd];Zs.requiredContainer=Nc;const C1={scope:Ze.BLOCK,whitelist:["rtl"]},DM=new Ni("direction","dir",C1),MM=new Gr("direction","ql-direction",C1),PM=new yl("direction","direction",C1),OM={scope:Ze.INLINE,whitelist:["serif","monospace"]},LM=new Gr("font","ql-font",OM);class kW extends yl{value(e){return super.value(e).replace(/["']/g,"")}}const IM=new kW("font","font-family",OM),BM=new Gr("size","ql-size",{scope:Ze.INLINE,whitelist:["small","large","huge"]}),zM=new yl("size","font-size",{scope:Ze.INLINE,whitelist:["10px","18px","32px"]}),EW=ho("quill:keyboard"),AW=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Ex extends Yr{static match(e,n){return["altKey","ctrlKey","metaKey","shiftKey"].some(a=>!!n[a]!==e[a]&&n[a]!==null)?!1:n.key===e.key||n.key===e.which}constructor(e,n){super(e,n),this.bindings={},Object.keys(this.options.bindings).forEach(a=>{this.options.bindings[a]&&this.addBinding(this.options.bindings[a])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=TW(e);if(i==null){EW.warn("Attempted to add invalid keyboard binding",i);return}typeof n=="function"&&(n={handler:n}),typeof a=="function"&&(a={handler:a}),(Array.isArray(i.key)?i.key:[i.key]).forEach(c=>{const d={...i,key:c,...n,...a};this.bindings[d.key]=this.bindings[d.key]||[],this.bindings[d.key].push(d)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const i=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(k=>Ex.match(e,k));if(i.length===0)return;const o=Ne.find(e.target,!0);if(o&&o.scroll!==this.quill.scroll)return;const c=this.quill.getSelection();if(c==null||!this.quill.hasFocus())return;const[d,h]=this.quill.getLine(c.index),[m,p]=this.quill.getLeaf(c.index),[g,v]=c.length===0?[m,p]:this.quill.getLeaf(c.index+c.length),y=m instanceof kg?m.value().slice(0,p):"",w=g instanceof kg?g.value().slice(v):"",j={collapsed:c.length===0,empty:c.length===0&&d.length()<=1,format:this.quill.getFormat(c),line:d,offset:h,prefix:y,suffix:w,event:e};i.some(k=>{if(k.collapsed!=null&&k.collapsed!==j.collapsed||k.empty!=null&&k.empty!==j.empty||k.offset!=null&&k.offset!==j.offset)return!1;if(Array.isArray(k.format)){if(k.format.every(E=>j.format[E]==null))return!1}else if(typeof k.format=="object"&&!Object.keys(k.format).every(E=>k.format[E]===!0?j.format[E]!=null:k.format[E]===!1?j.format[E]==null:Ko(k.format[E],j.format[E])))return!1;return k.prefix!=null&&!k.prefix.test(j.prefix)||k.suffix!=null&&!k.suffix.test(j.suffix)?!1:k.handler.call(this,c,j,k)!==!0})&&e.preventDefault()})}handleBackspace(e,n){const a=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(n.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let i={};const[o]=this.quill.getLine(e.index);let c=new We().retain(e.index-a).delete(a);if(n.offset===0){const[d]=this.quill.getLine(e.index-1);if(d&&!(d.statics.blotName==="block"&&d.length()<=1)){const m=o.formats(),p=this.quill.getFormat(e.index-1,1);if(i=ur.AttributeMap.diff(m,p)||{},Object.keys(i).length>0){const g=new We().retain(e.index+o.length()-2).retain(1,i);c=c.compose(g)}}}this.quill.updateContents(c,Ne.sources.USER),this.quill.focus()}handleDelete(e,n){const a=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(n.suffix)?2:1;if(e.index>=this.quill.getLength()-a)return;let i={};const[o]=this.quill.getLine(e.index);let c=new We().retain(e.index).delete(a);if(n.offset>=o.length()-1){const[d]=this.quill.getLine(e.index+1);if(d){const h=o.formats(),m=this.quill.getFormat(e.index,1);i=ur.AttributeMap.diff(h,m)||{},Object.keys(i).length>0&&(c=c.retain(d.length()-1).retain(1,i))}}this.quill.updateContents(c,Ne.sources.USER),this.quill.focus()}handleDeleteRange(e){T1({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,n){const a=Object.keys(n.format).reduce((o,c)=>(this.quill.scroll.query(c,Ze.BLOCK)&&!Array.isArray(n.format[c])&&(o[c]=n.format[c]),o),{}),i=new We().retain(e.index).delete(e.length).insert(`
`,a);this.quill.updateContents(i,Ne.sources.USER),this.quill.setSelection(e.index+1,Ne.sources.SILENT),this.quill.focus()}}const CW={bindings:{bold:by("bold"),italic:by("italic"),underline:by("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",Ne.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",Ne.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){e.format.indent!=null?this.quill.format("indent","-1",Ne.sources.USER):e.format.list!=null&&this.quill.format("list",!1,Ne.sources.USER)}},"indent code-block":I2(!0),"outdent code-block":I2(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,Ne.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return!0;this.quill.history.cutoff();const n=new We().retain(t.index).delete(t.length).insert("	");return this.quill.updateContents(n,Ne.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,Ne.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,Ne.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(t,e){const n={list:!1};e.format.indent&&(n.indent=!1),this.quill.formatLine(t.index,t.length,n,Ne.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(t){const[e,n]=this.quill.getLine(t.index),a={...e.formats(),list:"checked"},i=new We().retain(t.index).insert(`
`,a).retain(e.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,Ne.sources.USER),this.quill.setSelection(t.index+1,Ne.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(t,e){const[n,a]=this.quill.getLine(t.index),i=new We().retain(t.index).insert(`
`,e.format).retain(n.length()-a-1).retain(1,{header:null});this.quill.updateContents(i,Ne.sources.USER),this.quill.setSelection(t.index+1,Ne.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[n,a,i,o]=e.getTable(t),c=_W(n,a,i,o);if(c==null)return;let d=n.offset();if(c<0){const h=new We().retain(d).insert(`
`);this.quill.updateContents(h,Ne.sources.USER),this.quill.setSelection(t.index+1,t.length,Ne.sources.SILENT)}else if(c>0){d+=n.length();const h=new We().retain(d).insert(`
`);this.quill.updateContents(h,Ne.sources.USER),this.quill.setSelection(d,Ne.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:n,line:a}=e,i=a.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(i-1,Ne.sources.USER):this.quill.setSelection(i+a.length(),Ne.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return!0;const{length:n}=e.prefix,[a,i]=this.quill.getLine(t.index);if(i>n)return!0;let o;switch(e.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o="ordered"}this.quill.insertText(t.index," ",Ne.sources.USER),this.quill.history.cutoff();const c=new We().retain(t.index-i).delete(n+1).retain(a.length()-2-i).retain(1,{list:o});return this.quill.updateContents(c,Ne.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,Ne.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,n]=this.quill.getLine(t.index);let a=2,i=e;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,a-=1,a<=0){const o=new We().retain(t.index+e.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(o,Ne.sources.USER),this.quill.setSelection(t.index-1,Ne.sources.SILENT),!1}return!0}},"embed left":Cp("ArrowLeft",!1),"embed left shift":Cp("ArrowLeft",!0),"embed right":Cp("ArrowRight",!1),"embed right shift":Cp("ArrowRight",!0),"table down":B2(!1),"table up":B2(!0)}};Ex.DEFAULTS=CW;function I2(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler(e,n){let{event:a}=n;const i=this.quill.scroll.query("code-block"),{TAB:o}=i;if(e.length===0&&!a.shiftKey){this.quill.insertText(e.index,o,Ne.sources.USER),this.quill.setSelection(e.index+o.length,Ne.sources.SILENT);return}const c=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:d,length:h}=e;c.forEach((m,p)=>{t?(m.insertAt(0,o),p===0?d+=o.length:h+=o.length):m.domNode.textContent.startsWith(o)&&(m.deleteAt(0,o.length),p===0?d-=o.length:h-=o.length)}),this.quill.update(Ne.sources.USER),this.quill.setSelection(d,h,Ne.sources.SILENT)}}}function Cp(t,e){return{key:t,shiftKey:e,altKey:null,[t==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(a){let{index:i}=a;t==="ArrowRight"&&(i+=a.length+1);const[o]=this.quill.getLeaf(i);return o instanceof Va?(t==="ArrowLeft"?e?this.quill.setSelection(a.index-1,a.length+1,Ne.sources.USER):this.quill.setSelection(a.index-1,Ne.sources.USER):e?this.quill.setSelection(a.index,a.length+1,Ne.sources.USER):this.quill.setSelection(a.index+a.length+1,Ne.sources.USER),!1):!0}}}function by(t){return{key:t[0],shortKey:!0,handler(e,n){this.quill.format(t,!n.format[t],Ne.sources.USER)}}}function B2(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,n){const a=t?"prev":"next",i=n.line,o=i.parent[a];if(o!=null){if(o.statics.blotName==="table-row"){let c=o.children.head,d=i;for(;d.prev!=null;)d=d.prev,c=c.next;const h=c.offset(this.quill.scroll)+Math.min(n.offset,c.length()-1);this.quill.setSelection(h,0,Ne.sources.USER)}}else{const c=i.table()[a];c!=null&&(t?this.quill.setSelection(c.offset(this.quill.scroll)+c.length()-1,0,Ne.sources.USER):this.quill.setSelection(c.offset(this.quill.scroll),0,Ne.sources.USER))}return!1}}}function TW(t){if(typeof t=="string"||typeof t=="number")t={key:t};else if(typeof t=="object")t=$d(t);else return null;return t.shortKey&&(t[AW]=t.shortKey,delete t.shortKey),t}function T1(t){let{quill:e,range:n}=t;const a=e.getLines(n);let i={};if(a.length>1){const o=a[0].formats(),c=a[a.length-1].formats();i=ur.AttributeMap.diff(c,o)||{}}e.deleteText(n,Ne.sources.USER),Object.keys(i).length>0&&e.formatLine(n.index,1,i,Ne.sources.USER),e.setSelection(n.index,Ne.sources.SILENT)}function _W(t,e,n,a){return e.prev==null&&e.next==null?n.prev==null&&n.next==null?a===0?-1:1:n.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const RW=/font-weight:\s*normal/,DW=["P","OL","UL"],z2=t=>t&&DW.includes(t.tagName),MW=t=>{Array.from(t.querySelectorAll("br")).filter(e=>z2(e.previousElementSibling)&&z2(e.nextElementSibling)).forEach(e=>{var n;(n=e.parentNode)==null||n.removeChild(e)})},PW=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var n;return(n=e.getAttribute("style"))==null?void 0:n.match(RW)}).forEach(e=>{var a;const n=t.createDocumentFragment();n.append(...e.childNodes),(a=e.parentNode)==null||a.replaceChild(n,e)})};function OW(t){t.querySelector('[id^="docs-internal-guid-"]')&&(PW(t),MW(t))}const LW=/\bmso-list:[^;]*ignore/i,IW=/\bmso-list:[^;]*\bl(\d+)/i,BW=/\bmso-list:[^;]*\blevel(\d+)/i,zW=(t,e)=>{const n=t.getAttribute("style"),a=n==null?void 0:n.match(IW);if(!a)return null;const i=Number(a[1]),o=n==null?void 0:n.match(BW),c=o?Number(o[1]):1,d=new RegExp(`@list l${i}:level${c}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),h=e.match(d),m=h&&h[1]==="bullet"?"bullet":"ordered";return{id:i,indent:c,type:m,element:t}},UW=t=>{var c,d;const e=Array.from(t.querySelectorAll("[style*=mso-list]")),n=[],a=[];e.forEach(h=>{(h.getAttribute("style")||"").match(LW)?n.push(h):a.push(h)}),n.forEach(h=>{var m;return(m=h.parentNode)==null?void 0:m.removeChild(h)});const i=t.documentElement.innerHTML,o=a.map(h=>zW(h,i)).filter(h=>h);for(;o.length;){const h=[];let m=o.shift();for(;m;)h.push(m),m=o.length&&((c=o[0])==null?void 0:c.element)===m.element.nextElementSibling&&o[0].id===m.id?o.shift():null;const p=document.createElement("ul");h.forEach(y=>{const w=document.createElement("li");w.setAttribute("data-list",y.type),y.indent>1&&w.setAttribute("class",`ql-indent-${y.indent-1}`),w.innerHTML=y.element.innerHTML,p.appendChild(w)});const g=(d=h[0])==null?void 0:d.element,{parentNode:v}=g??{};g&&(v==null||v.replaceChild(p,g)),h.slice(1).forEach(y=>{let{element:w}=y;v==null||v.removeChild(w)})}};function $W(t){t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&UW(t)}const FW=[$W,OW],VW=t=>{t.documentElement&&FW.forEach(e=>{e(t)})},qW=ho("quill:clipboard"),HW=[[Node.TEXT_NODE,sZ],[Node.TEXT_NODE,$2],["br",WW],[Node.ELEMENT_NODE,$2],[Node.ELEMENT_NODE,XW],[Node.ELEMENT_NODE,YW],[Node.ELEMENT_NODE,tZ],["li",JW],["ol, ul",eZ],["pre",ZW],["tr",nZ],["b",yy("bold")],["i",yy("italic")],["strike",yy("strike")],["style",QW]],GW=[wW,DM].reduce((t,e)=>(t[e.keyName]=e,t),{}),U2=[_M,E1,k1,PM,IM,zM].reduce((t,e)=>(t[e.keyName]=e,t),{});class UM extends Yr{constructor(e,n){super(e,n),this.quill.root.addEventListener("copy",a=>this.onCaptureCopy(a,!1)),this.quill.root.addEventListener("cut",a=>this.onCaptureCopy(a,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],HW.concat(this.options.matchers??[]).forEach(a=>{let[i,o]=a;this.addMatcher(i,o)})}addMatcher(e,n){this.matchers.push([e,n])}convert(e){let{html:n,text:a}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[Zs.blotName])return new We().insert(a||"",{[Zs.blotName]:i[Zs.blotName]});if(!n)return new We().insert(a||"",i);const o=this.convertHTML(n);return Kf(o,`
`)&&(o.ops[o.ops.length-1].attributes==null||i.table)?o.compose(new We().retain(o.length()-1).delete(1)):o}normalizeHTML(e){VW(e)}convertHTML(e){const n=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(n);const a=n.body,i=new WeakMap,[o,c]=this.prepareMatching(a,i);return _1(this.quill.scroll,a,o,c,i)}dangerouslyPasteHTML(e,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ne.sources.API;if(typeof e=="string"){const i=this.convert({html:e,text:""});this.quill.setContents(i,n),this.quill.setSelection(0,Ne.sources.SILENT)}else{const i=this.convert({html:n,text:""});this.quill.updateContents(new We().retain(e).concat(i),a),this.quill.setSelection(e+i.length(),Ne.sources.SILENT)}}onCaptureCopy(e){var c,d;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[a]=this.quill.selection.getRange();if(a==null)return;const{html:i,text:o}=this.onCopy(a,n);(c=e.clipboardData)==null||c.setData("text/plain",o),(d=e.clipboardData)==null||d.setData("text/html",i),n&&T1({range:a,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(n=>n[0]!=="#").join(`
`)}onCapturePaste(e){var c,d,h,m,p;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const n=this.quill.getSelection(!0);if(n==null)return;const a=(c=e.clipboardData)==null?void 0:c.getData("text/html");let i=(d=e.clipboardData)==null?void 0:d.getData("text/plain");if(!a&&!i){const g=(h=e.clipboardData)==null?void 0:h.getData("text/uri-list");g&&(i=this.normalizeURIList(g))}const o=Array.from(((m=e.clipboardData)==null?void 0:m.files)||[]);if(!a&&o.length>0){this.quill.uploader.upload(n,o);return}if(a&&o.length>0){const g=new DOMParser().parseFromString(a,"text/html");if(g.body.childElementCount===1&&((p=g.body.firstElementChild)==null?void 0:p.tagName)==="IMG"){this.quill.uploader.upload(n,o);return}}this.onPaste(n,{html:a,text:i})}onCopy(e){const n=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:n}}onPaste(e,n){let{text:a,html:i}=n;const o=this.quill.getFormat(e.index),c=this.convert({text:a,html:i},o);qW.log("onPaste",c,{text:a,html:i});const d=new We().retain(e.index).delete(e.length).concat(c);this.quill.updateContents(d,Ne.sources.USER),this.quill.setSelection(d.length()-e.length,Ne.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,n){const a=[],i=[];return this.matchers.forEach(o=>{const[c,d]=o;switch(c){case Node.TEXT_NODE:i.push(d);break;case Node.ELEMENT_NODE:a.push(d);break;default:Array.from(e.querySelectorAll(c)).forEach(h=>{if(n.has(h)){const m=n.get(h);m==null||m.push(d)}else n.set(h,[d])});break}}),[a,i]}}Me(UM,"DEFAULTS",{matchers:[]});function Sc(t,e,n,a){return a.query(e)?t.reduce((i,o)=>{if(!o.insert)return i;if(o.attributes&&o.attributes[e])return i.push(o);const c=n?{[e]:n}:{};return i.insert(o.insert,{...c,...o.attributes})},new We):t}function Kf(t,e){let n="";for(let a=t.ops.length-1;a>=0&&n.length<e.length;--a){const i=t.ops[a];if(typeof i.insert!="string")break;n=i.insert+n}return n.slice(-1*e.length)===e}function Zo(t,e){if(!(t instanceof Element))return!1;const n=e.query(t);return n&&n.prototype instanceof Va?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function KW(t,e){return t.previousElementSibling&&t.nextElementSibling&&!Zo(t.previousElementSibling,e)&&!Zo(t.nextElementSibling,e)}const Tp=new WeakMap;function $M(t){return t==null?!1:(Tp.has(t)||(t.tagName==="PRE"?Tp.set(t,!0):Tp.set(t,$M(t.parentNode))),Tp.get(t))}function _1(t,e,n,a,i){return e.nodeType===e.TEXT_NODE?a.reduce((o,c)=>c(e,o,t),new We):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((o,c)=>{let d=_1(t,c,n,a,i);return c.nodeType===e.ELEMENT_NODE&&(d=n.reduce((h,m)=>m(c,h,t),d),d=(i.get(c)||[]).reduce((h,m)=>m(c,h,t),d)),o.concat(d)},new We):new We}function yy(t){return(e,n,a)=>Sc(n,t,!0,a)}function YW(t,e,n){const a=Ni.keys(t),i=Gr.keys(t),o=yl.keys(t),c={};return a.concat(i).concat(o).forEach(d=>{let h=n.query(d,Ze.ATTRIBUTE);h!=null&&(c[h.attrName]=h.value(t),c[h.attrName])||(h=GW[d],h!=null&&(h.attrName===d||h.keyName===d)&&(c[h.attrName]=h.value(t)||void 0),h=U2[d],h!=null&&(h.attrName===d||h.keyName===d)&&(h=U2[d],c[h.attrName]=h.value(t)||void 0))}),Object.entries(c).reduce((d,h)=>{let[m,p]=h;return Sc(d,m,p,n)},e)}function XW(t,e,n){const a=n.query(t);if(a==null)return e;if(a.prototype instanceof Va){const i={},o=a.value(t);if(o!=null)return i[a.blotName]=o,new We().insert(i,a.formats(t,n))}else if(a.prototype instanceof mf&&!Kf(e,`
`)&&e.insert(`
`),"blotName"in a&&"formats"in a&&typeof a.formats=="function")return Sc(e,a.blotName,a.formats(t,n),n);return e}function WW(t,e){return Kf(e,`
`)||e.insert(`
`),e}function ZW(t,e,n){const a=n.query("code-block"),i=a&&"formats"in a&&typeof a.formats=="function"?a.formats(t,n):!0;return Sc(e,"code-block",i,n)}function QW(){return new We}function JW(t,e,n){const a=n.query(t);if(a==null||a.blotName!=="list"||!Kf(e,`
`))return e;let i=-1,o=t.parentNode;for(;o!=null;)["OL","UL"].includes(o.tagName)&&(i+=1),o=o.parentNode;return i<=0?e:e.reduce((c,d)=>d.insert?d.attributes&&typeof d.attributes.indent=="number"?c.push(d):c.insert(d.insert,{indent:i,...d.attributes||{}}):c,new We)}function eZ(t,e,n){const a=t;let i=a.tagName==="OL"?"ordered":"bullet";const o=a.getAttribute("data-checked");return o&&(i=o==="true"?"checked":"unchecked"),Sc(e,"list",i,n)}function $2(t,e,n){if(!Kf(e,`
`)){if(Zo(t,n)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&t.nextSibling){let a=t.nextSibling;for(;a!=null;){if(Zo(a,n))return e.insert(`
`);const i=n.query(a);if(i&&i.prototype instanceof dr)return e.insert(`
`);a=a.firstChild}}}return e}function tZ(t,e,n){var o;const a={},i=t.style||{};return i.fontStyle==="italic"&&(a.italic=!0),i.textDecoration==="underline"&&(a.underline=!0),i.textDecoration==="line-through"&&(a.strike=!0),((o=i.fontWeight)!=null&&o.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(a.bold=!0),e=Object.entries(a).reduce((c,d)=>{let[h,m]=d;return Sc(c,h,m,n)},e),parseFloat(i.textIndent||0)>0?new We().insert("	").concat(e):e}function nZ(t,e,n){var i,o;const a=((i=t.parentElement)==null?void 0:i.tagName)==="TABLE"?t.parentElement:(o=t.parentElement)==null?void 0:o.parentElement;if(a!=null){const d=Array.from(a.querySelectorAll("tr")).indexOf(t)+1;return Sc(e,"table",d,n)}return e}function sZ(t,e,n){var i;let a=t.data;if(((i=t.parentElement)==null?void 0:i.tagName)==="O:P")return e.insert(a.trim());if(!$M(t)){if(a.trim().length===0&&a.includes(`
`)&&!KW(t,n))return e;a=a.replace(/[^\S\u00a0]/g," "),a=a.replace(/ {2,}/g," "),(t.previousSibling==null&&t.parentElement!=null&&Zo(t.parentElement,n)||t.previousSibling instanceof Element&&Zo(t.previousSibling,n))&&(a=a.replace(/^ /,"")),(t.nextSibling==null&&t.parentElement!=null&&Zo(t.parentElement,n)||t.nextSibling instanceof Element&&Zo(t.nextSibling,n))&&(a=a.replace(/ $/,"")),a=a.replaceAll(" "," ")}return e.insert(a)}class FM extends Yr{constructor(n,a){super(n,a);Me(this,"lastRecorded",0);Me(this,"ignoreChange",!1);Me(this,"stack",{undo:[],redo:[]});Me(this,"currentRange",null);this.quill.on(Ne.events.EDITOR_CHANGE,(i,o,c,d)=>{i===Ne.events.SELECTION_CHANGE?o&&d!==Ne.sources.SILENT&&(this.currentRange=o):i===Ne.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||d===Ne.sources.USER?this.record(o,c):this.transform(o)),this.currentRange=R0(this.currentRange,o))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(n,a){if(this.stack[n].length===0)return;const i=this.stack[n].pop();if(!i)return;const o=this.quill.getContents(),c=i.delta.invert(o);this.stack[a].push({delta:c,range:R0(i.range,c)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,Ne.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(n,a){if(n.ops.length===0)return;this.stack.redo=[];let i=n.invert(a),o=this.currentRange;const c=Date.now();if(this.lastRecorded+this.options.delay>c&&this.stack.undo.length>0){const d=this.stack.undo.pop();d&&(i=i.compose(d.delta),o=d.range)}else this.lastRecorded=c;i.length()!==0&&(this.stack.undo.push({delta:i,range:o}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(n){F2(this.stack.undo,n),F2(this.stack.redo,n)}undo(){this.change("undo","redo")}restoreSelection(n){if(n.range)this.quill.setSelection(n.range,Ne.sources.USER);else{const a=rZ(this.quill.scroll,n.delta);this.quill.setSelection(a,Ne.sources.USER)}}}Me(FM,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function F2(t,e){let n=e;for(let a=t.length-1;a>=0;a-=1){const i=t[a];t[a]={delta:n.transform(i.delta,!0),range:i.range&&R0(i.range,n)},n=i.delta.transform(n),t[a].delta.length()===0&&t.splice(a,1)}}function aZ(t,e){const n=e.ops[e.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(a=>t.query(a,Ze.BLOCK)!=null):!1}function rZ(t,e){const n=e.reduce((i,o)=>i+(o.delete||0),0);let a=e.length()-n;return aZ(t,e)&&(a-=1),a}function R0(t,e){if(!t)return t;const n=e.transformPosition(t.index),a=e.transformPosition(t.index+t.length);return{index:n,length:a-n}}class VM extends Yr{constructor(e,n){super(e,n),e.root.addEventListener("drop",a=>{var c;a.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(a.clientX,a.clientY);else if(document.caretPositionFromPoint){const d=document.caretPositionFromPoint(a.clientX,a.clientY);i=document.createRange(),i.setStart(d.offsetNode,d.offset),i.setEnd(d.offsetNode,d.offset)}const o=i&&e.selection.normalizeNative(i);if(o){const d=e.selection.normalizedToRange(o);(c=a.dataTransfer)!=null&&c.files&&this.upload(d,a.dataTransfer.files)}})}upload(e,n){const a=[];Array.from(n).forEach(i=>{var o;i&&((o=this.options.mimetypes)!=null&&o.includes(i.type))&&a.push(i)}),a.length>0&&this.options.handler.call(this,e,a)}}VM.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image"))return;const n=e.map(a=>new Promise(i=>{const o=new FileReader;o.onload=()=>{i(o.result)},o.readAsDataURL(a)}));Promise.all(n).then(a=>{const i=a.reduce((o,c)=>o.insert({image:c}),new We().retain(t.index).delete(t.length));this.quill.updateContents(i,Ge.sources.USER),this.quill.setSelection(t.index+a.length,Ge.sources.SILENT)})}};const iZ=["insertText","insertReplacementText"];class oZ extends Yr{constructor(e,n){super(e,n),e.root.addEventListener("beforeinput",a=>{this.handleBeforeInput(a)}),/Android/i.test(navigator.userAgent)||e.on(Ne.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){T1({range:e,quill:this.quill})}replaceText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(n){const a=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new We().retain(e.index).insert(n,a),Ne.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+n.length,0,Ne.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!iZ.includes(e.inputType))return;const n=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!n||n.collapsed===!0)return;const a=lZ(e);if(a==null)return;const i=this.quill.selection.normalizeNative(n),o=i?this.quill.selection.normalizedToRange(i):null;o&&this.replaceText(o,a)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function lZ(t){var e;return typeof t.data=="string"?t.data:(e=t.dataTransfer)!=null&&e.types.includes("text/plain")?t.dataTransfer.getData("text/plain"):null}const cZ=/Mac/i.test(navigator.platform),dZ=100,uZ=t=>!!(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"||cZ&&t.key==="a"&&t.ctrlKey===!0);class hZ extends Yr{constructor(n,a){super(n,a);Me(this,"isListening",!1);Me(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(n,a){let{line:i,event:o}=a;if(!(i instanceof Lr)||!i.uiNode)return!0;const c=getComputedStyle(i.domNode).direction==="rtl";return c&&o.key!=="ArrowRight"||!c&&o.key!=="ArrowLeft"?!0:(this.quill.setSelection(n.index-1,n.length+(o.shiftKey?1:0),Ne.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",n=>{!n.defaultPrevented&&uZ(n)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+dZ,this.isListening)return;this.isListening=!0;const n=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",n,{once:!0})}handleSelectionChange(){const n=document.getSelection();if(!n)return;const a=n.getRangeAt(0);if(a.collapsed!==!0||a.startOffset!==0)return;const i=this.quill.scroll.find(a.startContainer);if(!(i instanceof Lr)||!i.uiNode)return;const o=document.createRange();o.setStartAfter(i.uiNode),o.setEndAfter(i.uiNode),n.removeAllRanges(),n.addRange(o)}}Ne.register({"blots/block":Is,"blots/block/embed":dr,"blots/break":Kr,"blots/container":wc,"blots/cursor":Jd,"blots/embed":N1,"blots/inline":Si,"blots/scroll":Nd,"blots/text":Fr,"modules/clipboard":UM,"modules/history":FM,"modules/keyboard":Ex,"modules/uploader":VM,"modules/input":oZ,"modules/uiNode":hZ});class fZ extends Gr{add(e,n){let a=0;if(n==="+1"||n==="-1"){const i=this.value(e)||0;a=n==="+1"?i+1:i-1}else typeof n=="number"&&(a=n);return a===0?(this.remove(e),!0):super.add(e,a.toString())}canAdd(e,n){return super.canAdd(e,n)||super.canAdd(e,parseInt(n,10))}value(e){return parseInt(super.value(e),10)||void 0}}const mZ=new fZ("indent","ql-indent",{scope:Ze.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class D0 extends Is{}Me(D0,"blotName","blockquote"),Me(D0,"tagName","blockquote");class M0 extends Is{static formats(e){return this.tagName.indexOf(e.tagName)+1}}Me(M0,"blotName","header"),Me(M0,"tagName",["H1","H2","H3","H4","H5","H6"]);class Yf extends wc{}Yf.blotName="list-container";Yf.tagName="OL";class Xf extends Is{static create(e){const n=super.create();return n.setAttribute("data-list",e),n}static formats(e){return e.getAttribute("data-list")||void 0}static register(){Ne.register(Yf)}constructor(e,n){super(e,n);const a=n.ownerDocument.createElement("span"),i=o=>{if(!e.isEnabled())return;const c=this.statics.formats(n,e);c==="checked"?(this.format("list","unchecked"),o.preventDefault()):c==="unchecked"&&(this.format("list","checked"),o.preventDefault())};a.addEventListener("mousedown",i),a.addEventListener("touchstart",i),this.attachUI(a)}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-list",n):super.format(e,n)}}Xf.blotName="list";Xf.tagName="LI";Yf.allowedChildren=[Xf];Xf.requiredContainer=Yf;class gf extends Si{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}Me(gf,"blotName","bold"),Me(gf,"tagName",["STRONG","B"]);class P0 extends gf{}Me(P0,"blotName","italic"),Me(P0,"tagName",["EM","I"]);class Qo extends Si{static create(e){const n=super.create(e);return n.setAttribute("href",this.sanitize(e)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}static formats(e){return e.getAttribute("href")}static sanitize(e){return qM(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,n){e!==this.statics.blotName||!n?super.format(e,n):this.domNode.setAttribute("href",this.constructor.sanitize(n))}}Me(Qo,"blotName","link"),Me(Qo,"tagName","A"),Me(Qo,"SANITIZED_URL","about:blank"),Me(Qo,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function qM(t,e){const n=document.createElement("a");n.href=t;const a=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(a)>-1}class O0 extends Si{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}Me(O0,"blotName","script"),Me(O0,"tagName",["SUB","SUP"]);class L0 extends gf{}Me(L0,"blotName","strike"),Me(L0,"tagName",["S","STRIKE"]);class I0 extends Si{}Me(I0,"blotName","underline"),Me(I0,"tagName","U");class Zp extends N1{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const n=super.create(e);return typeof e=="string"&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}Me(Zp,"blotName","formula"),Me(Zp,"className","ql-formula"),Me(Zp,"tagName","SPAN");const V2=["alt","height","width"];class B0 extends Va{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("src",this.sanitize(e)),n}static formats(e){return V2.reduce((n,a)=>(e.hasAttribute(a)&&(n[a]=e.getAttribute(a)),n),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return qM(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,n){V2.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}}Me(B0,"blotName","image"),Me(B0,"tagName","IMG");const q2=["height","width"];class Qp extends dr{static create(e){const n=super.create(e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),n.setAttribute("src",this.sanitize(e)),n}static formats(e){return q2.reduce((n,a)=>(e.hasAttribute(a)&&(n[a]=e.getAttribute(a)),n),{})}static sanitize(e){return Qo.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,n){q2.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}Me(Qp,"blotName","video"),Me(Qp,"className","ql-video"),Me(Qp,"tagName","IFRAME");const Mh=new Gr("code-token","hljs",{scope:Ze.INLINE});class ro extends Si{static formats(e,n){for(;e!=null&&e!==n.domNode;){if(e.classList&&e.classList.contains(Zs.className))return super.formats(e,n);e=e.parentNode}}constructor(e,n,a){super(e,n,a),Mh.add(this.domNode,a)}format(e,n){e!==ro.blotName?super.format(e,n):n?Mh.add(this.domNode,n):(Mh.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Mh.value(this.domNode)||this.unwrap()}}ro.blotName="code-token";ro.className="ql-token";class cr extends Zs{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("data-language",e),n}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):super.format(e,n)}replaceWith(e,n){return this.formatAt(0,this.length(),ro.blotName,!1),super.replaceWith(e,n)}}class Vh extends Nc{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,n){e===cr.blotName&&(this.forceNext=!0,this.children.forEach(a=>{a.format(e,n)}))}formatAt(e,n,a,i){a===cr.blotName&&(this.forceNext=!0),super.formatAt(e,n,a,i)}highlight(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(c=>c!==this.uiNode).map(c=>c.textContent).join(`
`)}
`,o=cr.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const c=this.children.reduce((h,m)=>h.concat(AM(m,!1)),new We),d=e(i,o);c.diff(d).reduce((h,m)=>{let{retain:p,attributes:g}=m;return p?(g&&Object.keys(g).forEach(v=>{[cr.blotName,ro.blotName].includes(v)&&this.formatAt(h,p,v,g[v])}),h+p):h},0)}this.cachedText=i,this.forceNext=!1}}html(e,n){const[a]=this.children.find(e);return`<pre data-language="${a?cr.formats(a.domNode):"plain"}">
${kx(this.code(e,n))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const n=cr.formats(this.children.head.domNode);n!==this.uiNode.value&&(this.uiNode.value=n)}}}Vh.allowedChildren=[cr];cr.requiredContainer=Vh;cr.allowedChildren=[ro,Jd,Fr,Kr];const pZ=(t,e,n)=>{if(typeof t.versionString=="string"){const a=t.versionString.split(".")[0];if(parseInt(a,10)>=11)return t.highlight(n,{language:e}).value}return t.highlight(e,n).value};class HM extends Yr{static register(){Ne.register(ro,!0),Ne.register(cr,!0),Ne.register(Vh,!0)}constructor(e,n){if(super(e,n),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((a,i)=>{let{key:o}=i;return a[o]=!0,a},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(Ne.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Vh))return;const n=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(a=>{let{key:i,label:o}=a;const c=n.ownerDocument.createElement("option");c.textContent=o,c.setAttribute("value",i),n.appendChild(c)}),n.addEventListener("change",()=>{e.format(cr.blotName,n.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(n),e.children.head&&(n.value=cr.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(Ne.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(Ne.sources.USER);const a=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Vh):[e]).forEach(o=>{o.highlight(this.highlightBlot,n)}),this.quill.update(Ne.sources.SILENT),a!=null&&this.quill.setSelection(a,Ne.sources.SILENT)}highlightBlot(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(n=this.languages[n]?n:"plain",n==="plain")return kx(e).split(`
`).reduce((i,o,c)=>(c!==0&&i.insert(`
`,{[Zs.blotName]:n}),i.insert(o)),new We);const a=this.quill.root.ownerDocument.createElement("div");return a.classList.add(Zs.className),a.innerHTML=pZ(this.options.hljs,n,e),_1(this.quill.scroll,a,[(i,o)=>{const c=Mh.value(i);return c?o.compose(new We().retain(o.length(),{[ro.blotName]:c})):o}],[(i,o)=>i.data.split(`
`).reduce((c,d,h)=>(h!==0&&c.insert(`
`,{[Zs.blotName]:n}),c.insert(d)),o)],new WeakMap)}}HM.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const ef=class ef extends Is{static create(e){const n=super.create();return e?n.setAttribute("data-row",e):n.setAttribute("data-row",R1()),n}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,n){e===ef.blotName&&n?this.domNode.setAttribute("data-row",n):super.format(e,n)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};Me(ef,"blotName","table"),Me(ef,"tagName","TD");let Pr=ef;class io extends wc{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),n=this.children.tail.formats(),a=this.next.children.head.formats(),i=this.next.children.tail.formats();return e.table===n.table&&e.table===a.table&&e.table===i.table}return!1}optimize(e){super.optimize(e),this.children.forEach(n=>{if(n.next==null)return;const a=n.formats(),i=n.next.formats();if(a.table!==i.table){const o=this.splitAfter(n);o&&o.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}Me(io,"blotName","table-row"),Me(io,"tagName","TR");class gi extends wc{}Me(gi,"blotName","table-body"),Me(gi,"tagName","TBODY");class tu extends wc{balanceCells(){const e=this.descendants(io),n=e.reduce((a,i)=>Math.max(i.children.length,a),0);e.forEach(a=>{new Array(n-a.children.length).fill(0).forEach(()=>{let i;a.children.head!=null&&(i=Pr.formats(a.children.head.domNode));const o=this.scroll.create(Pr.blotName,i);a.appendChild(o),o.optimize()})})}cells(e){return this.rows().map(n=>n.children.at(e))}deleteColumn(e){const[n]=this.descendant(gi);n==null||n.children.head==null||n.children.forEach(a=>{const i=a.children.at(e);i!=null&&i.remove()})}insertColumn(e){const[n]=this.descendant(gi);n==null||n.children.head==null||n.children.forEach(a=>{const i=a.children.at(e),o=Pr.formats(a.children.head.domNode),c=this.scroll.create(Pr.blotName,o);a.insertBefore(c,i)})}insertRow(e){const[n]=this.descendant(gi);if(n==null||n.children.head==null)return;const a=R1(),i=this.scroll.create(io.blotName);n.children.head.children.forEach(()=>{const c=this.scroll.create(Pr.blotName,a);i.appendChild(c)});const o=n.children.at(e);n.insertBefore(i,o)}rows(){const e=this.children.head;return e==null?[]:e.children.map(n=>n)}}Me(tu,"blotName","table-container"),Me(tu,"tagName","TABLE");tu.allowedChildren=[gi];gi.requiredContainer=tu;gi.allowedChildren=[io];io.requiredContainer=gi;io.allowedChildren=[Pr];Pr.requiredContainer=io;function R1(){return`row-${Math.random().toString(36).slice(2,6)}`}class gZ extends Yr{static register(){Ne.register(Pr),Ne.register(io),Ne.register(gi),Ne.register(tu)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(tu).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,n]=this.getTable();n!=null&&(e.deleteColumn(n.cellOffset()),this.quill.update(Ne.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(Ne.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const n=e.offset();e.remove(),this.quill.update(Ne.sources.USER),this.quill.setSelection(n,Ne.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[n,a]=this.quill.getLine(e.index);if(n==null||n.statics.blotName!==Pr.blotName)return[null,null,null,-1];const i=n.parent;return[i.parent.parent,i,n,a]}insertColumn(e){const n=this.quill.getSelection();if(!n)return;const[a,i,o]=this.getTable(n);if(o==null)return;const c=o.cellOffset();a.insertColumn(c+e),this.quill.update(Ne.sources.USER);let d=i.rowOffset();e===0&&(d+=1),this.quill.setSelection(n.index+d,n.length,Ne.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const n=this.quill.getSelection();if(!n)return;const[a,i,o]=this.getTable(n);if(o==null)return;const c=i.rowOffset();a.insertRow(c+e),this.quill.update(Ne.sources.USER),e>0?this.quill.setSelection(n,Ne.sources.SILENT):this.quill.setSelection(n.index+i.children.length,n.length,Ne.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,n){const a=this.quill.getSelection();if(a==null)return;const i=new Array(e).fill(0).reduce(o=>{const c=new Array(n).fill(`
`).join("");return o.insert(c,{table:R1()})},new We().retain(a.index));this.quill.updateContents(i,Ne.sources.USER),this.quill.setSelection(a.index,Ne.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(Ne.events.SCROLL_OPTIMIZE,e=>{e.some(n=>["TD","TR","TBODY","TABLE"].includes(n.target.tagName)?(this.quill.once(Ne.events.TEXT_CHANGE,(a,i,o)=>{o===Ne.sources.USER&&this.balanceTables()}),!0):!1)})}}const H2=ho("quill:toolbar");class D1 extends Yr{constructor(e,n){var a,i;if(super(e,n),Array.isArray(this.options.container)){const o=document.createElement("div");o.setAttribute("role","toolbar"),xZ(o,this.options.container),(i=(a=e.container)==null?void 0:a.parentNode)==null||i.insertBefore(o,e.container),this.container=o}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){H2.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(o=>{var d;const c=(d=this.options.handlers)==null?void 0:d[o];c&&this.addHandler(o,c)}),Array.from(this.container.querySelectorAll("button, select")).forEach(o=>{this.attach(o)}),this.quill.on(Ne.events.EDITOR_CHANGE,()=>{const[o]=this.quill.selection.getRange();this.update(o)})}addHandler(e,n){this.handlers[e]=n}attach(e){let n=Array.from(e.classList).find(i=>i.indexOf("ql-")===0);if(!n)return;if(n=n.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[n]==null&&this.quill.scroll.query(n)==null){H2.warn("ignoring attaching to nonexistent format",n,e);return}const a=e.tagName==="SELECT"?"change":"click";e.addEventListener(a,i=>{let o;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const d=e.options[e.selectedIndex];d.hasAttribute("selected")?o=!1:o=d.value||!1}else e.classList.contains("ql-active")?o=!1:o=e.value||!e.hasAttribute("value"),i.preventDefault();this.quill.focus();const[c]=this.quill.selection.getRange();if(this.handlers[n]!=null)this.handlers[n].call(this,o);else if(this.quill.scroll.query(n).prototype instanceof Va){if(o=prompt(`Enter ${n}`),!o)return;this.quill.updateContents(new We().retain(c.index).delete(c.length).insert({[n]:o}),Ne.sources.USER)}else this.quill.format(n,o,Ne.sources.USER);this.update(c)}),this.controls.push([n,e])}update(e){const n=e==null?{}:this.quill.getFormat(e);this.controls.forEach(a=>{const[i,o]=a;if(o.tagName==="SELECT"){let c=null;if(e==null)c=null;else if(n[i]==null)c=o.querySelector("option[selected]");else if(!Array.isArray(n[i])){let d=n[i];typeof d=="string"&&(d=d.replace(/"/g,'\\"')),c=o.querySelector(`option[value="${d}"]`)}c==null?(o.value="",o.selectedIndex=-1):c.selected=!0}else if(e==null)o.classList.remove("ql-active"),o.setAttribute("aria-pressed","false");else if(o.hasAttribute("value")){const c=n[i],d=c===o.getAttribute("value")||c!=null&&c.toString()===o.getAttribute("value")||c==null&&!o.getAttribute("value");o.classList.toggle("ql-active",d),o.setAttribute("aria-pressed",d.toString())}else{const c=n[i]!=null;o.classList.toggle("ql-active",c),o.setAttribute("aria-pressed",c.toString())}})}}D1.DEFAULTS={};function G2(t,e,n){const a=document.createElement("button");a.setAttribute("type","button"),a.classList.add(`ql-${e}`),a.setAttribute("aria-pressed","false"),n!=null?(a.value=n,a.setAttribute("aria-label",`${e}: ${n}`)):a.setAttribute("aria-label",e),t.appendChild(a)}function xZ(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(n=>{const a=document.createElement("span");a.classList.add("ql-formats"),n.forEach(i=>{if(typeof i=="string")G2(a,i);else{const o=Object.keys(i)[0],c=i[o];Array.isArray(c)?vZ(a,o,c):G2(a,o,c)}}),t.appendChild(a)})}function vZ(t,e,n){const a=document.createElement("select");a.classList.add(`ql-${e}`),n.forEach(i=>{const o=document.createElement("option");i!==!1?o.setAttribute("value",String(i)):o.setAttribute("selected","selected"),a.appendChild(o)}),t.appendChild(a)}D1.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t!=null)if(t.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(n=>{this.quill.scroll.query(n,Ze.INLINE)!=null&&this.quill.format(n,!1,Ne.sources.USER)})}else this.quill.removeFormat(t.index,t.length,Ne.sources.USER)},direction(t){const{align:e}=this.quill.getFormat();t==="rtl"&&e==null?this.quill.format("align","right",Ne.sources.USER):!t&&e==="right"&&this.quill.format("align",!1,Ne.sources.USER),this.quill.format("direction",t,Ne.sources.USER)},indent(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e),a=parseInt(n.indent||0,10);if(t==="+1"||t==="-1"){let i=t==="+1"?1:-1;n.direction==="rtl"&&(i*=-1),this.quill.format("indent",a+i,Ne.sources.USER)}},link(t){t===!0&&(t=prompt("Enter link URL:")),this.quill.format("link",t,Ne.sources.USER)},list(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e);t==="check"?n.list==="checked"||n.list==="unchecked"?this.quill.format("list",!1,Ne.sources.USER):this.quill.format("list","unchecked",Ne.sources.USER):this.quill.format("list",t,Ne.sources.USER)}}};const bZ='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',yZ='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',jZ='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',wZ='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',NZ='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',SZ='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',kZ='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',EZ='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',K2='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',AZ='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',CZ='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',TZ='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',_Z='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',RZ='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',DZ='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',MZ='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',PZ='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',OZ='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',LZ='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',IZ='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',BZ='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',zZ='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',UZ='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',$Z='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',FZ='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',VZ='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',qZ='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',HZ='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',GZ='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',KZ='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',YZ='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',XZ='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',WZ='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',xf={align:{"":bZ,center:yZ,right:jZ,justify:wZ},background:NZ,blockquote:SZ,bold:kZ,clean:EZ,code:K2,"code-block":K2,color:AZ,direction:{"":CZ,rtl:TZ},formula:_Z,header:{1:RZ,2:DZ,3:MZ,4:PZ,5:OZ,6:LZ},italic:IZ,image:BZ,indent:{"+1":zZ,"-1":UZ},link:$Z,list:{bullet:FZ,check:VZ,ordered:qZ},script:{sub:HZ,super:GZ},strike:KZ,table:YZ,underline:XZ,video:WZ},ZZ='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Y2=0;function X2(t,e){t.setAttribute(e,`${t.getAttribute(e)!=="true"}`)}class Ax{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),n.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),X2(this.label,"aria-expanded"),X2(this.options,"aria-hidden")}buildItem(e){const n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");const a=e.getAttribute("value");return a&&n.setAttribute("data-value",a),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",()=>{this.selectItem(n,!0)}),n.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(n,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),n}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=ZZ,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${Y2}`,Y2+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(n=>{const a=this.buildItem(n);e.appendChild(a),n.selected===!0&&this.selectItem(a)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const a=this.container.querySelector(".ql-selected");e!==a&&(a!=null&&a.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),n&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const a=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(a)}else this.selectItem(null);const n=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}class GM extends Ax{constructor(e,n){super(e),this.label.innerHTML=n,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(a=>{a.classList.add("ql-primary")})}buildItem(e){const n=super.buildItem(e);return n.style.backgroundColor=e.getAttribute("value")||"",n}selectItem(e,n){super.selectItem(e,n);const a=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";a&&(a.tagName==="line"?a.style.stroke=i:a.style.fill=i)}}class KM extends Ax{constructor(e,n){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(a=>{a.innerHTML=n[a.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,n){super.selectItem(e,n);const a=e||this.defaultItem;if(a!=null){if(this.label.innerHTML===a.innerHTML)return;this.label.innerHTML=a.innerHTML}}}const QZ=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};class YM{constructor(e,n){this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,QZ(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const n=e.left+e.width/2-this.root.offsetWidth/2,a=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${n}px`,this.root.style.top=`${a}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect();let c=0;if(o.right>i.right&&(c=i.right-o.right,this.root.style.left=`${n+c}px`),o.left<i.left&&(c=i.left-o.left,this.root.style.left=`${n+c}px`),o.bottom>i.bottom){const d=o.bottom-o.top,h=e.bottom-e.top+d;this.root.style.top=`${a-h}px`,this.root.classList.add("ql-flip")}return c}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const JZ=[!1,"center","right","justify"],eQ=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],tQ=[!1,"serif","monospace"],nQ=["1","2","3",!1],sQ=["small",!1,"large","huge"];class Wf extends eu{constructor(e,n){super(e,n);const a=i=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",a);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(o=>{o.container.contains(i.target)||o.close()})};e.emitter.listenDOM("click",document.body,a)}addModule(e){const n=super.addModule(e);return e==="toolbar"&&this.extendToolbar(n),n}buildButtons(e,n){Array.from(e).forEach(a=>{(a.getAttribute("class")||"").split(/\s+/).forEach(o=>{if(o.startsWith("ql-")&&(o=o.slice(3),n[o]!=null))if(o==="direction")a.innerHTML=n[o][""]+n[o].rtl;else if(typeof n[o]=="string")a.innerHTML=n[o];else{const c=a.value||"";c!=null&&n[o][c]&&(a.innerHTML=n[o][c])}})})}buildPickers(e,n){this.pickers=Array.from(e).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&wh(i,JZ),typeof n.align=="object"))return new KM(i,n.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const o=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&wh(i,eQ,o==="background"?"#ffffff":"#000000"),new GM(i,n[o])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?wh(i,tQ):i.classList.contains("ql-header")?wh(i,nQ):i.classList.contains("ql-size")&&wh(i,sQ)),new Ax(i)});const a=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(Ge.events.EDITOR_CHANGE,a)}}Wf.DEFAULTS=el({},eu.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");t==null&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,t.files),t.value=""}),this.container.appendChild(t)),t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class XM extends YM{constructor(e,n){super(e,n),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;n!=null?this.textbox.value=n:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const a=this.quill.getBounds(this.quill.selection.savedRange);a!=null&&this.position(a),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:n}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,Ge.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,Ge.sources.USER)),this.quill.root.scrollTop=n;break}case"video":e=aQ(e);case"formula":{if(!e)break;const n=this.quill.getSelection(!0);if(n!=null){const a=n.index+n.length;this.quill.insertEmbed(a,this.root.getAttribute("data-mode"),e,Ge.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(a+1," ",Ge.sources.USER),this.quill.setSelection(a+2,Ge.sources.USER)}break}}this.textbox.value="",this.hide()}}function aQ(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:t}function wh(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(a=>{const i=document.createElement("option");a===n?i.setAttribute("selected","selected"):i.setAttribute("value",String(a)),t.appendChild(i)})}const rQ=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class WM extends XM{constructor(e,n){super(e,n),this.quill.on(Ge.events.EDITOR_CHANGE,(a,i,o,c)=>{if(a===Ge.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&c===Ge.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const d=this.quill.getLines(i.index,i.length);if(d.length===1){const h=this.quill.getBounds(i);h!=null&&this.position(h)}else{const h=d[d.length-1],m=this.quill.getIndex(h),p=Math.min(h.length()-1,i.index+i.length-m),g=this.quill.getBounds(new uc(m,p));g!=null&&this.position(g)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Ge.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const n=this.quill.getBounds(e);n!=null&&this.position(n)}},1)})}cancel(){this.show()}position(e){const n=super.position(e),a=this.root.querySelector(".ql-tooltip-arrow");return a.style.marginLeft="",n!==0&&(a.style.marginLeft=`${-1*n-a.offsetWidth/2}px`),n}}Me(WM,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class ZM extends Wf{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=rQ),super(e,n),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new WM(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),xf),this.buildPickers(e.container.querySelectorAll("select"),xf))}}ZM.DEFAULTS=el({},Wf.DEFAULTS,{modules:{toolbar:{handlers:{link(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1,Ne.sources.USER)}}}}});const iQ=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class QM extends XM{constructor(){super(...arguments);Me(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",n=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),n.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",n=>{if(this.linkRange!=null){const a=this.linkRange;this.restoreFocus(),this.quill.formatText(a,"link",!1,Ge.sources.USER),delete this.linkRange}n.preventDefault(),this.hide()}),this.quill.on(Ge.events.SELECTION_CHANGE,(n,a,i)=>{if(n!=null){if(n.length===0&&i===Ge.sources.USER){const[o,c]=this.quill.scroll.descendant(Qo,n.index);if(o!=null){this.linkRange=new uc(n.index-c,o.length());const d=Qo.formats(o.domNode);this.preview.textContent=d,this.preview.setAttribute("href",d),this.show();const h=this.quill.getBounds(this.linkRange);h!=null&&this.position(h);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}Me(QM,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class JM extends Wf{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=iQ),super(e,n),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),xf),this.buildPickers(e.container.querySelectorAll("select"),xf),this.tooltip=new QM(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(n,a)=>{e.handlers.link.call(e,!a.format.link)}))}}JM.DEFAULTS=el({},Wf.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const e=this.quill.getSelection();if(e==null||e.length===0)return;let n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&n.indexOf("mailto:")!==0&&(n=`mailto:${n}`);const{tooltip:a}=this.quill.theme;a.edit("link",n)}else this.quill.format("link",!1,Ne.sources.USER)}}}}});Ne.register({"attributors/attribute/direction":DM,"attributors/class/align":TM,"attributors/class/background":SW,"attributors/class/color":NW,"attributors/class/direction":MM,"attributors/class/font":LM,"attributors/class/size":BM,"attributors/style/align":_M,"attributors/style/background":E1,"attributors/style/color":k1,"attributors/style/direction":PM,"attributors/style/font":IM,"attributors/style/size":zM},!0);Ne.register({"formats/align":TM,"formats/direction":MM,"formats/indent":mZ,"formats/background":E1,"formats/color":k1,"formats/font":LM,"formats/size":BM,"formats/blockquote":D0,"formats/code-block":Zs,"formats/header":M0,"formats/list":Xf,"formats/bold":gf,"formats/code":A1,"formats/italic":P0,"formats/link":Qo,"formats/script":O0,"formats/strike":L0,"formats/underline":I0,"formats/formula":Zp,"formats/image":B0,"formats/video":Qp,"modules/syntax":HM,"modules/table":gZ,"modules/toolbar":D1,"themes/bubble":ZM,"themes/snow":JM,"ui/icons":xf,"ui/picker":Ax,"ui/icon-picker":KM,"ui/color-picker":GM,"ui/tooltip":YM},!0);class Cx extends ve.Component{constructor(e){super(e),this.editingAreaRef=x.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(a,i,o,c)=>{var d,h;a==="text-change"?(d=this.onEditorChangeText)==null||d.call(this,this.editor.root.innerHTML,i,c,this.unprivilegedEditor):a==="selection-change"&&((h=this.onEditorChangeSelection)==null||h.call(this,i,c,this.unprivilegedEditor))};const n=this.isControlled()?e.value:e.defaultValue;this.value=n??""}validateProps(e){if(ve.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(ve.Children.count(e.children)){const n=ve.Children.only(e.children);if((n==null?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(e,n){if(this.validateProps(e),!this.editor||this.state.generation!==n.generation)return!0;if("value"in e){const a=this.getEditorContents(),i=e.value??"";this.isEqualValue(i,a)||this.setEditorContents(this.editor,i)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),[...this.cleanProps,...this.dirtyProps].some(a=>!Ko(e[a],this.props[a]))}shouldComponentRegenerate(e){return this.dirtyProps.some(n=>!Ko(e[n],this.props[n]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(e,n){if(this.editor&&this.shouldComponentRegenerate(e)){const a=this.editor.getContents(),i=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:i},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){const{delta:a,selection:i}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const o=this.editor;o.setContents(a),W2(()=>this.setEditorSelection(o,i))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){var a;if(!this.editor)return;this.unhookEditor(this.editor);const e=(a=this.props.modules)==null?void 0:a.toolbar;if(!(typeof e=="object"&&e&&"container"in e&&typeof e.container=="string"||typeof e=="string")){const i=document.querySelector(".ql-toolbar");i&&i.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(e,n){const a=new Ne(e,n);return n.tabIndex!=null&&this.setEditorTabIndex(a,n.tabIndex),this.hookEditor(a),a}hookEditor(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)}unhookEditor(e){e.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(e){return e&&e.ops}isEqualValue(e,n){return this.isDelta(e)&&this.isDelta(n)?Ko(e.ops,n.ops):Ko(e,n)}setEditorContents(e,n){this.value=n;const a=this.getEditorSelection();typeof n=="string"?e.setContents(e.clipboard.convert({html:n})):e.setContents(n),W2(()=>this.setEditorSelection(e,a))}setEditorSelection(e,n){if(this.selection=n,n){const a=e.getLength();n.index=Math.max(0,Math.min(n.index,a-1)),n.length=Math.max(0,Math.min(n.length,a-1-n.index)),e.setSelection(n)}}setEditorTabIndex(e,n){var a;(a=e==null?void 0:e.scroll)!=null&&a.domNode&&(e.scroll.domNode.tabIndex=n)}setEditorReadOnly(e,n){n?e.disable():e.enable()}makeUnprivilegedEditor(e){const n=e;return{getHTML:()=>n.root.innerHTML,getSemanticHTML:n.getSemanticHTML.bind(n),getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}}getEditingArea(){const e=this.editingAreaRef.current;if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e}renderEditingArea(){const{children:e,preserveWhitespace:n}=this.props,{generation:a}=this.state,i={key:a,ref:this.editingAreaRef};return ve.Children.count(e)?ve.cloneElement(ve.Children.only(e),i):n?ve.createElement("pre",{...i}):ve.createElement("div",{...i})}render(){return ve.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(e,n,a,i){var c,d;if(!this.editor)return;const o=this.isDelta(this.value)?i.getContents():i.getHTML();o!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=o,(d=(c=this.props).onChange)==null||d.call(c,e,n,a,i))}onEditorChangeSelection(e,n,a){var d,h,m,p,g,v;if(!this.editor)return;const i=this.getEditorSelection(),o=!i&&e,c=i&&!e;Ko(e,i)||(this.selection=e,(h=(d=this.props).onChangeSelection)==null||h.call(d,e,n,a),o?(p=(m=this.props).onFocus)==null||p.call(m,e,n,a):c&&((v=(g=this.props).onBlur)==null||v.call(g,i,n,a)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}Cx.displayName="React Quill";Cx.Quill=Ne;Cx.defaultProps={theme:"snow",modules:{},readOnly:!1};function W2(t){Promise.resolve().then(t)}const kc=x.forwardRef(({value:t="",onChange:e,placeholder:n="Start typing...",disabled:a=!1,className:i,minHeight:o=150,maxHeight:c,variant:d="default"},h)=>{const m=()=>{switch(d){case"minimal":return[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["clean"]];case"full":return[[{font:[]}],[{header:[1,2,3,4,5,6,!1]}],[{align:[]}],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{indent:"-1"},{indent:"+1"}],["bold","italic","underline","strike"],[{script:"super"},{script:"sub"}],["blockquote","code-block"],[{color:[]},{background:[]}],["clean"]];default:return[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["blockquote","code-block"],[{color:[]}],["clean"]]}},p=()=>{switch(d){case"minimal":return["bold","italic","underline","list","bullet","clean"];case"full":return["font","header","align","list","bullet","check","indent","bold","italic","underline","strike","script","blockquote","code-block","color","background","clean"];default:return["header","bold","italic","underline","strike","list","bullet","align","blockquote","code-block","color","clean"]}},g={toolbar:m()},v=p();return s.jsx("div",{className:ge("rich-text-editor border border-input rounded-md overflow-hidden",a&&"opacity-50 pointer-events-none",i),style:{minHeight:`${o}px`,maxHeight:c?`${c}px`:void 0},children:s.jsx(Cx,{ref:h,theme:"snow",value:t,onChange:e,placeholder:n,readOnly:a,modules:g,formats:v,style:{height:"100%",minHeight:`${o}px`}})})});kc.displayName="RichTextEditor";var Z2=1,oQ=.9,lQ=.8,cQ=.17,jy=.1,wy=.999,dQ=.9999,uQ=.99,hQ=/[\\\/_+.#"@\[\(\{&]/,fQ=/[\\\/_+.#"@\[\(\{&]/g,mQ=/[\s-]/,eP=/[\s-]/g;function z0(t,e,n,a,i,o,c){if(o===e.length)return i===t.length?Z2:uQ;var d=`${i},${o}`;if(c[d]!==void 0)return c[d];for(var h=a.charAt(o),m=n.indexOf(h,i),p=0,g,v,y,w;m>=0;)g=z0(t,e,n,a,m+1,o+1,c),g>p&&(m===i?g*=Z2:hQ.test(t.charAt(m-1))?(g*=lQ,y=t.slice(i,m-1).match(fQ),y&&i>0&&(g*=Math.pow(wy,y.length))):mQ.test(t.charAt(m-1))?(g*=oQ,w=t.slice(i,m-1).match(eP),w&&i>0&&(g*=Math.pow(wy,w.length))):(g*=cQ,i>0&&(g*=Math.pow(wy,m-i))),t.charAt(m)!==e.charAt(o)&&(g*=dQ)),(g<jy&&n.charAt(m-1)===a.charAt(o+1)||a.charAt(o+1)===a.charAt(o)&&n.charAt(m-1)!==a.charAt(o))&&(v=z0(t,e,n,a,m+1,o+2,c),v*jy>g&&(g=v*jy)),g>p&&(p=g),m=n.indexOf(h,m+1);return c[d]=p,p}function Q2(t){return t.toLowerCase().replace(eP," ")}function pQ(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,z0(t,e,Q2(t),Q2(e),0,0,{})}var Nh='[cmdk-group=""]',Ny='[cmdk-group-items=""]',gQ='[cmdk-group-heading=""]',tP='[cmdk-item=""]',J2=`${tP}:not([aria-disabled="true"])`,U0="cmdk-item-select",Sd="data-value",xQ=(t,e,n)=>pQ(t,e,n),nP=x.createContext(void 0),Zf=()=>x.useContext(nP),sP=x.createContext(void 0),M1=()=>x.useContext(sP),aP=x.createContext(void 0),rP=x.forwardRef((t,e)=>{let n=kd(()=>{var z,W;return{search:"",value:(W=(z=t.value)!=null?z:t.defaultValue)!=null?W:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=kd(()=>new Set),i=kd(()=>new Map),o=kd(()=>new Map),c=kd(()=>new Set),d=iP(t),{label:h,children:m,value:p,onValueChange:g,filter:v,shouldFilter:y,loop:w,disablePointerSelection:j=!1,vimBindings:S=!0,...k}=t,E=hs(),A=hs(),T=hs(),_=x.useRef(null),M=CQ();hc(()=>{if(p!==void 0){let z=p.trim();n.current.value=z,P.emit()}},[p]),hc(()=>{M(6,$)},[]);let P=x.useMemo(()=>({subscribe:z=>(c.current.add(z),()=>c.current.delete(z)),snapshot:()=>n.current,setState:(z,W,q)=>{var H,ee,ne,ie;if(!Object.is(n.current[z],W)){if(n.current[z]=W,z==="search")X(),G(),M(1,R);else if(z==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let he=document.getElementById(T);he?he.focus():(H=document.getElementById(E))==null||H.focus()}if(M(7,()=>{var he;n.current.selectedItemId=(he=Z())==null?void 0:he.id,P.emit()}),q||M(5,$),((ee=d.current)==null?void 0:ee.value)!==void 0){let he=W??"";(ie=(ne=d.current).onValueChange)==null||ie.call(ne,he);return}}P.emit()}},emit:()=>{c.current.forEach(z=>z())}}),[]),O=x.useMemo(()=>({value:(z,W,q)=>{var H;W!==((H=o.current.get(z))==null?void 0:H.value)&&(o.current.set(z,{value:W,keywords:q}),n.current.filtered.items.set(z,I(W,q)),M(2,()=>{G(),P.emit()}))},item:(z,W)=>(a.current.add(z),W&&(i.current.has(W)?i.current.get(W).add(z):i.current.set(W,new Set([z]))),M(3,()=>{X(),G(),n.current.value||R(),P.emit()}),()=>{o.current.delete(z),a.current.delete(z),n.current.filtered.items.delete(z);let q=Z();M(4,()=>{X(),(q==null?void 0:q.getAttribute("id"))===z&&R(),P.emit()})}),group:z=>(i.current.has(z)||i.current.set(z,new Set),()=>{o.current.delete(z),i.current.delete(z)}),filter:()=>d.current.shouldFilter,label:h||t["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:E,inputId:T,labelId:A,listInnerRef:_}),[]);function I(z,W){var q,H;let ee=(H=(q=d.current)==null?void 0:q.filter)!=null?H:xQ;return z?ee(z,n.current.search,W):0}function G(){if(!n.current.search||d.current.shouldFilter===!1)return;let z=n.current.filtered.items,W=[];n.current.filtered.groups.forEach(H=>{let ee=i.current.get(H),ne=0;ee.forEach(ie=>{let he=z.get(ie);ne=Math.max(he,ne)}),W.push([H,ne])});let q=_.current;te().sort((H,ee)=>{var ne,ie;let he=H.getAttribute("id"),ae=ee.getAttribute("id");return((ne=z.get(ae))!=null?ne:0)-((ie=z.get(he))!=null?ie:0)}).forEach(H=>{let ee=H.closest(Ny);ee?ee.appendChild(H.parentElement===ee?H:H.closest(`${Ny} > *`)):q.appendChild(H.parentElement===q?H:H.closest(`${Ny} > *`))}),W.sort((H,ee)=>ee[1]-H[1]).forEach(H=>{var ee;let ne=(ee=_.current)==null?void 0:ee.querySelector(`${Nh}[${Sd}="${encodeURIComponent(H[0])}"]`);ne==null||ne.parentElement.appendChild(ne)})}function R(){let z=te().find(q=>q.getAttribute("aria-disabled")!=="true"),W=z==null?void 0:z.getAttribute(Sd);P.setState("value",W||void 0)}function X(){var z,W,q,H;if(!n.current.search||d.current.shouldFilter===!1){n.current.filtered.count=a.current.size;return}n.current.filtered.groups=new Set;let ee=0;for(let ne of a.current){let ie=(W=(z=o.current.get(ne))==null?void 0:z.value)!=null?W:"",he=(H=(q=o.current.get(ne))==null?void 0:q.keywords)!=null?H:[],ae=I(ie,he);n.current.filtered.items.set(ne,ae),ae>0&&ee++}for(let[ne,ie]of i.current)for(let he of ie)if(n.current.filtered.items.get(he)>0){n.current.filtered.groups.add(ne);break}n.current.filtered.count=ee}function $(){var z,W,q;let H=Z();H&&(((z=H.parentElement)==null?void 0:z.firstChild)===H&&((q=(W=H.closest(Nh))==null?void 0:W.querySelector(gQ))==null||q.scrollIntoView({block:"nearest"})),H.scrollIntoView({block:"nearest"}))}function Z(){var z;return(z=_.current)==null?void 0:z.querySelector(`${tP}[aria-selected="true"]`)}function te(){var z;return Array.from(((z=_.current)==null?void 0:z.querySelectorAll(J2))||[])}function L(z){let W=te()[z];W&&P.setState("value",W.getAttribute(Sd))}function V(z){var W;let q=Z(),H=te(),ee=H.findIndex(ie=>ie===q),ne=H[ee+z];(W=d.current)!=null&&W.loop&&(ne=ee+z<0?H[H.length-1]:ee+z===H.length?H[0]:H[ee+z]),ne&&P.setState("value",ne.getAttribute(Sd))}function B(z){let W=Z(),q=W==null?void 0:W.closest(Nh),H;for(;q&&!H;)q=z>0?EQ(q,Nh):AQ(q,Nh),H=q==null?void 0:q.querySelector(J2);H?P.setState("value",H.getAttribute(Sd)):V(z)}let Y=()=>L(te().length-1),se=z=>{z.preventDefault(),z.metaKey?Y():z.altKey?B(1):V(1)},K=z=>{z.preventDefault(),z.metaKey?L(0):z.altKey?B(-1):V(-1)};return x.createElement(ze.div,{ref:e,tabIndex:-1,...k,"cmdk-root":"",onKeyDown:z=>{var W;(W=k.onKeyDown)==null||W.call(k,z);let q=z.nativeEvent.isComposing||z.keyCode===229;if(!(z.defaultPrevented||q))switch(z.key){case"n":case"j":{S&&z.ctrlKey&&se(z);break}case"ArrowDown":{se(z);break}case"p":case"k":{S&&z.ctrlKey&&K(z);break}case"ArrowUp":{K(z);break}case"Home":{z.preventDefault(),L(0);break}case"End":{z.preventDefault(),Y();break}case"Enter":{z.preventDefault();let H=Z();if(H){let ee=new Event(U0);H.dispatchEvent(ee)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:O.inputId,id:O.labelId,style:_Q},h),Tx(t,z=>x.createElement(sP.Provider,{value:P},x.createElement(nP.Provider,{value:O},z))))}),vQ=x.forwardRef((t,e)=>{var n,a;let i=hs(),o=x.useRef(null),c=x.useContext(aP),d=Zf(),h=iP(t),m=(a=(n=h.current)==null?void 0:n.forceMount)!=null?a:c==null?void 0:c.forceMount;hc(()=>{if(!m)return d.item(i,c==null?void 0:c.id)},[m]);let p=oP(i,o,[t.value,t.children,o],t.keywords),g=M1(),v=hl(M=>M.value&&M.value===p.current),y=hl(M=>m||d.filter()===!1?!0:M.search?M.filtered.items.get(i)>0:!0);x.useEffect(()=>{let M=o.current;if(!(!M||t.disabled))return M.addEventListener(U0,w),()=>M.removeEventListener(U0,w)},[y,t.onSelect,t.disabled]);function w(){var M,P;j(),(P=(M=h.current).onSelect)==null||P.call(M,p.current)}function j(){g.setState("value",p.current,!0)}if(!y)return null;let{disabled:S,value:k,onSelect:E,forceMount:A,keywords:T,..._}=t;return x.createElement(ze.div,{ref:yi(o,e),..._,id:i,"cmdk-item":"",role:"option","aria-disabled":!!S,"aria-selected":!!v,"data-disabled":!!S,"data-selected":!!v,onPointerMove:S||d.getDisablePointerSelection()?void 0:j,onClick:S?void 0:w},t.children)}),bQ=x.forwardRef((t,e)=>{let{heading:n,children:a,forceMount:i,...o}=t,c=hs(),d=x.useRef(null),h=x.useRef(null),m=hs(),p=Zf(),g=hl(y=>i||p.filter()===!1?!0:y.search?y.filtered.groups.has(c):!0);hc(()=>p.group(c),[]),oP(c,d,[t.value,t.heading,h]);let v=x.useMemo(()=>({id:c,forceMount:i}),[i]);return x.createElement(ze.div,{ref:yi(d,e),...o,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},n&&x.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:m},n),Tx(t,y=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?m:void 0},x.createElement(aP.Provider,{value:v},y))))}),yQ=x.forwardRef((t,e)=>{let{alwaysRender:n,...a}=t,i=x.useRef(null),o=hl(c=>!c.search);return!n&&!o?null:x.createElement(ze.div,{ref:yi(i,e),...a,"cmdk-separator":"",role:"separator"})}),jQ=x.forwardRef((t,e)=>{let{onValueChange:n,...a}=t,i=t.value!=null,o=M1(),c=hl(m=>m.search),d=hl(m=>m.selectedItemId),h=Zf();return x.useEffect(()=>{t.value!=null&&o.setState("search",t.value)},[t.value]),x.createElement(ze.input,{ref:e,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":d,id:h.inputId,type:"text",value:i?t.value:c,onChange:m=>{i||o.setState("search",m.target.value),n==null||n(m.target.value)}})}),wQ=x.forwardRef((t,e)=>{let{children:n,label:a="Suggestions",...i}=t,o=x.useRef(null),c=x.useRef(null),d=hl(m=>m.selectedItemId),h=Zf();return x.useEffect(()=>{if(c.current&&o.current){let m=c.current,p=o.current,g,v=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let y=m.offsetHeight;p.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return v.observe(m),()=>{cancelAnimationFrame(g),v.unobserve(m)}}},[]),x.createElement(ze.div,{ref:yi(o,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":a,id:h.listId},Tx(t,m=>x.createElement("div",{ref:yi(c,h.listInnerRef),"cmdk-list-sizer":""},m)))}),NQ=x.forwardRef((t,e)=>{let{open:n,onOpenChange:a,overlayClassName:i,contentClassName:o,container:c,...d}=t;return x.createElement(Jg,{open:n,onOpenChange:a},x.createElement(ex,{container:c},x.createElement(tx,{"cmdk-overlay":"",className:i}),x.createElement(nx,{"aria-label":t.label,"cmdk-dialog":"",className:o},x.createElement(rP,{ref:e,...d}))))}),SQ=x.forwardRef((t,e)=>hl(n=>n.filtered.count===0)?x.createElement(ze.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),kQ=x.forwardRef((t,e)=>{let{progress:n,children:a,label:i="Loading...",...o}=t;return x.createElement(ze.div,{ref:e,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Tx(t,c=>x.createElement("div",{"aria-hidden":!0},c)))}),ja=Object.assign(rP,{List:wQ,Item:vQ,Input:jQ,Group:bQ,Separator:yQ,Dialog:NQ,Empty:SQ,Loading:kQ});function EQ(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function AQ(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function iP(t){let e=x.useRef(t);return hc(()=>{e.current=t}),e}var hc=typeof window>"u"?x.useEffect:x.useLayoutEffect;function kd(t){let e=x.useRef();return e.current===void 0&&(e.current=t()),e}function hl(t){let e=M1(),n=()=>t(e.snapshot());return x.useSyncExternalStore(e.subscribe,n,n)}function oP(t,e,n,a=[]){let i=x.useRef(),o=Zf();return hc(()=>{var c;let d=(()=>{var m;for(let p of n){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(m=p.current.textContent)==null?void 0:m.trim():i.current}})(),h=a.map(m=>m.trim());o.value(t,d,h),(c=e.current)==null||c.setAttribute(Sd,d),i.current=d}),i}var CQ=()=>{let[t,e]=x.useState(),n=kd(()=>new Map);return hc(()=>{n.current.forEach(a=>a()),n.current=new Map},[t]),(a,i)=>{n.current.set(a,i),e({})}};function TQ(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function Tx({asChild:t,children:e},n){return t&&x.isValidElement(e)?x.cloneElement(TQ(e),{ref:e.ref},n(e.props.children)):n(e)}var _Q={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},_x="Popover",[lP,Ele]=Qs(_x,[gl]),Qf=gl(),[RQ,jl]=lP(_x),cP=t=>{const{__scopePopover:e,children:n,open:a,defaultOpen:i,onOpenChange:o,modal:c=!1}=t,d=Qf(e),h=x.useRef(null),[m,p]=x.useState(!1),[g,v]=Ur({prop:a,defaultProp:i??!1,onChange:o,caller:_x});return s.jsx(Tj,{...d,children:s.jsx(RQ,{scope:e,contentId:hs(),triggerRef:h,open:g,onOpenChange:v,onOpenToggle:x.useCallback(()=>v(y=>!y),[v]),hasCustomAnchor:m,onCustomAnchorAdd:x.useCallback(()=>p(!0),[]),onCustomAnchorRemove:x.useCallback(()=>p(!1),[]),modal:c,children:n})})};cP.displayName=_x;var dP="PopoverAnchor",DQ=x.forwardRef((t,e)=>{const{__scopePopover:n,...a}=t,i=jl(dP,n),o=Qf(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=i;return x.useEffect(()=>(c(),()=>d()),[c,d]),s.jsx(Pf,{...o,...a,ref:e})});DQ.displayName=dP;var uP="PopoverTrigger",hP=x.forwardRef((t,e)=>{const{__scopePopover:n,...a}=t,i=jl(uP,n),o=Qf(n),c=ht(e,i.triggerRef),d=s.jsx(ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":xP(i.open),...a,ref:c,onClick:_e(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?d:s.jsx(Pf,{asChild:!0,...o,children:d})});hP.displayName=uP;var P1="PopoverPortal",[MQ,PQ]=lP(P1,{forceMount:void 0}),fP=t=>{const{__scopePopover:e,forceMount:n,children:a,container:i}=t,o=jl(P1,e);return s.jsx(MQ,{scope:e,forceMount:n,children:s.jsx(Bn,{present:n||o.open,children:s.jsx(cu,{asChild:!0,container:i,children:a})})})};fP.displayName=P1;var nu="PopoverContent",mP=x.forwardRef((t,e)=>{const n=PQ(nu,t.__scopePopover),{forceMount:a=n.forceMount,...i}=t,o=jl(nu,t.__scopePopover);return s.jsx(Bn,{present:a||o.open,children:o.modal?s.jsx(LQ,{...i,ref:e}):s.jsx(IQ,{...i,ref:e})})});mP.displayName=nu;var OQ=nl("PopoverContent.RemoveScroll"),LQ=x.forwardRef((t,e)=>{const n=jl(nu,t.__scopePopover),a=x.useRef(null),i=ht(e,a),o=x.useRef(!1);return x.useEffect(()=>{const c=a.current;if(c)return Zg(c)},[]),s.jsx(If,{as:OQ,allowPinchZoom:!0,children:s.jsx(pP,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(t.onCloseAutoFocus,c=>{var d;c.preventDefault(),o.current||(d=n.triggerRef.current)==null||d.focus()}),onPointerDownOutside:_e(t.onPointerDownOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,m=d.button===2||h;o.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:_e(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),IQ=x.forwardRef((t,e)=>{const n=jl(nu,t.__scopePopover),a=x.useRef(!1),i=x.useRef(!1);return s.jsx(pP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,d;(c=t.onCloseAutoFocus)==null||c.call(t,o),o.defaultPrevented||(a.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:o=>{var h,m;(h=t.onInteractOutside)==null||h.call(t,o),o.defaultPrevented||(a.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((m=n.triggerRef.current)==null?void 0:m.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),pP=x.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:m,onInteractOutside:p,...g}=t,v=jl(nu,n),y=Qf(n);return Xg(),s.jsx(Lf,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:o,children:s.jsx(mc,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:p,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:m,onDismiss:()=>v.onOpenChange(!1),children:s.jsx(Gg,{"data-state":xP(v.open),role:"dialog",id:v.contentId,...y,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),gP="PopoverClose",BQ=x.forwardRef((t,e)=>{const{__scopePopover:n,...a}=t,i=jl(gP,n);return s.jsx(ze.button,{type:"button",...a,ref:e,onClick:_e(t.onClick,()=>i.onOpenChange(!1))})});BQ.displayName=gP;var zQ="PopoverArrow",UQ=x.forwardRef((t,e)=>{const{__scopePopover:n,...a}=t,i=Qf(n);return s.jsx(Kg,{...i,...a,ref:e})});UQ.displayName=zQ;function xP(t){return t?"open":"closed"}var $Q=cP,FQ=hP,VQ=fP,qQ=mP;function HQ({...t}){return s.jsx($Q,{"data-slot":"popover",...t})}function GQ({...t}){return s.jsx(FQ,{"data-slot":"popover-trigger",...t})}function KQ({className:t,align:e="center",sideOffset:n=4,...a}){return s.jsx(VQ,{children:s.jsx(qQ,{"data-slot":"popover-content",align:e,sideOffset:n,className:ge("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-hidden",t),...a})})}const vP=x.forwardRef(({className:t,...e},n)=>s.jsx(ja,{ref:n,className:ge("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));vP.displayName=ja.displayName;const bP=x.forwardRef(({className:t,...e},n)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx($9,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(ja.Input,{ref:n,className:ge("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));bP.displayName=ja.Input.displayName;const yP=x.forwardRef((t,e)=>s.jsx(ja.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));yP.displayName=ja.Empty.displayName;const YQ=x.forwardRef(({className:t,...e},n)=>s.jsx(ja.Group,{ref:n,className:ge("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));YQ.displayName=ja.Group.displayName;const XQ=x.forwardRef(({className:t,...e},n)=>s.jsx(ja.Separator,{ref:n,className:ge("-mx-1 h-px bg-border",t),...e}));XQ.displayName=ja.Separator.displayName;const WQ=x.forwardRef(({className:t,children:e,...n},a)=>s.jsxs(ja.Item,{ref:a,className:ge("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 hover:bg-accent hover:text-accent-foreground",t),...n,children:[s.jsx(ax,{className:"mr-2 h-4 w-4 opacity-0 aria-selected:opacity-100"}),e]}));WQ.displayName=ja.Item.displayName;const jP=x.forwardRef(({className:t,onScroll:e,...n},a)=>s.jsx(ja.List,{ref:a,className:ge("max-h-[300px] overflow-y-auto overflow-x-hidden",t),onScroll:e,...n}));jP.displayName=ja.List.displayName;const wP=x.forwardRef(({className:t,children:e,...n},a)=>s.jsxs("button",{ref:a,className:ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:[e,s.jsx(L9,{className:"ml-2 h-4 w-4 opacity-50"})]}));wP.displayName="ComboboxButton";function ZQ({options:t,value:e,onChange:n,placeholder:a="Select an option...",searchPlaceholder:i="Search...",searchValue:o="",onSearchChange:c,emptyMessage:d="No results found.",className:h,isLoading:m=!1,enableInfiniteScroll:p=!1,onLoadMore:g,hasNextPage:v=!1,isLoadingMore:y=!1,pagination:w}){const[j,S]=x.useState(!1),[k,E]=x.useState(""),A=t.find(I=>I.value===e),T=x.useRef(null),_=c?o:k,M=c||E,P=x.useCallback(I=>{n(I),S(!1),c||E("")},[n,c]),O=x.useCallback(I=>{if(!p||!g||y||!v)return;const{scrollTop:G,scrollHeight:R,clientHeight:X}=I.currentTarget;R-G<=X+50&&g()},[p,g,y,v]);return x.useEffect(()=>{T.current&&_&&(T.current.scrollTop=0)},[_]),s.jsxs(HQ,{open:j,onOpenChange:S,children:[s.jsx(GQ,{asChild:!0,children:s.jsx(wP,{className:h,children:A?A.label:a})}),s.jsx(KQ,{className:"w-[var(--radix-popover-trigger-width)] p-0",align:"start",children:s.jsxs(vP,{shouldFilter:!1,children:[s.jsx(bP,{placeholder:i,value:_,onValueChange:M}),s.jsx(jP,{ref:T,onScroll:p?O:void 0,children:m&&t.length===0?s.jsxs("div",{className:"flex items-center justify-center py-6 text-sm text-muted-foreground",children:[s.jsx(TE,{className:"mr-2 h-4 w-4 animate-spin"}),"Searching..."]}):t.length>0?s.jsxs(s.Fragment,{children:[t.map(I=>s.jsx("div",{className:"relative flex cursor-pointer select-none items-start rounded-sm px-3 py-2 text-sm outline-none hover:bg-primary hover:text-accent-foreground",onClick:()=>P(I.value),onMouseDown:G=>G.preventDefault(),children:s.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[s.jsx("div",{className:"font-medium leading-none",children:I.label}),I.description&&s.jsx("div",{className:"text-xs leading-none",children:I.description})]})},I.value)),p&&y&&s.jsxs("div",{className:"flex items-center justify-center py-4 text-sm text-muted-foreground border-t",children:[s.jsx(TE,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading more..."]}),p&&w&&s.jsxs("div",{className:"px-3 py-2 text-xs text-muted-foreground border-t bg-muted/20",children:["Showing ",t.length," of ",w.totalItems," items",w.hasNextPage&&!y&&s.jsx("span",{className:"block mt-1",children:"Scroll down for more results"})]})]}):s.jsx(yP,{children:d})})]})})]})}const wl=({id:t,label:e,description:n,accept:a="*/*",multiple:i=!1,maxSize:o=10*1024*1024,maxFiles:c=10,files:d=[],existingFiles:h=[],mode:m="input",disabled:p=!1,required:g=!1,dragAndDrop:v=!0,showPreview:y=!0,allowRemove:w=!1,className:j,onFilesChange:S,onFileRemove:k,onExistingFileRemove:E,onFileDownload:A,onFileView:T,onError:_})=>{const[M,P]=x.useState(!1),[O,I]=x.useState(d),G=x.useRef(null),R=H=>{if(H===0)return"0 Bytes";const ee=1024,ne=["Bytes","KB","MB","GB"],ie=Math.floor(Math.log(H)/Math.log(ee));return parseFloat((H/Math.pow(ee,ie)).toFixed(2))+" "+ne[ie]},X=H=>{var ee;if(H.size>o)return`File ${H.name} is too large. Maximum size is ${R(o)}.`;if(a!=="*/*"){const ne=a.split(",").map(ue=>ue.trim()),ie="."+((ee=H.name.split(".").pop())==null?void 0:ee.toLowerCase()),he=H.type;if(!ne.some(ue=>ue.startsWith(".")?ue===ie:he.match(ue.replace("*",".*"))))return`File ${H.name} has an unsupported format. Accepted formats: ${a}`}return null},$=x.useCallback(H=>{if(!H)return;const ee=Array.from(H),ne=[],ie=[];if(O.length+ee.length>c&&ie.push(`Maximum ${c} files allowed. Current: ${O.length}, Adding: ${ee.length}`),ee.forEach(ae=>{const ue=X(ae);ue?ie.push(ue):ne.push(ae)}),ie.length>0){_==null||_(ie.join(`
`));return}const he=i?[...O,...ne]:ne;I(he),S==null||S(he)},[O,c,o,a,i,S,_]),Z=H=>{$(H.target.files),G.current&&(G.current.value="")},te=H=>{H.preventDefault(),!p&&v&&P(!0)},L=H=>{H.preventDefault(),P(!1)},V=H=>{H.preventDefault(),P(!1),!(p||!v)&&$(H.dataTransfer.files)},B=H=>{if(!w)return;const ee=O.filter((ne,ie)=>ie!==H);I(ee),S==null||S(ee),k==null||k(H)},Y=H=>{w&&(E==null||E(H))},se=(H,ee)=>{if(A){A(H,ee);return}if(H.url){const ne=H.url.startsWith("http")?H.url:`${sc}${H.url}`,ie=document.createElement("a");ie.href=ne,ie.download=H.name,ie.click()}},K=(H,ee)=>{if(T){T(H,ee);return}const ne=H.viewUrl||H.url;if(ne){const ie=ne.startsWith("http")?ne:`${sc}${ne}`;window.open(ie,"_blank")}},z=()=>{!p&&G.current&&G.current.click()},W=(H,ee,ne=!1)=>{const ie=R(H.size),he=H.type.startsWith("image/"),ae=H.type==="application/pdf",ue=H.type.includes("document")||H.type.includes("word")||H.type.includes("text");return s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 p-3 border rounded-lg bg-gray-50 dark:bg-gray-800",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[s.jsx("div",{className:"flex-shrink-0",children:he?s.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded flex items-center justify-center",children:s.jsx(Ys,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}):ae?s.jsx("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-900 rounded flex items-center justify-center",children:s.jsx(md,{className:"w-4 h-4 text-red-600 dark:text-red-400"})}):ue?s.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900 rounded flex items-center justify-center",children:s.jsx(md,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}):s.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded flex items-center justify-center",children:s.jsx(md,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 break-words",children:H.name}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:ie})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0 sm:ml-auto",children:[m==="view"&&s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>se(H,ee),className:"h-8 w-8 p-0",children:s.jsx(rf,{className:"w-4 h-4"})}),w&&(m==="input"||m==="edit")&&s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>ne?Y(ee):B(ee),className:"h-8 w-8 p-0 text-red-500 hover:text-red-700",children:s.jsx(mg,{className:"w-4 h-4"})})]})]},`${ne?"existing":"new"}-${ee}`)},q=(H,ee)=>{const ne=H.size?R(H.size):"Unknown size",ie=H.name,he=ie.match(/\.(jpg|jpeg|png|gif|webp)$/i),ae=ie.match(/\.pdf$/i),ue=ie.match(/\.(doc|docx|txt|rtf)$/i);return s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 p-3 border rounded-lg bg-blue-50 dark:bg-blue-900/20",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[s.jsx("div",{className:"flex-shrink-0",children:he?s.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded flex items-center justify-center",children:s.jsx(Ys,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}):ae?s.jsx("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-900 rounded flex items-center justify-center",children:s.jsx(md,{className:"w-4 h-4 text-red-600 dark:text-red-400"})}):ue?s.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900 rounded flex items-center justify-center",children:s.jsx(md,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}):s.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded flex items-center justify-center",children:s.jsx(md,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 break-words",children:ie}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[ne," • Existing file"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0 sm:ml-auto",children:[(H.viewUrl||H.url)&&s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>K(H,ee),className:"h-8 w-8 p-0",title:"View file",children:s.jsx(Ys,{className:"w-4 h-4"})}),w&&(m==="input"||m==="edit")&&s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>Y(ee),className:"h-8 w-8 p-0 text-red-500 hover:text-red-700",title:"Remove file",children:s.jsx(mg,{className:"w-4 h-4"})})]})]},`existing-${ee}`)};return m==="view"&&O.length===0&&h.length===0?s.jsxs("div",{className:ge("space-y-2",j),children:[e&&s.jsxs(Pe,{htmlFor:t,className:"text-sm font-medium",children:[e,g&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No files uploaded"})]}):s.jsxs("div",{className:ge("space-y-2",j),children:[e&&s.jsxs(Pe,{htmlFor:t,className:"text-sm font-medium",children:[e,g&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n&&s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 break-words",children:n}),(m==="input"||m==="edit")&&s.jsxs("div",{className:ge("border-2 border-dashed rounded-lg p-4 sm:p-6 text-center cursor-pointer transition-colors",M?"border-blue-400 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500",p&&"cursor-not-allowed opacity-50"),onDragOver:te,onDragLeave:L,onDrop:V,onClick:z,children:[s.jsx(of,{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto mb-2 sm:mb-4 text-gray-400"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-1 sm:mb-2 px-2",children:v?"Drag & drop files here, or click to select":"Click to select files"}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 break-words px-2",children:[a!=="*/*"&&s.jsxs("span",{className:"block sm:inline",children:["Accepted formats: ",a]}),o&&s.jsxs("span",{className:"block sm:inline",children:[a!=="*/*"&&" • ","Max size: ",R(o)]}),i&&s.jsxs("span",{className:"block sm:inline",children:[(a!=="*/*"||o)&&" • ","Max files: ",c]})]})]}),s.jsx(at,{ref:G,id:t,type:"file",accept:a,multiple:i,onChange:Z,disabled:p,className:"hidden"}),y&&s.jsxs("div",{className:"space-y-2",children:[h.map((H,ee)=>q(H,ee)),O.map((H,ee)=>W(H,ee))]}),(m==="input"||m==="edit")&&!v&&s.jsxs(pe,{type:"button",variant:"outline",onClick:z,disabled:p,className:"w-full",children:[s.jsx(of,{className:"w-4 h-4 mr-2"}),i?"Select Files":"Select File"]})]})},QQ=Bs({name:rt().min(1,"Nama wajib diisi").max(255,"Nama maksimal 255 karakter"),description:rt().optional().or(us("")),excerpt:rt().optional().or(us("")),head_id:tl().optional().or(us(""))}),JQ=({open:t,onOpenChange:e,editingOrganization:n,onSave:a})=>{const{toast:i}=_t(),[o,c]=x.useState(!1),[d,h]=x.useState(!1),[m,p]=x.useState([]),[g,v]=x.useState(""),[y,w]=x.useState([]),j=!!n,S=gs({resolver:xs(QQ),defaultValues:{name:"",description:"",excerpt:"",head_id:void 0}}),k=async(R="")=>{h(!0);try{const X=await fi.getUsers({search:R,size:50,page:1});p(X.items)}catch(X){console.error("Failed to load users:",X),i({title:"Error",description:"Gagal memuat data pengguna untuk pemilihan kepala.",variant:"destructive"})}finally{h(!1)}};x.useEffect(()=>{t&&(n?S.reset({name:n.name,description:n.description||"",excerpt:n.excerpt||"",head_id:n.head_id}):S.reset({name:"",description:"",excerpt:"",head_id:void 0}),v(""),w([]),k())},[t,n,S]);const E=async R=>{c(!0);try{const X={name:R.name,description:R.description||void 0,excerpt:R.excerpt||void 0,head_id:R.head_id||void 0},$=y.length>0?y[0]:void 0;a(X,$),e(!1)}catch(X){console.error("Error saving organization:",X),i({title:"Error",description:"Gagal menyimpan Sekolah. Silakan coba lagi.",variant:"destructive"})}finally{c(!1)}},A=()=>{o||(S.reset(),v(""),w([]),e(!1))},T=m.map(R=>{var X;return{value:R.id,label:`${((X=R.profile)==null?void 0:X.name)||R.display_name} (${R.email})`}}),_=async R=>{v(R),await k(R)},M=R=>{const X=typeof R=="string"?parseInt(R):R;S.setValue("head_id",X)},P=m.find(R=>R.id===S.getValues("head_id")),O=R=>{w(R)},I=R=>{i({title:"Error",description:R,variant:"destructive"})},G=n!=null&&n.img_url?[{name:`Current Image - ${n.name}`,url:n.img_url,viewUrl:n.img_url}]:[];return s.jsx(nn,{open:t,onOpenChange:e,children:s.jsxs(sn,{className:"w-[95vw] max-w-2xl max-h-[90vh] flex flex-col",children:[s.jsx(an,{className:"flex-shrink-0 border-b pb-4",children:s.jsx(rn,{children:j?"Edit Sekolah":"Tambah Sekolah Baru"})}),s.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:s.jsx(In,{...S,children:s.jsx("form",{onSubmit:S.handleSubmit(E),className:"space-y-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx($e,{control:S.control,name:"name",render:({field:R})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Nama Sekolah"}),s.jsx(Ue,{children:s.jsx(at,{placeholder:"Masukkan nama Sekolah",disabled:o,...R})}),s.jsx(He,{})]})}),s.jsx($e,{control:S.control,name:"description",render:({field:R})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Deskripsi Lengkap"}),s.jsx(Ue,{children:s.jsx(kc,{value:R.value,onChange:R.onChange,placeholder:"Masukkan deskripsi lengkap sekolah (opsional)",disabled:o,variant:"default",minHeight:150})}),s.jsx(He,{})]})}),s.jsx($e,{control:S.control,name:"excerpt",render:({field:R})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Ringkasan Singkat"}),s.jsx(Ue,{children:s.jsx(br,{placeholder:"Masukkan ringkasan singkat sekolah (opsional)",disabled:o,rows:2,maxLength:500,...R})}),s.jsx(He,{})]})}),s.jsx("div",{children:s.jsx(wl,{label:"Gambar Sekolah",description:"Upload gambar sekolah (JPG, PNG, WebP, max 5MB)",accept:"image/*",maxSize:5*1024*1024,maxFiles:1,files:y,existingFiles:G,onFilesChange:O,onError:I,required:!1,disabled:o,showPreview:!0,allowRemove:!1})}),s.jsx($e,{control:S.control,name:"head_id",render:()=>{var R;return s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Kepala Sekolah"}),s.jsx(Ue,{children:s.jsx(ZQ,{options:T,value:P?P.id:null,onChange:M,placeholder:"Cari dan pilih kepala Sekolah...",emptyMessage:"Tidak ada pengguna ditemukan",searchPlaceholder:"Cari pengguna...",searchValue:g,onSearchChange:_,isLoading:d})}),s.jsx(He,{}),P&&s.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Dipilih: ",((R=P.profile)==null?void 0:R.name)||P.display_name," (",P.email,")"]})]})}})]})})})}),s.jsxs(zs,{className:"flex-shrink-0 border-t pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:A,disabled:o,children:"Batal"}),s.jsx(pe,{onClick:S.handleSubmit(E),disabled:o,children:o?"Menyimpan...":j?"Perbarui Sekolah":"Buat Sekolah"})]})]})})},eJ=()=>{const{isAdmin:t}=as(),{toast:e}=_t(),{updateURL:n,getCurrentFilters:a}=oa({defaults:{q:"",has_users:"all",has_head:"all",page:1,size:10},cleanDefaults:!0}),i=a(),[o,c]=x.useState([]),[d,h]=x.useState(!0),[m,p]=x.useState(0),[g,v]=x.useState(0),[y,w]=x.useState(!1),[j,S]=x.useState(!1),[k,E]=x.useState(null),[A,T]=x.useState(null),[_,M]=x.useState(null),P=t(),O=async()=>{h(!0);try{const K={page:i.page,size:i.size,q:i.q||void 0,has_users:i.has_users!=="all"?i.has_users==="true":void 0,has_head:i.has_head!=="all"?i.has_head==="true":void 0},z=await Or.getOrganizations(K);c(z.items),p(z.total),v(z.pages)}catch(K){console.error("Failed to fetch organizations:",K),e({title:"Error",description:"Gagal memuat data Sekolah. Silakan coba lagi.",variant:"destructive"})}finally{h(!1)}};x.useEffect(()=>{P&&O()},[i.page,i.size,i.q,i.has_users,i.has_head,P]);const I=K=>{T(K),S(!0)},G=K=>{E(K),w(!0)},R=K=>{M(K)},X=async()=>{if(_)try{await Or.deleteOrganization(_.id),M(null),O(),e({title:"Sekolah berhasil dihapus",description:`Sekolah ${_.name} telah dihapus dari sistem.`})}catch(K){console.error("Failed to delete organization:",K);const z=(K==null?void 0:K.message)||"Gagal menghapus Sekolah. Silakan coba lagi.";e({title:"Error",description:z,variant:"destructive"})}},$=()=>{E(null),w(!0)},Z=async(K,z)=>{try{k?(await Or.updateOrganization(k.id,K,z),e({title:"Sekolah berhasil diperbarui",description:`Sekolah ${K.name} telah diperbarui.`})):(await Or.createOrganization(K,z),e({title:"Sekolah berhasil dibuat",description:`Sekolah ${K.name} telah ditambahkan ke sistem.`})),w(!1),E(null),O()}catch(W){console.error("Failed to save organization:",W);const q=(W==null?void 0:W.message)||"Gagal menyimpan Sekolah. Silakan coba lagi.";e({title:"Error",description:q,variant:"destructive"})}},te=K=>{n({size:parseInt(K),page:1})},L=x.useCallback(K=>{K!==i.q&&n({q:K,page:1})},[n,i.q]),V=x.useCallback(K=>{K!==i.has_users&&n({has_users:K,page:1})},[n,i.has_users]),B=x.useCallback(K=>{K!==i.has_head&&n({has_head:K,page:1})},[n,i.has_head]),Y=K=>{n({page:K})},se=()=>{let K="Daftar Sekolah";const z=[];return i.has_users!=="all"&&z.push(i.has_users==="true"?"Dengan Pengguna":"Tanpa Pengguna"),i.has_head!=="all"&&z.push(i.has_head==="true"?"Dengan Kepala":"Tanpa Kepala"),z.length>0&&(K+=" - "+z.join(" - ")),K};return P?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Cs,{title:"Manajemen Sekolah",description:"Kelola Sekolah, tetapkan kepala Sekolah, dan lihat jumlah pengguna",actions:s.jsxs(pe,{onClick:$,children:[s.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Tambah Sekolah"]})}),s.jsxs($r,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"users-filter",children:"Pengguna"}),s.jsxs(Ut,{value:i.has_users,onValueChange:V,children:[s.jsx(Lt,{id:"users-filter",children:s.jsx($t,{placeholder:"Filter berdasarkan pengguna"})}),s.jsxs(It,{children:[s.jsx(Be,{value:"all",children:"Semua Sekolah"}),s.jsx(Be,{value:"true",children:"Dengan Pengguna"}),s.jsx(Be,{value:"false",children:"Tanpa Pengguna"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"head-filter",children:"Kepala Sekolah"}),s.jsxs(Ut,{value:i.has_head,onValueChange:B,children:[s.jsx(Lt,{id:"head-filter",children:s.jsx($t,{placeholder:"Filter berdasarkan kepala"})}),s.jsxs(It,{children:[s.jsx(Be,{value:"all",children:"Semua Sekolah"}),s.jsx(Be,{value:"true",children:"Dengan Kepala"}),s.jsx(Be,{value:"false",children:"Tanpa Kepala"})]})]})]})]}),s.jsx(je,{children:s.jsx(we,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx($a,{title:se(),subtitle:"Kelola Sekolah, tetapkan kepala Sekolah, dan lihat jumlah pengguna"}),s.jsx(vr,{searchQuery:i.q,onSearchChange:L,placeholder:"Cari Sekolah berdasarkan nama atau deskripsi..."}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(xH,{organizations:o,loading:d,onView:I,onEdit:G,onDelete:R})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(vH,{organizations:o,loading:d,onView:I,onEdit:G,onDelete:R})}),g>1&&s.jsx(ya,{currentPage:i.page,totalPages:g,itemsPerPage:i.size,totalItems:m,onPageChange:Y,onItemsPerPageChange:te})]})})}),s.jsx(JQ,{open:y,onOpenChange:w,editingOrganization:k,onSave:Z}),A&&s.jsx(nn,{open:j,onOpenChange:S,children:s.jsxs(sn,{className:"max-w-2xl",children:[s.jsx(an,{children:s.jsx(rn,{children:"Detail Sekolah"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Pe,{children:"Nama"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:A.name})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Nama Tampilan"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:A.display_name})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Jumlah Pengguna"}),s.jsxs("div",{className:"p-2 bg-muted rounded text-sm",children:[A.user_count," pengguna"]})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Kepala Sekolah"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:A.head_name||"Belum ada kepala"})]}),A.description&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(Pe,{children:"Deskripsi"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:A.description})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Dibuat"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:new Date(A.created_at).toLocaleDateString("id-ID")})]}),A.updated_at&&s.jsxs("div",{children:[s.jsx(Pe,{children:"Terakhir Diperbarui"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:new Date(A.updated_at).toLocaleDateString("id-ID")})]})]})]})}),s.jsx(ss,{open:!!_,onOpenChange:()=>M(null),children:s.jsxs(Gn,{children:[s.jsxs(Kn,{children:[s.jsx(Xn,{children:"Konfirmasi Hapus"}),s.jsxs(Wn,{children:["Tindakan ini tidak dapat dibatalkan. Sekolah"," ",s.jsx("span",{className:"font-semibold",children:_==null?void 0:_.name})," akan dihapus secara permanen dari sistem."]})]}),s.jsxs(Yn,{children:[s.jsx(Qn,{children:"Batal"}),s.jsx(Zn,{onClick:X,className:"bg-red-600 hover:bg-red-700",children:"Hapus Sekolah"})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki akses untuk melihat halaman ini."})]})})},NP=({message:t="Loading..."})=>s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx(Ua,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:t})]})}),tJ=({children:t,fallback:e=null,requireRoles:n=[],redirectTo:a="/login",allowUnauthenticated:i=!1})=>{const{isAuthenticated:o,user:c,loading:d,checkAuth:h,isSessionValid:m}=mr(),p=iu();if(x.useEffect(()=>{o&&!m()&&!d&&h()},[p.pathname,o,d]),d)return s.jsx(NP,{message:"Verifying authentication..."});if(i)return s.jsx(s.Fragment,{children:t});if(!o||!c)return e?s.jsx(s.Fragment,{children:e}):s.jsx(to,{to:a,state:{from:p.pathname},replace:!0});if(c.status!=cF.ACTIVE)return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-destructive",children:"Account Inactive"}),s.jsx("p",{className:"text-muted-foreground",children:"Your account has been deactivated. Please contact support for assistance."})]})});if(n.length>0){const g=c.role;if(!n.includes(g))return e?s.jsx(s.Fragment,{children:e}):s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-destructive",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground",children:"You don't have the required permissions to access this page."}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Required roles: ",n.join(", ")]})]})})}return s.jsx(s.Fragment,{children:t})},_p=({children:t,redirectTo:e="/dashboard"})=>{const{isAuthenticated:n,loading:a,user:i,isSessionValid:o,checkAuth:c}=mr();return x.useEffect(()=>{n&&i&&!o()&&c()},[]),a?s.jsx(NP,{message:"Checking authentication..."}):n&&i&&o()?s.jsx(to,{to:e,replace:!0}):s.jsx(s.Fragment,{children:t})};function Es({children:t,allowedRoles:e=[],redirectTo:n="/",fallback:a,requireRoles:i=!1}){const{user:o,isAuthenticated:c}=mr();if(!c)return s.jsx(to,{to:"/login",replace:!0});const d=o==null?void 0:o.role;return i&&!!!d?s.jsx(to,{to:"/",replace:!0}):e.length===0?s.jsx(s.Fragment,{children:t}):e.includes(d)?s.jsx(s.Fragment,{children:t}):a?s.jsx(s.Fragment,{children:a}):s.jsx(to,{to:n,replace:!0})}const nJ=({periods:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>{const o=d=>gn(new Date(d),"dd MMM yyyy",{locale:xn}),c=d=>({onView:()=>i(d),onEdit:()=>n(d),onDelete:()=>a(d),showView:!0,showEdit:!0,showDelete:!0});return s.jsx("div",{className:"rounded-md border",children:s.jsxs(fs,{children:[s.jsx(ms,{children:s.jsxs(et,{children:[s.jsx(Te,{children:"Tahun Akademik"}),s.jsx(Te,{children:"Semester"}),s.jsx(Te,{children:"Tanggal Mulai"}),s.jsx(Te,{children:"Tanggal Selesai"}),s.jsx(Te,{children:"Status"}),s.jsx(Te,{children:"Deskripsi"}),s.jsx(Te,{className:"text-right",children:"Aksi"})]})}),s.jsx(ps,{children:e?s.jsx(et,{children:s.jsx(Ee,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"Memuat periode..."})}):t.length===0?s.jsx(et,{children:s.jsx(Ee,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"Tidak ada periode ditemukan"})}):t.map(d=>s.jsxs(et,{children:[s.jsx(Ee,{children:d.academic_year}),s.jsx(Ee,{children:d.semester}),s.jsx(Ee,{children:o(d.start_date)}),s.jsx(Ee,{children:o(d.end_date)}),s.jsx(Ee,{children:d.is_active?"Aktif":"Tidak Aktif"}),s.jsx(Ee,{children:d.description||"-"}),s.jsx(Ee,{className:"text-right",children:s.jsx(un,{...c(d)})})]},d.id))})]})})},sJ=({periods:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>{const o=d=>gn(new Date(d),"dd MMM yyyy",{locale:xn}),c=d=>({onView:()=>i(d),onEdit:()=>n(d),onDelete:()=>a(d),showView:!0,showEdit:!0,showDelete:!0});return e?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Memuat periode..."}):t.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Tidak ada periode ditemukan"}):s.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(d=>s.jsx(je,{className:"hover:shadow-md transition-shadow",children:s.jsxs(we,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-muted rounded-full",children:s.jsx(ol,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium text-sm",children:[d.academic_year," - ",d.semester]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Status: ",d.is_active?"Aktif":"Tidak Aktif"]})]})]}),s.jsx(un,{...c(d)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[s.jsx(Fa,{className:"w-4 h-4"}),s.jsxs("span",{children:[o(d.start_date)," - ",o(d.end_date)]})]}),d.description&&s.jsxs("div",{className:"flex items-start space-x-2 text-sm text-muted-foreground",children:[s.jsx(va,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),s.jsx("div",{className:"line-clamp-2",children:d.description})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[s.jsx(Yj,{className:"w-3 h-3"}),s.jsxs("span",{children:["Dibuat: ",o(d.created_at)]})]})]})]})},d.id))})};var Rx="Switch",[aJ,Ale]=Qs(Rx),[rJ,iJ]=aJ(Rx),SP=x.forwardRef((t,e)=>{const{__scopeSwitch:n,name:a,checked:i,defaultChecked:o,required:c,disabled:d,value:h="on",onCheckedChange:m,form:p,...g}=t,[v,y]=x.useState(null),w=ht(e,A=>y(A)),j=x.useRef(!1),S=v?p||!!v.closest("form"):!0,[k,E]=Ur({prop:i,defaultProp:o??!1,onChange:m,caller:Rx});return s.jsxs(rJ,{scope:n,checked:k,disabled:d,children:[s.jsx(ze.button,{type:"button",role:"switch","aria-checked":k,"aria-required":c,"data-state":CP(k),"data-disabled":d?"":void 0,disabled:d,value:h,...g,ref:w,onClick:_e(t.onClick,A=>{E(T=>!T),S&&(j.current=A.isPropagationStopped(),j.current||A.stopPropagation())})}),S&&s.jsx(AP,{control:v,bubbles:!j.current,name:a,value:h,checked:k,required:c,disabled:d,form:p,style:{transform:"translateX(-100%)"}})]})});SP.displayName=Rx;var kP="SwitchThumb",EP=x.forwardRef((t,e)=>{const{__scopeSwitch:n,...a}=t,i=iJ(kP,n);return s.jsx(ze.span,{"data-state":CP(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e})});EP.displayName=kP;var oJ="SwitchBubbleInput",AP=x.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:a=!0,...i},o)=>{const c=x.useRef(null),d=ht(c,o),h=mx(n),m=Ej(e);return x.useEffect(()=>{const p=c.current;if(!p)return;const g=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(g,"checked").set;if(h!==n&&y){const w=new Event("click",{bubbles:a});y.call(p,n),p.dispatchEvent(w)}},[h,n,a]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:d,style:{...i.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});AP.displayName=oJ;function CP(t){return t?"checked":"unchecked"}var TP=SP,lJ=EP;const Dx=x.forwardRef(({className:t,...e},n)=>s.jsx(TP,{className:ge("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:s.jsx(lJ,{className:ge("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Dx.displayName=TP.displayName;const cJ=Bs({academic_year:rt().min(1,"Tahun akademik wajib diisi").max(20,"Tahun akademik maksimal 20 karakter"),semester:rt().min(1,"Semester wajib diisi").max(20,"Semester maksimal 20 karakter"),start_date:rt().min(1,"Tanggal mulai wajib diisi"),end_date:rt().min(1,"Tanggal selesai wajib diisi"),description:rt().optional().or(us("")),is_active:Fg()}).refine(t=>{const e=new Date(t.start_date);return new Date(t.end_date)>e},{message:"Tanggal selesai harus setelah tanggal mulai",path:["end_date"]}),dJ=({open:t,onOpenChange:e,editingPeriod:n,onSave:a})=>{const{toast:i}=_t(),[o,c]=x.useState(!1),d=!!n,h=gs({resolver:xs(cJ),defaultValues:{academic_year:"",semester:"",start_date:"",end_date:"",description:"",is_active:!1}});x.useEffect(()=>{t&&(n?h.reset({academic_year:n.academic_year,semester:n.semester,start_date:n.start_date,end_date:n.end_date,description:n.description||"",is_active:!!n.is_active}):h.reset({academic_year:"",semester:"",start_date:"",end_date:"",description:"",is_active:!1}))},[t,n,h]);const m=async y=>{c(!0);try{const w={academic_year:y.academic_year,semester:y.semester,start_date:y.start_date,end_date:y.end_date,description:y.description||void 0,is_active:y.is_active};a(w),e(!1)}catch(w){console.error("Error saving period:",w),i({title:"Error",description:"Gagal menyimpan periode. Silakan coba lagi.",variant:"destructive"})}finally{c(!1)}},p=()=>{o||(h.reset(),e(!1))},g=new Date().getFullYear(),v=[];for(let y=-5;y<=5;y++){const w=g+y;v.push(`${w}/${w+1}`)}return s.jsx(nn,{open:t,onOpenChange:e,children:s.jsxs(sn,{className:"max-w-md",children:[s.jsx(an,{children:s.jsx(rn,{children:d?"Edit Periode":"Tambah Periode"})}),s.jsx(In,{...h,children:s.jsxs("form",{onSubmit:h.handleSubmit(m),className:"space-y-4",children:[s.jsx($e,{control:h.control,name:"academic_year",render:({field:y})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Tahun Akademik"}),s.jsxs(Ut,{onValueChange:y.onChange,value:y.value||void 0,children:[s.jsx(Ue,{children:s.jsx(Lt,{children:s.jsx($t,{placeholder:"Pilih tahun akademik"})})}),s.jsx(It,{children:v.map(w=>s.jsx(Be,{value:w,children:w},w))})]}),s.jsx(He,{})]})}),s.jsx($e,{control:h.control,name:"semester",render:({field:y})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Semester"}),s.jsxs(Ut,{onValueChange:y.onChange,value:y.value||void 0,children:[s.jsx(Ue,{children:s.jsx(Lt,{children:s.jsx($t,{placeholder:"Pilih semester"})})}),s.jsxs(It,{children:[s.jsx(Be,{value:"Ganjil",children:"Ganjil"}),s.jsx(Be,{value:"Genap",children:"Genap"})]})]}),s.jsx(He,{})]})}),s.jsx($e,{control:h.control,name:"start_date",render:({field:y})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Tanggal Mulai"}),s.jsx(Ue,{children:s.jsx(at,{type:"date",placeholder:"Pilih tanggal mulai",...y})}),s.jsx(He,{})]})}),s.jsx($e,{control:h.control,name:"end_date",render:({field:y})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Tanggal Selesai"}),s.jsx(Ue,{children:s.jsx(at,{type:"date",placeholder:"Pilih tanggal selesai",...y})}),s.jsx(He,{})]})}),s.jsx($e,{control:h.control,name:"description",render:({field:y})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Deskripsi (Opsional)"}),s.jsx(Ue,{children:s.jsx(br,{placeholder:"Deskripsi periode...",className:"resize-none",rows:3,...y})}),s.jsx(He,{})]})}),s.jsx($e,{control:h.control,name:"is_active",render:({field:y})=>s.jsxs(Fe,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ve,{children:"Status Periode"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Aktifkan periode ini untuk digunakan dalam sistem"})]}),s.jsx(Ue,{children:s.jsx(Dx,{checked:y.value,onCheckedChange:y.onChange})})]})}),s.jsxs(zs,{children:[s.jsx(pe,{type:"button",variant:"outline",onClick:p,disabled:o,children:"Batal"}),s.jsx(pe,{type:"submit",disabled:o,children:o?"Menyimpan...":d?"Perbarui":"Simpan"})]})]})})]})})},uJ=()=>{const{isAdmin:t}=as(),{toast:e}=_t(),{updateURL:n,getCurrentFilters:a}=oa({defaults:{q:"",academic_year:"all",semester:"all",is_active:"all",page:1,size:10},cleanDefaults:!0}),i=a(),[o,c]=x.useState([]),[d,h]=x.useState(!0),[m,p]=x.useState(0),[g,v]=x.useState(0),[y,w]=x.useState(!1),[j,S]=x.useState(!1),[k,E]=x.useState(null),[A,T]=x.useState(null),[_,M]=x.useState(null),P=t(),O=t(),I=async()=>{h(!0);try{const q={page:i.page,size:i.size,academic_year:i.academic_year!=="all"?i.academic_year:void 0,semester:i.semester!=="all"?i.semester:void 0,is_active:i.is_active!=="all"?i.is_active==="true":void 0},H=await kn.getPeriods(q);let ee=H.items;i.q?(ee=H.items.filter(ne=>ne.academic_year.toLowerCase().includes(i.q.toLowerCase())||ne.semester.toLowerCase().includes(i.q.toLowerCase())||ne.description&&ne.description.toLowerCase().includes(i.q.toLowerCase())),c(ee),p(ee.length),v(Math.ceil(ee.length/i.size))):(c(H.items),p(H.total),v(H.pages))}catch(q){console.error("Failed to fetch periods:",q),e({title:"Error",description:"Gagal memuat data periode. Silakan coba lagi.",variant:"destructive"})}finally{h(!1)}};x.useEffect(()=>{P&&I()},[i.page,i.size,i.q,i.academic_year,i.semester,i.is_active,P]);const G=q=>{T(q),S(!0)},R=q=>{E(q),w(!0)},X=q=>{M(q)},$=async()=>{if(_)try{await kn.deletePeriod(_.id),M(null),I(),e({title:"Periode berhasil dihapus",description:`Periode ${_.academic_year} ${_.semester} telah dihapus dari sistem.`})}catch(q){console.error("Failed to delete period:",q);const H=(q==null?void 0:q.message)||"Gagal menghapus periode. Silakan coba lagi.";e({title:"Error",description:H,variant:"destructive"})}},Z=()=>{E(null),w(!0)},te=async q=>{try{if(k){const H=k.is_active!==q.is_active,{is_active:ee,...ne}=q;await kn.updatePeriod(k.id,ne),H&&(q.is_active?await kn.activatePeriod(k.id):await kn.deactivatePeriod(k.id)),e({title:"Periode berhasil diperbarui",description:`Periode ${q.academic_year} ${q.semester} telah diperbarui.`})}else await kn.createPeriod(q),e({title:"Periode berhasil dibuat",description:`Periode ${q.academic_year} ${q.semester} telah ditambahkan ke sistem.`});w(!1),E(null),I()}catch(H){console.error("Failed to save period:",H);const ee=(H==null?void 0:H.message)||"Gagal menyimpan periode. Silakan coba lagi.";e({title:"Error",description:ee,variant:"destructive"})}},L=q=>{n({size:parseInt(q),page:1})},V=x.useCallback(q=>{q!==i.q&&n({q,page:1})},[n,i.q]),B=x.useCallback(q=>{q!==i.academic_year&&n({academic_year:q,page:1})},[n,i.academic_year]),Y=x.useCallback(q=>{q!==i.semester&&n({semester:q,page:1})},[n,i.semester]),se=x.useCallback(q=>{q!==i.is_active&&n({is_active:q,page:1})},[n,i.is_active]),K=q=>{n({page:q})},z=()=>{let q="Daftar Periode";const H=[];return i.academic_year!=="all"&&H.push(`TA ${i.academic_year}`),i.semester!=="all"&&H.push(`Semester ${i.semester}`),i.is_active!=="all"&&H.push(i.is_active==="true"?"Aktif":"Tidak Aktif"),H.length>0&&(q+=" - "+H.join(" - ")),q},W=()=>{const q=new Date().getFullYear(),H=new Set;if(o.forEach(ee=>H.add(ee.academic_year)),H.size===0)for(let ee=-5;ee<=5;ee++){const ne=q+ee;H.add(`${ne}/${ne+1}`)}return Array.from(H).sort()};return P?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Cs,{title:"Manajemen Periode",description:"Kelola periode akademik, atur tahun ajaran dan semester",actions:O?s.jsxs(pe,{onClick:Z,children:[s.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Tambah Periode"]}):void 0}),s.jsxs($r,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"academic-year-filter",children:"Tahun Akademik"}),s.jsxs(Ut,{value:i.academic_year,onValueChange:B,children:[s.jsx(Lt,{id:"academic-year-filter",children:s.jsx($t,{placeholder:"Filter berdasarkan tahun akademik"})}),s.jsxs(It,{children:[s.jsx(Be,{value:"all",children:"Semua Tahun"}),W().map(q=>s.jsx(Be,{value:q,children:q},q))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"semester-filter",children:"Semester"}),s.jsxs(Ut,{value:i.semester,onValueChange:Y,children:[s.jsx(Lt,{id:"semester-filter",children:s.jsx($t,{placeholder:"Filter berdasarkan semester"})}),s.jsxs(It,{children:[s.jsx(Be,{value:"all",children:"Semua Semester"}),s.jsx(Be,{value:"Ganjil",children:"Ganjil"}),s.jsx(Be,{value:"Genap",children:"Genap"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"status-filter",children:"Status"}),s.jsxs(Ut,{value:i.is_active,onValueChange:se,children:[s.jsx(Lt,{id:"status-filter",children:s.jsx($t,{placeholder:"Filter berdasarkan status"})}),s.jsxs(It,{children:[s.jsx(Be,{value:"all",children:"Semua Status"}),s.jsx(Be,{value:"true",children:"Aktif"}),s.jsx(Be,{value:"false",children:"Tidak Aktif"})]})]})]})]}),s.jsx(je,{children:s.jsx(we,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx($a,{title:z(),subtitle:"Kelola periode akademik, atur tahun ajaran dan semester"}),s.jsx(vr,{searchQuery:i.q,onSearchChange:V,placeholder:"Cari periode berdasarkan tahun akademik, semester, atau deskripsi..."}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(nJ,{periods:o,loading:d,onView:G,onEdit:O?R:()=>{},onDelete:O?X:()=>{}})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(sJ,{periods:o,loading:d,onView:G,onEdit:O?R:()=>{},onDelete:O?X:()=>{}})}),g>1&&s.jsx(ya,{currentPage:i.page,totalPages:g,itemsPerPage:i.size,totalItems:m,onPageChange:K,onItemsPerPageChange:L})]})})}),O&&s.jsx(dJ,{open:y,onOpenChange:w,editingPeriod:k,onSave:te}),A&&s.jsx(nn,{open:j,onOpenChange:S,children:s.jsxs(sn,{className:"max-w-2xl",children:[s.jsx(an,{children:s.jsx(rn,{children:"Detail Periode"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Pe,{children:"Tahun Akademik"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:A.academic_year})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Semester"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:A.semester})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Tanggal Mulai"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:new Date(A.start_date).toLocaleDateString("id-ID")})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Tanggal Selesai"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:new Date(A.end_date).toLocaleDateString("id-ID")})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Status"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:A.is_active?"Aktif":"Tidak Aktif"})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Dibuat"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:new Date(A.created_at).toLocaleDateString("id-ID")})]}),A.description&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(Pe,{children:"Deskripsi"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:A.description})]}),A.updated_at&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(Pe,{children:"Terakhir Diperbarui"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:new Date(A.updated_at).toLocaleDateString("id-ID")})]})]})]})}),s.jsx(ss,{open:!!_,onOpenChange:()=>M(null),children:s.jsxs(Gn,{children:[s.jsxs(Kn,{children:[s.jsx(Xn,{children:"Konfirmasi Hapus"}),s.jsxs(Wn,{children:["Tindakan ini tidak dapat dibatalkan. Periode"," ",s.jsxs("span",{className:"font-semibold",children:[_==null?void 0:_.academic_year," ",_==null?void 0:_.semester]})," ","akan dihapus secara permanen dari sistem."]})]}),s.jsxs(Yn,{children:[s.jsx(Qn,{children:"Batal"}),s.jsx(Zn,{onClick:$,className:"bg-red-600 hover:bg-red-700",children:"Hapus Periode"})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki akses untuk melihat halaman ini."})]})})};function hJ(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return x.useMemo(()=>a=>{e.forEach(i=>i(a))},e)}const Mx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pu(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function O1(t){return"nodeType"in t}function wa(t){var e,n;return t?pu(t)?t:O1(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function L1(t){const{Document:e}=wa(t);return t instanceof e}function Jf(t){return pu(t)?!1:t instanceof wa(t).HTMLElement}function _P(t){return t instanceof wa(t).SVGElement}function gu(t){return t?pu(t)?t.document:O1(t)?L1(t)?t:Jf(t)||_P(t)?t.ownerDocument:document:document:document}const ki=Mx?x.useLayoutEffect:x.useEffect;function I1(t){const e=x.useRef(t);return ki(()=>{e.current=t}),x.useCallback(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e.current==null?void 0:e.current(...a)},[])}function fJ(){const t=x.useRef(null),e=x.useCallback((a,i)=>{t.current=setInterval(a,i)},[]),n=x.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function vf(t,e){e===void 0&&(e=[t]);const n=x.useRef(t);return ki(()=>{n.current!==t&&(n.current=t)},e),n}function em(t,e){const n=x.useRef();return x.useMemo(()=>{const a=t(n.current);return n.current=a,a},[...e])}function Eg(t){const e=I1(t),n=x.useRef(null),a=x.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,a]}function $0(t){const e=x.useRef();return x.useEffect(()=>{e.current=t},[t]),e.current}let Sy={};function tm(t,e){return x.useMemo(()=>{if(e)return e;const n=Sy[t]==null?0:Sy[t]+1;return Sy[t]=n,t+"-"+n},[t,e])}function RP(t){return function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((o,c)=>{const d=Object.entries(c);for(const[h,m]of d){const p=o[h];p!=null&&(o[h]=p+t*m)}return o},{...e})}}const qd=RP(1),bf=RP(-1);function mJ(t){return"clientX"in t&&"clientY"in t}function B1(t){if(!t)return!1;const{KeyboardEvent:e}=wa(t.target);return e&&t instanceof e}function pJ(t){if(!t)return!1;const{TouchEvent:e}=wa(t.target);return e&&t instanceof e}function F0(t){if(pJ(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return mJ(t)?{x:t.clientX,y:t.clientY}:null}const su=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[su.Translate.toString(t),su.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:a}=t;return e+" "+n+"ms "+a}}}),eA="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function gJ(t){return t.matches(eA)?t:t.querySelector(eA)}const xJ={display:"none"};function vJ(t){let{id:e,value:n}=t;return ve.createElement("div",{id:e,style:xJ},n)}function bJ(t){let{id:e,announcement:n,ariaLiveType:a="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ve.createElement("div",{id:e,style:i,role:"status","aria-live":a,"aria-atomic":!0},n)}function yJ(){const[t,e]=x.useState("");return{announce:x.useCallback(a=>{a!=null&&e(a)},[]),announcement:t}}const DP=x.createContext(null);function jJ(t){const e=x.useContext(DP);x.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function wJ(){const[t]=x.useState(()=>new Set),e=x.useCallback(a=>(t.add(a),()=>t.delete(a)),[t]);return[x.useCallback(a=>{let{type:i,event:o}=a;t.forEach(c=>{var d;return(d=c[i])==null?void 0:d.call(c,o)})},[t]),e]}const NJ={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},SJ={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function kJ(t){let{announcements:e=SJ,container:n,hiddenTextDescribedById:a,screenReaderInstructions:i=NJ}=t;const{announce:o,announcement:c}=yJ(),d=tm("DndLiveRegion"),[h,m]=x.useState(!1);if(x.useEffect(()=>{m(!0)},[]),jJ(x.useMemo(()=>({onDragStart(g){let{active:v}=g;o(e.onDragStart({active:v}))},onDragMove(g){let{active:v,over:y}=g;e.onDragMove&&o(e.onDragMove({active:v,over:y}))},onDragOver(g){let{active:v,over:y}=g;o(e.onDragOver({active:v,over:y}))},onDragEnd(g){let{active:v,over:y}=g;o(e.onDragEnd({active:v,over:y}))},onDragCancel(g){let{active:v,over:y}=g;o(e.onDragCancel({active:v,over:y}))}}),[o,e])),!h)return null;const p=ve.createElement(ve.Fragment,null,ve.createElement(vJ,{id:a,value:i.draggable}),ve.createElement(bJ,{id:d,announcement:c}));return n?Qi.createPortal(p,n):p}var cs;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(cs||(cs={}));function Ag(){}function Cg(t,e){return x.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function MP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return x.useMemo(()=>[...e].filter(a=>a!=null),[...e])}const Vr=Object.freeze({x:0,y:0});function PP(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function OP(t,e){let{data:{value:n}}=t,{data:{value:a}}=e;return n-a}function EJ(t,e){let{data:{value:n}}=t,{data:{value:a}}=e;return a-n}function tA(t){let{left:e,top:n,height:a,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+a},{x:e+i,y:n+a}]}function LP(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function nA(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const IP=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=t;const i=nA(e,e.left,e.top),o=[];for(const c of a){const{id:d}=c,h=n.get(d);if(h){const m=PP(nA(h),i);o.push({id:d,data:{droppableContainer:c,value:m}})}}return o.sort(OP)},AJ=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=t;const i=tA(e),o=[];for(const c of a){const{id:d}=c,h=n.get(d);if(h){const m=tA(h),p=i.reduce((v,y,w)=>v+PP(m[w],y),0),g=Number((p/4).toFixed(4));o.push({id:d,data:{droppableContainer:c,value:g}})}}return o.sort(OP)};function CJ(t,e){const n=Math.max(e.top,t.top),a=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),c=i-a,d=o-n;if(a<i&&n<o){const h=e.width*e.height,m=t.width*t.height,p=c*d,g=p/(h+m-p);return Number(g.toFixed(4))}return 0}const TJ=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=t;const i=[];for(const o of a){const{id:c}=o,d=n.get(c);if(d){const h=CJ(d,e);h>0&&i.push({id:c,data:{droppableContainer:o,value:h}})}}return i.sort(EJ)};function _J(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function BP(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Vr}function RJ(t){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return i.reduce((c,d)=>({...c,top:c.top+t*d.y,bottom:c.bottom+t*d.y,left:c.left+t*d.x,right:c.right+t*d.x}),{...n})}}const DJ=RJ(1);function MJ(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function PJ(t,e,n){const a=MJ(e);if(!a)return t;const{scaleX:i,scaleY:o,x:c,y:d}=a,h=t.left-c-(1-i)*parseFloat(n),m=t.top-d-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),p=i?t.width/i:t.width,g=o?t.height/o:t.height;return{width:p,height:g,top:m,right:h+p,bottom:m+g,left:h}}const OJ={ignoreTransform:!1};function xu(t,e){e===void 0&&(e=OJ);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:m,transformOrigin:p}=wa(t).getComputedStyle(t);m&&(n=PJ(n,m,p))}const{top:a,left:i,width:o,height:c,bottom:d,right:h}=n;return{top:a,left:i,width:o,height:c,bottom:d,right:h}}function sA(t){return xu(t,{ignoreTransform:!0})}function LJ(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function IJ(t,e){return e===void 0&&(e=wa(t).getComputedStyle(t)),e.position==="fixed"}function BJ(t,e){e===void 0&&(e=wa(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=e[i];return typeof o=="string"?n.test(o):!1})}function Px(t,e){const n=[];function a(i){if(e!=null&&n.length>=e||!i)return n;if(L1(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Jf(i)||_P(i)||n.includes(i))return n;const o=wa(t).getComputedStyle(i);return i!==t&&BJ(i,o)&&n.push(i),IJ(i,o)?n:a(i.parentNode)}return t?a(t):n}function zP(t){const[e]=Px(t,1);return e??null}function ky(t){return!Mx||!t?null:pu(t)?t:O1(t)?L1(t)||t===gu(t).scrollingElement?window:Jf(t)?t:null:null}function UP(t){return pu(t)?t.scrollX:t.scrollLeft}function $P(t){return pu(t)?t.scrollY:t.scrollTop}function V0(t){return{x:UP(t),y:$P(t)}}var As;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(As||(As={}));function FP(t){return!Mx||!t?!1:t===document.scrollingElement}function VP(t){const e={x:0,y:0},n=FP(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},a={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,c=t.scrollTop>=a.y,d=t.scrollLeft>=a.x;return{isTop:i,isLeft:o,isBottom:c,isRight:d,maxScroll:a,minScroll:e}}const zJ={x:.2,y:.2};function UJ(t,e,n,a,i){let{top:o,left:c,right:d,bottom:h}=n;a===void 0&&(a=10),i===void 0&&(i=zJ);const{isTop:m,isBottom:p,isLeft:g,isRight:v}=VP(t),y={x:0,y:0},w={x:0,y:0},j={height:e.height*i.y,width:e.width*i.x};return!m&&o<=e.top+j.height?(y.y=As.Backward,w.y=a*Math.abs((e.top+j.height-o)/j.height)):!p&&h>=e.bottom-j.height&&(y.y=As.Forward,w.y=a*Math.abs((e.bottom-j.height-h)/j.height)),!v&&d>=e.right-j.width?(y.x=As.Forward,w.x=a*Math.abs((e.right-j.width-d)/j.width)):!g&&c<=e.left+j.width&&(y.x=As.Backward,w.x=a*Math.abs((e.left+j.width-c)/j.width)),{direction:y,speed:w}}function $J(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:c}=window;return{top:0,left:0,right:o,bottom:c,width:o,height:c}}const{top:e,left:n,right:a,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:a,bottom:i,width:t.clientWidth,height:t.clientHeight}}function qP(t){return t.reduce((e,n)=>qd(e,V0(n)),Vr)}function FJ(t){return t.reduce((e,n)=>e+UP(n),0)}function VJ(t){return t.reduce((e,n)=>e+$P(n),0)}function qJ(t,e){if(e===void 0&&(e=xu),!t)return;const{top:n,left:a,bottom:i,right:o}=e(t);zP(t)&&(i<=0||o<=0||n>=window.innerHeight||a>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const HJ=[["x",["left","right"],FJ],["y",["top","bottom"],VJ]];class z1{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=Px(n),i=qP(a);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,c,d]of HJ)for(const h of c)Object.defineProperty(this,h,{get:()=>{const m=d(a),p=i[o]-m;return this.rect[h]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class qh{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=e}add(e,n,a){var i;(i=this.target)==null||i.addEventListener(e,n,a),this.listeners.push([e,n,a])}}function GJ(t){const{EventTarget:e}=wa(t);return t instanceof e?t:gu(t)}function Ey(t,e){const n=Math.abs(t.x),a=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+a**2)>e:"x"in e&&"y"in e?n>e.x&&a>e.y:"x"in e?n>e.x:"y"in e?a>e.y:!1}var or;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(or||(or={}));function aA(t){t.preventDefault()}function KJ(t){t.stopPropagation()}var Ot;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Ot||(Ot={}));const HP={start:[Ot.Space,Ot.Enter],cancel:[Ot.Esc],end:[Ot.Space,Ot.Enter,Ot.Tab]},YJ=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Ot.Right:return{...n,x:n.x+25};case Ot.Left:return{...n,x:n.x-25};case Ot.Down:return{...n,y:n.y+25};case Ot.Up:return{...n,y:n.y-25}}};class Ox{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new qh(gu(n)),this.windowListeners=new qh(wa(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(or.Resize,this.handleCancel),this.windowListeners.add(or.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(or.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,a=e.node.current;a&&qJ(a),n(Vr)}handleKeyDown(e){if(B1(e)){const{active:n,context:a,options:i}=this.props,{keyboardCodes:o=HP,coordinateGetter:c=YJ,scrollBehavior:d="smooth"}=i,{code:h}=e;if(o.end.includes(h)){this.handleEnd(e);return}if(o.cancel.includes(h)){this.handleCancel(e);return}const{collisionRect:m}=a.current,p=m?{x:m.left,y:m.top}:Vr;this.referenceCoordinates||(this.referenceCoordinates=p);const g=c(e,{active:n,context:a.current,currentCoordinates:p});if(g){const v=bf(g,p),y={x:0,y:0},{scrollableAncestors:w}=a.current;for(const j of w){const S=e.code,{isTop:k,isRight:E,isLeft:A,isBottom:T,maxScroll:_,minScroll:M}=VP(j),P=$J(j),O={x:Math.min(S===Ot.Right?P.right-P.width/2:P.right,Math.max(S===Ot.Right?P.left:P.left+P.width/2,g.x)),y:Math.min(S===Ot.Down?P.bottom-P.height/2:P.bottom,Math.max(S===Ot.Down?P.top:P.top+P.height/2,g.y))},I=S===Ot.Right&&!E||S===Ot.Left&&!A,G=S===Ot.Down&&!T||S===Ot.Up&&!k;if(I&&O.x!==g.x){const R=j.scrollLeft+v.x,X=S===Ot.Right&&R<=_.x||S===Ot.Left&&R>=M.x;if(X&&!v.y){j.scrollTo({left:R,behavior:d});return}X?y.x=j.scrollLeft-R:y.x=S===Ot.Right?j.scrollLeft-_.x:j.scrollLeft-M.x,y.x&&j.scrollBy({left:-y.x,behavior:d});break}else if(G&&O.y!==g.y){const R=j.scrollTop+v.y,X=S===Ot.Down&&R<=_.y||S===Ot.Up&&R>=M.y;if(X&&!v.x){j.scrollTo({top:R,behavior:d});return}X?y.y=j.scrollTop-R:y.y=S===Ot.Down?j.scrollTop-_.y:j.scrollTop-M.y,y.y&&j.scrollBy({top:-y.y,behavior:d});break}}this.handleMove(e,qd(bf(g,this.referenceCoordinates),y))}}}handleMove(e,n){const{onMove:a}=this.props;e.preventDefault(),a(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ox.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:a=HP,onActivation:i}=e,{active:o}=n;const{code:c}=t.nativeEvent;if(a.start.includes(c)){const d=o.activatorNode.current;return d&&t.target!==d?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function rA(t){return!!(t&&"distance"in t)}function iA(t){return!!(t&&"delay"in t)}class U1{constructor(e,n,a){var i;a===void 0&&(a=GJ(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:o}=e,{target:c}=o;this.props=e,this.events=n,this.document=gu(c),this.documentListeners=new qh(this.document),this.listeners=new qh(a),this.windowListeners=new qh(wa(c)),this.initialCoordinates=(i=F0(o))!=null?i:Vr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(or.Resize,this.handleCancel),this.windowListeners.add(or.DragStart,aA),this.windowListeners.add(or.VisibilityChange,this.handleCancel),this.windowListeners.add(or.ContextMenu,aA),this.documentListeners.add(or.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(iA(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(rA(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:a,onPending:i}=this.props;i(a,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(or.Click,KJ,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(or.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:a,initialCoordinates:i,props:o}=this,{onMove:c,options:{activationConstraint:d}}=o;if(!i)return;const h=(n=F0(e))!=null?n:Vr,m=bf(i,h);if(!a&&d){if(rA(d)){if(d.tolerance!=null&&Ey(m,d.tolerance))return this.handleCancel();if(Ey(m,d.distance))return this.handleStart()}if(iA(d)&&Ey(m,d.tolerance))return this.handleCancel();this.handlePending(d,m);return}e.cancelable&&e.preventDefault(),c(h)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Ot.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const XJ={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Lx extends U1{constructor(e){const{event:n}=e,a=gu(n.target);super(e,XJ,a)}}Lx.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const WJ={move:{name:"mousemove"},end:{name:"mouseup"}};var q0;(function(t){t[t.RightClick=2]="RightClick"})(q0||(q0={}));class ZJ extends U1{constructor(e){super(e,WJ,gu(e.event.target))}}ZJ.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;return n.button===q0.RightClick?!1:(a==null||a({event:n}),!0)}}];const Ay={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class QJ extends U1{constructor(e){super(e,Ay)}static setup(){return window.addEventListener(Ay.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ay.move.name,e)};function e(){}}}QJ.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;const{touches:i}=n;return i.length>1?!1:(a==null||a({event:n}),!0)}}];var Hh;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Hh||(Hh={}));var Tg;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Tg||(Tg={}));function JJ(t){let{acceleration:e,activator:n=Hh.Pointer,canScroll:a,draggingRect:i,enabled:o,interval:c=5,order:d=Tg.TreeOrder,pointerCoordinates:h,scrollableAncestors:m,scrollableAncestorRects:p,delta:g,threshold:v}=t;const y=tee({delta:g,disabled:!o}),[w,j]=fJ(),S=x.useRef({x:0,y:0}),k=x.useRef({x:0,y:0}),E=x.useMemo(()=>{switch(n){case Hh.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case Hh.DraggableRect:return i}},[n,i,h]),A=x.useRef(null),T=x.useCallback(()=>{const M=A.current;if(!M)return;const P=S.current.x*k.current.x,O=S.current.y*k.current.y;M.scrollBy(P,O)},[]),_=x.useMemo(()=>d===Tg.TreeOrder?[...m].reverse():m,[d,m]);x.useEffect(()=>{if(!o||!m.length||!E){j();return}for(const M of _){if((a==null?void 0:a(M))===!1)continue;const P=m.indexOf(M),O=p[P];if(!O)continue;const{direction:I,speed:G}=UJ(M,O,E,e,v);for(const R of["x","y"])y[R][I[R]]||(G[R]=0,I[R]=0);if(G.x>0||G.y>0){j(),A.current=M,w(T,c),S.current=G,k.current=I;return}}S.current={x:0,y:0},k.current={x:0,y:0},j()},[e,T,a,j,o,c,JSON.stringify(E),JSON.stringify(y),w,m,_,p,JSON.stringify(v)])}const eee={x:{[As.Backward]:!1,[As.Forward]:!1},y:{[As.Backward]:!1,[As.Forward]:!1}};function tee(t){let{delta:e,disabled:n}=t;const a=$0(e);return em(i=>{if(n||!a||!i)return eee;const o={x:Math.sign(e.x-a.x),y:Math.sign(e.y-a.y)};return{x:{[As.Backward]:i.x[As.Backward]||o.x===-1,[As.Forward]:i.x[As.Forward]||o.x===1},y:{[As.Backward]:i.y[As.Backward]||o.y===-1,[As.Forward]:i.y[As.Forward]||o.y===1}}},[n,e,a])}function nee(t,e){const n=e!=null?t.get(e):void 0,a=n?n.node.current:null;return em(i=>{var o;return e==null?null:(o=a??i)!=null?o:null},[a,e])}function see(t,e){return x.useMemo(()=>t.reduce((n,a)=>{const{sensor:i}=a,o=i.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,a)}));return[...n,...o]},[]),[t,e])}var yf;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(yf||(yf={}));var H0;(function(t){t.Optimized="optimized"})(H0||(H0={}));const oA=new Map;function aee(t,e){let{dragging:n,dependencies:a,config:i}=e;const[o,c]=x.useState(null),{frequency:d,measure:h,strategy:m}=i,p=x.useRef(t),g=S(),v=vf(g),y=x.useCallback(function(k){k===void 0&&(k=[]),!v.current&&c(E=>E===null?k:E.concat(k.filter(A=>!E.includes(A))))},[v]),w=x.useRef(null),j=em(k=>{if(g&&!n)return oA;if(!k||k===oA||p.current!==t||o!=null){const E=new Map;for(let A of t){if(!A)continue;if(o&&o.length>0&&!o.includes(A.id)&&A.rect.current){E.set(A.id,A.rect.current);continue}const T=A.node.current,_=T?new z1(h(T),T):null;A.rect.current=_,_&&E.set(A.id,_)}return E}return k},[t,o,n,g,h]);return x.useEffect(()=>{p.current=t},[t]),x.useEffect(()=>{g||y()},[n,g]),x.useEffect(()=>{o&&o.length>0&&c(null)},[JSON.stringify(o)]),x.useEffect(()=>{g||typeof d!="number"||w.current!==null||(w.current=setTimeout(()=>{y(),w.current=null},d))},[d,g,y,...a]),{droppableRects:j,measureDroppableContainers:y,measuringScheduled:o!=null};function S(){switch(m){case yf.Always:return!1;case yf.BeforeDragging:return n;default:return!n}}}function GP(t,e){return em(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function ree(t,e){return GP(t,e)}function iee(t){let{callback:e,disabled:n}=t;const a=I1(e),i=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(a)},[a,n]);return x.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Ix(t){let{callback:e,disabled:n}=t;const a=I1(e),i=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(a)},[n]);return x.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function oee(t){return new z1(xu(t),t)}function lA(t,e,n){e===void 0&&(e=oee);const[a,i]=x.useState(null);function o(){i(h=>{if(!t)return null;if(t.isConnected===!1){var m;return(m=h??n)!=null?m:null}const p=e(t);return JSON.stringify(h)===JSON.stringify(p)?h:p})}const c=iee({callback(h){if(t)for(const m of h){const{type:p,target:g}=m;if(p==="childList"&&g instanceof HTMLElement&&g.contains(t)){o();break}}}}),d=Ix({callback:o});return ki(()=>{o(),t?(d==null||d.observe(t),c==null||c.observe(document.body,{childList:!0,subtree:!0})):(d==null||d.disconnect(),c==null||c.disconnect())},[t]),a}function lee(t){const e=GP(t);return BP(t,e)}const cA=[];function cee(t){const e=x.useRef(t),n=em(a=>t?a&&a!==cA&&t&&e.current&&t.parentNode===e.current.parentNode?a:Px(t):cA,[t]);return x.useEffect(()=>{e.current=t},[t]),n}function dee(t){const[e,n]=x.useState(null),a=x.useRef(t),i=x.useCallback(o=>{const c=ky(o.target);c&&n(d=>d?(d.set(c,V0(c)),new Map(d)):null)},[]);return x.useEffect(()=>{const o=a.current;if(t!==o){c(o);const d=t.map(h=>{const m=ky(h);return m?(m.addEventListener("scroll",i,{passive:!0}),[m,V0(m)]):null}).filter(h=>h!=null);n(d.length?new Map(d):null),a.current=t}return()=>{c(t),c(o)};function c(d){d.forEach(h=>{const m=ky(h);m==null||m.removeEventListener("scroll",i)})}},[i,t]),x.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,c)=>qd(o,c),Vr):qP(t):Vr,[t,e])}function dA(t,e){e===void 0&&(e=[]);const n=x.useRef(null);return x.useEffect(()=>{n.current=null},e),x.useEffect(()=>{const a=t!==Vr;a&&!n.current&&(n.current=t),!a&&n.current&&(n.current=null)},[t]),n.current?bf(t,n.current):Vr}function uee(t){x.useEffect(()=>{if(!Mx)return;const e=t.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function hee(t,e){return x.useMemo(()=>t.reduce((n,a)=>{let{eventName:i,handler:o}=a;return n[i]=c=>{o(c,e)},n},{}),[t,e])}function KP(t){return x.useMemo(()=>t?LJ(t):null,[t])}const uA=[];function fee(t,e){e===void 0&&(e=xu);const[n]=t,a=KP(n?wa(n):null),[i,o]=x.useState(uA);function c(){o(()=>t.length?t.map(h=>FP(h)?a:new z1(e(h),h)):uA)}const d=Ix({callback:c});return ki(()=>{d==null||d.disconnect(),c(),t.forEach(h=>d==null?void 0:d.observe(h))},[t]),i}function mee(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Jf(e)?e:t}function pee(t){let{measure:e}=t;const[n,a]=x.useState(null),i=x.useCallback(m=>{for(const{target:p}of m)if(Jf(p)){a(g=>{const v=e(p);return g?{...g,width:v.width,height:v.height}:v});break}},[e]),o=Ix({callback:i}),c=x.useCallback(m=>{const p=mee(m);o==null||o.disconnect(),p&&(o==null||o.observe(p)),a(p?e(p):null)},[e,o]),[d,h]=Eg(c);return x.useMemo(()=>({nodeRef:d,rect:n,setRef:h}),[n,d,h])}const gee=[{sensor:Lx,options:{}},{sensor:Ox,options:{}}],xee={current:{}},Jp={draggable:{measure:sA},droppable:{measure:sA,strategy:yf.WhileDragging,frequency:H0.Optimized},dragOverlay:{measure:xu}};class Gh extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,a;return(n=(a=this.get(e))==null?void 0:a.node.current)!=null?n:void 0}}const vee={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Gh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ag},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Jp,measureDroppableContainers:Ag,windowRect:null,measuringScheduled:!1},bee={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ag,draggableNodes:new Map,over:null,measureDroppableContainers:Ag},Bx=x.createContext(bee),YP=x.createContext(vee);function yee(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Gh}}}function jee(t,e){switch(e.type){case cs.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case cs.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case cs.DragEnd:case cs.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case cs.RegisterDroppable:{const{element:n}=e,{id:a}=n,i=new Gh(t.droppable.containers);return i.set(a,n),{...t,droppable:{...t.droppable,containers:i}}}case cs.SetDroppableDisabled:{const{id:n,key:a,disabled:i}=e,o=t.droppable.containers.get(n);if(!o||a!==o.key)return t;const c=new Gh(t.droppable.containers);return c.set(n,{...o,disabled:i}),{...t,droppable:{...t.droppable,containers:c}}}case cs.UnregisterDroppable:{const{id:n,key:a}=e,i=t.droppable.containers.get(n);if(!i||a!==i.key)return t;const o=new Gh(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function wee(t){let{disabled:e}=t;const{active:n,activatorEvent:a,draggableNodes:i}=x.useContext(Bx),o=$0(a),c=$0(n==null?void 0:n.id);return x.useEffect(()=>{if(!e&&!a&&o&&c!=null){if(!B1(o)||document.activeElement===o.target)return;const d=i.get(c);if(!d)return;const{activatorNode:h,node:m}=d;if(!h.current&&!m.current)return;requestAnimationFrame(()=>{for(const p of[h.current,m.current]){if(!p)continue;const g=gJ(p);if(g){g.focus();break}}})}},[a,e,i,c,o]),null}function Nee(t,e){let{transform:n,...a}=e;return t!=null&&t.length?t.reduce((i,o)=>o({transform:i,...a}),n):n}function See(t){return x.useMemo(()=>({draggable:{...Jp.draggable,...t==null?void 0:t.draggable},droppable:{...Jp.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Jp.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function kee(t){let{activeNode:e,measure:n,initialRect:a,config:i=!0}=t;const o=x.useRef(!1),{x:c,y:d}=typeof i=="boolean"?{x:i,y:i}:i;ki(()=>{if(!c&&!d||!e){o.current=!1;return}if(o.current||!a)return;const m=e==null?void 0:e.node.current;if(!m||m.isConnected===!1)return;const p=n(m),g=BP(p,a);if(c||(g.x=0),d||(g.y=0),o.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const v=zP(m);v&&v.scrollBy({top:g.y,left:g.x})}},[e,c,d,a,n])}const XP=x.createContext({...Vr,scaleX:1,scaleY:1});var Go;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Go||(Go={}));const WP=x.memo(function(e){var n,a,i,o;let{id:c,accessibility:d,autoScroll:h=!0,children:m,sensors:p=gee,collisionDetection:g=TJ,measuring:v,modifiers:y,...w}=e;const j=x.useReducer(jee,void 0,yee),[S,k]=j,[E,A]=wJ(),[T,_]=x.useState(Go.Uninitialized),M=T===Go.Initialized,{draggable:{active:P,nodes:O,translate:I},droppable:{containers:G}}=S,R=P!=null?O.get(P):null,X=x.useRef({initial:null,translated:null}),$=x.useMemo(()=>{var Rt;return P!=null?{id:P,data:(Rt=R==null?void 0:R.data)!=null?Rt:xee,rect:X}:null},[P,R]),Z=x.useRef(null),[te,L]=x.useState(null),[V,B]=x.useState(null),Y=vf(w,Object.values(w)),se=tm("DndDescribedBy",c),K=x.useMemo(()=>G.getEnabled(),[G]),z=See(v),{droppableRects:W,measureDroppableContainers:q,measuringScheduled:H}=aee(K,{dragging:M,dependencies:[I.x,I.y],config:z.droppable}),ee=nee(O,P),ne=x.useMemo(()=>V?F0(V):null,[V]),ie=$s(),he=ree(ee,z.draggable.measure);kee({activeNode:P!=null?O.get(P):null,config:ie.layoutShiftCompensation,initialRect:he,measure:z.draggable.measure});const ae=lA(ee,z.draggable.measure,he),ue=lA(ee?ee.parentElement:null),ce=x.useRef({activatorEvent:null,active:null,activeNode:ee,collisionRect:null,collisions:null,droppableRects:W,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:G,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ce=G.getNodeFor((n=ce.current.over)==null?void 0:n.id),Oe=pee({measure:z.dragOverlay.measure}),nt=(a=Oe.nodeRef.current)!=null?a:ee,De=M?(i=Oe.rect)!=null?i:ae:null,ke=!!(Oe.nodeRef.current&&Oe.rect),it=lee(ke?null:ae),Le=KP(nt?wa(nt):null),Qe=cee(M?Ce??ee:null),Ae=fee(Qe),Ie=Nee(y,{transform:{x:I.x-it.x,y:I.y-it.y,scaleX:1,scaleY:1},activatorEvent:V,active:$,activeNodeRect:ae,containerNodeRect:ue,draggingNodeRect:De,over:ce.current.over,overlayNodeRect:Oe.rect,scrollableAncestors:Qe,scrollableAncestorRects:Ae,windowRect:Le}),Nt=ne?qd(ne,I):null,hn=dee(Qe),ea=dA(hn),vs=dA(hn,[ae]),Ft=qd(Ie,ea),on=De?DJ(De,Ie):null,Vt=$&&on?g({active:$,collisionRect:on,droppableRects:W,droppableContainers:K,pointerCoordinates:Nt}):null,Gt=LP(Vt,"id"),[Tn,Jn]=x.useState(null),Ts=ke?Ie:qd(Ie,vs),Us=_J(Ts,(o=Tn==null?void 0:Tn.rect)!=null?o:null,ae),Nn=x.useRef(null),_s=x.useCallback((Rt,ln)=>{let{sensor:qe,options:bt}=ln;if(Z.current==null)return;const gt=O.get(Z.current);if(!gt)return;const yt=Rt.nativeEvent,cn=new qe({active:Z.current,activeNode:gt,event:yt,options:bt,context:ce,onAbort(dt){if(!O.get(dt))return;const{onDragAbort:xt}=Y.current,qt={id:dt};xt==null||xt(qt),E({type:"onDragAbort",event:qt})},onPending(dt,Bt,xt,qt){if(!O.get(dt))return;const{onDragPending:zn}=Y.current,Xt={id:dt,constraint:Bt,initialCoordinates:xt,offset:qt};zn==null||zn(Xt),E({type:"onDragPending",event:Xt})},onStart(dt){const Bt=Z.current;if(Bt==null)return;const xt=O.get(Bt);if(!xt)return;const{onDragStart:qt}=Y.current,Rs={activatorEvent:yt,active:{id:Bt,data:xt.data,rect:X}};Qi.unstable_batchedUpdates(()=>{qt==null||qt(Rs),_(Go.Initializing),k({type:cs.DragStart,initialCoordinates:dt,active:Bt}),E({type:"onDragStart",event:Rs}),L(Nn.current),B(yt)})},onMove(dt){k({type:cs.DragMove,coordinates:dt})},onEnd:Kt(cs.DragEnd),onCancel:Kt(cs.DragCancel)});Nn.current=cn;function Kt(dt){return async function(){const{active:xt,collisions:qt,over:Rs,scrollAdjustedTranslate:zn}=ce.current;let Xt=null;if(xt&&zn){const{cancelDrop:qa}=Y.current;Xt={activatorEvent:yt,active:xt,collisions:qt,delta:zn,over:Rs},dt===cs.DragEnd&&typeof qa=="function"&&await Promise.resolve(qa(Xt))&&(dt=cs.DragCancel)}Z.current=null,Qi.unstable_batchedUpdates(()=>{k({type:dt}),_(Go.Uninitialized),Jn(null),L(null),B(null),Nn.current=null;const qa=dt===cs.DragEnd?"onDragEnd":"onDragCancel";if(Xt){const Na=Y.current[qa];Na==null||Na(Xt),E({type:qa,event:Xt})}})}}},[O]),bs=x.useCallback((Rt,ln)=>(qe,bt)=>{const gt=qe.nativeEvent,yt=O.get(bt);if(Z.current!==null||!yt||gt.dndKit||gt.defaultPrevented)return;const cn={active:yt};Rt(qe,ln.options,cn)===!0&&(gt.dndKit={capturedBy:ln.sensor},Z.current=bt,_s(qe,ln))},[O,_s]),ys=see(p,bs);uee(p),ki(()=>{ae&&T===Go.Initializing&&_(Go.Initialized)},[ae,T]),x.useEffect(()=>{const{onDragMove:Rt}=Y.current,{active:ln,activatorEvent:qe,collisions:bt,over:gt}=ce.current;if(!ln||!qe)return;const yt={active:ln,activatorEvent:qe,collisions:bt,delta:{x:Ft.x,y:Ft.y},over:gt};Qi.unstable_batchedUpdates(()=>{Rt==null||Rt(yt),E({type:"onDragMove",event:yt})})},[Ft.x,Ft.y]),x.useEffect(()=>{const{active:Rt,activatorEvent:ln,collisions:qe,droppableContainers:bt,scrollAdjustedTranslate:gt}=ce.current;if(!Rt||Z.current==null||!ln||!gt)return;const{onDragOver:yt}=Y.current,cn=bt.get(Gt),Kt=cn&&cn.rect.current?{id:cn.id,rect:cn.rect.current,data:cn.data,disabled:cn.disabled}:null,dt={active:Rt,activatorEvent:ln,collisions:qe,delta:{x:gt.x,y:gt.y},over:Kt};Qi.unstable_batchedUpdates(()=>{Jn(Kt),yt==null||yt(dt),E({type:"onDragOver",event:dt})})},[Gt]),ki(()=>{ce.current={activatorEvent:V,active:$,activeNode:ee,collisionRect:on,collisions:Vt,droppableRects:W,draggableNodes:O,draggingNode:nt,draggingNodeRect:De,droppableContainers:G,over:Tn,scrollableAncestors:Qe,scrollAdjustedTranslate:Ft},X.current={initial:De,translated:on}},[$,ee,Vt,on,O,nt,De,W,G,Tn,Qe,Ft]),JJ({...ie,delta:I,draggingRect:on,pointerCoordinates:Nt,scrollableAncestors:Qe,scrollableAncestorRects:Ae});const Qt=x.useMemo(()=>({active:$,activeNode:ee,activeNodeRect:ae,activatorEvent:V,collisions:Vt,containerNodeRect:ue,dragOverlay:Oe,draggableNodes:O,droppableContainers:G,droppableRects:W,over:Tn,measureDroppableContainers:q,scrollableAncestors:Qe,scrollableAncestorRects:Ae,measuringConfiguration:z,measuringScheduled:H,windowRect:Le}),[$,ee,ae,V,Vt,ue,Oe,O,G,W,Tn,q,Qe,Ae,z,H,Le]),ta=x.useMemo(()=>({activatorEvent:V,activators:ys,active:$,activeNodeRect:ae,ariaDescribedById:{draggable:se},dispatch:k,draggableNodes:O,over:Tn,measureDroppableContainers:q}),[V,ys,$,ae,k,se,O,Tn,q]);return ve.createElement(DP.Provider,{value:A},ve.createElement(Bx.Provider,{value:ta},ve.createElement(YP.Provider,{value:Qt},ve.createElement(XP.Provider,{value:Us},m)),ve.createElement(wee,{disabled:(d==null?void 0:d.restoreFocus)===!1})),ve.createElement(kJ,{...d,hiddenTextDescribedById:se}));function $s(){const Rt=(te==null?void 0:te.autoScrollEnabled)===!1,ln=typeof h=="object"?h.enabled===!1:h===!1,qe=M&&!Rt&&!ln;return typeof h=="object"?{...h,enabled:qe}:{enabled:qe}}}),Eee=x.createContext(null),hA="button",Aee="Draggable";function Cee(t){let{id:e,data:n,disabled:a=!1,attributes:i}=t;const o=tm(Aee),{activators:c,activatorEvent:d,active:h,activeNodeRect:m,ariaDescribedById:p,draggableNodes:g,over:v}=x.useContext(Bx),{role:y=hA,roleDescription:w="draggable",tabIndex:j=0}=i??{},S=(h==null?void 0:h.id)===e,k=x.useContext(S?XP:Eee),[E,A]=Eg(),[T,_]=Eg(),M=hee(c,e),P=vf(n);ki(()=>(g.set(e,{id:e,key:o,node:E,activatorNode:T,data:P}),()=>{const I=g.get(e);I&&I.key===o&&g.delete(e)}),[g,e]);const O=x.useMemo(()=>({role:y,tabIndex:j,"aria-disabled":a,"aria-pressed":S&&y===hA?!0:void 0,"aria-roledescription":w,"aria-describedby":p.draggable}),[a,y,j,S,w,p.draggable]);return{active:h,activatorEvent:d,activeNodeRect:m,attributes:O,isDragging:S,listeners:a?void 0:M,node:E,over:v,setNodeRef:A,setActivatorNodeRef:_,transform:k}}function Tee(){return x.useContext(YP)}const _ee="Droppable",Ree={timeout:25};function Dee(t){let{data:e,disabled:n=!1,id:a,resizeObserverConfig:i}=t;const o=tm(_ee),{active:c,dispatch:d,over:h,measureDroppableContainers:m}=x.useContext(Bx),p=x.useRef({disabled:n}),g=x.useRef(!1),v=x.useRef(null),y=x.useRef(null),{disabled:w,updateMeasurementsFor:j,timeout:S}={...Ree,...i},k=vf(j??a),E=x.useCallback(()=>{if(!g.current){g.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{m(Array.isArray(k.current)?k.current:[k.current]),y.current=null},S)},[S]),A=Ix({callback:E,disabled:w||!c}),T=x.useCallback((O,I)=>{A&&(I&&(A.unobserve(I),g.current=!1),O&&A.observe(O))},[A]),[_,M]=Eg(T),P=vf(e);return x.useEffect(()=>{!A||!_.current||(A.disconnect(),g.current=!1,A.observe(_.current))},[_,A]),x.useEffect(()=>(d({type:cs.RegisterDroppable,element:{id:a,key:o,disabled:n,node:_,rect:v,data:P}}),()=>d({type:cs.UnregisterDroppable,key:o,id:a})),[a]),x.useEffect(()=>{n!==p.current.disabled&&(d({type:cs.SetDroppableDisabled,id:a,key:o,disabled:n}),p.current.disabled=n)},[a,o,n,d]),{active:c,rect:v,isOver:(h==null?void 0:h.id)===a,node:_,over:h,setNodeRef:M}}function Cd(t,e,n){const a=t.slice();return a.splice(n<0?a.length+n:n,0,a.splice(e,1)[0]),a}function Mee(t,e){return t.reduce((n,a,i)=>{const o=e.get(a);return o&&(n[i]=o),n},Array(t.length))}function Rp(t){return t!==null&&t>=0}function Pee(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Oee(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const ZP=t=>{let{rects:e,activeIndex:n,overIndex:a,index:i}=t;const o=Cd(e,a,n),c=e[i],d=o[i];return!d||!c?null:{x:d.left-c.left,y:d.top-c.top,scaleX:d.width/c.width,scaleY:d.height/c.height}},Dp={scaleX:1,scaleY:1},QP=t=>{var e;let{activeIndex:n,activeNodeRect:a,index:i,rects:o,overIndex:c}=t;const d=(e=o[n])!=null?e:a;if(!d)return null;if(i===n){const m=o[c];return m?{x:0,y:n<c?m.top+m.height-(d.top+d.height):m.top-d.top,...Dp}:null}const h=Lee(o,i,n);return i>n&&i<=c?{x:0,y:-d.height-h,...Dp}:i<n&&i>=c?{x:0,y:d.height+h,...Dp}:{x:0,y:0,...Dp}};function Lee(t,e,n){const a=t[e],i=t[e-1],o=t[e+1];return a?n<e?i?a.top-(i.top+i.height):o?o.top-(a.top+a.height):0:o?o.top-(a.top+a.height):i?a.top-(i.top+i.height):0:0}const JP="Sortable",eO=ve.createContext({activeIndex:-1,containerId:JP,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:ZP,disabled:{draggable:!1,droppable:!1}});function tO(t){let{children:e,id:n,items:a,strategy:i=ZP,disabled:o=!1}=t;const{active:c,dragOverlay:d,droppableRects:h,over:m,measureDroppableContainers:p}=Tee(),g=tm(JP,n),v=d.rect!==null,y=x.useMemo(()=>a.map(M=>typeof M=="object"&&"id"in M?M.id:M),[a]),w=c!=null,j=c?y.indexOf(c.id):-1,S=m?y.indexOf(m.id):-1,k=x.useRef(y),E=!Pee(y,k.current),A=S!==-1&&j===-1||E,T=Oee(o);ki(()=>{E&&w&&p(y)},[E,y,w,p]),x.useEffect(()=>{k.current=y},[y]);const _=x.useMemo(()=>({activeIndex:j,containerId:g,disabled:T,disableTransforms:A,items:y,overIndex:S,useDragOverlay:v,sortedRects:Mee(y,h),strategy:i}),[j,g,T.draggable,T.droppable,A,y,S,h,v,i]);return ve.createElement(eO.Provider,{value:_},e)}const Iee=t=>{let{id:e,items:n,activeIndex:a,overIndex:i}=t;return Cd(n,a,i).indexOf(e)},Bee=t=>{let{containerId:e,isSorting:n,wasDragging:a,index:i,items:o,newIndex:c,previousItems:d,previousContainerId:h,transition:m}=t;return!m||!a||d!==o&&i===c?!1:n?!0:c!==i&&e===h},zee={duration:200,easing:"ease"},nO="transform",Uee=su.Transition.toString({property:nO,duration:0,easing:"linear"}),$ee={roleDescription:"sortable"};function Fee(t){let{disabled:e,index:n,node:a,rect:i}=t;const[o,c]=x.useState(null),d=x.useRef(n);return ki(()=>{if(!e&&n!==d.current&&a.current){const h=i.current;if(h){const m=xu(a.current,{ignoreTransform:!0}),p={x:h.left-m.left,y:h.top-m.top,scaleX:h.width/m.width,scaleY:h.height/m.height};(p.x||p.y)&&c(p)}}n!==d.current&&(d.current=n)},[e,n,a,i]),x.useEffect(()=>{o&&c(null)},[o]),o}function sO(t){let{animateLayoutChanges:e=Bee,attributes:n,disabled:a,data:i,getNewIndex:o=Iee,id:c,strategy:d,resizeObserverConfig:h,transition:m=zee}=t;const{items:p,containerId:g,activeIndex:v,disabled:y,disableTransforms:w,sortedRects:j,overIndex:S,useDragOverlay:k,strategy:E}=x.useContext(eO),A=Vee(a,y),T=p.indexOf(c),_=x.useMemo(()=>({sortable:{containerId:g,index:T,items:p},...i}),[g,i,T,p]),M=x.useMemo(()=>p.slice(p.indexOf(c)),[p,c]),{rect:P,node:O,isOver:I,setNodeRef:G}=Dee({id:c,data:_,disabled:A.droppable,resizeObserverConfig:{updateMeasurementsFor:M,...h}}),{active:R,activatorEvent:X,activeNodeRect:$,attributes:Z,setNodeRef:te,listeners:L,isDragging:V,over:B,setActivatorNodeRef:Y,transform:se}=Cee({id:c,data:_,attributes:{...$ee,...n},disabled:A.draggable}),K=hJ(G,te),z=!!R,W=z&&!w&&Rp(v)&&Rp(S),q=!k&&V,H=q&&W?se:null,ne=W?H??(d??E)({rects:j,activeNodeRect:$,activeIndex:v,overIndex:S,index:T}):null,ie=Rp(v)&&Rp(S)?o({id:c,items:p,activeIndex:v,overIndex:S}):T,he=R==null?void 0:R.id,ae=x.useRef({activeId:he,items:p,newIndex:ie,containerId:g}),ue=p!==ae.current.items,ce=e({active:R,containerId:g,isDragging:V,isSorting:z,id:c,index:T,items:p,newIndex:ae.current.newIndex,previousItems:ae.current.items,previousContainerId:ae.current.containerId,transition:m,wasDragging:ae.current.activeId!=null}),Ce=Fee({disabled:!ce,index:T,node:O,rect:P});return x.useEffect(()=>{z&&ae.current.newIndex!==ie&&(ae.current.newIndex=ie),g!==ae.current.containerId&&(ae.current.containerId=g),p!==ae.current.items&&(ae.current.items=p)},[z,ie,g,p]),x.useEffect(()=>{if(he===ae.current.activeId)return;if(he!=null&&ae.current.activeId==null){ae.current.activeId=he;return}const nt=setTimeout(()=>{ae.current.activeId=he},50);return()=>clearTimeout(nt)},[he]),{active:R,activeIndex:v,attributes:Z,data:_,rect:P,index:T,newIndex:ie,items:p,isOver:I,isSorting:z,isDragging:V,listeners:L,node:O,overIndex:S,over:B,setNodeRef:K,setActivatorNodeRef:Y,setDroppableNodeRef:G,setDraggableNodeRef:te,transform:Ce??ne,transition:Oe()};function Oe(){if(Ce||ue&&ae.current.newIndex===T)return Uee;if(!(q&&!B1(X)||!m)&&(z||ce))return su.Transition.toString({...m,property:nO})}}function Vee(t,e){var n,a;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(a=t==null?void 0:t.droppable)!=null?a:e.droppable}}function _g(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const qee=[Ot.Down,Ot.Right,Ot.Up,Ot.Left],aO=(t,e)=>{let{context:{active:n,collisionRect:a,droppableRects:i,droppableContainers:o,over:c,scrollableAncestors:d}}=e;if(qee.includes(t.code)){if(t.preventDefault(),!n||!a)return;const h=[];o.getEnabled().forEach(g=>{if(!g||g!=null&&g.disabled)return;const v=i.get(g.id);if(v)switch(t.code){case Ot.Down:a.top<v.top&&h.push(g);break;case Ot.Up:a.top>v.top&&h.push(g);break;case Ot.Left:a.left>v.left&&h.push(g);break;case Ot.Right:a.left<v.left&&h.push(g);break}});const m=AJ({collisionRect:a,droppableRects:i,droppableContainers:h});let p=LP(m,"id");if(p===(c==null?void 0:c.id)&&m.length>1&&(p=m[1].id),p!=null){const g=o.get(n.id),v=o.get(p),y=v?i.get(v.id):null,w=v==null?void 0:v.node.current;if(w&&y&&g&&v){const S=Px(w).some((M,P)=>d[P]!==M),k=rO(g,v),E=Hee(g,v),A=S||!k?{x:0,y:0}:{x:E?a.width-y.width:0,y:E?a.height-y.height:0},T={x:y.left,y:y.top};return A.x&&A.y?T:bf(T,A)}}}};function rO(t,e){return!_g(t)||!_g(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function Hee(t,e){return!_g(t)||!_g(e)||!rO(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const Gee=Bs({aspect_name:rt().min(1,"Nama aspek wajib diisi").max(255,"Nama aspek maksimal 255 karakter"),category_id:tl().min(1,"Kategori wajib dipilih"),description:rt().optional().or(us("")),display_order:tl().optional()}),Cy=({aspect:t,categories:e,isEditing:n,onEdit:a,onCancel:i,onSave:o,onDelete:c,loading:d=!1,defaultCategoryId:h,questionNumber:m,isEditMode:p=!1,isDragMode:g=!1})=>{const v=!t,{attributes:y,listeners:w,setNodeRef:j,transform:S,transition:k,isDragging:E}=sO({id:(t==null?void 0:t.id)||0,disabled:!g||n}),A={transform:su.Transform.toString(S),transition:k,opacity:E?.5:1},T=gs({resolver:xs(Gee),defaultValues:{aspect_name:(t==null?void 0:t.aspect_name)||"",category_id:(t==null?void 0:t.category_id)||h||0,description:(t==null?void 0:t.description)||"",display_order:(t==null?void 0:t.display_order)||1}});x.useEffect(()=>{t&&n?T.reset({aspect_name:t.aspect_name,category_id:t.category_id,description:t.description||"",display_order:t.display_order||1}):v&&h&&T.reset({aspect_name:"",category_id:h,description:"",display_order:1})},[t,n,v,h,T]);const _=P=>{const O={aspect_name:P.aspect_name,category_id:P.category_id,description:P.description||void 0,display_order:P.display_order||1,is_active:!0};o(O)},M=()=>{t&&c&&c(t)};return!n&&!v?s.jsxs("div",{ref:j,style:A,className:"group bg-card border rounded-lg p-6 hover:shadow-md transition-shadow relative",children:[p&&g&&s.jsx("div",{...y,...w,className:"absolute left-2 top-6 opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing",children:s.jsx(H_,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"flex flex-col lg:flex-row items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-primary",children:m||"?"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-normal mb-2",children:t==null?void 0:t.aspect_name}),(t==null?void 0:t.description)&&s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:t.description}),s.jsx("div",{className:"inline-flex items-center px-2 py-1 bg-muted rounded text-xs text-muted-foreground",children:"Tipe: Pilihan Ganda (A-D)"})]}),p&&s.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx(pe,{variant:"ghost",size:"sm",onClick:a,className:"h-8 w-8 p-0",children:s.jsx(Wo,{className:"h-4 w-4"})}),c&&s.jsx(pe,{variant:"ghost",size:"sm",onClick:M,className:"h-8 w-8 p-0 hover:bg-destructive/10 hover:text-destructive",children:s.jsx(fg,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded-md hover:bg-muted/30",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-primary rounded-full"}),s.jsx("span",{className:"text-sm",children:"A - Sangat Baik (4)"})]}),s.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded-md hover:bg-muted/30",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-border rounded-full"}),s.jsx("span",{className:"text-sm",children:"B - Baik (3)"})]}),s.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded-md hover:bg-muted/30",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-border rounded-full"}),s.jsx("span",{className:"text-sm",children:"C - Cukup (2)"})]}),s.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded-md hover:bg-muted/30",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-border rounded-full"}),s.jsx("span",{className:"text-sm",children:"D - Perlu Perbaikan (1)"})]})]})]})]})]}):s.jsx("div",{className:"bg-card border-2 border-primary/30 rounded-lg p-6 shadow-md",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-primary",children:m||"N"})}),s.jsx("div",{className:"flex-1",children:s.jsx(In,{...T,children:s.jsxs("form",{onSubmit:T.handleSubmit(_),className:"space-y-6",children:[s.jsx($e,{control:T.control,name:"aspect_name",render:({field:P})=>s.jsxs(Fe,{children:[s.jsx(Ue,{children:s.jsx(at,{placeholder:"Pertanyaan tanpa judul",className:"text-lg font-normal border-0 border-b-2 border-border rounded-none px-0 py-3 focus:border-primary bg-transparent",...P})}),s.jsx(He,{className:"text-sm mt-1"})]})}),s.jsx($e,{control:T.control,name:"description",render:({field:P})=>s.jsxs(Fe,{children:[s.jsx(Ue,{children:s.jsx(br,{placeholder:"Deskripsi pertanyaan (opsional)",className:"border-0 border-b border-border rounded-none px-0 py-2 resize-none focus:border-primary bg-transparent",rows:2,...P})}),s.jsx(He,{className:"text-sm mt-1"})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Tipe jawaban: Skala Penilaian"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-muted/50 border rounded-md",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-primary rounded-full bg-primary"}),s.jsx("span",{className:"text-sm",children:"A - Sangat Baik (4)"})]}),s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-muted/30 border rounded-md",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-border rounded-full"}),s.jsx("span",{className:"text-sm",children:"B - Baik (3)"})]}),s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-muted/30 border rounded-md",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-border rounded-full"}),s.jsx("span",{className:"text-sm",children:"C - Cukup (2)"})]}),s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-muted/30 border rounded-md",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-border rounded-full"}),s.jsx("span",{className:"text-sm",children:"D - Perlu Perbaikan (1)"})]})]})]}),s.jsx($e,{control:T.control,name:"category_id",render:({field:P})=>{var O;return s.jsxs(Fe,{children:[s.jsx(Ve,{className:"text-sm font-medium",children:"Bagian"}),s.jsxs(Ut,{onValueChange:I=>P.onChange(parseInt(I)),value:((O=P.value)==null?void 0:O.toString())||void 0,children:[s.jsx(Ue,{children:s.jsx(Lt,{children:s.jsx($t,{placeholder:"Pilih bagian"})})}),s.jsx(It,{children:e.map(I=>s.jsx(Be,{value:I.id.toString(),children:I.name},I.id))})]}),s.jsx(He,{className:"text-sm mt-1"})]})}}),s.jsx("div",{className:"flex items-center justify-between pt-4 border-t",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{type:"submit",disabled:d,children:[s.jsx(F_,{className:"h-4 w-4 mr-2"}),d?"Menyimpan...":"Selesai"]}),s.jsxs(pe,{type:"button",variant:"ghost",onClick:i,disabled:d,children:[s.jsx(mg,{className:"h-4 w-4 mr-2"}),"Batal"]})]})})]})})})]})})},iO=x.createContext({});function Kee(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const $1=typeof window<"u",Yee=$1?x.useLayoutEffect:x.useEffect,F1=x.createContext(null),oO=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Xee(t=!0){const e=x.useContext(F1);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:a,register:i}=e,o=x.useId();x.useEffect(()=>{if(t)return i(o)},[t]);const c=x.useCallback(()=>t&&a&&a(o),[o,a,t]);return!n&&a?[!1,c]:[!0]}function V1(t,e){t.indexOf(e)===-1&&t.push(e)}function q1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const oo=(t,e,n)=>n>e?e:n<t?t:n;let H1=()=>{};const lo={},lO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),cO=t=>/^0[^.\s]+$/u.test(t);function G1(t){let e;return()=>(e===void 0&&(e=t()),e)}const fr=t=>t,Wee=(t,e)=>n=>e(t(n)),nm=(...t)=>t.reduce(Wee),jf=(t,e,n)=>{const a=e-t;return a===0?1:(n-t)/a};class K1{constructor(){this.subscriptions=[]}add(e){return V1(this.subscriptions,e),()=>q1(this.subscriptions,e)}notify(e,n,a){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,a);else for(let o=0;o<i;o++){const c=this.subscriptions[o];c&&c(e,n,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xi=t=>t*1e3,vi=t=>t/1e3;function dO(t,e){return e?t*(1e3/e):0}const uO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Zee=1e-7,Qee=12;function Jee(t,e,n,a,i){let o,c,d=0;do c=e+(n-e)/2,o=uO(c,a,i)-t,o>0?n=c:e=c;while(Math.abs(o)>Zee&&++d<Qee);return c}function sm(t,e,n,a){if(t===e&&n===a)return fr;const i=o=>Jee(o,0,1,t,n);return o=>o===0||o===1?o:uO(i(o),e,a)}const hO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,fO=t=>e=>1-t(1-e),mO=sm(.33,1.53,.69,.99),Y1=fO(mO),pO=hO(Y1),gO=t=>(t*=2)<1?.5*Y1(t):.5*(2-Math.pow(2,-10*(t-1))),X1=t=>1-Math.sin(Math.acos(t)),xO=fO(X1),vO=hO(X1),ete=sm(.42,0,1,1),tte=sm(0,0,.58,1),bO=sm(.42,0,.58,1),nte=t=>Array.isArray(t)&&typeof t[0]!="number",yO=t=>Array.isArray(t)&&typeof t[0]=="number",ste={linear:fr,easeIn:ete,easeInOut:bO,easeOut:tte,circIn:X1,circInOut:vO,circOut:xO,backIn:Y1,backInOut:pO,backOut:mO,anticipate:gO},ate=t=>typeof t=="string",fA=t=>{if(yO(t)){H1(t.length===4);const[e,n,a,i]=t;return sm(e,n,a,i)}else if(ate(t))return ste[t];return t},Mp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],mA={value:null};function rte(t,e){let n=new Set,a=new Set,i=!1,o=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},h=0;function m(g){c.has(g)&&(p.schedule(g),t()),h++,g(d)}const p={schedule:(g,v=!1,y=!1)=>{const j=y&&i?n:a;return v&&c.add(g),j.has(g)||j.add(g),g},cancel:g=>{a.delete(g),c.delete(g)},process:g=>{if(d=g,i){o=!0;return}i=!0,[n,a]=[a,n],n.forEach(m),e&&mA.value&&mA.value.frameloop[e].push(h),h=0,n.clear(),i=!1,o&&(o=!1,p.process(g))}};return p}const ite=40;function jO(t,e){let n=!1,a=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=Mp.reduce((A,T)=>(A[T]=rte(o,e?T:void 0),A),{}),{setup:d,read:h,resolveKeyframes:m,preUpdate:p,update:g,preRender:v,render:y,postRender:w}=c,j=()=>{const A=lo.useManualTiming?i.timestamp:performance.now();n=!1,lo.useManualTiming||(i.delta=a?1e3/60:Math.max(Math.min(A-i.timestamp,ite),1)),i.timestamp=A,i.isProcessing=!0,d.process(i),h.process(i),m.process(i),p.process(i),g.process(i),v.process(i),y.process(i),w.process(i),i.isProcessing=!1,n&&e&&(a=!1,t(j))},S=()=>{n=!0,a=!0,i.isProcessing||t(j)};return{schedule:Mp.reduce((A,T)=>{const _=c[T];return A[T]=(M,P=!1,O=!1)=>(n||S(),_.schedule(M,P,O)),A},{}),cancel:A=>{for(let T=0;T<Mp.length;T++)c[Mp[T]].cancel(A)},state:i,steps:c}}const{schedule:Cn,cancel:fl,state:Os,steps:Ty}=jO(typeof requestAnimationFrame<"u"?requestAnimationFrame:fr,!0);let eg;function ote(){eg=void 0}const xa={now:()=>(eg===void 0&&xa.set(Os.isProcessing||lo.useManualTiming?Os.timestamp:performance.now()),eg),set:t=>{eg=t,queueMicrotask(ote)}},wO=t=>e=>typeof e=="string"&&e.startsWith(t),W1=wO("--"),lte=wO("var(--"),Z1=t=>lte(t)?cte.test(t.split("/*")[0].trim()):!1,cte=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},wf={...vu,transform:t=>oo(0,1,t)},Pp={...vu,default:1},Kh=t=>Math.round(t*1e5)/1e5,Q1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function dte(t){return t==null}const ute=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,J1=(t,e)=>n=>!!(typeof n=="string"&&ute.test(n)&&n.startsWith(t)||e&&!dte(n)&&Object.prototype.hasOwnProperty.call(n,e)),NO=(t,e,n)=>a=>{if(typeof a!="string")return a;const[i,o,c,d]=a.match(Q1);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},hte=t=>oo(0,255,t),_y={...vu,transform:t=>Math.round(hte(t))},Ql={test:J1("rgb","red"),parse:NO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:a=1})=>"rgba("+_y.transform(t)+", "+_y.transform(e)+", "+_y.transform(n)+", "+Kh(wf.transform(a))+")"};function fte(t){let e="",n="",a="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),a=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),a=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,a+=a,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(a,16),alpha:i?parseInt(i,16)/255:1}}const G0={test:J1("#"),parse:fte,transform:Ql.transform},am=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ho=am("deg"),bi=am("%"),mt=am("px"),mte=am("vh"),pte=am("vw"),pA={...bi,parse:t=>bi.parse(t)/100,transform:t=>bi.transform(t*100)},Td={test:J1("hsl","hue"),parse:NO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:a=1})=>"hsla("+Math.round(t)+", "+bi.transform(Kh(e))+", "+bi.transform(Kh(n))+", "+Kh(wf.transform(a))+")"},Gs={test:t=>Ql.test(t)||G0.test(t)||Td.test(t),parse:t=>Ql.test(t)?Ql.parse(t):Td.test(t)?Td.parse(t):G0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ql.transform(t):Td.transform(t)},gte=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xte(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Q1))==null?void 0:e.length)||0)+(((n=t.match(gte))==null?void 0:n.length)||0)>0}const SO="number",kO="color",vte="var",bte="var(",gA="${}",yte=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nf(t){const e=t.toString(),n=[],a={color:[],number:[],var:[]},i=[];let o=0;const d=e.replace(yte,h=>(Gs.test(h)?(a.color.push(o),i.push(kO),n.push(Gs.parse(h))):h.startsWith(bte)?(a.var.push(o),i.push(vte),n.push(h)):(a.number.push(o),i.push(SO),n.push(parseFloat(h))),++o,gA)).split(gA);return{values:n,split:d,indexes:a,types:i}}function EO(t){return Nf(t).values}function AO(t){const{split:e,types:n}=Nf(t),a=e.length;return i=>{let o="";for(let c=0;c<a;c++)if(o+=e[c],i[c]!==void 0){const d=n[c];d===SO?o+=Kh(i[c]):d===kO?o+=Gs.transform(i[c]):o+=i[c]}return o}}const jte=t=>typeof t=="number"?0:t;function wte(t){const e=EO(t);return AO(t)(e.map(jte))}const ml={test:xte,parse:EO,createTransformer:AO,getAnimatableNone:wte};function Ry(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Nte({hue:t,saturation:e,lightness:n,alpha:a}){t/=360,e/=100,n/=100;let i=0,o=0,c=0;if(!e)i=o=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,h=2*n-d;i=Ry(h,d,t+1/3),o=Ry(h,d,t),c=Ry(h,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:a}}function Rg(t,e){return n=>n>0?e:t}const En=(t,e,n)=>t+(e-t)*n,Dy=(t,e,n)=>{const a=t*t,i=n*(e*e-a)+a;return i<0?0:Math.sqrt(i)},Ste=[G0,Ql,Td],kte=t=>Ste.find(e=>e.test(t));function xA(t){const e=kte(t);if(!e)return!1;let n=e.parse(t);return e===Td&&(n=Nte(n)),n}const vA=(t,e)=>{const n=xA(t),a=xA(e);if(!n||!a)return Rg(t,e);const i={...n};return o=>(i.red=Dy(n.red,a.red,o),i.green=Dy(n.green,a.green,o),i.blue=Dy(n.blue,a.blue,o),i.alpha=En(n.alpha,a.alpha,o),Ql.transform(i))},K0=new Set(["none","hidden"]);function Ete(t,e){return K0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Ate(t,e){return n=>En(t,e,n)}function ew(t){return typeof t=="number"?Ate:typeof t=="string"?Z1(t)?Rg:Gs.test(t)?vA:_te:Array.isArray(t)?CO:typeof t=="object"?Gs.test(t)?vA:Cte:Rg}function CO(t,e){const n=[...t],a=n.length,i=t.map((o,c)=>ew(o)(o,e[c]));return o=>{for(let c=0;c<a;c++)n[c]=i[c](o);return n}}function Cte(t,e){const n={...t,...e},a={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(a[i]=ew(t[i])(t[i],e[i]));return i=>{for(const o in a)n[o]=a[o](i);return n}}function Tte(t,e){const n=[],a={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],c=t.indexes[o][a[o]],d=t.values[c]??0;n[i]=d,a[o]++}return n}const _te=(t,e)=>{const n=ml.createTransformer(e),a=Nf(t),i=Nf(e);return a.indexes.var.length===i.indexes.var.length&&a.indexes.color.length===i.indexes.color.length&&a.indexes.number.length>=i.indexes.number.length?K0.has(t)&&!i.values.length||K0.has(e)&&!a.values.length?Ete(t,e):nm(CO(Tte(a,i),i.values),n):Rg(t,e)};function TO(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?En(t,e,n):ew(t)(t,e)}const Rte=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Cn.update(e,!0),stop:()=>fl(e),now:()=>Os.isProcessing?Os.timestamp:xa.now()}},_O=(t,e,n=10)=>{let a="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)a+=t(o/(i-1))+", ";return`linear(${a.substring(0,a.length-2)})`},Dg=2e4;function tw(t){let e=0;const n=50;let a=t.next(e);for(;!a.done&&e<Dg;)e+=n,a=t.next(e);return e>=Dg?1/0:e}function Dte(t,e=100,n){const a=n({...t,keyframes:[0,e]}),i=Math.min(tw(a),Dg);return{type:"keyframes",ease:o=>a.next(i*o).value/e,duration:vi(i)}}const Mte=5;function RO(t,e,n){const a=Math.max(e-Mte,0);return dO(n-t(a),e-a)}const On={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bA=.001;function Pte({duration:t=On.duration,bounce:e=On.bounce,velocity:n=On.velocity,mass:a=On.mass}){let i,o,c=1-e;c=oo(On.minDamping,On.maxDamping,c),t=oo(On.minDuration,On.maxDuration,vi(t)),c<1?(i=m=>{const p=m*c,g=p*t,v=p-n,y=Y0(m,c),w=Math.exp(-g);return bA-v/y*w},o=m=>{const g=m*c*t,v=g*n+n,y=Math.pow(c,2)*Math.pow(m,2)*t,w=Math.exp(-g),j=Y0(Math.pow(m,2),c);return(-i(m)+bA>0?-1:1)*((v-y)*w)/j}):(i=m=>{const p=Math.exp(-m*t),g=(m-n)*t+1;return-.001+p*g},o=m=>{const p=Math.exp(-m*t),g=(n-m)*(t*t);return p*g});const d=5/t,h=Lte(i,o,d);if(t=xi(t),isNaN(h))return{stiffness:On.stiffness,damping:On.damping,duration:t};{const m=Math.pow(h,2)*a;return{stiffness:m,damping:c*2*Math.sqrt(a*m),duration:t}}}const Ote=12;function Lte(t,e,n){let a=n;for(let i=1;i<Ote;i++)a=a-t(a)/e(a);return a}function Y0(t,e){return t*Math.sqrt(1-e*e)}const Ite=["duration","bounce"],Bte=["stiffness","damping","mass"];function yA(t,e){return e.some(n=>t[n]!==void 0)}function zte(t){let e={velocity:On.velocity,stiffness:On.stiffness,damping:On.damping,mass:On.mass,isResolvedFromDuration:!1,...t};if(!yA(t,Bte)&&yA(t,Ite))if(t.visualDuration){const n=t.visualDuration,a=2*Math.PI/(n*1.2),i=a*a,o=2*oo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:On.mass,stiffness:i,damping:o}}else{const n=Pte(t);e={...e,...n,mass:On.mass},e.isResolvedFromDuration=!0}return e}function Mg(t=On.visualDuration,e=On.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:a,restDelta:i}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:o},{stiffness:h,damping:m,mass:p,duration:g,velocity:v,isResolvedFromDuration:y}=zte({...n,velocity:-vi(n.velocity||0)}),w=v||0,j=m/(2*Math.sqrt(h*p)),S=c-o,k=vi(Math.sqrt(h/p)),E=Math.abs(S)<5;a||(a=E?On.restSpeed.granular:On.restSpeed.default),i||(i=E?On.restDelta.granular:On.restDelta.default);let A;if(j<1){const _=Y0(k,j);A=M=>{const P=Math.exp(-j*k*M);return c-P*((w+j*k*S)/_*Math.sin(_*M)+S*Math.cos(_*M))}}else if(j===1)A=_=>c-Math.exp(-k*_)*(S+(w+k*S)*_);else{const _=k*Math.sqrt(j*j-1);A=M=>{const P=Math.exp(-j*k*M),O=Math.min(_*M,300);return c-P*((w+j*k*S)*Math.sinh(O)+_*S*Math.cosh(O))/_}}const T={calculatedDuration:y&&g||null,next:_=>{const M=A(_);if(y)d.done=_>=g;else{let P=_===0?w:0;j<1&&(P=_===0?xi(w):RO(A,_,M));const O=Math.abs(P)<=a,I=Math.abs(c-M)<=i;d.done=O&&I}return d.value=d.done?c:M,d},toString:()=>{const _=Math.min(tw(T),Dg),M=_O(P=>T.next(_*P).value,_,30);return _+"ms "+M},toTransition:()=>{}};return T}Mg.applyToOptions=t=>{const e=Dte(t,100,Mg);return t.ease=e.ease,t.duration=xi(e.duration),t.type="keyframes",t};function X0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:a=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:c,min:d,max:h,restDelta:m=.5,restSpeed:p}){const g=t[0],v={done:!1,value:g},y=O=>d!==void 0&&O<d||h!==void 0&&O>h,w=O=>d===void 0?h:h===void 0||Math.abs(d-O)<Math.abs(h-O)?d:h;let j=n*e;const S=g+j,k=c===void 0?S:c(S);k!==S&&(j=k-g);const E=O=>-j*Math.exp(-O/a),A=O=>k+E(O),T=O=>{const I=E(O),G=A(O);v.done=Math.abs(I)<=m,v.value=v.done?k:G};let _,M;const P=O=>{y(v.value)&&(_=O,M=Mg({keyframes:[v.value,w(v.value)],velocity:RO(A,O,v.value),damping:i,stiffness:o,restDelta:m,restSpeed:p}))};return P(0),{calculatedDuration:null,next:O=>{let I=!1;return!M&&_===void 0&&(I=!0,T(O),P(O)),_!==void 0&&O>=_?M.next(O-_):(!I&&T(O),v)}}}function Ute(t,e,n){const a=[],i=n||lo.mix||TO,o=t.length-1;for(let c=0;c<o;c++){let d=i(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||fr:e;d=nm(h,d)}a.push(d)}return a}function $te(t,e,{clamp:n=!0,ease:a,mixer:i}={}){const o=t.length;if(H1(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=Ute(e,a,i),h=d.length,m=p=>{if(c&&p<t[0])return e[0];let g=0;if(h>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const v=jf(t[g],t[g+1],p);return d[g](v)};return n?p=>m(oo(t[0],t[o-1],p)):m}function Fte(t,e){const n=t[t.length-1];for(let a=1;a<=e;a++){const i=jf(0,e,a);t.push(En(n,1,i))}}function Vte(t){const e=[0];return Fte(e,t.length-1),e}function qte(t,e){return t.map(n=>n*e)}function Hte(t,e){return t.map(()=>e||bO).splice(0,t.length-1)}function Yh({duration:t=300,keyframes:e,times:n,ease:a="easeInOut"}){const i=nte(a)?a.map(fA):fA(a),o={done:!1,value:e[0]},c=qte(n&&n.length===e.length?n:Vte(e),t),d=$te(c,e,{ease:Array.isArray(i)?i:Hte(e,i)});return{calculatedDuration:t,next:h=>(o.value=d(h),o.done=h>=t,o)}}const Gte=t=>t!==null;function nw(t,{repeat:e,repeatType:n="loop"},a,i=1){const o=t.filter(Gte),d=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!d||a===void 0?o[d]:a}const Kte={decay:X0,inertia:X0,tween:Yh,keyframes:Yh,spring:Mg};function DO(t){typeof t.type=="string"&&(t.type=Kte[t.type])}class sw{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Yte=t=>t/100;class MO extends sw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;if(n&&n.updatedAt!==xa.now()&&this.tick(xa.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;DO(e);const{type:n=Yh,repeat:a=0,repeatDelay:i=0,repeatType:o,velocity:c=0}=e;let{keyframes:d}=e;const h=n||Yh;h!==Yh&&typeof d[0]!="number"&&(this.mixKeyframes=nm(Yte,TO(d[0],d[1])),d=[0,100]);const m=h({...e,keyframes:d});o==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...d].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=tw(m));const{calculatedDuration:p}=m;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(a+1)-i,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:a,totalDuration:i,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return a.next(0);const{delay:m=0,keyframes:p,repeat:g,repeatType:v,repeatDelay:y,type:w,onUpdate:j,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const k=this.currentTime-m*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?k<0:k>i;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let A=this.currentTime,T=a;if(g){const O=Math.min(this.currentTime,i)/d;let I=Math.floor(O),G=O%1;!G&&O>=1&&(G=1),G===1&&I--,I=Math.min(I,g+1),!!(I%2)&&(v==="reverse"?(G=1-G,y&&(G-=y/d)):v==="mirror"&&(T=c)),A=oo(0,1,G)*d}const _=E?{done:!1,value:p[0]}:T.next(A);o&&(_.value=o(_.value));let{done:M}=_;!E&&h!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return P&&w!==X0&&(_.value=nw(p,this.options,S,this.speed)),j&&j(_.value),P&&this.finish(),_}then(e,n){return this.finished.then(e,n)}get duration(){return vi(this.calculatedDuration)}get time(){return vi(this.currentTime)}set time(e){e=xi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(xa.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=vi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Rte,onPlay:n,startTime:a}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=a??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xa.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function Xte(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Jl=t=>t*180/Math.PI,W0=t=>{const e=Jl(Math.atan2(t[1],t[0]));return Z0(e)},Wte={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:W0,rotateZ:W0,skewX:t=>Jl(Math.atan(t[1])),skewY:t=>Jl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Z0=t=>(t=t%360,t<0&&(t+=360),t),jA=W0,wA=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),NA=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Zte={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:wA,scaleY:NA,scale:t=>(wA(t)+NA(t))/2,rotateX:t=>Z0(Jl(Math.atan2(t[6],t[5]))),rotateY:t=>Z0(Jl(Math.atan2(-t[2],t[0]))),rotateZ:jA,rotate:jA,skewX:t=>Jl(Math.atan(t[4])),skewY:t=>Jl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function SA(t){return t.includes("scale")?1:0}function Q0(t,e){if(!t||t==="none")return SA(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,i;if(n)a=Zte,i=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=Wte,i=d}if(!i)return SA(e);const o=a[e],c=i[1].split(",").map(Jte);return typeof o=="function"?o(c):c[o]}const Qte=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Q0(n,e)};function Jte(t){return parseFloat(t.trim())}const bu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yu=new Set(bu),kA=t=>t===vu||t===mt,ene=new Set(["x","y","z"]),tne=bu.filter(t=>!ene.has(t));function nne(t){const e=[];return tne.forEach(n=>{const a=t.getValue(n);a!==void 0&&(e.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),e}const au={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Q0(e,"x"),y:(t,{transform:e})=>Q0(e,"y")};au.translateX=au.x;au.translateY=au.y;const tc=new Set;let J0=!1,ej=!1,tj=!1;function PO(){if(ej){const t=Array.from(tc).filter(a=>a.needsMeasurement),e=new Set(t.map(a=>a.element)),n=new Map;e.forEach(a=>{const i=nne(a);i.length&&(n.set(a,i),a.render())}),t.forEach(a=>a.measureInitialState()),e.forEach(a=>{a.render();const i=n.get(a);i&&i.forEach(([o,c])=>{var d;(d=a.getValue(o))==null||d.set(c)})}),t.forEach(a=>a.measureEndState()),t.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}ej=!1,J0=!1,tc.forEach(t=>t.complete(tj)),tc.clear()}function OO(){tc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ej=!0)})}function sne(){tj=!0,OO(),PO(),tj=!1}class aw{constructor(e,n,a,i,o,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=a,this.motionValue=i,this.element=o,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(tc.add(this),J0||(J0=!0,Cn.read(OO),Cn.resolveKeyframes(PO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:a,motionValue:i}=this;if(e[0]===null){const o=i==null?void 0:i.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(a&&n){const d=a.readValue(n,c);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=c),i&&o===void 0&&i.set(e[0])}Xte(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),tc.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,tc.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const ane=t=>t.startsWith("--");function rne(t,e,n){ane(e)?t.style.setProperty(e,n):t.style[e]=n}const ine=G1(()=>window.ScrollTimeline!==void 0),one={};function lne(t,e){const n=G1(t);return()=>one[e]??n()}const LO=lne(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ph=([t,e,n,a])=>`cubic-bezier(${t}, ${e}, ${n}, ${a})`,EA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ph([0,.65,.55,1]),circOut:Ph([.55,0,1,.45]),backIn:Ph([.31,.01,.66,-.59]),backOut:Ph([.33,1.53,.69,.99])};function IO(t,e){if(t)return typeof t=="function"?LO()?_O(t,e):"ease-out":yO(t)?Ph(t):Array.isArray(t)?t.map(n=>IO(n,e)||EA.easeOut):EA[t]}function cne(t,e,n,{delay:a=0,duration:i=300,repeat:o=0,repeatType:c="loop",ease:d="easeOut",times:h}={},m=void 0){const p={[e]:n};h&&(p.offset=h);const g=IO(d,i);Array.isArray(g)&&(p.easing=g);const v={delay:a,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return m&&(v.pseudoElement=m),t.animate(p,v)}function BO(t){return typeof t=="function"&&"applyToOptions"in t}function dne({type:t,...e}){return BO(t)&&LO()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class une extends sw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:a,keyframes:i,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:d,onComplete:h}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,H1(typeof e.type!="string");const m=dne(e);this.animation=cne(n,a,i,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=nw(i,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(p):rne(n,a,p),this.animation.cancel()}h==null||h(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,a;const e=((a=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:a.call(n).duration)||0;return vi(Number(e))}get time(){return vi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=xi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&ine()?(this.animation.timeline=e,fr):n(this)}}const zO={anticipate:gO,backInOut:pO,circInOut:vO};function hne(t){return t in zO}function fne(t){typeof t.ease=="string"&&hne(t.ease)&&(t.ease=zO[t.ease])}const AA=10;class mne extends une{constructor(e){fne(e),DO(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:a,onComplete:i,element:o,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new MO({...c,autoplay:!1}),h=xi(this.finishedTime??this.time);n.setWithVelocity(d.sample(h-AA).value,d.sample(h).value,AA),d.stop()}}const CA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ml.test(t)||t==="0")&&!t.startsWith("url("));function pne(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function gne(t,e,n,a){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=CA(i,e),d=CA(o,e);return!c||!d?!1:pne(t)||(n==="spring"||BO(n))&&a}const xne=new Set(["opacity","clipPath","filter","transform"]),vne=G1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function bne(t){const{motionValue:e,name:n,repeatDelay:a,repeatType:i,damping:o,type:c}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return vne()&&n&&xne.has(n)&&(n!=="transform"||!h)&&!d&&!a&&i!=="mirror"&&o!==0&&c!=="inertia"}const yne=40;class jne extends sw{constructor({autoplay:e=!0,delay:n=0,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:c="loop",keyframes:d,name:h,motionValue:m,element:p,...g}){var w;super(),this.stop=()=>{var j,S;this._animation?(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)):(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=xa.now();const v={autoplay:e,delay:n,type:a,repeat:i,repeatDelay:o,repeatType:c,name:h,motionValue:m,element:p,...g},y=(p==null?void 0:p.KeyframeResolver)||aw;this.keyframeResolver=new y(d,(j,S,k)=>this.onKeyframesResolved(j,S,v,!k),h,m,p),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,a,i){this.keyframeResolver=void 0;const{name:o,type:c,velocity:d,delay:h,isHandoff:m,onUpdate:p}=a;this.resolvedAt=xa.now(),gne(e,o,c,d)||((lo.instantAnimations||!h)&&(p==null||p(nw(e,a,n))),e[0]=e[e.length-1],a.duration=0,a.repeat=0);const v={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>yne?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...a,keyframes:e},y=!m&&bne(v)?new mne({...v,element:v.motionValue.owner.current}):new MO(v);y.finished.then(()=>this.notifyFinished()).catch(fr),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||sne(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const wne=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Nne(t){const e=wne.exec(t);if(!e)return[,];const[,n,a,i]=e;return[`--${n??a}`,i]}function UO(t,e,n=1){const[a,i]=Nne(t);if(!a)return;const o=window.getComputedStyle(e).getPropertyValue(a);if(o){const c=o.trim();return lO(c)?parseFloat(c):c}return Z1(i)?UO(i,e,n+1):i}function rw(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const $O=new Set(["width","height","top","left","right","bottom",...bu]),Sne={test:t=>t==="auto",parse:t=>t},FO=t=>e=>e.test(t),VO=[vu,mt,bi,Ho,pte,mte,Sne],TA=t=>VO.find(FO(t));function kne(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||cO(t):!0}const Ene=new Set(["brightness","contrast","saturate","opacity"]);function Ane(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[a]=n.match(Q1)||[];if(!a)return t;const i=n.replace(a,"");let o=Ene.has(e)?1:0;return a!==n&&(o*=100),e+"("+o+i+")"}const Cne=/\b([a-z-]*)\(.*?\)/gu,nj={...ml,getAnimatableNone:t=>{const e=t.match(Cne);return e?e.map(Ane).join(" "):t}},_A={...vu,transform:Math.round},Tne={rotate:Ho,rotateX:Ho,rotateY:Ho,rotateZ:Ho,scale:Pp,scaleX:Pp,scaleY:Pp,scaleZ:Pp,skew:Ho,skewX:Ho,skewY:Ho,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:wf,originX:pA,originY:pA,originZ:mt},iw={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,radius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,top:mt,right:mt,bottom:mt,left:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,backgroundPositionX:mt,backgroundPositionY:mt,...Tne,zIndex:_A,fillOpacity:wf,strokeOpacity:wf,numOctaves:_A},_ne={...iw,color:Gs,backgroundColor:Gs,outlineColor:Gs,fill:Gs,stroke:Gs,borderColor:Gs,borderTopColor:Gs,borderRightColor:Gs,borderBottomColor:Gs,borderLeftColor:Gs,filter:nj,WebkitFilter:nj},qO=t=>_ne[t];function HO(t,e){let n=qO(t);return n!==nj&&(n=ml),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Rne=new Set(["auto","none","0"]);function Dne(t,e,n){let a=0,i;for(;a<t.length&&!i;){const o=t[a];typeof o=="string"&&!Rne.has(o)&&Nf(o).values.length&&(i=t[a]),a++}if(i&&n)for(const o of e)t[o]=HO(n,i)}class Mne extends aw{constructor(e,n,a,i,o){super(e,n,a,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:a}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let m=e[h];if(typeof m=="string"&&(m=m.trim(),Z1(m))){const p=UO(m,n.current);p!==void 0&&(e[h]=p),h===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!$O.has(a)||e.length!==2)return;const[i,o]=e,c=TA(i),d=TA(o);if(c!==d)if(kA(c)&&kA(d))for(let h=0;h<e.length;h++){const m=e[h];typeof m=="string"&&(e[h]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,a=[];for(let i=0;i<e.length;i++)(e[i]===null||kne(e[i]))&&a.push(i);a.length&&Dne(e,a,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:a}=this;if(!e||!e.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=au[a](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(a,i).jump(i,!1)}measureEndState(){var d;const{element:e,name:n,unresolvedKeyframes:a}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=a.length-1,c=a[o];a[o]=au[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function Pne(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let a=document;const i=(n==null?void 0:n[t])??a.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const{schedule:ow}=jO(queueMicrotask,!1),Rr={x:!1,y:!1};function GO(){return Rr.x||Rr.y}function One(t){return t==="x"||t==="y"?Rr[t]?null:(Rr[t]=!0,()=>{Rr[t]=!1}):Rr.x||Rr.y?null:(Rr.x=Rr.y=!0,()=>{Rr.x=Rr.y=!1})}function KO(t,e){const n=Pne(t),a=new AbortController,i={passive:!0,...e,signal:a.signal};return[n,i,()=>a.abort()]}function RA(t){return!(t.pointerType==="touch"||GO())}function Lne(t,e,n={}){const[a,i,o]=KO(t,n),c=d=>{if(!RA(d))return;const{target:h}=d,m=e(h,d);if(typeof m!="function"||!h)return;const p=g=>{RA(g)&&(m(g),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,i)};return a.forEach(d=>{d.addEventListener("pointerenter",c,i)}),o}const YO=(t,e)=>e?t===e?!0:YO(t,e.parentElement):!1,lw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Ine=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Bne(t){return Ine.has(t.tagName)||t.tabIndex!==-1}const Oh=new WeakSet;function DA(t){return e=>{e.key==="Enter"&&t(e)}}function My(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const zne=(t,e)=>{const n=t.currentTarget;if(!n)return;const a=DA(()=>{if(Oh.has(n))return;My(n,"down");const i=DA(()=>{My(n,"up")}),o=()=>My(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",a,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",a),e)};function MA(t){return lw(t)&&!GO()}function Une(t,e,n={}){const[a,i,o]=KO(t,n),c=d=>{const h=d.currentTarget;if(!MA(d)||Oh.has(h))return;Oh.add(h);const m=e(h,d),p=(y,w)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),!(!MA(y)||!Oh.has(h))&&(Oh.delete(h),typeof m=="function"&&m(y,{success:w}))},g=y=>{p(y,h===window||h===document||n.useGlobalTarget||YO(h,y.target))},v=y=>{p(y,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",v,i)};return a.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,i),d instanceof HTMLElement&&(d.addEventListener("focus",m=>zne(m,i)),!Bne(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),o}const PA=30,$ne=t=>!isNaN(parseFloat(t));class Fne{constructor(e,n={}){this.version="12.9.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,i=!0)=>{var c,d;const o=xa.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current)),i&&((d=this.events.renderRequest)==null||d.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=xa.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=$ne(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new K1);const a=this.events[e].add(n);return e==="change"?()=>{a(),Cn.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,a){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-a}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=xa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>PA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,PA);return dO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Sf(t,e){return new Fne(t,e)}const Vne=[...VO,Gs,ml],qne=t=>Vne.find(FO(t)),XO=(t,e)=>e&&typeof t=="number"?e.transform(t):t,WO=x.createContext({strict:!1}),OA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ru={};for(const t in OA)ru[t]={isEnabled:e=>OA[t].some(n=>!!e[n])};function Hne(t){for(const e in t)ru[e]={...ru[e],...t[e]}}const Gne=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Pg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Gne.has(t)}let ZO=t=>!Pg(t);function Kne(t){t&&(ZO=e=>e.startsWith("on")?!Pg(e):t(e))}try{Kne(require("@emotion/is-prop-valid").default)}catch{}function Yne(t,e,n){const a={};for(const i in t)i==="values"&&typeof t.values=="object"||(ZO(i)||n===!0&&Pg(i)||!e&&!Pg(i)||t.draggable&&i.startsWith("onDrag"))&&(a[i]=t[i]);return a}function Xne(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...a)=>t(...a);return new Proxy(n,{get:(a,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const zx=x.createContext({});function Ux(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function kf(t){return typeof t=="string"||Array.isArray(t)}const cw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dw=["initial",...cw];function $x(t){return Ux(t.animate)||dw.some(e=>kf(t[e]))}function QO(t){return!!($x(t)||t.variants)}function Wne(t,e){if($x(t)){const{initial:n,animate:a}=t;return{initial:n===!1||kf(n)?n:void 0,animate:kf(a)?a:void 0}}return t.inherit!==!1?e:{}}function Zne(t){const{initial:e,animate:n}=Wne(t,x.useContext(zx));return x.useMemo(()=>({initial:e,animate:n}),[LA(e),LA(n)])}function LA(t){return Array.isArray(t)?t.join(" "):t}const Qne=Symbol.for("motionComponentSymbol");function _d(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Jne(t,e,n){return x.useCallback(a=>{a&&t.onMount&&t.onMount(a),e&&(a?e.mount(a):e.unmount()),n&&(typeof n=="function"?n(a):_d(n)&&(n.current=a))},[e])}const uw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ese="framerAppearId",JO="data-"+uw(ese),e3=x.createContext({});function tse(t,e,n,a,i){var j,S;const{visualElement:o}=x.useContext(zx),c=x.useContext(WO),d=x.useContext(F1),h=x.useContext(oO).reducedMotion,m=x.useRef(null);a=a||c.renderer,!m.current&&a&&(m.current=a(t,{visualState:e,parent:o,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const p=m.current,g=x.useContext(e3);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&nse(m.current,n,i,g);const v=x.useRef(!1);x.useInsertionEffect(()=>{p&&v.current&&p.update(n,d)});const y=n[JO],w=x.useRef(!!y&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,y))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,y)));return Yee(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),ow.render(p.render),w.current&&p.animationState&&p.animationState.animateChanges())}),x.useEffect(()=>{p&&(!w.current&&p.animationState&&p.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,y)}),w.current=!1))}),p}function nse(t,e,n,a){const{layoutId:i,layout:o,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:m,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:t3(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!c||d&&_d(d),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:a,crossfade:p,layoutScroll:h,layoutRoot:m})}function t3(t){if(t)return t.options.allowProjection!==!1?t.projection:t3(t.parent)}function sse({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:a,Component:i}){t&&Hne(t);function o(d,h){let m;const p={...x.useContext(oO),...d,layoutId:ase(d)},{isStatic:g}=p,v=Zne(d),y=a(d,g);if(!g&&$1){rse();const w=ise(p);m=w.MeasureLayout,v.visualElement=tse(i,y,p,e,w.ProjectionNode)}return s.jsxs(zx.Provider,{value:v,children:[m&&v.visualElement?s.jsx(m,{visualElement:v.visualElement,...p}):null,n(i,d,Jne(y,v.visualElement,h),y,g,v.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const c=x.forwardRef(o);return c[Qne]=i,c}function ase({layoutId:t}){const e=x.useContext(iO).id;return e&&t!==void 0?e+"-"+t:t}function rse(t,e){x.useContext(WO).strict}function ise(t){const{drag:e,layout:n}=ru;if(!e&&!n)return{};const a={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const Ef={};function ose(t){for(const e in t)Ef[e]=t[e],W1(e)&&(Ef[e].isCSSVariable=!0)}function n3(t,{layout:e,layoutId:n}){return yu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ef[t]||t==="opacity")}const Xs=t=>!!(t&&t.getVelocity),lse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cse=bu.length;function dse(t,e,n){let a="",i=!0;for(let o=0;o<cse;o++){const c=bu[o],d=t[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const m=XO(d,iw[c]);if(!h){i=!1;const p=lse[c]||c;a+=`${p}(${m}) `}n&&(e[c]=m)}}return a=a.trim(),n?a=n(e,i?"":a):i&&(a="none"),a}function hw(t,e,n){const{style:a,vars:i,transformOrigin:o}=t;let c=!1,d=!1;for(const h in e){const m=e[h];if(yu.has(h)){c=!0;continue}else if(W1(h)){i[h]=m;continue}else{const p=XO(m,iw[h]);h.startsWith("origin")?(d=!0,o[h]=p):a[h]=p}}if(e.transform||(c||n?a.transform=dse(e,t.transform,n):a.transform&&(a.transform="none")),d){const{originX:h="50%",originY:m="50%",originZ:p=0}=o;a.transformOrigin=`${h} ${m} ${p}`}}const fw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function s3(t,e,n){for(const a in e)!Xs(e[a])&&!n3(a,n)&&(t[a]=e[a])}function use({transformTemplate:t},e){return x.useMemo(()=>{const n=fw();return hw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function hse(t,e){const n=t.style||{},a={};return s3(a,n,t),Object.assign(a,use(t,e)),a}function fse(t,e){const n={},a=hse(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=a,n}const mse=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mw(t){return typeof t!="string"||t.includes("-")?!1:!!(mse.indexOf(t)>-1||/[A-Z]/u.test(t))}const pse={offset:"stroke-dashoffset",array:"stroke-dasharray"},gse={offset:"strokeDashoffset",array:"strokeDasharray"};function xse(t,e,n=1,a=0,i=!0){t.pathLength=1;const o=i?pse:gse;t[o.offset]=mt.transform(-a);const c=mt.transform(e),d=mt.transform(n);t[o.array]=`${c} ${d}`}function a3(t,{attrX:e,attrY:n,attrScale:a,pathLength:i,pathSpacing:o=1,pathOffset:c=0,...d},h,m){if(hw(t,d,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox="fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),a!==void 0&&(p.scale=a),i!==void 0&&xse(p,i,o,c,!1)}const r3=()=>({...fw(),attrs:{}}),i3=t=>typeof t=="string"&&t.toLowerCase()==="svg";function vse(t,e,n,a){const i=x.useMemo(()=>{const o=r3();return a3(o,e,i3(a),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};s3(o,t.style,t),i.style={...o,...i.style}}return i}function bse(t=!1){return(n,a,i,{latestValues:o},c)=>{const h=(mw(n)?vse:fse)(a,o,c,n),m=Yne(a,typeof n=="string",t),p=n!==x.Fragment?{...m,...h,ref:i}:{},{children:g}=a,v=x.useMemo(()=>Xs(g)?g.get():g,[g]);return x.createElement(n,{...p,children:v})}}function IA(t){const e=[{},{}];return t==null||t.values.forEach((n,a)=>{e[0][a]=n.get(),e[1][a]=n.getVelocity()}),e}function pw(t,e,n,a){if(typeof e=="function"){const[i,o]=IA(a);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=IA(a);e=e(n!==void 0?n:t.custom,i,o)}return e}function tg(t){return Xs(t)?t.get():t}function yse({scrapeMotionValuesFromProps:t,createRenderState:e},n,a,i){return{latestValues:jse(n,a,i,t),renderState:e()}}const o3=t=>(e,n)=>{const a=x.useContext(zx),i=x.useContext(F1),o=()=>yse(t,e,a,i);return n?o():Kee(o)};function jse(t,e,n,a){const i={},o=a(t,{});for(const v in o)i[v]=tg(o[v]);let{initial:c,animate:d}=t;const h=$x(t),m=QO(t);e&&m&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const g=p?d:c;if(g&&typeof g!="boolean"&&!Ux(g)){const v=Array.isArray(g)?g:[g];for(let y=0;y<v.length;y++){const w=pw(t,v[y]);if(w){const{transitionEnd:j,transition:S,...k}=w;for(const E in k){let A=k[E];if(Array.isArray(A)){const T=p?A.length-1:0;A=A[T]}A!==null&&(i[E]=A)}for(const E in j)i[E]=j[E]}}}return i}function gw(t,e,n){var o;const{style:a}=t,i={};for(const c in a)(Xs(a[c])||e.style&&Xs(e.style[c])||n3(c,t)||((o=n==null?void 0:n.getValue(c))==null?void 0:o.liveStyle)!==void 0)&&(i[c]=a[c]);return i}const wse={useVisualState:o3({scrapeMotionValuesFromProps:gw,createRenderState:fw})};function l3(t,e,n){const a=gw(t,e,n);for(const i in t)if(Xs(t[i])||Xs(e[i])){const o=bu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;a[o]=t[i]}return a}const Nse={useVisualState:o3({scrapeMotionValuesFromProps:l3,createRenderState:r3})};function Sse(t,e){return function(a,{forwardMotionProps:i}={forwardMotionProps:!1}){const c={...mw(a)?Nse:wse,preloadedFeatures:t,useRender:bse(i),createVisualElement:e,Component:a};return sse(c)}}function Af(t,e,n){const a=t.getProps();return pw(a,e,n!==void 0?n:a.custom,t)}const sj=t=>Array.isArray(t);function kse(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Sf(n))}function Ese(t){return sj(t)?t[t.length-1]||0:t}function Ase(t,e){const n=Af(t,e);let{transitionEnd:a={},transition:i={},...o}=n||{};o={...o,...a};for(const c in o){const d=Ese(o[c]);kse(t,c,d)}}function Cse(t){return!!(Xs(t)&&t.add)}function aj(t,e){const n=t.getValue("willChange");if(Cse(n))return n.add(e);if(!n&&lo.WillChange){const a=new lo.WillChange("auto");t.addValue("willChange",a),a.add(e)}}function c3(t){return t.props[JO]}const Tse=t=>t!==null;function _se(t,{repeat:e,repeatType:n="loop"},a){const i=t.filter(Tse),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}const Rse={type:"spring",stiffness:500,damping:25,restSpeed:10},Dse=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Mse={type:"keyframes",duration:.8},Pse={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ose=(t,{keyframes:e})=>e.length>2?Mse:yu.has(t)?t.startsWith("scale")?Dse(e[1]):Rse:Pse;function Lse({when:t,delay:e,delayChildren:n,staggerChildren:a,staggerDirection:i,repeat:o,repeatType:c,repeatDelay:d,from:h,elapsed:m,...p}){return!!Object.keys(p).length}const xw=(t,e,n,a={},i,o)=>c=>{const d=rw(a,t)||{},h=d.delay||a.delay||0;let{elapsed:m=0}=a;m=m-xi(h);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:v=>{e.set(v),d.onUpdate&&d.onUpdate(v)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:o?void 0:i};Lse(d)||Object.assign(p,Ose(t,p)),p.duration&&(p.duration=xi(p.duration)),p.repeatDelay&&(p.repeatDelay=xi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),(lo.instantAnimations||lo.skipAnimations)&&(g=!0,p.duration=0,p.delay=0),p.allowFlatten=!d.type&&!d.ease,g&&!o&&e.get()!==void 0){const v=_se(p.keyframes,d);if(v!==void 0){Cn.update(()=>{p.onUpdate(v),p.onComplete()});return}}return new jne(p)};function Ise({protectedKeys:t,needsAnimating:e},n){const a=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,a}function d3(t,e,{delay:n=0,transitionOverride:a,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:c,...d}=e;a&&(o=a);const h=[],m=i&&t.animationState&&t.animationState.getState()[i];for(const p in d){const g=t.getValue(p,t.latestValues[p]??null),v=d[p];if(v===void 0||m&&Ise(m,p))continue;const y={delay:n,...rw(o||{},p)},w=g.get();if(w!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===w&&!y.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const k=c3(t);if(k){const E=window.MotionHandoffAnimation(k,p,Cn);E!==null&&(y.startTime=E,j=!0)}}aj(t,p),g.start(xw(p,g,v,t.shouldReduceMotion&&$O.has(p)?{type:!1}:y,t,j));const S=g.animation;S&&h.push(S)}return c&&Promise.all(h).then(()=>{Cn.update(()=>{c&&Ase(t,c)})}),h}function rj(t,e,n={}){var h;const a=Af(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(i=n.transitionOverride);const o=a?()=>Promise.all(d3(t,a,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=i;return Bse(t,e,p+m,g,v,n)}:()=>Promise.resolve(),{when:d}=i;if(d){const[m,p]=d==="beforeChildren"?[o,c]:[c,o];return m().then(()=>p())}else return Promise.all([o(),c(n.delay)])}function Bse(t,e,n=0,a=0,i=1,o){const c=[],d=(t.variantChildren.size-1)*a,h=i===1?(m=0)=>m*a:(m=0)=>d-m*a;return Array.from(t.variantChildren).sort(zse).forEach((m,p)=>{m.notify("AnimationStart",e),c.push(rj(m,e,{...o,delay:n+h(p)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function zse(t,e){return t.sortNodePosition(e)}function Use(t,e,n={}){t.notify("AnimationStart",e);let a;if(Array.isArray(e)){const i=e.map(o=>rj(t,o,n));a=Promise.all(i)}else if(typeof e=="string")a=rj(t,e,n);else{const i=typeof e=="function"?Af(t,e,n.custom):e;a=Promise.all(d3(t,i,n))}return a.then(()=>{t.notify("AnimationComplete",e)})}function u3(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let a=0;a<n;a++)if(e[a]!==t[a])return!1;return!0}const $se=dw.length;function h3(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?h3(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<$se;n++){const a=dw[n],i=t.props[a];(kf(i)||i===!1)&&(e[a]=i)}return e}const Fse=[...cw].reverse(),Vse=cw.length;function qse(t){return e=>Promise.all(e.map(({animation:n,options:a})=>Use(t,n,a)))}function Hse(t){let e=qse(t),n=BA(),a=!0;const i=h=>(m,p)=>{var v;const g=Af(t,p,h==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);if(g){const{transition:y,transitionEnd:w,...j}=g;m={...m,...j,...w}}return m};function o(h){e=h(t)}function c(h){const{props:m}=t,p=h3(t.parent)||{},g=[],v=new Set;let y={},w=1/0;for(let S=0;S<Vse;S++){const k=Fse[S],E=n[k],A=m[k]!==void 0?m[k]:p[k],T=kf(A),_=k===h?E.isActive:null;_===!1&&(w=S);let M=A===p[k]&&A!==m[k]&&T;if(M&&a&&t.manuallyAnimateOnMount&&(M=!1),E.protectedKeys={...y},!E.isActive&&_===null||!A&&!E.prevProp||Ux(A)||typeof A=="boolean")continue;const P=Gse(E.prevProp,A);let O=P||k===h&&E.isActive&&!M&&T||S>w&&T,I=!1;const G=Array.isArray(A)?A:[A];let R=G.reduce(i(k),{});_===!1&&(R={});const{prevResolvedValues:X={}}=E,$={...X,...R},Z=V=>{O=!0,v.has(V)&&(I=!0,v.delete(V)),E.needsAnimating[V]=!0;const B=t.getValue(V);B&&(B.liveStyle=!1)};for(const V in $){const B=R[V],Y=X[V];if(y.hasOwnProperty(V))continue;let se=!1;sj(B)&&sj(Y)?se=!u3(B,Y):se=B!==Y,se?B!=null?Z(V):v.add(V):B!==void 0&&v.has(V)?Z(V):E.protectedKeys[V]=!0}E.prevProp=A,E.prevResolvedValues=R,E.isActive&&(y={...y,...R}),a&&t.blockInitialAnimation&&(O=!1),O&&(!(M&&P)||I)&&g.push(...G.map(V=>({animation:V,options:{type:k}})))}if(v.size){const S={};if(typeof m.initial!="boolean"){const k=Af(t,Array.isArray(m.initial)?m.initial[0]:m.initial);k&&k.transition&&(S.transition=k.transition)}v.forEach(k=>{const E=t.getBaseTarget(k),A=t.getValue(k);A&&(A.liveStyle=!0),S[k]=E??null}),g.push({animation:S})}let j=!!g.length;return a&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(j=!1),a=!1,j?e(g):Promise.resolve()}function d(h,m){var g;if(n[h].isActive===m)return Promise.resolve();(g=t.variantChildren)==null||g.forEach(v=>{var y;return(y=v.animationState)==null?void 0:y.setActive(h,m)}),n[h].isActive=m;const p=c(h);for(const v in n)n[v].protectedKeys={};return p}return{animateChanges:c,setActive:d,setAnimateFunction:o,getState:()=>n,reset:()=>{n=BA(),a=!0}}}function Gse(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!u3(e,t):!1}function Xl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BA(){return{animate:Xl(!0),whileInView:Xl(),whileHover:Xl(),whileTap:Xl(),whileDrag:Xl(),whileFocus:Xl(),exit:Xl()}}class Nl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Kse extends Nl{constructor(e){super(e),e.animationState||(e.animationState=Hse(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ux(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Yse=0;class Xse extends Nl{constructor(){super(...arguments),this.id=Yse++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===a)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Wse={animation:{Feature:Kse},exit:{Feature:Xse}};function Cf(t,e,n,a={passive:!0}){return t.addEventListener(e,n,a),()=>t.removeEventListener(e,n)}function rm(t){return{point:{x:t.pageX,y:t.pageY}}}const Zse=t=>e=>lw(e)&&t(e,rm(e));function Xh(t,e,n,a){return Cf(t,e,Zse(n),a)}function f3({top:t,left:e,right:n,bottom:a}){return{x:{min:e,max:n},y:{min:t,max:a}}}function Qse({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Jse(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),a=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:a.y,right:a.x}}const m3=1e-4,eae=1-m3,tae=1+m3,p3=.01,nae=0-p3,sae=0+p3;function aa(t){return t.max-t.min}function aae(t,e,n){return Math.abs(t-e)<=n}function zA(t,e,n,a=.5){t.origin=a,t.originPoint=En(e.min,e.max,t.origin),t.scale=aa(n)/aa(e),t.translate=En(n.min,n.max,t.origin)-t.originPoint,(t.scale>=eae&&t.scale<=tae||isNaN(t.scale))&&(t.scale=1),(t.translate>=nae&&t.translate<=sae||isNaN(t.translate))&&(t.translate=0)}function Wh(t,e,n,a){zA(t.x,e.x,n.x,a?a.originX:void 0),zA(t.y,e.y,n.y,a?a.originY:void 0)}function UA(t,e,n){t.min=n.min+e.min,t.max=t.min+aa(e)}function rae(t,e,n){UA(t.x,e.x,n.x),UA(t.y,e.y,n.y)}function $A(t,e,n){t.min=e.min-n.min,t.max=t.min+aa(e)}function Zh(t,e,n){$A(t.x,e.x,n.x),$A(t.y,e.y,n.y)}const FA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rd=()=>({x:FA(),y:FA()}),VA=()=>({min:0,max:0}),Hn=()=>({x:VA(),y:VA()});function ar(t){return[t("x"),t("y")]}function Py(t){return t===void 0||t===1}function ij({scale:t,scaleX:e,scaleY:n}){return!Py(t)||!Py(e)||!Py(n)}function Zl(t){return ij(t)||g3(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function g3(t){return qA(t.x)||qA(t.y)}function qA(t){return t&&t!=="0%"}function Og(t,e,n){const a=t-n,i=e*a;return n+i}function HA(t,e,n,a,i){return i!==void 0&&(t=Og(t,i,a)),Og(t,n,a)+e}function oj(t,e=0,n=1,a,i){t.min=HA(t.min,e,n,a,i),t.max=HA(t.max,e,n,a,i)}function x3(t,{x:e,y:n}){oj(t.x,e.translate,e.scale,e.originPoint),oj(t.y,n.translate,n.scale,n.originPoint)}const GA=.999999999999,KA=1.0000000000001;function iae(t,e,n,a=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,c;for(let d=0;d<i;d++){o=n[d],c=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(a&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Md(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,x3(t,c)),a&&Zl(o.latestValues)&&Md(t,o.latestValues))}e.x<KA&&e.x>GA&&(e.x=1),e.y<KA&&e.y>GA&&(e.y=1)}function Dd(t,e){t.min=t.min+e,t.max=t.max+e}function YA(t,e,n,a,i=.5){const o=En(t.min,t.max,i);oj(t,e,n,o,a)}function Md(t,e){YA(t.x,e.x,e.scaleX,e.scale,e.originX),YA(t.y,e.y,e.scaleY,e.scale,e.originY)}function v3(t,e){return f3(Jse(t.getBoundingClientRect(),e))}function oae(t,e,n){const a=v3(t,n),{scroll:i}=e;return i&&(Dd(a.x,i.offset.x),Dd(a.y,i.offset.y)),a}const b3=({current:t})=>t?t.ownerDocument.defaultView:null,XA=(t,e)=>Math.abs(t-e);function lae(t,e){const n=XA(t.x,e.x),a=XA(t.y,e.y);return Math.sqrt(n**2+a**2)}class y3{constructor(e,n,{transformPagePoint:a,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Ly(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,y=lae(g.offset,{x:0,y:0})>=3;if(!v&&!y)return;const{point:w}=g,{timestamp:j}=Os;this.history.push({...w,timestamp:j});const{onStart:S,onMove:k}=this.handlers;v||(S&&S(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Oy(v,this.transformPagePoint),Cn.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:y,onSessionEnd:w,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Ly(g.type==="pointercancel"?this.lastMoveEventInfo:Oy(v,this.transformPagePoint),this.history);this.startEvent&&y&&y(g,S),w&&w(g,S)},!lw(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=a,this.contextWindow=i||window;const c=rm(e),d=Oy(c,this.transformPagePoint),{point:h}=d,{timestamp:m}=Os;this.history=[{...h,timestamp:m}];const{onSessionStart:p}=n;p&&p(e,Ly(d,this.history)),this.removeListeners=nm(Xh(this.contextWindow,"pointermove",this.handlePointerMove),Xh(this.contextWindow,"pointerup",this.handlePointerUp),Xh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fl(this.updatePoint)}}function Oy(t,e){return e?{point:e(t.point)}:t}function WA(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ly({point:t},e){return{point:t,delta:WA(t,j3(e)),offset:WA(t,cae(e)),velocity:dae(e,.1)}}function cae(t){return t[0]}function j3(t){return t[t.length-1]}function dae(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,a=null;const i=j3(t);for(;n>=0&&(a=t[n],!(i.timestamp-a.timestamp>xi(e)));)n--;if(!a)return{x:0,y:0};const o=vi(i.timestamp-a.timestamp);if(o===0)return{x:0,y:0};const c={x:(i.x-a.x)/o,y:(i.y-a.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function uae(t,{min:e,max:n},a){return e!==void 0&&t<e?t=a?En(e,t,a.min):Math.max(t,e):n!==void 0&&t>n&&(t=a?En(n,t,a.max):Math.min(t,n)),t}function ZA(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function hae(t,{top:e,left:n,bottom:a,right:i}){return{x:ZA(t.x,n,i),y:ZA(t.y,e,a)}}function QA(t,e){let n=e.min-t.min,a=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,a]=[a,n]),{min:n,max:a}}function fae(t,e){return{x:QA(t.x,e.x),y:QA(t.y,e.y)}}function mae(t,e){let n=.5;const a=aa(t),i=aa(e);return i>a?n=jf(e.min,e.max-a,t.min):a>i&&(n=jf(t.min,t.max-i,e.min)),oo(0,1,n)}function pae(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const lj=.35;function gae(t=lj){return t===!1?t=0:t===!0&&(t=lj),{x:JA(t,"left","right"),y:JA(t,"top","bottom")}}function JA(t,e,n){return{min:eC(t,e),max:eC(t,n)}}function eC(t,e){return typeof t=="number"?t:t[e]||0}const xae=new WeakMap;class vae{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(rm(p).point)},o=(p,g)=>{const{drag:v,dragPropagation:y,onDragStart:w}=this.getProps();if(v&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=One(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ar(S=>{let k=this.getAxisMotionValue(S).get()||0;if(bi.test(k)){const{projection:E}=this.visualElement;if(E&&E.layout){const A=E.layout.layoutBox[S];A&&(k=aa(A)*(parseFloat(k)/100))}}this.originPoint[S]=k}),w&&Cn.postRender(()=>w(p,g)),aj(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},c=(p,g)=>{const{dragPropagation:v,dragDirectionLock:y,onDirectionLock:w,onDrag:j}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:S}=g;if(y&&this.currentDirection===null){this.currentDirection=bae(S),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,S),this.updateAxis("y",g.point,S),this.visualElement.render(),j&&j(p,g)},d=(p,g)=>this.stop(p,g),h=()=>ar(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)==null?void 0:g.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new y3(e,{onSessionStart:i,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:b3(this.visualElement)})}stop(e,n){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Cn.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,a){const{drag:i}=this.getProps();if(!a||!Op(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+a[e];this.constraints&&this.constraints[e]&&(c=uae(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&_d(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&a?this.constraints=hae(a.layoutBox,e):this.constraints=!1,this.elastic=gae(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ar(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=pae(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!_d(e))return!1;const a=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=oae(a,i.root,this.visualElement.getTransformPagePoint());let c=fae(i.layout.layoutBox,o);if(n){const d=n(Qse(c));this.hasMutatedConstraints=!!d,d&&(c=f3(d))}return c}startAnimation(e){const{drag:n,dragMomentum:a,dragElastic:i,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},m=ar(p=>{if(!Op(p,n,this.currentDirection))return;let g=h&&h[p]||{};c&&(g={min:0,max:0});const v=i?200:1e6,y=i?40:1e7,w={type:"inertia",velocity:a?e[p]:0,bounceStiffness:v,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(p,w)});return Promise.all(m).then(d)}startAxisValueAnimation(e,n){const a=this.getAxisMotionValue(e);return aj(this.visualElement,e),a.start(xw(e,a,0,n,this.visualElement,!1))}stopAnimation(){ar(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ar(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,a=this.visualElement.getProps(),i=a[n];return i||this.visualElement.getValue(e,(a.initial?a.initial[e]:void 0)||0)}snapToCursor(e){ar(n=>{const{drag:a}=this.getProps();if(!Op(n,a,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:d}=i.layout.layoutBox[n];o.set(e[n]-En(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:a}=this.visualElement;if(!_d(n)||!a||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ar(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();i[c]=mae({min:h,max:h},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),ar(c=>{if(!Op(c,e,null))return;const d=this.getAxisMotionValue(c),{min:h,max:m}=this.constraints[c];d.set(En(h,m,i[c]))})}addListeners(){if(!this.visualElement.current)return;xae.set(this.visualElement,this);const e=this.visualElement.current,n=Xh(e,"pointerdown",h=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(h)}),a=()=>{const{dragConstraints:h}=this.getProps();_d(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",a);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Cn.read(a);const c=Cf(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(ar(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=h[p].translate,g.set(g.get()+h[p].translate))}),this.visualElement.render())});return()=>{c(),n(),o(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:a=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:c=lj,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:a,dragPropagation:i,dragConstraints:o,dragElastic:c,dragMomentum:d}}}function Op(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function bae(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class yae extends Nl{constructor(e){super(e),this.removeGroupControls=fr,this.removeListeners=fr,this.controls=new vae(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fr}unmount(){this.removeGroupControls(),this.removeListeners()}}const tC=t=>(e,n)=>{t&&Cn.postRender(()=>t(e,n))};class jae extends Nl{constructor(){super(...arguments),this.removePointerDownListener=fr}onPointerDown(e){this.session=new y3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:b3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:a,onPanEnd:i}=this.node.getProps();return{onSessionStart:tC(e),onStart:tC(n),onMove:a,onEnd:(o,c)=>{delete this.session,i&&Cn.postRender(()=>i(o,c))}}}mount(){this.removePointerDownListener=Xh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ng={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Sh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(mt.test(t))t=parseFloat(t);else return t;const n=nC(t,e.target.x),a=nC(t,e.target.y);return`${n}% ${a}%`}},wae={correct:(t,{treeScale:e,projectionDelta:n})=>{const a=t,i=ml.parse(t);if(i.length>5)return a;const o=ml.createTransformer(t),c=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,h=n.y.scale*e.y;i[0+c]/=d,i[1+c]/=h;const m=En(d,h,.5);return typeof i[2+c]=="number"&&(i[2+c]/=m),typeof i[3+c]=="number"&&(i[3+c]/=m),o(i)}};class Nae extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:a,layoutId:i}=this.props,{projection:o}=e;ose(Sae),o&&(n.group&&n.group.add(o),a&&a.register&&i&&a.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),ng.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:a,drag:i,isPresent:o}=this.props,c=a.projection;return c&&(c.isPresent=o,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||Cn.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ow.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:a}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),a&&a.deregister&&a.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function w3(t){const[e,n]=Xee(),a=x.useContext(iO);return s.jsx(Nae,{...t,layoutGroup:a,switchLayoutGroup:x.useContext(e3),isPresent:e,safeToRemove:n})}const Sae={borderRadius:{...Sh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sh,borderTopRightRadius:Sh,borderBottomLeftRadius:Sh,borderBottomRightRadius:Sh,boxShadow:wae};function kae(t,e,n){const a=Xs(t)?t:Sf(t);return a.start(xw("",a,e,n)),a.animation}function Eae(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Aae=(t,e)=>t.depth-e.depth;class Cae{constructor(){this.children=[],this.isDirty=!1}add(e){V1(this.children,e),this.isDirty=!0}remove(e){q1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Aae),this.isDirty=!1,this.children.forEach(e)}}function Tae(t,e){const n=xa.now(),a=({timestamp:i})=>{const o=i-n;o>=e&&(fl(a),t(o-e))};return Cn.setup(a,!0),()=>fl(a)}const N3=["TopLeft","TopRight","BottomLeft","BottomRight"],_ae=N3.length,sC=t=>typeof t=="string"?parseFloat(t):t,aC=t=>typeof t=="number"||mt.test(t);function Rae(t,e,n,a,i,o){i?(t.opacity=En(0,n.opacity??1,Dae(a)),t.opacityExit=En(e.opacity??1,0,Mae(a))):o&&(t.opacity=En(e.opacity??1,n.opacity??1,a));for(let c=0;c<_ae;c++){const d=`border${N3[c]}Radius`;let h=rC(e,d),m=rC(n,d);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||aC(h)===aC(m)?(t[d]=Math.max(En(sC(h),sC(m),a),0),(bi.test(m)||bi.test(h))&&(t[d]+="%")):t[d]=m}(e.rotate||n.rotate)&&(t.rotate=En(e.rotate||0,n.rotate||0,a))}function rC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Dae=S3(0,.5,xO),Mae=S3(.5,.95,fr);function S3(t,e,n){return a=>a<t?0:a>e?1:n(jf(t,e,a))}function iC(t,e){t.min=e.min,t.max=e.max}function nr(t,e){iC(t.x,e.x),iC(t.y,e.y)}function oC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function lC(t,e,n,a,i){return t-=e,t=Og(t,1/n,a),i!==void 0&&(t=Og(t,1/i,a)),t}function Pae(t,e=0,n=1,a=.5,i,o=t,c=t){if(bi.test(e)&&(e=parseFloat(e),e=En(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=En(o.min,o.max,a);t===o&&(d-=e),t.min=lC(t.min,e,n,d,i),t.max=lC(t.max,e,n,d,i)}function cC(t,e,[n,a,i],o,c){Pae(t,e[n],e[a],e[i],e.scale,o,c)}const Oae=["x","scaleX","originX"],Lae=["y","scaleY","originY"];function dC(t,e,n,a){cC(t.x,e,Oae,n?n.x:void 0,a?a.x:void 0),cC(t.y,e,Lae,n?n.y:void 0,a?a.y:void 0)}function uC(t){return t.translate===0&&t.scale===1}function k3(t){return uC(t.x)&&uC(t.y)}function hC(t,e){return t.min===e.min&&t.max===e.max}function Iae(t,e){return hC(t.x,e.x)&&hC(t.y,e.y)}function fC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function E3(t,e){return fC(t.x,e.x)&&fC(t.y,e.y)}function mC(t){return aa(t.x)/aa(t.y)}function pC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Bae{constructor(){this.members=[]}add(e){V1(this.members,e),e.scheduleRender()}remove(e){if(q1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let a;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){a=o;break}}return a?(this.promote(a),!0):!1}promote(e,n){const a=this.lead;if(e!==a&&(this.prevLead=a,this.lead=e,e.show(),a)){a.instance&&a.scheduleRender(),e.scheduleRender(),e.resumeFrom=a,n&&(e.resumeFrom.preserveOpacity=!0),a.snapshot&&(e.snapshot=a.snapshot,e.snapshot.latestValues=a.animationValues||a.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:a}=e;n.onExitComplete&&n.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zae(t,e,n){let a="";const i=t.x.translate/e.x,o=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((i||o||c)&&(a=`translate3d(${i}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(a+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:p,rotateX:g,rotateY:v,skewX:y,skewY:w}=n;m&&(a=`perspective(${m}px) ${a}`),p&&(a+=`rotate(${p}deg) `),g&&(a+=`rotateX(${g}deg) `),v&&(a+=`rotateY(${v}deg) `),y&&(a+=`skewX(${y}deg) `),w&&(a+=`skewY(${w}deg) `)}const d=t.x.scale*e.x,h=t.y.scale*e.y;return(d!==1||h!==1)&&(a+=`scale(${d}, ${h})`),a||"none"}const Iy=["","X","Y","Z"],Uae={visibility:"hidden"},gC=1e3;let $ae=0;function By(t,e,n,a){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),a&&(a[t]=0))}function A3(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=c3(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Cn,!(i||o))}const{parent:a}=t;a&&!a.hasCheckedOptimisedAppear&&A3(a)}function C3({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:a,resetTransform:i}){return class{constructor(c={},d=e==null?void 0:e()){this.id=$ae++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(qae),this.nodes.forEach(Xae),this.nodes.forEach(Wae),this.nodes.forEach(Hae)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new Cae)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new K1),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Eae(c),this.instance=c;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||h)&&(this.isLayoutDirty=!0),t){let g;const v=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=Tae(v,250),ng.hasAnimatedSinceResize&&(ng.hasAnimatedSinceResize=!1,this.nodes.forEach(vC))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:y,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||p.getDefaultTransition()||tre,{onLayoutAnimationStart:S,onLayoutAnimationComplete:k}=p.getProps(),E=!this.targetLayout||!E3(this.targetLayout,w),A=!v&&y;if(this.options.layoutRoot||this.resumeFrom||A||v&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,A);const T={...rw(j,"layout"),onPlay:S,onComplete:k};(p.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else v||vC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Zae),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&A3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xC);return}this.isUpdating||this.nodes.forEach(Kae),this.isUpdating=!1,this.nodes.forEach(Yae),this.nodes.forEach(Fae),this.nodes.forEach(Vae),this.clearAllSnapshots();const d=xa.now();Os.delta=oo(0,1e3/60,d-Os.timestamp),Os.timestamp=d,Os.isProcessing=!0,Ty.update.process(Os),Ty.preRender.process(Os),Ty.render.process(Os),Os.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ow.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Gae),this.sharedNodes.forEach(Qae)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Cn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Cn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!aa(this.snapshot.measuredBox.x)&&!aa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const h=a(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!k3(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;c&&(d||Zl(this.latestValues)||p)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),nre(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return Hn();const d=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(sre))){const{scroll:p}=this.root;p&&(Dd(d.x,p.offset.x),Dd(d.y,p.offset.y))}return d}removeElementScroll(c){var h;const d=Hn();if(nr(d,c),(h=this.scroll)!=null&&h.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&nr(d,c),Dd(d.x,g.offset.x),Dd(d.y,g.offset.y))}return d}applyTransform(c,d=!1){const h=Hn();nr(h,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Md(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Zl(p.latestValues)&&Md(h,p.latestValues)}return Zl(this.latestValues)&&Md(h,this.latestValues),h}removeTransform(c){const d=Hn();nr(d,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!Zl(m.latestValues))continue;ij(m.latestValues)&&m.updateSnapshot();const p=Hn(),g=m.measurePageBox();nr(p,g),dC(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return Zl(this.latestValues)&&dC(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Os.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var v;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Os.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),Zh(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Hn(),this.targetWithTransforms=Hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rae(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):nr(this.target,this.layout.layoutBox),x3(this.target,this.targetDelta)):nr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),Zh(this.relativeTargetOrigin,this.target,y.target),nr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ij(this.parent.latestValues)||g3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Os.timestamp&&(h=!1),h)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;nr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;iae(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Hn());const{target:y}=c;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(oC(this.prevProjectionDelta.x,this.projectionDelta.x),oC(this.prevProjectionDelta.y,this.projectionDelta.y)),Wh(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!pC(this.projectionDelta.x,this.prevProjectionDelta.x)||!pC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Rd(),this.projectionDelta=Rd(),this.projectionDeltaWithTransform=Rd()}setAnimationOrigin(c,d=!1){const h=this.snapshot,m=h?h.latestValues:{},p={...this.latestValues},g=Rd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const v=Hn(),y=h?h.source:void 0,w=this.layout?this.layout.source:void 0,j=y!==w,S=this.getStack(),k=!S||S.members.length<=1,E=!!(j&&!k&&this.options.crossfade===!0&&!this.path.some(ere));this.animationProgress=0;let A;this.mixTargetDelta=T=>{const _=T/1e3;bC(g.x,c.x,_),bC(g.y,c.y,_),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zh(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Jae(this.relativeTarget,this.relativeTargetOrigin,v,_),A&&Iae(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Hn()),nr(A,this.relativeTarget)),j&&(this.animationValues=p,Rae(p,m,this.latestValues,_,E,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Cn.update(()=>{ng.hasAnimatedSinceResize=!0,this.currentAnimation=kae(0,gC,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:m,latestValues:p}=c;if(!(!d||!h||!m)){if(this!==c&&this.layout&&m&&T3(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||Hn();const g=aa(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+g;const v=aa(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+v}nr(d,h),Md(d,p),Wh(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Bae),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const m={};h.z&&By("z",c,m,this.animationValues);for(let p=0;p<Iy.length;p++)By(`rotate${Iy[p]}`,c,m,this.animationValues),By(`skew${Iy[p]}`,c,m,this.animationValues);c.render();for(const p in m)c.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Uae;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=tg(c==null?void 0:c.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=tg(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Zl(this.latestValues)&&(y.transform=h?h({},""):"none",this.hasProjected=!1),y}const p=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=zae(this.projectionDeltaWithTransform,this.treeScale,p),h&&(d.transform=h(p,d.transform));const{x:g,y:v}=this.projectionDelta;d.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,m.animationValues?d.opacity=m===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:d.opacity=m===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in Ef){if(p[y]===void 0)continue;const{correct:w,applyTo:j,isCSSVariable:S}=Ef[y],k=d.transform==="none"?p[y]:w(p[y],m);if(j){const E=j.length;for(let A=0;A<E;A++)d[j[A]]=k}else S?this.options.visualElement.renderState.vars[y]=k:d[y]=k}return this.options.layoutId&&(d.pointerEvents=m===this?tg(c==null?void 0:c.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(xC),this.root.sharedNodes.clear()}}}function Fae(t){t.updateLayout()}function Vae(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:i}=t.layout,{animationType:o}=t.options,c=e.source!==t.layout.source;o==="size"?ar(g=>{const v=c?e.measuredBox[g]:e.layoutBox[g],y=aa(v);v.min=a[g].min,v.max=v.min+y}):T3(o,e.layoutBox,a)&&ar(g=>{const v=c?e.measuredBox[g]:e.layoutBox[g],y=aa(a[g]);v.max=v.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+y)});const d=Rd();Wh(d,a,e.layoutBox);const h=Rd();c?Wh(h,t.applyTransform(i,!0),e.measuredBox):Wh(h,a,e.layoutBox);const m=!k3(d);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:y}=g;if(v&&y){const w=Hn();Zh(w,e.layoutBox,v.layoutBox);const j=Hn();Zh(j,a,y.layoutBox),E3(w,j)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=w,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:a,snapshot:e,delta:h,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:a}=t.options;a&&a()}t.options.transition=void 0}function qae(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Hae(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Gae(t){t.clearSnapshot()}function xC(t){t.clearMeasurements()}function Kae(t){t.isLayoutDirty=!1}function Yae(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function vC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Xae(t){t.resolveTargetDelta()}function Wae(t){t.calcProjection()}function Zae(t){t.resetSkewAndRotation()}function Qae(t){t.removeLeadSnapshot()}function bC(t,e,n){t.translate=En(e.translate,0,n),t.scale=En(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function yC(t,e,n,a){t.min=En(e.min,n.min,a),t.max=En(e.max,n.max,a)}function Jae(t,e,n,a){yC(t.x,e.x,n.x,a),yC(t.y,e.y,n.y,a)}function ere(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tre={duration:.45,ease:[.4,0,.1,1]},jC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),wC=jC("applewebkit/")&&!jC("chrome/")?Math.round:fr;function NC(t){t.min=wC(t.min),t.max=wC(t.max)}function nre(t){NC(t.x),NC(t.y)}function T3(t,e,n){return t==="position"||t==="preserve-aspect"&&!aae(mC(e),mC(n),.2)}function sre(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const are=C3({attachResizeListener:(t,e)=>Cf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zy={current:void 0},_3=C3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!zy.current){const t=new are({});t.mount(window),t.setOptions({layoutScroll:!0}),zy.current=t}return zy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),rre={pan:{Feature:jae},drag:{Feature:yae,ProjectionNode:_3,MeasureLayout:w3}};function SC(t,e,n){const{props:a}=t;t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=a[i];o&&Cn.postRender(()=>o(e,rm(e)))}class ire extends Nl{mount(){const{current:e}=this.node;e&&(this.unmount=Lne(e,(n,a)=>(SC(this.node,a,"Start"),i=>SC(this.node,i,"End"))))}unmount(){}}class ore extends Nl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=nm(Cf(this.node.current,"focus",()=>this.onFocus()),Cf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kC(t,e,n){const{props:a}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&a.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=a[i];o&&Cn.postRender(()=>o(e,rm(e)))}class lre extends Nl{mount(){const{current:e}=this.node;e&&(this.unmount=Une(e,(n,a)=>(kC(this.node,a,"Start"),(i,{success:o})=>kC(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cj=new WeakMap,Uy=new WeakMap,cre=t=>{const e=cj.get(t.target);e&&e(t)},dre=t=>{t.forEach(cre)};function ure({root:t,...e}){const n=t||document;Uy.has(n)||Uy.set(n,{});const a=Uy.get(n),i=JSON.stringify(e);return a[i]||(a[i]=new IntersectionObserver(dre,{root:t,...e})),a[i]}function hre(t,e,n){const a=ure(e);return cj.set(t,n),a.observe(t),()=>{cj.delete(t),a.unobserve(t)}}const fre={some:0,all:1};class mre extends Nl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:a,amount:i="some",once:o}=e,c={root:n?n.current:void 0,rootMargin:a,threshold:typeof i=="number"?i:fre[i]},d=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=m?p:g;v&&v(h)};return hre(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(pre(e,n))&&this.startObserver()}unmount(){}}function pre({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gre={inView:{Feature:mre},tap:{Feature:lre},focus:{Feature:ore},hover:{Feature:ire}},xre={layout:{ProjectionNode:_3,MeasureLayout:w3}},dj={current:null},R3={current:!1};function vre(){if(R3.current=!0,!!$1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>dj.current=t.matches;t.addListener(e),e()}else dj.current=!1}const bre=new WeakMap;function yre(t,e,n){for(const a in e){const i=e[a],o=n[a];if(Xs(i))t.addValue(a,i);else if(Xs(o))t.addValue(a,Sf(i,{owner:t}));else if(o!==i)if(t.hasValue(a)){const c=t.getValue(a);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(a);t.addValue(a,Sf(c!==void 0?c:i,{owner:t}))}}for(const a in n)e[a]===void 0&&t.removeValue(a);return e}const EC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class jre{scrapeMotionValuesFromProps(e,n,a){return{}}constructor({parent:e,props:n,presenceContext:a,reducedMotionConfig:i,blockInitialAnimation:o,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=aw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=xa.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Cn.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=a,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=$x(n),this.isVariantNode=QO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const y=g[v];h[v]!==void 0&&Xs(y)&&y.set(h[v],!1)}}mount(e){this.current=e,bre.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),R3.current||vre(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dj.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),fl(this.notifyUpdate),fl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const a=yu.has(e);a&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Cn.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ru){const n=ru[e];if(!n)continue;const{isEnabled:a,Feature:i}=n;if(!this.features[e]&&i&&a(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let a=0;a<EC.length;a++){const i=EC[a];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,c=e[o];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=yre(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const a=this.values.get(e);n!==a&&(a&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let a=this.values.get(e);return a===void 0&&n!==void 0&&(a=Sf(n===null?void 0:n,{owner:this}),this.addValue(e,a)),a}readValue(e,n){let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(lO(a)||cO(a))?a=parseFloat(a):!qne(a)&&ml.test(n)&&(a=HO(e,n)),this.setBaseTarget(e,Xs(a)?a.get():a)),Xs(a)?a.get():a}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const c=pw(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);c&&(a=c[e])}if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Xs(i)?i:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new K1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class D3 extends jre{constructor(){super(...arguments),this.KeyframeResolver=Mne}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:a}){delete n[e],delete a[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xs(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function M3(t,{style:e,vars:n},a,i){Object.assign(t.style,e,i&&i.getProjectionStyles(a));for(const o in n)t.style.setProperty(o,n[o])}function wre(t){return window.getComputedStyle(t)}class Nre extends D3{constructor(){super(...arguments),this.type="html",this.renderInstance=M3}readValueFromInstance(e,n){if(yu.has(n))return Qte(e,n);{const a=wre(e),i=(W1(n)?a.getPropertyValue(n):a[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return v3(e,n)}build(e,n,a){hw(e,n,a.transformTemplate)}scrapeMotionValuesFromProps(e,n,a){return gw(e,n,a)}}const P3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Sre(t,e,n,a){M3(t,e,void 0,a);for(const i in e.attrs)t.setAttribute(P3.has(i)?i:uw(i),e.attrs[i])}class kre extends D3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(yu.has(n)){const a=qO(n);return a&&a.default||0}return n=P3.has(n)?n:uw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,a){return l3(e,n,a)}build(e,n,a){a3(e,n,this.isSVGTag,a.transformTemplate)}renderInstance(e,n,a,i){Sre(e,n,a,i)}mount(e){this.isSVGTag=i3(e.tagName),super.mount(e)}}const Ere=(t,e)=>mw(t)?new kre(e):new Nre(e,{allowProjection:t!==x.Fragment}),Are=Sse({...Wse,...gre,...rre,...xre},Ere),sg=Xne(Are);function O3(t,e,n){const a={...t};return e.top+t.y<=n.top?a.y=n.top-e.top:e.bottom+t.y>=n.top+n.height&&(a.y=n.top+n.height-e.bottom),e.left+t.x<=n.left?a.x=n.left-e.left:e.right+t.x>=n.left+n.width&&(a.x=n.left+n.width-e.right),a}const Cre=t=>{let{containerNodeRect:e,draggingNodeRect:n,transform:a}=t;return!n||!e?a:O3(a,n,e)},L3=t=>{let{transform:e}=t;return{...e,x:0}},Tre=t=>{let{transform:e,draggingNodeRect:n,windowRect:a}=t;return!n||!a?e:O3(e,n,a)},_re=({categoryId:t})=>{const{attributes:e,listeners:n,setNodeRef:a,transform:i,transition:o,isDragging:c}=sO({id:t}),d={transform:su.Transform.toString(i),transition:o,opacity:c?.5:1};return s.jsx("div",{ref:a,style:d,...e,...n,className:"absolute left-1 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing",children:s.jsx(H_,{className:"h-4 w-4 text-muted-foreground"})})},AC=({category:t,aspects:e,categories:n,onAddAspect:a,onEditAspect:i,onSaveAspect:o,onDeleteAspect:c,editingAspectId:d,newAspectCategoryId:h,onCancelEdit:m,loading:p=!1,sectionNumber:g=1,isEditMode:v=!1,onAspectReorder:y,onUpdateCategory:w,onDeleteCategory:j})=>{const S=h===t.id,k=e,[E,A]=ve.useState(!1),[T,_]=ve.useState(t.name),[M,P]=ve.useState(t.description||""),[O,I]=ve.useState(!1),[G,R]=ve.useState(!1),[X,$]=ve.useState(!1);ve.useEffect(()=>{_(t.name),P(t.description||"")},[t.name,t.description]);const Z=()=>{A(!0)},te=()=>{A(!1),_(t.name),P(t.description||"")},L=async()=>{if(!(!w||!T.trim()))try{I(!0),await w(t.id,{name:T.trim(),description:M.trim()||void 0}),A(!1)}catch(K){console.error("Error updating category:",K)}finally{I(!1)}},V=()=>{R(!0)},B=async()=>{if(j)try{$(!0),await j(t.id),R(!1)}catch(K){console.error("Error deleting category:",K)}finally{$(!1)}},Y=MP(Cg(Lx,{activationConstraint:{distance:8}}),Cg(Ox,{coordinateGetter:aO})),se=async K=>{const{active:z,over:W}=K;if(W&&z.id!==W.id&&y){const q=k.findIndex(H=>H.id===W.id);await y(z.id,q)}};return s.jsxs("div",{className:"bg-card rounded-lg border overflow-hidden group",children:[s.jsxs("div",{className:"border-l-4 border-primary bg-muted/50 px-4 sm:px-6 py-4 relative",children:[v&&s.jsx(_re,{categoryId:t.id}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap",children:[s.jsxs("span",{className:"text-sm text-primary font-medium whitespace-nowrap",children:["Bagian ",g]}),s.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full"}),s.jsxs("span",{className:"text-muted-foreground text-sm whitespace-nowrap",children:[k.length," pertanyaan"]})]}),E?s.jsxs("div",{className:"mt-2 space-y-3",children:[s.jsx("input",{type:"text",value:T,onChange:K=>_(K.target.value),className:"text-lg sm:text-xl font-medium bg-transparent border-none outline-none focus:ring-0 p-0 w-full placeholder-muted-foreground border-b-2 border-primary/30 focus:border-primary",placeholder:"Nama bagian",disabled:O}),s.jsx("textarea",{value:M,onChange:K=>P(K.target.value),className:"text-sm text-muted-foreground bg-transparent border-none outline-none focus:ring-0 p-0 w-full resize-none placeholder-muted-foreground border-b border-muted focus:border-primary",placeholder:"Deskripsi bagian (opsional)",rows:2,disabled:O}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{onClick:L,disabled:O||!T.trim(),size:"sm",children:[s.jsx(F_,{className:"h-3 w-3 mr-1"}),O?"Menyimpan...":"Simpan"]}),s.jsxs(pe,{onClick:te,disabled:O,variant:"ghost",size:"sm",children:[s.jsx(mg,{className:"h-3 w-3 mr-1"}),"Batal"]})]})]}):s.jsxs("div",{className:"mt-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-medium break-words",children:t.name}),v&&s.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[w&&s.jsx(pe,{onClick:Z,variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:s.jsx(Wo,{className:"h-3 w-3"})}),j&&s.jsx(pe,{onClick:V,variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",children:s.jsx(fg,{className:"h-3 w-3"})})]})]}),t.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.description})]})]}),v&&s.jsx("div",{className:"flex-shrink-0",children:s.jsxs(pe,{onClick:()=>a(t.id),disabled:p||S,variant:"outline",size:"sm",children:[s.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Tambah Pertanyaan"]})})]})]}),s.jsxs("div",{className:"p-6",children:[S&&s.jsx("div",{className:"mb-6",children:s.jsx(Cy,{categories:n,isEditing:!0,onEdit:()=>{},onCancel:m,onSave:K=>o(null,K),loading:p,defaultCategoryId:t.id})}),k.length===0&&!S?s.jsx("div",{className:"text-center py-12 border-2 border-dashed border-border rounded-lg",children:s.jsx("p",{className:"text-muted-foreground text-sm",children:"Belum ada pertanyaan dalam bagian ini"})}):v?s.jsx(WP,{sensors:Y,collisionDetection:IP,onDragEnd:se,modifiers:[L3,Cre],children:s.jsx(tO,{items:k.map(K=>K.id),strategy:QP,children:s.jsx("div",{className:"space-y-4",children:k.map((K,z)=>s.jsx(Cy,{aspect:K,categories:n,isEditing:d===K.id,onEdit:()=>i(K),onCancel:m,onSave:W=>o(K.id,W),onDelete:c,loading:p,questionNumber:z+1,isEditMode:v,isDragMode:!0},K.id))})})}):s.jsx("div",{className:"space-y-4",children:k.map((K,z)=>s.jsx(sg.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,delay:z*.05},children:s.jsx(Cy,{aspect:K,categories:n,isEditing:!1,onEdit:()=>i(K),onCancel:m,onSave:W=>o(K.id,W),onDelete:c,loading:p,questionNumber:z+1,isEditMode:v,isDragMode:!1},K.id)},K.id))})]}),s.jsx(ss,{open:G,onOpenChange:R,children:s.jsxs(Gn,{children:[s.jsxs(Kn,{children:[s.jsx(Xn,{children:"Hapus Bagian"}),s.jsxs(Wn,{children:['Apakah Anda yakin ingin menghapus bagian "',t.name,'"? Tindakan ini tidak dapat dibatalkan dan akan menghapus semua aspek penilaian di bagian ini dari seluruh evaluasi guru.']})]}),s.jsxs(Yn,{children:[s.jsx(Qn,{onClick:()=>R(!1),children:"Batal"}),s.jsx(Zn,{onClick:B,disabled:X,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:X?"Menghapus...":"Hapus"})]})]})})]})},Rre=()=>{const{toast:t}=_t(),{isAdmin:e}=as(),[n,a]=x.useState([]),[i,o]=x.useState([]),[c,d]=x.useState(!0),[h,m]=x.useState(!1),[p,g]=x.useState(null),[v,y]=x.useState(null),[w,j]=x.useState(!1),[S,k]=x.useState(!1),E=MP(Cg(Lx,{activationConstraint:{distance:8}}),Cg(Ox,{coordinateGetter:aO})),A=async q=>{const{active:H,over:ee}=q;if(ee&&H.id!==ee.id){const ne=n;a(ie=>{const he=ie.findIndex(ue=>ue.id===H.id),ae=ie.findIndex(ue=>ue.id===ee.id);return Cd(ie,he,ae)});try{k(!0);const ie=Cd(ne,ne.findIndex(he=>he.id===H.id),ne.findIndex(he=>he.id===ee.id));await Promise.all(ie.map((he,ae)=>sr.updateCategoryOrder({category_id:he.id,new_order:ae+1}))),t({title:"Berhasil",description:"Urutan kategori berhasil diperbarui."})}catch(ie){console.error("Error updating category order:",ie),a(ne),t({title:"Error",description:(ie==null?void 0:ie.message)||"Gagal memperbarui urutan kategori.",variant:"destructive"})}finally{k(!1)}}},[T,_]=x.useState(!1),[M,P]=x.useState({name:"",description:""}),[O,I]=x.useState(!1),[G,R]=x.useState(null);x.useEffect(()=>{if(!e()){t({title:"Akses Ditolak",description:"Anda tidak memiliki izin untuk mengakses halaman ini.",variant:"destructive"});return}X()},[e]);const X=async()=>{try{d(!0);const q=await sr.getCategories();o(q);const H=await Promise.all(q.map(ee=>sr.getCategoryWithAspects(ee.id)));a(H)}catch(q){console.error("Error loading evaluation aspects:",q);const H=(q==null?void 0:q.message)||"Gagal memuat data aspek evaluasi. Silakan coba lagi.";t({title:"Error",description:H,variant:"destructive"})}finally{d(!1)}},$=q=>{g(null),y(q)},Z=q=>{y(null),g(q.id)},te=()=>{g(null),y(null)},L=async(q,H)=>{try{if(m(!0),q){const ee=await sr.updateEvaluationAspect(q,H);a(ne=>ne.map(ie=>({...ie,aspects:ie.aspects.map(he=>he.id===q?ee:he)}))),t({title:"Berhasil",description:"Aspek evaluasi berhasil diperbarui."})}else{const ee=await sr.createEvaluationAspect(H);a(ne=>ne.map(ie=>ie.id===ee.category_id?{...ie,aspects:[...ie.aspects,ee]}:ie)),t({title:"Berhasil",description:"Aspek evaluasi berhasil ditambahkan."})}te()}catch(ee){console.error("Error saving aspect:",ee);const ne=(ee==null?void 0:ee.message)||"Gagal menyimpan aspek evaluasi. Silakan coba lagi.";t({title:"Error",description:ne,variant:"destructive"})}finally{m(!1)}},V=q=>{R(q),I(!0)},B=async()=>{if(G)try{m(!0),await sr.deleteEvaluationAspect(G.id),a(q=>q.map(H=>({...H,aspects:H.aspects.filter(ee=>ee.id!==G.id)}))),t({title:"Aspek evaluasi berhasil dihapus",description:`Aspek "${G.aspect_name}" telah dihapus dari sistem.`})}catch(q){console.error("Error deleting aspect:",q);const H=(q==null?void 0:q.message)||"Gagal menghapus aspek evaluasi. Silakan coba lagi.";t({title:"Error",description:H,variant:"destructive"})}finally{m(!1),I(!1),R(null)}},Y=()=>{P({name:"",description:""}),_(!0)},se=async()=>{if(M.name&&M.name.trim())try{m(!0);const q=await sr.createCategory({...M,name:M.name.trim()});o(H=>[...H,q]),a(H=>[...H,{...q,aspects:[]}]),$(q.id),_(!1),P({name:"",description:""}),t({title:"Berhasil",description:"Kategori baru berhasil dibuat."})}catch(q){console.error("Error creating category:",q),t({title:"Error",description:(q==null?void 0:q.message)||"Gagal membuat kategori baru.",variant:"destructive"})}finally{m(!1)}},K=async(q,H)=>{try{m(!0);const ee=await sr.updateCategory(q,H);o(ne=>ne.map(ie=>ie.id===q?ee:ie)),a(ne=>ne.map(ie=>ie.id===q?{...ie,name:ee.name,description:ee.description}:ie)),t({title:"Berhasil",description:"Kategori berhasil diperbarui."})}catch(ee){throw console.error("Error updating category:",ee),t({title:"Error",description:(ee==null?void 0:ee.message)||"Gagal memperbarui kategori.",variant:"destructive"}),ee}finally{m(!1)}},z=async q=>{try{m(!0),await sr.deleteCategory(q),o(H=>H.filter(ee=>ee.id!==q)),a(H=>H.filter(ee=>ee.id!==q)),t({title:"Berhasil",description:"Kategori berhasil dihapus."})}catch(H){throw console.error("Error deleting category:",H),t({title:"Error",description:(H==null?void 0:H.message)||"Gagal menghapus kategori.",variant:"destructive"}),H}finally{m(!1)}},W=n;return e()?c?s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-muted rounded w-1/3"}),s.jsx("div",{className:"h-10 bg-muted rounded"}),s.jsx("div",{className:"space-y-4",children:[1,2,3].map(q=>s.jsx("div",{className:"h-32 bg-muted rounded"},q))})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(Cs,{title:"Manajemen Aspek Evaluasi",description:"Kelola aspek-aspek yang digunakan dalam evaluasi kinerja guru",actions:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(pe,{onClick:()=>j(!w),variant:w?"outline":"default",children:w?"Selesai Edit":"Ubah Aspek Evaluasi"}),w&&s.jsxs(pe,{onClick:Y,disabled:h,children:[s.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Tambah Bagian Baru"]})]})}),W.length===0?s.jsx("div",{className:"text-center py-16",children:s.jsxs("div",{className:"bg-card rounded-lg border p-12 max-w-md mx-auto",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ls,{className:"h-8 w-8 text-primary"})}),s.jsx("h3",{className:"text-xl font-medium mb-2",children:"Mulai membuat aspek evaluasi"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Buat bagian dan pertanyaan pertama untuk aspek evaluasi Anda"}),s.jsxs(pe,{onClick:Y,children:[s.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Buat Bagian Pertama"]})]})}):s.jsxs("div",{className:"space-y-6",children:[w?s.jsxs(WP,{sensors:E,collisionDetection:IP,onDragEnd:A,modifiers:[L3,Tre],children:[S&&s.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-primary text-primary-foreground px-4 py-2 rounded-lg shadow-lg flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Menyimpan urutan..."]}),s.jsx(tO,{items:W.map(q=>q.id),strategy:QP,children:s.jsx("div",{className:"space-y-6",children:W.map((q,H)=>s.jsx(sg.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:s.jsx(AC,{category:q,aspects:q.aspects,categories:i,onAddAspect:$,onEditAspect:Z,onSaveAspect:L,onDeleteAspect:ee=>V(ee),editingAspectId:p,newAspectCategoryId:v,onCancelEdit:te,loading:h,sectionNumber:H+1,isEditMode:w,onUpdateCategory:K,onDeleteCategory:z,onAspectReorder:async(ee,ne)=>{const ie=n;a(he=>he.map(ae=>ae.id===q.id?{...ae,aspects:Cd(ae.aspects,ae.aspects.findIndex(ue=>ue.id===ee),ne)}:ae));try{k(!0);const he=n.find(ae=>ae.id===q.id);if(he){const ue=Cd(he.aspects,he.aspects.findIndex(ce=>ce.id===ee),ne).reduce((ce,Ce,Oe)=>(ce[Ce.id]=Oe+1,ce),{});await sr.reorderAspectsInCategory({category_id:q.id,aspect_orders:ue}),t({title:"Berhasil",description:"Urutan aspek berhasil diperbarui."})}}catch(he){console.error("Error updating aspect order:",he),a(ie),t({title:"Error",description:(he==null?void 0:he.message)||"Gagal memperbarui urutan aspek.",variant:"destructive"})}finally{k(!1)}}},q.id)},q.id))})})]}):s.jsx("div",{className:"space-y-6",children:W.map((q,H)=>s.jsx(sg.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2,delay:H*.1},children:s.jsx(AC,{category:q,aspects:q.aspects,categories:i,onAddAspect:$,onEditAspect:Z,onSaveAspect:L,onDeleteAspect:ee=>V(ee),editingAspectId:p,newAspectCategoryId:v,onCancelEdit:te,loading:h,sectionNumber:H+1,isEditMode:w,onUpdateCategory:K,onDeleteCategory:z},q.id)},q.id))}),w&&s.jsx(sg.div,{className:"flex justify-center mt-8",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.2},children:s.jsxs(pe,{onClick:Y,disabled:h,variant:"outline",className:"border-dashed border-2 hover:border-primary hover:bg-primary/5 py-3 px-6",children:[s.jsx(Ls,{className:"h-5 w-5 mr-2"}),"Tambah Bagian"]})})]}),s.jsx(nn,{open:T,onOpenChange:_,children:s.jsxs(sn,{className:"max-w-md",children:[s.jsx(an,{children:s.jsx(rn,{children:"Buat Bagian Baru"})}),s.jsx("div",{className:"py-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(at,{placeholder:"Nama bagian (contoh: Kompetensi Pedagogik)",value:M.name,onChange:q=>P(H=>({...H,name:q.target.value})),onKeyDown:q=>{q.key==="Enter"&&!q.shiftKey&&se()},autoFocus:!0}),s.jsx(at,{placeholder:"Deskripsi bagian (opsional)",value:M.description||"",onChange:q=>P(H=>({...H,description:q.target.value}))})]})}),s.jsxs(zs,{children:[s.jsx(pe,{variant:"outline",onClick:()=>{_(!1),P({name:"",description:""})},disabled:h,children:"Batal"}),s.jsx(pe,{onClick:se,disabled:!M.name.trim()||h,children:h?"Membuat...":"Buat Bagian"})]})]})}),s.jsx(ss,{open:O,onOpenChange:I,children:s.jsxs(Gn,{children:[s.jsxs(Kn,{children:[s.jsx(Xn,{children:"Hapus Pertanyaan"}),s.jsxs(Wn,{children:['Apakah Anda yakin ingin menghapus pertanyaan "',G==null?void 0:G.aspect_name,'"? Tindakan ini tidak dapat dibatalkan.']})]}),s.jsxs(Yn,{children:[s.jsx(Qn,{onClick:()=>{I(!1),R(null)},children:"Batal"}),s.jsx(Zn,{onClick:B,disabled:h,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:h?"Menghapus...":"Hapus"})]})]})}),s.jsxs(pa,{className:"mt-8",variant:"default",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(ol,{className:"h-4 w-4"}),s.jsx(fD,{children:"Panduan Manajemen Aspek Evaluasi"})]}),s.jsxs(ga,{className:"mt-4 space-y-2",children:[s.jsx("div",{className:"flex flex-col gap-4 text-sm",children:s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[s.jsx("li",{children:'Klik "Edit Aspek Evaluasi" untuk masuk mode editing'}),s.jsx("li",{children:"Seret untuk mengubah urutan bagian dan pertanyaan"}),s.jsx("li",{children:"Edit nama bagian dengan klik ikon pensil"}),s.jsx("li",{children:"Hapus bagian kosong dengan klik ikon tempat sampah"})]})}),s.jsx("div",{className:"mt-4 p-4 bg-gradient-to-r from-amber-50 to-yellow-50 dark:from-amber-950 dark:to-yellow-950 border border-amber-200 dark:border-amber-800 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-lg",children:"💡"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-amber-800 dark:text-amber-200 mb-1",children:"Tips Penting:"}),s.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Bagian yang sudah memiliki pertanyaan tidak dapat dihapus. Hapus semua pertanyaan dalam bagian terlebih dahulu jika ingin menghapus bagian tersebut."})]})]})})]})]})]}):s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h1",{className:"text-2xl font-bold text-destructive mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki izin untuk mengakses halaman manajemen aspek evaluasi."})]})})},I3=t=>t==null?"Belum dinilai":t.toFixed(2),B3=t=>t==null?"Belum dinilai":t.toFixed(2),Dre=({evaluations:t,loading:e=!1,onView:n,onEvaluate:a,onEdit:i,canEdit:o,userRole:c})=>{const d=h=>{const m=c!=="GURU"&&!!a,p=!!i&&!!o&&o(h);return{onView:()=>n(h),onEdit:p?()=>i(h):void 0,onEvaluate:m?()=>a(h):void 0,showView:!0,showEdit:p,showEvaluate:m,showDelete:!1}};return e?s.jsx("div",{className:"rounded-md border",children:s.jsxs(fs,{children:[s.jsx(ms,{children:s.jsxs(et,{children:[s.jsx(Te,{children:"Guru"}),s.jsx(Te,{children:"Jabatan"}),s.jsx(Te,{children:"Sekolah"}),s.jsx(Te,{children:"Evaluator"}),s.jsx(Te,{className:"text-center",children:"Rata-rata Skor"}),s.jsx(Te,{className:"text-center",children:"Nilai Final"}),s.jsx(Te,{className:"w-[100px] text-center",children:"Aksi"})]})}),s.jsx(ps,{children:[1,2,3,4,5].map(h=>s.jsx(et,{children:[1,2,3,4,5,6,7].map(m=>s.jsx(Ee,{children:s.jsx("div",{className:"h-4 bg-muted animate-pulse rounded"})},m))},h))})]})}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(fs,{children:[s.jsx(ms,{children:s.jsxs(et,{children:[s.jsx(Te,{children:"Guru"}),s.jsx(Te,{children:"Jabatan"}),s.jsx(Te,{children:"Sekolah"}),s.jsx(Te,{children:"Evaluator"}),s.jsx(Te,{className:"text-center",children:"Rata-rata Skor"}),s.jsx(Te,{className:"text-center",children:"Nilai Final"}),s.jsx(Te,{className:"w-[100px] text-center",children:"Aksi"})]})}),s.jsx(ps,{children:t.length===0?s.jsx(et,{children:s.jsx(Ee,{colSpan:7,className:"h-24 text-center text-muted-foreground",children:"Tidak ada data evaluasi guru."})}):t.map(h=>{var m,p,g,v;return s.jsxs(et,{children:[s.jsx(Ee,{children:((m=h.teacher)==null?void 0:m.full_name)||"N/A"}),s.jsx(Ee,{children:((g=(p=h.teacher)==null?void 0:p.profile)==null?void 0:g.position)||"-"}),s.jsx(Ee,{children:h.organization_name||"N/A"}),s.jsx(Ee,{children:((v=h.evaluator)==null?void 0:v.full_name)||"N/A"}),s.jsx(Ee,{className:"text-center",children:I3(h.average_score)}),s.jsx(Ee,{className:"text-center",children:B3(h.final_grade)}),s.jsx(Ee,{className:"text-center",children:s.jsx(un,{...d(h)})})]},h.id)})})]})})},Mre=({evaluations:t,loading:e=!1,onView:n,onEvaluate:a,onEdit:i,canEdit:o,userRole:c})=>{const d=h=>{const m=c!=="GURU"&&!!a,p=!!i&&!!o&&o(h);return{onView:()=>n(h),onEdit:p?()=>i(h):void 0,onEvaluate:m?()=>a(h):void 0,showView:!0,showEdit:p,showEvaluate:m,showDelete:!1}};return e?s.jsx("div",{className:"grid gap-4",children:[1,2,3,4,5].map(h=>s.jsx(je,{children:s.jsx(we,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 bg-muted animate-pulse rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-muted animate-pulse rounded w-1/2"}),s.jsx("div",{className:"h-3 bg-muted animate-pulse rounded w-2/3"})]})})},h))}):t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Yd,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Tidak ada data evaluasi guru."})]}):s.jsx("div",{className:"grid gap-4",children:t.map(h=>{var m,p,g,v;return s.jsx(je,{className:"hover:shadow-md transition-shadow",children:s.jsxs(we,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(cl,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"font-medium truncate",children:((m=h.teacher)==null?void 0:m.full_name)||"N/A"})]}),((g=(p=h.teacher)==null?void 0:p.profile)==null?void 0:g.position)&&s.jsx("div",{className:"text-sm text-muted-foreground ml-6",children:h.teacher.profile.position})]}),s.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:s.jsx(un,{...d(h)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ll,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:h.organization_name||"N/A"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(cl,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:["Evaluator: ",((v=h.evaluator)==null?void 0:v.full_name)||"N/A"]})]}),s.jsx("div",{className:"flex items-center justify-between pt-2 border-t",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bd,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{className:"text-sm",children:["Rata-rata: ",s.jsx("span",{className:"font-medium",children:I3(h.average_score)})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(x7,{className:"h-4 w-4 text-muted-foreground"}),"Nilai: ",B3(h.final_grade)]})]})})]})]})},h.id)})})},Pre=({activePeriod:t,onSuccess:e,triggerButton:n})=>{const{toast:a}=_t(),[i,o]=x.useState(!1),[c,d]=x.useState(!1),h=async()=>{if(!t){a({title:"Error",description:"Tidak ada periode aktif yang tersedia.",variant:"destructive"});return}try{d(!0);const g=await zd.assignTeachersToPeriod({period_id:t.id});a({title:g.success?"Berhasil Menetapkan Guru":"Penetapan Guru Selesai",description:g.message||`${g.created_evaluations} evaluasi berhasil dibuat, ${g.skipped_evaluations} sudah ada sebelumnya. Periode: ${g.period_name}`}),e&&e(),o(!1)}catch(g){console.error("Error assigning teachers to period:",g),a({title:"Error",description:(g==null?void 0:g.message)||"Gagal menetapkan guru ke periode. Silakan coba lagi.",variant:"destructive"})}finally{d(!1)}},m=g=>{o(g)},p=s.jsxs(pe,{children:[s.jsx(ds,{className:"h-4 w-4 mr-2"}),"Tetapkan Guru ke Periode"]});return s.jsxs(nn,{open:i,onOpenChange:m,children:[s.jsx($D,{asChild:!0,children:n||p}),s.jsxs(sn,{children:[s.jsxs(an,{children:[s.jsx(rn,{children:"Tetapkan Guru ke Periode"}),s.jsx(Hf,{children:t?s.jsxs(s.Fragment,{children:["Membuat evaluasi kosong untuk semua guru di periode aktif: ",s.jsxs("strong",{children:[t.academic_year," - ",t.semester]}),". Sistem akan otomatis membuat aspek evaluasi untuk semua guru aktif dalam periode tersebut."]}):"Tidak ada periode aktif yang tersedia. Pastikan ada periode yang sedang aktif untuk melakukan penetapan guru."})]}),s.jsx("div",{className:"space-y-4 py-4",children:t?s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{children:"Periode Aktif"}),s.jsxs("div",{className:"p-3 bg-primary/10 border border-primary/20 rounded-md",children:[s.jsxs("div",{className:"font-medium text-primary",children:[t.academic_year," - ",t.semester]}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Evaluasi akan otomatis dibuat untuk periode yang sedang aktif"})]})]}):s.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-md",children:[s.jsx("div",{className:"font-medium text-destructive",children:"Tidak ada periode aktif"}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Pastikan ada periode yang sedang aktif untuk melakukan penetapan guru"})]})}),s.jsxs(zs,{children:[s.jsx(pe,{variant:"outline",onClick:()=>o(!1),disabled:c,children:"Batal"}),s.jsx(pe,{onClick:h,disabled:!t||c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(Z_,{className:"h-4 w-4 mr-2 animate-spin"}),"Menetapkan..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ds,{className:"h-4 w-4 mr-2"}),"Tetapkan Guru"]})})]})]})]})},Ore=({aspect:t,control:e,name:n,questionNumber:a,disabled:i=!1,value:o})=>s.jsx("div",{className:"group bg-card border rounded-lg p-6 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex flex-col lg:flex-row items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-primary",children:a})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-normal mb-2",children:t.aspect_name}),t.description&&s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:t.description}),s.jsx("div",{className:"inline-flex items-center px-2 py-1 bg-muted rounded text-xs text-muted-foreground mb-4",children:"Tipe: Pilihan Ganda (A-D)"})]})}),s.jsx("div",{className:"space-y-2",children:i&&o||!e?s.jsx(s.Fragment,{children:BE.map(c=>s.jsxs("div",{className:`flex items-center space-x-2 p-2 border rounded-md ${o===c.value?"bg-primary/10 border-primary":"bg-muted/30 hover:bg-muted/30"}`,children:[s.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${o===c.value?"border-primary bg-primary":"border-border"}`,children:o===c.value&&s.jsx("div",{className:"w-full h-full rounded-full bg-white scale-50"})}),s.jsxs("span",{className:`text-sm ${o===c.value?"font-medium":""}`,children:[c.label," - ",c.description," (",c.score,")"]})]},c.value))}):e?s.jsx(FC,{name:n,control:e,render:({field:c,fieldState:{error:d}})=>s.jsxs(s.Fragment,{children:[BE.map(h=>s.jsxs("div",{className:`flex items-center space-x-2 p-2 border rounded-md cursor-pointer hover:bg-muted/30 transition-colors ${c.value===h.value?"bg-primary/10 border-primary":"border-border"}`,onClick:()=>!i&&c.onChange(h.value),children:[s.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${c.value===h.value?"border-primary bg-primary":"border-border"}`,children:c.value===h.value&&s.jsx("div",{className:"w-full h-full rounded-full bg-white scale-50"})}),s.jsxs(Pe,{className:"flex-1 text-sm cursor-pointer",children:[h.label," - ",h.description," (",h.score,")"]})]},h.value)),d&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:d.message})]})}):null})]})]})}),Lre=({category:t,aspects:e,control:n,sectionNumber:a,disabled:i=!1,evaluationData:o})=>{const c=e.filter(d=>d.category_name===t).sort((d,h)=>(d.display_order||0)-(h.display_order||0));return s.jsxs("div",{className:"bg-card rounded-lg border overflow-hidden",children:[s.jsxs("div",{className:"border-l-4 border-primary bg-muted/50 px-4 sm:px-6 py-4",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap",children:[s.jsxs("span",{className:"text-sm text-primary font-medium whitespace-nowrap",children:["Bagian ",a]}),s.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full"}),s.jsxs("span",{className:"text-muted-foreground text-sm whitespace-nowrap",children:[c.length," aspek penilaian"]})]}),s.jsx("h2",{className:"text-lg sm:text-xl font-medium mt-1 break-words",children:t})]}),s.jsx("div",{className:"p-6 space-y-6",children:c.length===0?s.jsx("div",{className:"text-center py-12 border-2 border-dashed border-border rounded-lg",children:s.jsx("p",{className:"text-muted-foreground text-sm",children:"Tidak ada aspek penilaian dalam bagian ini"})}):s.jsx("div",{className:"space-y-6",children:c.map((d,h)=>s.jsx(Ore,{aspect:d,control:n,name:`aspects.${d.id}`,questionNumber:h+1,disabled:i,value:o==null?void 0:o[d.id.toString()]},d.id))})})]})},Ire=()=>{const{currentRole:t,isAdmin:e,isKepalaSekolah:n}=as(),{user:a}=mr(),{toast:i}=_t(),o=Ei();if(t==="GURU")return s.jsx(to,{to:"/my-evaluations",replace:!0});const{updateURL:c,getCurrentFilters:d}=oa({defaults:{search:"",period_id:"active",organization_id:"all",page:1,size:10},cleanDefaults:!0}),h=d(),[m,p]=x.useState([]),[g,v]=x.useState([]),[y,w]=x.useState([]),[j,S]=x.useState(null),[k,E]=x.useState(!0),[A,T]=x.useState(0),[_,M]=x.useState(0),P=e()||n(),O=async()=>{E(!0);try{const z={skip:(h.page-1)*h.size,limit:h.size};h.period_id==="active"&&j?z.period_id=j.id:h.period_id!=="active"&&e()?z.period_id=Number(h.period_id):e()||(z.period_id=j==null?void 0:j.id),h.search&&h.search.trim()&&(z.search=h.search.trim()),e()&&h.organization_id!=="all"&&(z.organization_id=Number(h.organization_id));const W=await zd.getTeacherEvaluationsFiltered(z);p(W.items||[]),T(W.total||0),M(W.pages||0)}catch(z){console.error("Error loading evaluations:",z);const W=(z==null?void 0:z.message)||"Gagal memuat data evaluasi. Silakan coba lagi.";i({title:"Error",description:W,variant:"destructive"})}finally{E(!1)}},I=async()=>{if(e())try{const z=await Or.getOrganizations();v(z.items||[])}catch(z){console.error("Error loading organizations:",z)}},G=async()=>{try{const z=await kn.getPeriods({page:1,size:100});w(z.items||[])}catch(z){console.error("Error loading periods:",z)}},R=async()=>{try{const z=await kn.getActivePeriod();S(z)}catch(z){console.error("Error loading active period:",z);try{const q=(await kn.getPeriods({is_active:!0,page:1,size:100})).items||[];q.length>0&&S(q[0])}catch(W){console.error("Error in fallback active period load:",W)}}};x.useEffect(()=>{P&&(I(),G(),R())},[P]),x.useEffect(()=>{j&&(h.period_id==="active"||!h.period_id)&&c({period_id:j.id.toString()})},[j]),x.useEffect(()=>{P&&O()},[h.page,h.size,h.search,h.period_id,h.organization_id,P]);const X=z=>{var H;const W=h.period_id==="active"&&j?j.id:h.period_id,q=z.teacher_id||((H=z.teacher)==null?void 0:H.id);o(`/teacher-evaluations/${q}?period_id=${W}`)},$=z=>{var H;const W=h.period_id==="active"&&j?j.id:h.period_id,q=z.teacher_id||((H=z.teacher)==null?void 0:H.id);o(`/teacher-evaluations/${q}?period_id=${W}&edit=true`)},Z=z=>{var W;return!j||z.period_id!==j.id?!1:e()?!0:n()?((W=z.teacher)==null?void 0:W.organization_id)===(a==null?void 0:a.organization_id):!1},te=()=>{O()},L=z=>{c({size:parseInt(z),page:1})},V=x.useCallback(z=>{z!==h.search&&c({search:z,page:1})},[c,h.search]),B=x.useCallback(z=>{z!==h.period_id&&c({period_id:z,page:1})},[c,h.period_id]),Y=x.useCallback(z=>{z!==h.organization_id&&c({organization_id:z,page:1})},[c,h.organization_id]),se=z=>{c({page:z})},K=()=>{let z="Evaluasi Guru";const W=[];if(h.period_id==="active")W.push("Periode Aktif");else if(e()&&h.period_id!=="active"){const q=y.find(H=>H.id===Number(h.period_id));q&&W.push(`${q.academic_year} - ${q.semester}`)}if(e()&&h.organization_id!=="all"){const q=g.find(H=>H.id===Number(h.organization_id));q&&W.push(q.name)}else n()&&W.push("Sekolah Saya");return W.length>0&&(z+=" - "+W.join(" - ")),z};return P?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Cs,{title:"Evaluasi Guru",description:"Daftar evaluasi kinerja guru berdasarkan periode dan Sekolah",actions:e()&&s.jsx(Pre,{activePeriod:j,onSuccess:te})}),s.jsxs($r,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"period-filter",children:"Periode"}),s.jsxs(Ut,{value:h.period_id,onValueChange:B,children:[s.jsx(Lt,{id:"period-filter",children:s.jsx($t,{placeholder:"Pilih periode"})}),s.jsx(It,{children:y.map(z=>s.jsxs(Be,{value:z.id.toString(),children:[z.academic_year," - ",z.semester,z.is_active?" (Aktif)":""]},z.id))})]})]}),e()&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"organization-filter",children:"Sekolah"}),s.jsxs(Ut,{value:h.organization_id,onValueChange:Y,children:[s.jsx(Lt,{id:"organization-filter",children:s.jsx($t,{placeholder:"Filter berdasarkan Sekolah"})}),s.jsxs(It,{children:[s.jsx(Be,{value:"all",children:"Semua Sekolah"}),g.map(z=>s.jsx(Be,{value:z.id.toString(),children:z.name},z.id))]})]})]})]}),s.jsx(je,{children:s.jsx(we,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx($a,{title:K(),subtitle:"Daftar evaluasi kinerja guru berdasarkan periode dan Sekolah"}),s.jsx(vr,{searchQuery:h.search,onSearchChange:V,placeholder:"Cari berdasarkan nama guru..."}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(Dre,{evaluations:m,loading:k,onView:X,onEdit:$,canEdit:Z,userRole:t})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(Mre,{evaluations:m,loading:k,onView:X,onEdit:$,canEdit:Z,userRole:t})}),_>1&&s.jsx(ya,{currentPage:h.page,totalPages:_,itemsPerPage:h.size,totalItems:A,onPageChange:se,onItemsPerPageChange:L})]})})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki akses untuk melihat halaman ini."})]})})};class Bre{constructor(){Me(this,"doc");Me(this,"pageWidth");Me(this,"pageHeight");Me(this,"margin");Me(this,"currentY");this.doc=new b6("portrait","mm","a4"),this.pageWidth=this.doc.internal.pageSize.getWidth(),this.pageHeight=this.doc.internal.pageSize.getHeight(),this.margin=20,this.currentY=this.margin}addHeader(e){this.doc.setFontSize(16),this.doc.setFont("helvetica","bold");const n=this.pageWidth/2;this.doc.text("YAYASAN BAITUL MUSLIM",n,this.currentY,{align:"center"}),this.currentY+=6,this.doc.text("LAMPUNG TIMUR",n,this.currentY,{align:"center"}),this.currentY+=6,e.organizationName&&(this.doc.text(e.organizationName.toUpperCase(),n,this.currentY,{align:"center"}),this.currentY+=6),this.doc.setFontSize(10),this.doc.setFont("helvetica","normal"),this.doc.text("Jl. Ir. H. Djuanda No. 19 Labuhan Ratu Satu",n,this.currentY,{align:"center"}),this.currentY+=4,this.doc.text("Way Jepara, Lampung Timur | Website: baitul-muslim.sch.id",n,this.currentY,{align:"center"}),this.currentY+=8,this.doc.setLineWidth(.5),this.doc.line(this.margin,this.currentY,this.pageWidth-this.margin,this.currentY),this.currentY+=10,this.doc.setFontSize(14),this.doc.setFont("helvetica","bold"),this.doc.text("LAPORAN HASIL EVALUASI KINERJA GURU",n,this.currentY,{align:"center"}),this.currentY+=8,this.doc.setFontSize(10),this.doc.setFont("helvetica","normal");const a=`Nomor: ${Math.floor(Math.random()*1e3)}/EVAL/DISDIK/${new Date().getFullYear()}`;this.doc.text(a,n,this.currentY,{align:"center"}),this.currentY+=6;const i=`Tanggal: ${new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}`;this.doc.text(i,n,this.currentY,{align:"center"}),this.currentY+=15}addTeacherInfo(e){this.doc.setFontSize(11),this.doc.setFont("helvetica","bold"),this.doc.text("DATA GURU YANG DIEVALUASI",this.margin,this.currentY),this.currentY+=8,this.doc.setFont("helvetica","normal"),[["Nama Guru",":",e.teacherName],["NIP",":",e.teacherNip||"-"],["Periode Evaluasi",":",`${e.periodAcademicYear} - ${e.periodSemester}`],["Tanggal Evaluasi",":",e.evaluationDate],["Nama Evaluator",":",e.evaluatorName]].forEach(([a,i,o])=>{this.doc.text(a,this.margin,this.currentY),this.doc.text(i,this.margin+40,this.currentY),this.doc.text(o,this.margin+45,this.currentY),this.currentY+=5}),this.currentY+=10}addEvaluationResults(e){this.doc.setFontSize(11),this.doc.setFont("helvetica","bold"),this.doc.text("HASIL EVALUASI",this.margin,this.currentY),this.currentY+=8,this.doc.setFontSize(10),this.doc.setFont("helvetica","normal"),this.doc.text(`Rata-rata Skor: ${e.averageScore.toFixed(2)} / 4.0`,this.margin,this.currentY),this.currentY+=8,e.evaluationResults.forEach((n,a)=>{this.currentY>this.pageHeight-50&&(this.doc.addPage(),this.currentY=this.margin),this.doc.setFont("helvetica","bold"),this.doc.text(`${a+1}. ${n.category}`,this.margin,this.currentY),this.currentY+=6;const i=n.aspects.map((o,c)=>[(c+1).toString(),o.aspectName,o.grade,o.score.toString(),this.getGradeDescription(o.grade)]);y6(this.doc,{startY:this.currentY,head:[["No","Aspek Penilaian","Nilai","Skor","Keterangan"]],body:i,theme:"grid",styles:{fontSize:9,cellPadding:2},headStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontStyle:"bold"},columnStyles:{0:{cellWidth:10,halign:"center"},1:{cellWidth:80},2:{cellWidth:15,halign:"center"},3:{cellWidth:15,halign:"center"},4:{cellWidth:50}},margin:{left:this.margin,right:this.margin}}),this.currentY=this.doc.lastAutoTable.finalY+8})}addNotes(e){if(e.notes&&e.notes.trim()){this.currentY>this.pageHeight-40&&(this.doc.addPage(),this.currentY=this.margin),this.doc.setFontSize(11),this.doc.setFont("helvetica","bold"),this.doc.text("CATATAN EVALUASI",this.margin,this.currentY),this.currentY+=8,this.doc.setFontSize(10),this.doc.setFont("helvetica","normal");const n=this.pageWidth-2*this.margin;this.doc.splitTextToSize(e.notes,n).forEach(i=>{this.currentY>this.pageHeight-20&&(this.doc.addPage(),this.currentY=this.margin),this.doc.text(i,this.margin,this.currentY),this.currentY+=5}),this.currentY+=10}}addFooter(){const e=this.doc.getNumberOfPages();for(let n=1;n<=e;n++)this.doc.setPage(n),this.doc.setLineWidth(.3),this.doc.line(this.margin,this.pageHeight-15,this.pageWidth-this.margin,this.pageHeight-15),this.doc.setFontSize(8),this.doc.setFont("helvetica","normal"),this.doc.text(`Halaman ${n} dari ${e}`,this.pageWidth/2,this.pageHeight-10,{align:"center"}),this.doc.text("Laporan Evaluasi Kinerja Guru - Dinas Pendidikan",this.pageWidth/2,this.pageHeight-6,{align:"center"})}getGradeDescription(e){switch(e){case"A":return"Sangat Baik";case"B":return"Baik";case"C":return"Cukup";case"D":return"Perlu Perbaikan";default:return"-"}}generatePDF(e){return this.addHeader(e),this.addTeacherInfo(e),this.addEvaluationResults(e),this.addNotes(e),this.addFooter(),this.doc}downloadPDF(e,n){const a=this.generatePDF(e),i=n||`Evaluasi_${e.teacherName.replace(/\s+/g,"_")}_${e.periodAcademicYear}_${e.periodSemester}.pdf`;a.save(i)}}const zre=(t,e)=>{new Bre().downloadPDF(t,e)},Ure=Bs({aspects:v6(rt(),rt().optional()),notes:rt().optional()}),$re=()=>{var he,ae,ue,ce,Ce,Oe,nt;const{teacherId:t}=$g(),[e]=Ug(),{isAdmin:n,isKepalaSekolah:a}=as(),{user:i}=mr(),{toast:o}=_t(),{updateURL:c,getCurrentFilters:d}=oa({defaults:{period_id:""},cleanDefaults:!0}),h=d(),[m,p]=x.useState(null),[g,v]=x.useState([]),[y,w]=x.useState([]),[j,S]=x.useState(null),[k,E]=x.useState(null),[A,T]=x.useState(!0),[_,M]=x.useState(!1),[P,O]=x.useState("view"),[I,G]=x.useState(!1),R=gs({resolver:xs(Ure),defaultValues:{aspects:{},notes:""}});x.useEffect(()=>{t&&($(),te(),L())},[t]),x.useEffect(()=>{t&&y.length>0&&Z()},[t,h.period_id,y]),x.useEffect(()=>{if(y.length>0&&!h.period_id){let De;k?De=k.id.toString():De=y[0].id.toString(),c({period_id:De})}},[k,y,h.period_id,c]),x.useEffect(()=>{e.get("edit")==="true"&&m&&j&&k?X(m,j,k)?O("edit"):(O("view"),o({title:"Akses Ditolak",description:"Anda tidak memiliki izin untuk mengedit evaluasi ini.",variant:"destructive"})):O("view")},[e,m,j,k,n,a,i]);const X=(De,ke,it)=>{var Le;return ke.id!==it.id?!1:n()?!0:a()?((Le=De.teacher)==null?void 0:Le.organization_id)===(i==null?void 0:i.organization_id):!1},$=async()=>{try{const De=await kn.getPeriods({page:1,size:100});w(De.items||[])}catch(De){console.error("Error loading periods:",De)}},Z=async()=>{var De,ke,it;if(!I){G(!0);try{if(T(!0),!h.period_id){G(!1);return}const Le=Number(h.period_id),Qe=await zd.getTeacherEvaluationByPeriod(Number(t),Le);if(!j||j.id!==Le)try{const Ie=await kn.getPeriodById(Le);S(Ie)}catch(Ie){console.error("Error loading period by ID:",Ie);const Nt=y.find(hn=>hn.id===Le);Nt&&S(Nt)}const Ae={};(De=Qe==null?void 0:Qe.items)==null||De.forEach(Ie=>{Ae[Ie.aspect_id.toString()]=Ie.grade||""}),R.reset({aspects:Ae,notes:(Qe==null?void 0:Qe.final_notes)||""}),p(Qe),O("view")}catch(Le){if(console.error("Error loading evaluation detail:",Le),(ke=Le==null?void 0:Le.message)!=null&&ke.includes("tidak ditemukan")||(it=Le==null?void 0:Le.message)!=null&&it.includes("not found")){p(null),G(!1);return}}finally{T(!1),G(!1)}}},te=async()=>{try{const it=(await sr.getCategories()||[]).filter(Ae=>Ae.is_active).map(async Ae=>{try{const Ie=await sr.getCategoryWithAspects(Ae.id);return{...Ie,aspects:Ie.aspects.filter(Nt=>Nt.is_active)}}catch(Ie){return console.error(`Error loading aspects for category ${Ae.id}:`,Ie),null}}),Qe=(await Promise.all(it)).filter(Ae=>Ae!==null&&Ae.aspects.length>0).sort((Ae,Ie)=>Ae.display_order-Ie.display_order);v(Qe)}catch(De){console.error("Error loading categories with aspects:",De)}},L=async()=>{try{const De=await kn.getActivePeriod();E(De)}catch(De){console.error("Error loading active period:",De);try{const it=(await kn.getPeriods({is_active:!0,page:1,size:100})).items||[];it.length>0&&E(it[0])}catch(ke){console.error("Error in fallback active period load:",ke)}}},V=async De=>{if(!(!t||!j))try{M(!0);const ke={item_updates:[]};if(Object.entries(De.aspects).forEach(([it,Le])=>{Le&&ke.item_updates.push({aspect_id:Number(it),grade:Le,notes:De.notes})}),m)await zd.bulkUpdateEvaluationItems(m.id,ke);else{const it=ke.item_updates.map(Qe=>({aspect_id:Qe.aspect_id,grade:Qe.grade,notes:Qe.notes})),Le={teacher_id:Number(t),evaluator_id:(i==null?void 0:i.id)||1,period_id:j.id,final_notes:De.notes,items:it};await zd.createEvaluationWithItems(Le)}o({title:"Berhasil",description:"Evaluasi berhasil disimpan."}),await Z()}catch(ke){console.error("Error saving evaluation:",ke),o({title:"Error",description:(ke==null?void 0:ke.message)||"Gagal menyimpan evaluasi. Silakan coba lagi.",variant:"destructive"})}finally{M(!1)}},B=()=>{const De=k&&j&&k.id===j.id;if(!m||!j||!k)return;X(m,j,k)&&g.length>0&&De&&O(P==="view"?"edit":"view")},Y=()=>{var De,ke,it;if(!m||!j){o({title:"Error",description:"Data evaluasi tidak lengkap untuk generate PDF.",variant:"destructive"});return}try{const Le={teacherName:((De=H.teacher)==null?void 0:De.display_name)||"N/A",teacherNip:"",evaluatorName:((ke=m==null?void 0:m.evaluator)==null?void 0:ke.full_name)||((it=m==null?void 0:m.evaluator)==null?void 0:it.display_name)||"N/A",periodAcademicYear:j.academic_year,periodSemester:j.semester,evaluationDate:m!=null&&m.last_updated?new Date(m.last_updated).toLocaleDateString("id-ID"):new Date().toLocaleDateString("id-ID"),organizationName:"",evaluationResults:K.map(Qe=>({category:Qe.name,aspects:Qe.aspects.map(Ae=>{var Nt;const Ie=(Nt=m==null?void 0:m.items)==null?void 0:Nt.find(hn=>hn.aspect_id===Ae.id);return{aspectName:Ae.aspect_name,description:Ae.description,grade:(Ie==null?void 0:Ie.grade)||"N/A",score:(Ie==null?void 0:Ie.score)||0}})})),averageScore:m.average_score||0,notes:(m==null?void 0:m.final_notes)||""};zre(Le),o({title:"Berhasil",description:"PDF laporan evaluasi berhasil diunduh."})}catch(Le){console.error("Error generating PDF:",Le),o({title:"Error",description:"Gagal generate PDF. Silakan coba lagi.",variant:"destructive"})}};if(A)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const se=De=>{c({period_id:De})},K=g,z=k&&j&&k.id===j.id,W=m&&j&&k?X(m,j,k)&&z:!1,q={};(he=m==null?void 0:m.items)==null||he.forEach(De=>{q[De.aspect_id.toString()]=De.grade||""});const H=m||{teacher_name:`Teacher ${t}`,teacher_id:Number(t),teacher:{display_name:`Teacher ${t}`}},ee=(i==null?void 0:i.id)===Number(t),ne=()=>ee?"Evaluasi Saya":"Detail Evaluasi Guru",ie=()=>{var De;return ee?`Detail evaluasi untuk periode ${(j==null?void 0:j.academic_year)||""} - ${(j==null?void 0:j.semester)||""}`:`Evaluasi kinerja ${((De=H.teacher)==null?void 0:De.display_name)||"N/A"}`};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Cs,{title:ne(),description:ie(),actions:s.jsxs("div",{className:"flex items-center gap-2",children:[m&&s.jsxs(ss,{children:[s.jsx(Wd,{asChild:!0,children:s.jsxs(pe,{variant:"default",children:[s.jsx(rf,{className:"h-4 w-4 mr-2"}),"Unduh PDF"]})}),s.jsxs(Gn,{children:[s.jsxs(Kn,{children:[s.jsx(Xn,{children:"Konfirmasi Unduh PDF"}),s.jsxs(Wn,{children:["Apakah Anda yakin ingin mengunduh laporan evaluasi untuk ",s.jsx("strong",{children:((ae=H.teacher)==null?void 0:ae.display_name)||"N/A"})," periode ",j==null?void 0:j.academic_year," - ",j==null?void 0:j.semester," dalam format PDF?"]})]}),s.jsxs(Yn,{children:[s.jsx(Qn,{children:"Batal"}),s.jsx(Zn,{onClick:Y,children:"Ya, Unduh PDF"})]})]})]}),W&&g.length>0&&s.jsx(pe,{variant:"outline",onClick:B,children:P==="view"?s.jsxs(s.Fragment,{children:[s.jsx(Wo,{className:"h-4 w-4 mr-2"}),"Ubah Nilai"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ys,{className:"h-4 w-4 mr-2"}),"Lihat"]})})]})}),s.jsx($r,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"period-filter",children:"Periode"}),s.jsxs(Ut,{value:h.period_id,onValueChange:se,children:[s.jsx(Lt,{id:"period-filter",children:s.jsx($t,{placeholder:"Pilih periode"})}),s.jsx(It,{children:y.map(De=>s.jsxs(Be,{value:De.id.toString(),children:[De.academic_year," - ",De.semester,De.is_active?" (Aktif)":""]},De.id))})]})]})}),!A&&g.length===0&&s.jsx(je,{children:s.jsx(we,{className:"py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aspek Evaluasi Tidak Ditemukan"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Tidak ada aspek evaluasi yang aktif dalam sistem."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hubungi administrator untuk mengatur aspek evaluasi."})]})})}),!A&&g.length>0&&!m&&s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Evaluasi Guru Belum Ada"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:j!=null&&j.academic_year&&(j!=null&&j.semester)?`Belum ada evaluasi untuk periode ${j.academic_year} - ${j.semester}.`:"Belum ada evaluasi untuk periode ini."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pilih periode lain menggunakan filter di atas untuk mencari evaluasi guru."})]})}),g.length>0&&m&&s.jsxs(je,{children:[s.jsx(ct,{children:s.jsx(pt,{children:"Informasi Evaluasi"})}),s.jsx(we,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Guru"}),s.jsx("p",{className:"text-sm",children:m?((ue=H.teacher)==null?void 0:ue.display_name)||`Teacher ${t}`:`Teacher ${t}`})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Evaluator"}),s.jsx("p",{className:"text-sm",children:((ce=m==null?void 0:m.evaluator)==null?void 0:ce.full_name)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Periode"}),s.jsx("p",{className:"text-sm",children:j?`${j.academic_year} - ${j.semester}`:"N/A"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Total Aspek"}),s.jsxs("p",{className:"text-sm",children:[g.reduce((De,ke)=>De+ke.aspects.length,0)," aspek"]})]}),m&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Aspek Dinilai"}),s.jsxs("p",{className:"text-sm",children:[((Ce=m.items)==null?void 0:Ce.length)||0," aspek"]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Rata-rata Skor"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg font-medium",children:((Oe=m.average_score)==null?void 0:Oe.toFixed(1))||"0.0"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/ 4.0"})]})]}),m.last_updated&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Tanggal Evaluasi"}),s.jsx("p",{className:"text-sm",children:new Date(m.last_updated).toLocaleDateString("id-ID")})]})]})]})})]}),g.length>0&&m&&s.jsx(In,{...R,children:s.jsxs("form",{onSubmit:R.handleSubmit(V),className:"space-y-6",children:[K.map((De,ke)=>s.jsx(Lre,{category:De.name,aspects:De.aspects,control:P==="edit"?R.control:void 0,sectionNumber:ke+1,disabled:P==="view",evaluationData:q},De.name)),((m==null?void 0:m.final_notes)||P==="edit")&&s.jsxs(je,{children:[s.jsx(ct,{children:s.jsx(pt,{children:"Catatan Evaluasi"})}),s.jsx(we,{children:P==="edit"?s.jsx("textarea",{...R.register("notes"),placeholder:"Tambahkan catatan untuk evaluasi ini...",className:"w-full min-h-[100px] p-3 border rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-primary"}):s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:(m==null?void 0:m.final_notes)||"Tidak ada catatan"})})]}),P==="edit"&&s.jsx("div",{className:"flex justify-end",children:s.jsxs(ss,{children:[s.jsx(Wd,{asChild:!0,children:s.jsx(pe,{type:"button",disabled:_,children:_?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Menyimpan..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ji,{className:"h-4 w-4 mr-2"}),"Simpan Nilai Evaluasi"]})})}),s.jsxs(Gn,{children:[s.jsxs(Kn,{children:[s.jsx(Xn,{children:"Konfirmasi Simpan Evaluasi"}),s.jsxs(Wn,{children:["Apakah Anda yakin ingin menyimpan evaluasi untuk ",s.jsx("strong",{children:((nt=H.teacher)==null?void 0:nt.display_name)||"N/A"})," periode ",j==null?void 0:j.academic_year," - ",j==null?void 0:j.semester,"?",s.jsx("br",{}),s.jsx("br",{}),"Data evaluasi yang telah disimpan dapat diubah kembali selama periode masih aktif."]})]}),s.jsxs(Yn,{children:[s.jsx(Qn,{children:"Batal"}),s.jsx(Zn,{onClick:R.handleSubmit(V),children:"Ya, Simpan Evaluasi"})]})]})]})})]})})]})},Fre={title:{font:{bold:!0,size:18,color:{argb:"FF1565C0"}},alignment:{horizontal:"center",vertical:"middle"},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFE3F2FD"}},height:35},headerInfo:{font:{bold:!0,size:12,color:{argb:"FF424242"}},alignment:{horizontal:"left",vertical:"middle"},height:25},tableHeader:{font:{bold:!0,size:13,color:{argb:"FFFFFFFF"}},alignment:{horizontal:"center",vertical:"middle"},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF1976D2"}},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},height:30},tableData:{font:{size:11,color:{argb:"FF212121"}},alignment:{horizontal:"left",vertical:"top",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},wrapText:!0},noData:{font:{italic:!0,size:11},alignment:{horizontal:"center",vertical:"middle"}}},Vre=async(t,e,n)=>{try{const a=await VC(()=>import("./exceljs.min-C9H5vAEu.js").then(_=>_.e),__vite__mapDeps([0,1,2])),i={...Fre,...n},{title:o,fileName:c,columns:d,headerInfo:h=[],data:m,sheetName:p="Sheet1",noDataMessage:g="Tidak ada data",successMessage:v="Data berhasil diekspor ke Excel."}=t,y=new a.Workbook,w=y.addWorksheet(p);w.columns=d.map(_=>({width:_.width}));let j=1;const S=`A${j}:${String.fromCharCode(64+d.length)}${j}`;w.mergeCells(S);const k=w.getCell(`A${j}`);if(k.value=o,i.title&&(k.font=i.title.font,k.alignment=i.title.alignment,k.fill=i.title.fill,i.title.height&&(w.getRow(j).height=i.title.height)),j++,w.addRow([]),j++,h.length>0&&(h.forEach(_=>{const M=`A${j}:${String.fromCharCode(64+d.length)}${j}`;w.mergeCells(M);const P=w.getCell(`A${j}`);P.value=`${_.label}: ${_.value}`,i.headerInfo&&(P.font=i.headerInfo.font,P.alignment=i.headerInfo.alignment,i.headerInfo.height&&(w.getRow(j).height=i.headerInfo.height)),j++}),w.addRow([]),j++),m.length>0){const _=w.addRow(d.map(M=>M.header));i.tableHeader&&(i.tableHeader.height&&(_.height=i.tableHeader.height),_.eachCell(M=>{var P,O,I,G;M.font=(P=i.tableHeader)==null?void 0:P.font,M.alignment=(O=i.tableHeader)==null?void 0:O.alignment,M.fill=(I=i.tableHeader)==null?void 0:I.fill,M.border=(G=i.tableHeader)==null?void 0:G.border})),m.forEach((M,P)=>{const O=w.addRow(d.map((I,G)=>I.key?M[I.key]:G===0&&I.header.toLowerCase().includes("no")?P+1:M[G]||""));i.tableData&&O.eachCell((I,G)=>{var R,X,$,Z,te,L;I.font=(R=i.tableData)==null?void 0:R.font,I.alignment={...(X=i.tableData)==null?void 0:X.alignment,horizontal:G===1?"center":((Z=($=i.tableData)==null?void 0:$.alignment)==null?void 0:Z.horizontal)||"left"},I.border=(te=i.tableData)==null?void 0:te.border,(L=i.tableData)!=null&&L.wrapText&&(I.alignment={...I.alignment,wrapText:!0})})})}else{const _=w.addRow([g]),M=`A${_.number}:${String.fromCharCode(64+d.length)}${_.number}`;w.mergeCells(M);const P=w.getCell(`A${_.number}`);i.noData&&(P.alignment=i.noData.alignment,P.font=i.noData.font)}y.creator="Sistem Evaluasi",y.created=new Date,y.modified=new Date;const E=await y.xlsx.writeBuffer(),A=new Blob([E],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),T=document.createElement("a");T.href=URL.createObjectURL(A),T.download=c,T.click(),URL.revokeObjectURL(T.href),e({title:"Export Berhasil",description:v,variant:"default"})}catch(a){console.error("Failed to export Excel:",a),e({title:"Export Gagal",description:"Gagal mengekspor data ke Excel. Silakan coba lagi.",variant:"destructive"})}},qre=async(t,e,n)=>{var p,g,v,y,w;const a=new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),i=((p=t.top_performers)==null?void 0:p.map((j,S)=>({no:S+1,teacher_name:j.teacher_name,organization_name:j.organization_name,total_score:j.total_score,average_score:j.average_score.toFixed(2),final_grade:j.final_grade.toFixed(2),final_grade_letter:j.final_grade_letter})))||[],o=[{grade:"A - Sangat Baik",count:((g=t.final_grade_distribution)==null?void 0:g.A)||0},{grade:"B - Baik",count:((v=t.final_grade_distribution)==null?void 0:v.B)||0},{grade:"C - Cukup",count:((y=t.final_grade_distribution)==null?void 0:y.C)||0},{grade:"D - Perlu Perbaikan",count:((w=t.final_grade_distribution)==null?void 0:w.D)||0}],c=t.completion_percentage||0,d=t.average_score?t.average_score.toFixed(2):"0.00",h={title:"Laporan Evaluasi Kinerja Guru",fileName:`Laporan_Evaluasi_${e.academic_year}_${e.semester}_${new Date().getFullYear()}.xlsx`,sheetName:"Ringkasan Guru",columns:[{width:5,header:"No"},{width:30,header:"Nama Guru",key:"teacher_name"},{width:25,header:"Sekolah",key:"organization_name"},{width:15,header:"Total Skor",key:"total_score"},{width:18,header:"Rata-rata Skor",key:"average_score"},{width:18,header:"Nilai Akhir",key:"final_grade"},{width:15,header:"Index",key:"final_grade_letter"}],headerInfo:[{label:"Yayasan",value:"Yayasan Baitul Muslim Lampung Timur"},{label:"Alamat",value:"Jl. Ir. H. Djuanda No. 19 Labuhan Ratu Satu, Way Jepara, Lampung Timur"},{label:"Periode Evaluasi",value:`${e.academic_year} - ${e.semester}`},{label:"Tanggal Laporan",value:a},{label:"Total Guru",value:t.total_teachers.toString()},{label:"Total Evaluasi",value:`${t.completed_evaluations} dari ${t.total_evaluations}`},{label:"Persentase Selesai",value:`${c.toFixed(1)}%`},{label:"Rata-rata Keseluruhan",value:`${d} / 4.0`}],data:i,noDataMessage:"Tidak ada data guru",successMessage:`Laporan evaluasi periode ${e.academic_year} - ${e.semester} berhasil diekspor ke Excel.`,errorMessage:"Gagal mengekspor laporan ke Excel. Silakan coba lagi."};await Vre(h,n,{title:{font:{bold:!0,size:16,color:{argb:"FF047857"}},alignment:{horizontal:"center",vertical:"middle"},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFE6FFFA"}},height:35},tableHeader:{font:{bold:!0,size:12,color:{argb:"FFFFFFFF"}},alignment:{horizontal:"center",vertical:"middle"},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF047857"}},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},height:30}});try{const j=await VC(()=>import("./exceljs.min-C9H5vAEu.js").then(P=>P.e),__vite__mapDeps([0,1,2])),k=new j.Workbook().addWorksheet("Distribusi Nilai");k.columns=[{width:25,header:"Nilai"},{width:15,header:"Jumlah"},{width:15,header:"Persentase"}];let E=1;const A=`A${E}:C${E}`;k.mergeCells(A);const T=k.getCell(`A${E}`);T.value="Distribusi Nilai Evaluasi",T.font={bold:!0,size:16,color:{argb:"FF047857"}},T.alignment={horizontal:"center",vertical:"middle"},T.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE6FFFA"}},k.getRow(E).height=35,E+=3,k.addRow(["Nilai","Jumlah","Persentase"]).eachCell(P=>{P.font={bold:!0,size:12,color:{argb:"FFFFFFFF"}},P.alignment={horizontal:"center",vertical:"middle"},P.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF047857"}},P.border={top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}});const M=o.reduce((P,O)=>P+O.count,0);o.forEach(P=>{const O=M>0?(P.count/M*100).toFixed(1):"0.0";k.addRow([P.grade,P.count,`${O}%`]).eachCell((G,R)=>{G.font={size:11},G.alignment={horizontal:R===1?"left":"center",vertical:"middle"},G.border={top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}})})}catch(j){console.error("Error creating grade distribution sheet:",j)}},Hre=()=>{const{toast:t}=_t(),{updateURL:e,getCurrentFilters:n}=oa({defaults:{period_id:"latest"},cleanDefaults:!0}),a=n(),[i,o]=x.useState([]),[c,d]=x.useState(null),[h,m]=x.useState(null),[p,g]=x.useState(!0),[v,y]=x.useState(!1);x.useEffect(()=>{w()},[]),x.useEffect(()=>{i.length>0&&j()},[a.period_id,i]);const w=async()=>{try{const T=await kn.getPeriods();o(T.items||[])}catch(T){console.error("Error loading periods:",T),t({title:"Error",description:"Gagal memuat data periode. Silakan coba lagi.",variant:"destructive"})}},j=async()=>{try{if(g(!0),i.length===0)return;let T;if(a.period_id==="latest")T=[...i].sort((P,O)=>P.academic_year!==O.academic_year?O.academic_year.localeCompare(P.academic_year):P.semester==="Ganjil"?1:-1)[0];else{const M=i.find(P=>P.id===Number(a.period_id));if(!M)throw new Error("Selected period not found");T=M}d(T);const _=await zd.getPeriodEvaluationStats(T.id);m(_)}catch(T){console.error("Error loading evaluation stats:",T),t({title:"Error",description:"Gagal memuat statistik evaluasi. Silakan coba lagi.",variant:"destructive"})}finally{g(!1)}},S=T=>{e({period_id:T})},k=async()=>{if(!h||!c){t({title:"Error",description:"Data statistik tidak tersedia untuk export.",variant:"destructive"});return}try{y(!0),await qre(h,c,t)}catch(T){console.error("Error exporting Excel:",T),t({title:"Error",description:"Gagal export laporan ke Excel. Silakan coba lagi.",variant:"destructive"})}finally{y(!1)}},E=()=>h?Math.round(h.completion_percentage):0,A=()=>!h||h.completed_evaluations===0?0:h.average_score.toFixed(2);return p?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(Cs,{title:"Laporan Evaluasi",description:"Statistik dan laporan evaluasi kinerja guru berdasarkan periode",actions:h&&s.jsxs(ss,{children:[s.jsx(Wd,{asChild:!0,children:s.jsxs(pe,{disabled:v,children:[s.jsx(rf,{className:"h-4 w-4 mr-2"}),v?"Mengunduh...":"Unduh Excel"]})}),s.jsxs(Gn,{children:[s.jsxs(Kn,{children:[s.jsx(Xn,{children:"Konfirmasi Unduh Excel"}),s.jsxs(Wn,{children:["Apakah Anda yakin ingin mengunduh laporan evaluasi periode ",c==null?void 0:c.academic_year," - ",c==null?void 0:c.semester," dalam format Excel?"]})]}),s.jsxs(Yn,{children:[s.jsx(Qn,{children:"Batal"}),s.jsx(Zn,{onClick:k,children:"Ya, Unduh Excel"})]})]})]})}),s.jsx($r,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"period-filter",children:"Periode"}),s.jsxs(Ut,{value:a.period_id,onValueChange:S,children:[s.jsx(Lt,{id:"period-filter",children:s.jsx($t,{placeholder:"Pilih periode"})}),s.jsxs(It,{children:[s.jsx(Be,{value:"latest",children:"Periode Terbaru"}),i.map(T=>s.jsxs(Be,{value:T.id.toString(),children:[T.academic_year," - ",T.semester]},T.id))]})]})]})}),h&&c&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(je,{children:[s.jsxs(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pt,{className:"text-sm font-medium",children:"Total Guru"}),s.jsx(ds,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(we,{children:[s.jsx("div",{className:"text-2xl font-bold",children:h.total_teachers}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Guru yang terdaftar"})]})]}),s.jsxs(je,{children:[s.jsxs(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pt,{className:"text-sm font-medium",children:"Evaluasi Selesai"}),s.jsx(va,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(we,{children:[s.jsx("div",{className:"text-2xl font-bold",children:h.completed_evaluations}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["dari ",h.total_evaluations," total evaluasi"]})]})]}),s.jsxs(je,{children:[s.jsxs(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pt,{className:"text-sm font-medium",children:"Persentase Selesai"}),s.jsx(Q_,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(we,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[E(),"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Tingkat penyelesaian"})]})]}),s.jsxs(je,{children:[s.jsxs(ct,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pt,{className:"text-sm font-medium",children:"Rata-rata Skor"}),s.jsx(Bd,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(we,{children:[s.jsx("div",{className:"text-2xl font-bold",children:A()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"dari skala 4.0"})]})]})]}),s.jsxs(je,{children:[s.jsx(ct,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(Yj,{className:"h-5 w-5"}),"Informasi Periode"]})}),s.jsx(we,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Periode"}),s.jsxs("p",{className:"text-sm",children:[c.academic_year," - ",c.semester]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Tanggal Dibuat"}),s.jsx("p",{className:"text-sm",children:new Date(c.created_at).toLocaleDateString("id-ID")})]})]})})]}),h.final_grade_distribution&&s.jsxs(je,{children:[s.jsx(ct,{children:s.jsx(pt,{children:"Distribusi Nilai"})}),s.jsx(we,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.final_grade_distribution.A||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Nilai A (Sangat Baik)"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.final_grade_distribution.B||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Nilai B (Baik)"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:h.final_grade_distribution.C||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Nilai C (Cukup)"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:h.final_grade_distribution.D||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Nilai D (Perlu Perbaikan)"})]})]})})]}),h.top_performers&&h.top_performers.length>0&&s.jsxs(je,{children:[s.jsx(ct,{children:s.jsx(pt,{children:"Guru Terbaik"})}),s.jsx(we,{children:s.jsx("div",{className:"space-y-4",children:h.top_performers.slice(0,10).map((T,_)=>s.jsx("div",{className:"flex items-center justify-between border rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-lg font-bold text-primary",children:["#",_+1]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:T.teacher_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:T.organization_name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Nilai Akhir: ",T.final_grade.toFixed(2)," (",T.final_grade_letter,") | Rata-rata: ",T.average_score.toFixed(2)]})]})]})},T.teacher_id))})})]}),h.aspect_performance&&h.aspect_performance.length>0&&s.jsxs(je,{children:[s.jsx(ct,{children:s.jsx(pt,{children:"Performa per Aspek"})}),s.jsx(we,{children:s.jsx("div",{className:"space-y-4",children:h.aspect_performance.map((T,_)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:T.aspect_name}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Rata-rata Skor:"}),s.jsx("span",{className:"ml-2 font-medium",children:T.average_score.toFixed(2)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Jumlah Evaluasi:"}),s.jsx("span",{className:"ml-2 font-medium",children:T.total_evaluations})]}),s.jsx("div",{className:"md:col-span-1",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${T.average_score/4*100}%`}})})})]})]},_))})})]})]}),!h&&!p&&s.jsx(je,{children:s.jsx(we,{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Bd,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Tidak Ada Data"}),s.jsx("p",{className:"text-muted-foreground",children:"Belum ada statistik evaluasi untuk periode yang dipilih."})]})})})]})},Gre=()=>{const t=Ei(),{currentRole:e}=as(),{user:n}=mr(),{toast:a}=_t();return e==="ADMIN"?s.jsx(to,{to:"/rpp-submissions",replace:!0}):(x.useEffect(()=>{const i=async()=>{if(!(n!=null&&n.id)){console.error("User ID not available");return}try{const o=await kn.getActivePeriod();o!=null&&o.id?t(`/rpp-submissions/teacher/${n.id}?period_id=${o.id}`,{replace:!0}):a({title:"Periode Tidak Aktif",description:"Belum ada periode yang aktif saat ini. Hubungi administrator.",variant:"destructive"})}catch(o){console.error("Error getting active period:",o),a({title:"Error",description:"Gagal mengambil periode aktif. Silakan coba lagi.",variant:"destructive"})}};n!=null&&n.id&&i()},[n==null?void 0:n.id,t,a]),s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"text-muted-foreground",children:"Mengalihkan ke RPP submission Anda..."})]})}))},Kre=({submissions:t,loading:e,onView:n,onSubmit:a,onEdit:i,onDelete:o,userRole:c})=>s.jsx("div",{className:"rounded-md border",children:s.jsxs(fs,{children:[s.jsx(ms,{children:s.jsxs(et,{children:[s.jsx(Te,{children:"Guru"}),s.jsx(Te,{children:"Jabatan"}),s.jsx(Te,{children:"Sekolah"}),s.jsx(Te,{className:"text-center",children:"Status"}),s.jsx(Te,{className:"text-center",children:"Aksi"})]})}),s.jsx(ps,{children:e?s.jsx(et,{children:s.jsx(Ee,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Memuat submission RPP..."})}):t.length===0?s.jsx(et,{children:s.jsx(Ee,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Tidak ada submission RPP ditemukan"})}):t.map(d=>s.jsxs(et,{children:[s.jsx(Ee,{children:d.teacher_name||"-"}),s.jsx(Ee,{children:d.teacher_position||"-"}),s.jsx(Ee,{children:d.organization_name||"-"}),s.jsx(Ee,{className:"text-center",children:ns.getStatusDisplayName(d.status)}),s.jsx(Ee,{className:"text-center",children:s.jsx(un,{onView:()=>n(d),onEdit:i?()=>i(d):void 0,onDelete:o?()=>o(d):void 0,showEdit:c==="guru"&&d.status===Tt.DRAFT,showDelete:c==="guru"&&d.status===Tt.DRAFT,customActions:c==="guru"&&a&&ns.isSubmissionReady(d)&&d.status===Tt.DRAFT?[{label:"Kirim",onClick:()=>a(d),icon:"Send"}]:[]})})]},d.id))})]})}),Yre=({submissions:t,loading:e,onView:n,onSubmit:a,onEdit:i,onDelete:o,userRole:c})=>e?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Memuat submission RPP..."}):t.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Tidak ada submission RPP ditemukan"}):s.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(d=>s.jsx(je,{className:"hover:shadow-md transition-shadow",children:s.jsxs(we,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-muted rounded-full",children:s.jsx(va,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm",children:d.teacher_name||"Tidak ada guru"}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:d.teacher_position||"Jabatan tidak tersedia"})]})]}),s.jsx(un,{onView:()=>n(d),onEdit:i?()=>i(d):void 0,onDelete:o?()=>o(d):void 0,showEdit:c==="guru"&&d.status===Tt.DRAFT,showDelete:c==="guru"&&d.status===Tt.DRAFT,customActions:c==="guru"&&a&&ns.isSubmissionReady(d)&&d.status===Tt.DRAFT?[{label:"Kirim",onClick:()=>a(d),icon:"Send"}]:[]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[s.jsx(va,{className:"w-4 h-4"}),s.jsxs("span",{children:["Sekolah: ",d.organization_name||"Tidak tersedia"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[s.jsx(va,{className:"w-4 h-4"}),s.jsxs("span",{children:["Status: ",ns.getStatusDisplayName(d.status)]})]})]})]})},d.id))}),Xre=({open:t,onOpenChange:e,onSuccess:n,periodId:a,itemId:i,title:o="File RPP",currentFileName:c})=>{const{toast:d}=_t(),[h,m]=x.useState([]),[p,g]=x.useState(!1),v=()=>{p||(m([]),e(!1))},y=j=>{m(j)},w=async()=>{if(h.length===0){d({title:"Error",description:"Pilih file terlebih dahulu.",variant:"destructive"});return}try{g(!0);const j=h[0],k=(await p0.uploadFile({file:j,is_public:!1})).id;if(!k)throw new Error("File ID not returned from upload");i?await ns.uploadFileToRPPItem(i,{file_id:k}):await ns.uploadRPPFile(a,{file_id:k}),d({title:"Berhasil",description:`File ${o} berhasil diupload.`}),n(),v()}catch(j){console.error("Error uploading RPP file:",j),d({title:"Error",description:j.message||"Gagal upload file RPP.",variant:"destructive"})}finally{g(!1)}};return s.jsx(nn,{open:t,onOpenChange:v,children:s.jsxs(sn,{className:"sm:max-w-[600px]",children:[s.jsxs(an,{children:[s.jsxs(rn,{className:"flex items-center space-x-2",children:[s.jsx(va,{className:"h-5 w-5"}),s.jsxs("span",{children:["Upload ",o]})]}),s.jsx(Hf,{children:c?`Pilih file baru untuk mengganti "${c}"`:`Pilih file untuk ${o}`})]}),s.jsx("div",{className:"space-y-4",children:s.jsx(wl,{accept:".pdf,.doc,.docx",maxSize:10*1024*1024,multiple:!1,onFilesChange:y,label:"Pilih File RPP",description:"File yang diterima: PDF, DOC, DOCX (maksimal 10MB)",dragAndDrop:!0,showPreview:!0})}),s.jsxs(zs,{children:[s.jsx(pe,{variant:"outline",onClick:v,disabled:p,children:"Batal"}),s.jsx(pe,{onClick:w,disabled:h.length===0||p,children:p?s.jsxs(s.Fragment,{children:[s.jsx(Ua,{className:"h-4 w-4 mr-2 animate-spin"}),"Mengupload..."]}):s.jsxs(s.Fragment,{children:[s.jsx(of,{className:"h-4 w-4 mr-2"}),"Upload File"]})})]})]})})},Wre=Od.object({name:Od.string().min(1,"Nama RPP item harus diisi").max(255,"Nama terlalu panjang (maksimal 255 karakter)"),description:Od.string().max(1e3,"Deskripsi terlalu panjang (maksimal 1000 karakter)").optional()}),Zre=({open:t,onOpenChange:e,item:n,onSuccess:a})=>{const{toast:i}=_t(),o=gs({resolver:xs(Wre),defaultValues:{name:n.name,description:n.description||""}}),{handleSubmit:c,control:d,reset:h,formState:{isSubmitting:m}}=o;ve.useEffect(()=>{t&&h({name:n.name,description:n.description||""})},[t,n,h]);const p=async v=>{try{console.log("Updating RPP item with:",{itemId:n.id,data:v});const y=await ns.updateRPPSubmissionItemDetails(n.id,{name:v.name,description:v.description||null});console.log("RPP item updated successfully:",y),i({title:"Berhasil",description:"RPP item berhasil diperbarui."}),e(!1),a()}catch(y){console.error("Error updating RPP item:",y),i({title:"Error",description:"Gagal memperbarui RPP item. Silakan coba lagi.",variant:"destructive"})}},g=()=>{e(!1)};return s.jsx(nn,{open:t,onOpenChange:g,children:s.jsxs(sn,{className:"sm:max-w-[425px]",children:[s.jsxs(an,{children:[s.jsx(rn,{children:"Edit RPP Item"}),s.jsx(Hf,{children:"Ubah nama dan deskripsi RPP item ini."})]}),s.jsx(In,{...o,children:s.jsxs("form",{onSubmit:c(p),className:"space-y-4",children:[s.jsx($e,{control:d,name:"name",render:({field:v})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Nama RPP *"}),s.jsx(Ue,{children:s.jsx(at,{placeholder:"Contoh: RPP Matematika Kelas 7",...v})}),s.jsx(He,{})]})}),s.jsx($e,{control:d,name:"description",render:({field:v})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Deskripsi (Opsional)"}),s.jsx(Ue,{children:s.jsx(br,{placeholder:"Deskripsi singkat mengenai RPP ini...",rows:3,...v})}),s.jsx(He,{})]})}),s.jsxs(zs,{children:[s.jsx(pe,{type:"button",variant:"outline",onClick:g,disabled:m,children:"Batal"}),s.jsx(pe,{type:"submit",disabled:m,children:m?"Menyimpan...":"Simpan Perubahan"})]})]})})]})})},Qre=({item:t,canUpload:e,onFileUploaded:n,onItemDeleted:a})=>{const{toast:i}=_t(),[o,c]=x.useState(!1),[d,h]=x.useState(!1),[m,p]=x.useState(!1),g=()=>{c(!0)},v=()=>{h(!0)},y=()=>{p(!0)},w=async()=>{try{await ns.deleteRPPSubmissionItem(t.id),i({title:"Berhasil",description:"Item RPP berhasil dihapus."}),p(!1),a&&a()}catch{i({title:"Error",description:"Gagal menghapus item RPP.",variant:"destructive"}),p(!1)}},j=async()=>{if(!t.file_id){i({title:"Error",description:"File ID tidak ditemukan.",variant:"destructive"});return}try{const k=await p0.getFileViewInfo(t.file_id),E=`${sc}${k.view_url}`;E&&window.open(E,"_blank")}catch{i({title:"Error",description:"Gagal membuka file.",variant:"destructive"})}},S=async()=>{if(!t.file_id){i({title:"Error",description:"File ID tidak ditemukan.",variant:"destructive"});return}try{const k=await p0.downloadFile(t.file_id);if(k.size===0)throw new Error("File is empty");const E=URL.createObjectURL(k),A=document.createElement("a");A.href=E,A.download=t.file_name||"downloaded-file",A.style.display="none",document.body.appendChild(A),A.click(),setTimeout(()=>{document.body.removeChild(A),URL.revokeObjectURL(E)},100),i({title:"Berhasil",description:"File berhasil didownload."})}catch(k){console.error("Download error:",k),i({title:"Error",description:`Gagal mendownload file: ${k instanceof Error?k.message:"Unknown error"}`,variant:"destructive"})}};return s.jsxs(s.Fragment,{children:[s.jsxs(je,{children:[s.jsxs(ct,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(pt,{className:"text-lg",children:t.name}),s.jsx(vt,{variant:t.is_uploaded?"default":"secondary",children:t.is_uploaded?"Sudah di Upload":"Belum Upload"})]}),t.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.description})]}),s.jsx(we,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(va,{className:`h-4 w-4 ${t.is_uploaded?"text-green-600":"text-gray-400"}`}),s.jsx("span",{className:"text-sm",children:t.is_uploaded?t.file_name:"Belum ada file yang diupload"})]}),(t.is_uploaded||e)&&s.jsx(un,{onView:t.is_uploaded?j:void 0,customActions:[...t.is_uploaded?[{label:"Download",onClick:S,icon:"Download"}]:[],...e?[{label:t.is_uploaded?"Ganti File":"Upload File",onClick:g,icon:"Upload"}]:[],...e?[{label:"Edit Item",onClick:v,icon:"Edit"}]:[],...e&&a?[{label:"Hapus Item",onClick:y,icon:"Trash2"}]:[]],showView:t.is_uploaded,showEdit:!1,showDelete:!1})]}),t.uploaded_at&&s.jsxs("p",{className:"text-xs",children:["Diupload: ",new Date(t.uploaded_at).toLocaleString()]})]})})]}),s.jsx(Xre,{open:o,onOpenChange:c,onSuccess:n,periodId:t.period_id,itemId:t.id,title:t.name,currentFileName:t.file_name||void 0}),s.jsx(Zre,{open:d,onOpenChange:h,item:t,onSuccess:n}),s.jsx(ss,{open:m,onOpenChange:p,children:s.jsxs(Gn,{children:[s.jsxs(Kn,{children:[s.jsx(Xn,{children:"Hapus Item RPP"}),s.jsxs(Wn,{children:['Apakah Anda yakin ingin menghapus item RPP "',t.name,'"?',t.is_uploaded&&" File yang sudah diupload juga akan terhapus.",s.jsx("br",{}),s.jsx("br",{}),"Tindakan ini tidak dapat dibatalkan."]})]}),s.jsxs(Yn,{children:[s.jsx(Qn,{children:"Batal"}),s.jsx(Zn,{onClick:w,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Hapus"})]})]})})]})},Jre=({submission:t,onReviewComplete:e})=>{const{toast:n}=_t(),[a,i]=x.useState(t.review_notes||""),[o,c]=x.useState(!1),[d,h]=x.useState(!1),[m,p]=x.useState(!1),g=async v=>{try{c(!0),await ns.reviewSubmission(t.id,{status:v,review_notes:a||void 0});const y={[Tt.DRAFT]:"Status berhasil diubah ke draft.",[Tt.PENDING]:"Status berhasil diubah ke pending.",[Tt.APPROVED]:"RPP submission berhasil disetujui.",[Tt.REJECTED]:"RPP submission berhasil ditolak."};n({title:"Berhasil",description:y[v]||"Review berhasil disimpan."}),h(!1),p(!1),e()}catch(y){console.error("Error reviewing submission:",y),n({title:"Error",description:y.message||"Gagal mereview RPP submission.",variant:"destructive"}),h(!1),p(!1)}finally{c(!1)}};return s.jsxs(je,{children:[s.jsx(ct,{children:s.jsx(pt,{children:"Review Submission"})}),s.jsx(we,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Pe,{htmlFor:"review-notes",children:"Catatan Review"}),s.jsx(br,{id:"review-notes",value:a,onChange:v=>i(v.target.value),placeholder:"Berikan catatan untuk guru...",className:"mt-1",rows:4})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(ss,{open:d,onOpenChange:h,children:[s.jsx(Wd,{asChild:!0,children:s.jsxs(pe,{disabled:o,className:"bg-green-600 hover:bg-green-700",children:[o?s.jsx(Ua,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Ji,{className:"h-4 w-4 mr-2"}),"Setujui"]})}),s.jsxs(Gn,{children:[s.jsxs(Kn,{children:[s.jsx(Xn,{children:"Konfirmasi Persetujuan"}),s.jsx(Wn,{children:'Apakah Anda yakin ingin menyetujui RPP submission ini? Setelah disetujui, status submission akan berubah menjadi "Approved" dan guru akan mendapat notifikasi.'})]}),s.jsxs(Yn,{children:[s.jsx(Qn,{children:"Batal"}),s.jsx(Zn,{onClick:()=>g(Tt.APPROVED),className:"bg-green-600 hover:bg-green-700",children:"Setujui"})]})]})]}),s.jsxs(ss,{open:m,onOpenChange:p,children:[s.jsx(Wd,{asChild:!0,children:s.jsxs(pe,{disabled:o,variant:"destructive",children:[o?s.jsx(Ua,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(V_,{className:"h-4 w-4 mr-2"}),"Tolak"]})}),s.jsxs(Gn,{children:[s.jsxs(Kn,{children:[s.jsx(Xn,{children:"Konfirmasi Penolakan"}),s.jsx(Wn,{children:"Apakah Anda yakin ingin menolak RPP submission ini? Setelah ditolak, guru dapat memperbaiki dan submit ulang RPP mereka. Pastikan Anda telah memberikan catatan review yang jelas."})]}),s.jsxs(Yn,{children:[s.jsx(Qn,{children:"Batal"}),s.jsx(Zn,{onClick:()=>g(Tt.REJECTED),className:"bg-red-600 hover:bg-red-700",children:"Tolak"})]})]})]})]})]})})]})},eie=({submission:t})=>{const e=a=>{switch(a){case Tt.APPROVED:return s.jsx(Ji,{className:"h-4 w-4"});case Tt.REJECTED:return s.jsx(V_,{className:"h-4 w-4"});case Tt.PENDING:return s.jsx(Yj,{className:"h-4 w-4"});default:return s.jsx(va,{className:"h-4 w-4"})}},n=a=>ns.getStatusColor(a);return s.jsxs(je,{children:[s.jsx(ct,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(pt,{children:"Status Submission"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[e(t.status),s.jsx(vt,{variant:"outline",className:`text-${n(t.status)}-600`,children:ns.getStatusDisplayName(t.status)})]})]})}),s.jsxs(we,{className:"space-y-6",children:[(t.submitted_at||t.reviewed_at)&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.submitted_at&&s.jsxs("div",{className:"space-y-1",children:[s.jsx(Pe,{className:"text-sm font-medium",children:"Tanggal Submit"}),s.jsx("p",{className:"text-sm  break-words",children:new Date(t.submitted_at).toLocaleString("id-ID",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.reviewed_at&&s.jsxs("div",{className:"space-y-1",children:[s.jsx(Pe,{className:"text-sm font-medium",children:"Tanggal Review"}),s.jsx("p",{className:"text-sm  break-words",children:new Date(t.reviewed_at).toLocaleString("id-ID",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),t.review_notes&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{className:"text-sm font-medium",children:"Catatan Review"}),s.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-md border",children:s.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:t.review_notes})})]})]})]})},tie=Od.object({name:Od.string().min(1,"Nama RPP item harus diisi").max(255,"Nama terlalu panjang (maksimal 255 karakter)"),description:Od.string().max(1e3,"Deskripsi terlalu panjang (maksimal 1000 karakter)").optional()}),nie=({open:t,onOpenChange:e,periodId:n,onSuccess:a})=>{const{toast:i}=_t(),o=gs({resolver:xs(tie),defaultValues:{name:"",description:""}}),{handleSubmit:c,control:d,reset:h,formState:{isSubmitting:m}}=o,p=async v=>{try{console.log("Creating RPP item with:",{periodId:n,data:v});const y=await ns.createRPPSubmissionItem(n,{name:v.name,description:v.description||null});console.log("RPP item created successfully:",y),i({title:"Berhasil",description:"RPP item berhasil dibuat."}),h(),e(!1),console.log("Calling onSuccess callback..."),a()}catch(y){console.error("Error creating RPP item:",y),i({title:"Error",description:"Gagal membuat RPP item. Silakan coba lagi.",variant:"destructive"})}},g=()=>{h(),e(!1)};return s.jsx(nn,{open:t,onOpenChange:g,children:s.jsxs(sn,{className:"sm:max-w-[425px]",children:[s.jsxs(an,{children:[s.jsx(rn,{children:"Buat RPP Item Baru"}),s.jsx(Hf,{children:"Buat item RPP baru untuk periode ini. Anda bisa mengupload file nanti."})]}),s.jsx(In,{...o,children:s.jsxs("form",{onSubmit:c(p),className:"space-y-4",children:[s.jsx($e,{control:d,name:"name",render:({field:v})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Nama RPP *"}),s.jsx(Ue,{children:s.jsx(at,{placeholder:"Contoh: RPP Matematika Kelas 7",...v})}),s.jsx(He,{})]})}),s.jsx($e,{control:d,name:"description",render:({field:v})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Deskripsi (Opsional)"}),s.jsx(Ue,{children:s.jsx(br,{placeholder:"Deskripsi singkat mengenai RPP ini...",rows:3,...v})}),s.jsx(He,{})]})}),s.jsxs(zs,{children:[s.jsx(pe,{type:"button",variant:"outline",onClick:g,disabled:m,children:"Batal"}),s.jsx(pe,{type:"submit",disabled:m,children:m?"Membuat...":"Buat Item"})]})]})})]})})},sie=({activePeriod:t,onSuccess:e,triggerButton:n})=>{const{toast:a}=_t(),[i,o]=x.useState(!1),[c,d]=x.useState(!1),h=async()=>{if(!t){a({title:"Error",description:"Tidak ada periode aktif yang tersedia.",variant:"destructive"});return}try{d(!0);const g=await ns.generateSubmissionsForPeriod({period_id:t.id});a({title:g.success?"Berhasil Membuat RPP Submissions":"RPP Submissions Selesai",description:g.message||`${g.created_evaluations} submissions berhasil dibuat, ${g.skipped_evaluations} sudah ada sebelumnya. Periode: ${g.period_name}`}),e&&e(),o(!1)}catch(g){console.error("Error generating RPP submissions:",g),a({title:"Error",description:(g==null?void 0:g.message)||"Gagal membuat RPP submissions. Silakan coba lagi.",variant:"destructive"})}finally{d(!1)}},m=g=>{o(g)},p=s.jsxs(pe,{children:[s.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Buat RPP untuk Periode"]});return s.jsxs(nn,{open:i,onOpenChange:m,children:[s.jsx($D,{asChild:!0,children:n||p}),s.jsxs(sn,{children:[s.jsxs(an,{children:[s.jsx(rn,{children:"Buat RPP Submissions"}),s.jsx(Hf,{children:t?s.jsxs(s.Fragment,{children:["Membuat RPP submissions untuk semua guru di periode aktif: ",s.jsxs("strong",{children:[t.academic_year," - ",t.semester]}),". Sistem akan membuat template RPP kosong yang dapat diisi oleh masing-masing guru."]}):"Tidak ada periode aktif yang tersedia. Pastikan ada periode yang sedang aktif untuk membuat RPP submissions."})]}),s.jsx("div",{className:"space-y-4 py-4",children:t?s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{children:"Periode Aktif"}),s.jsxs("div",{className:"p-3 bg-primary/10 border border-primary/20 rounded-md",children:[s.jsxs("div",{className:"font-medium text-primary",children:[t.academic_year," - ",t.semester]}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"RPP akan otomatis dibuat untuk periode yang sedang aktif"})]})]}):s.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-md",children:[s.jsx("div",{className:"font-medium text-destructive",children:"Tidak ada periode aktif"}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Pastikan ada periode yang sedang aktif untuk membuat RPP submissions"})]})}),s.jsxs(zs,{children:[s.jsx(pe,{variant:"outline",onClick:()=>o(!1),disabled:c,children:"Batal"}),s.jsx(pe,{onClick:h,disabled:!t||c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(Z_,{className:"h-4 w-4 mr-2 animate-spin"}),"Membuat..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Buat Submissions"]})})]})]})]})},aie=()=>{const{currentRole:t,isAdmin:e,isKepalaSekolah:n}=as(),{toast:a}=_t(),i=Ei();if(t==="GURU")return s.jsx(to,{to:"/my-rpp-submissions",replace:!0});const{updateURL:o,getCurrentFilters:c}=oa({defaults:{search:"",organization_id:"all",period_id:"active",status:"all",page:1,size:10},cleanDefaults:!0}),d=c(),[h,m]=x.useState([]),[p,g]=x.useState([]),[v,y]=x.useState([]),[w,j]=x.useState(null),[S,k]=x.useState(!0),[E,A]=x.useState(0),[T,_]=x.useState(0),M=e()||n(),P=async()=>{k(!0);try{let K={limit:d.size,offset:(d.page-1)*d.size};d.period_id==="active"&&w?K.period_id=w.id:d.period_id!=="active"&&e()?K.period_id=Number(d.period_id):e()||(K.period_id=w==null?void 0:w.id),d.status!=="all"&&(K.status=d.status),d.search&&d.search.trim()&&(K.search=d.search.trim());const z=await ns.getSubmissions(K);m(z.items||[]),A(z.total||0),_(z.pages||0)}catch(K){console.error("Error loading RPP submissions:",K);const z=(K==null?void 0:K.message)||"Gagal memuat data RPP submissions. Silakan coba lagi.";a({title:"Error",description:z,variant:"destructive"})}finally{k(!1)}},O=async()=>{if(e())try{const K=await Or.getOrganizations();g(K.items||[])}catch(K){console.error("Error loading organizations:",K)}},I=async()=>{try{const K=await kn.getPeriods({page:1,size:100});y(K.items||[])}catch(K){console.error("Error loading periods:",K)}},G=async()=>{try{const K=await kn.getActivePeriod();j(K)}catch(K){console.error("Error loading active period:",K);try{const W=(await kn.getPeriods({is_active:!0,page:1,size:100})).items||[];W.length>0&&j(W[0])}catch(z){console.error("Error in fallback active period load:",z)}}};x.useEffect(()=>{M&&(O(),I(),G())},[M]),x.useEffect(()=>{w&&(d.period_id==="active"||!d.period_id)&&o({period_id:w.id.toString()})},[w]),x.useEffect(()=>{M&&P()},[d.page,d.size,d.search,d.organization_id,d.period_id,d.status,M]);const R=K=>{i(`/rpp-submissions/teacher/${K.teacher_id}?period_id=${K.period_id}`)},X=async K=>{i(`/rpp-submissions/teacher/${K.teacher_id}?period_id=${K.period_id}&review=true`)},$=K=>{o({size:parseInt(K),page:1})},Z=x.useCallback(K=>{K!==d.search&&o({search:K,page:1})},[o,d.search]),te=x.useCallback(K=>{K!==d.organization_id&&o({organization_id:K,page:1})},[o,d.organization_id]),L=x.useCallback(K=>{K!==d.period_id&&o({period_id:K,page:1})},[o,d.period_id]),V=x.useCallback(K=>{K!==d.status&&o({status:K,page:1})},[o,d.status]),B=K=>{o({page:K})},Y=async()=>{await P()},se=()=>{let K="RPP Submissions";const z=[];if(d.status!=="all"){const W={draft:"Draft",pending:"Menunggu Review",approved:"Disetujui",rejected:"Ditolak"};z.push(W[d.status])}if(d.period_id==="active")z.push("Periode Aktif");else if(e()&&d.period_id!=="active"){const W=v.find(q=>q.id===Number(d.period_id));W&&z.push(`${W.academic_year} - ${W.semester}`)}if(e()&&d.organization_id!=="all"){const W=p.find(q=>q.id===Number(d.organization_id));W&&z.push(W.name)}else n()&&z.push("Sekolah Saya");return z.length>0&&(K+=" - "+z.join(" - ")),K};return M?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Cs,{title:"RPP Submissions",description:"Kelola dan review RPP submissions dari semua guru",actions:e()&&s.jsx(sie,{activePeriod:w,onSuccess:Y})}),s.jsx("div",{className:"space-y-4",children:s.jsxs($r,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"period-filter",children:"Periode"}),s.jsxs(Ut,{value:d.period_id,onValueChange:L,children:[s.jsx(Lt,{id:"period-filter",children:s.jsx($t,{placeholder:"Pilih periode"})}),s.jsx(It,{children:v.map(K=>s.jsxs(Be,{value:K.id.toString(),children:[K.academic_year," - ",K.semester,K.is_active?" (Aktif)":""]},K.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"status-filter",children:"Status"}),s.jsxs(Ut,{value:d.status,onValueChange:V,children:[s.jsx(Lt,{id:"status-filter",children:s.jsx($t,{placeholder:"Filter berdasarkan status"})}),s.jsxs(It,{children:[s.jsx(Be,{value:"all",children:"Semua Status"}),s.jsx(Be,{value:"DRAFT",children:"Draft"}),s.jsx(Be,{value:"PENDING",children:"Menunggu Review"}),s.jsx(Be,{value:"APPROVED",children:"Disetujui"}),s.jsx(Be,{value:"REJECTED",children:"Ditolak"})]})]})]}),e()&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"organization-filter",children:"Sekolah"}),s.jsxs(Ut,{value:d.organization_id,onValueChange:te,children:[s.jsx(Lt,{id:"organization-filter",children:s.jsx($t,{placeholder:"Filter berdasarkan Sekolah"})}),s.jsxs(It,{children:[s.jsx(Be,{value:"all",children:"Semua Sekolah"}),p.map(K=>s.jsx(Be,{value:K.id.toString(),children:K.name},K.id))]})]})]})]})}),s.jsx(je,{children:s.jsx(we,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx($a,{title:se(),subtitle:"Kelola dan review RPP submissions dari semua guru"}),s.jsx(vr,{searchQuery:d.search,onSearchChange:Z,placeholder:"Cari berdasarkan nama guru..."}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(Kre,{submissions:h,loading:S,onView:R,onSubmit:X,userRole:e()?"admin":"kepala_sekolah"})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(Yre,{submissions:h,loading:S,onView:R,onSubmit:X,userRole:e()?"admin":"kepala_sekolah"})}),T>1&&s.jsx(ya,{currentPage:d.page,totalPages:T,itemsPerPage:d.size,totalItems:E,onPageChange:B,onItemsPerPageChange:$})]})})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki akses untuk melihat halaman ini."})]})})},rie=()=>{var ae,ue,ce,Ce,Oe,nt,De;const{teacherId:t,periodId:e}=$g(),{isAdmin:n,isKepalaSekolah:a,isGuru:i}=as(),{user:o}=mr(),{toast:c}=_t(),{updateURL:d,getCurrentFilters:h}=oa({defaults:{period_id:e||""},cleanDefaults:!0}),m=h(),[p,g]=x.useState(null),[v,y]=x.useState(null),[w,j]=x.useState([]),[S,k]=x.useState(null),[E,A]=x.useState(null),[T,_]=x.useState(!0),[M,P]=x.useState(!1),[O,I]=x.useState(!1),[G,R]=x.useState(!1),X=(i()||a())&&((ae=o==null?void 0:o.id)==null?void 0:ae.toString())===t,$=(p==null?void 0:p.status)===Tt.PENDING&&!X&&(a()&&(v==null?void 0:v.role)==="GURU"&&((ue=v==null?void 0:v.profile)==null?void 0:ue.organization_id)===((ce=o==null?void 0:o.profile)==null?void 0:ce.organization_id)||n()&&(v==null?void 0:v.role)==="KEPALA_SEKOLAH"),Z=n(),te=a()&&((Ce=v==null?void 0:v.profile)==null?void 0:Ce.organization_id)===((Oe=o==null?void 0:o.profile)==null?void 0:Oe.organization_id);x.useEffect(()=>{L(),B()},[t,e,m.period_id]),x.useEffect(()=>{w.length>0&&!e&&t&&se()},[w,t,e]),x.useEffect(()=>{if(t&&!e&&w.length>0&&!m.period_id){let ke;E?ke=E.id.toString():ke=w[0].id.toString(),d({period_id:ke})}},[t,e,E,w,m.period_id,d]);const L=async()=>{try{_(!0),await V(),t&&await Y(),await se()}catch(ke){console.error("Error loading initial data:",ke)}finally{_(!1)}},V=async()=>{try{const ke=await kn.getPeriods({page:1,size:100});j(ke.items||[])}catch(ke){console.error("Error loading periods:",ke)}},B=async()=>{try{const ke=await kn.getActivePeriod();A(ke)}catch(ke){console.error("Error loading active period:",ke)}},Y=async()=>{if(t)try{const ke=await fi.getUserById(Number(t));y(ke)}catch(ke){console.error("Error loading teacher:",ke)}},se=async()=>{var ke,it;if(!G){R(!0);try{let Le;if(e)Le=Number(e);else if(t){if(w.length===0||!m.period_id){R(!1);return}Le=Number(m.period_id)}else throw new Error("No teacher or period specified");if(!S||S.id!==Le)try{const Ae=await kn.getPeriodById(Le);k(Ae)}catch(Ae){console.error("Error loading period by ID:",Ae);const Ie=w.find(Nt=>Nt.id===Le);Ie&&k(Ie)}let Qe;if(X||e)try{Qe=await ns.getMySubmissionForPeriod(Le)}catch(Ae){if((ke=Ae.message)!=null&&ke.includes("Pengajuan tidak ditemukan")){g(null),R(!1);return}throw Ae}else if(t){const Ae=await ns.getSubmissions({teacher_id:Number(t),period_id:Le,limit:1,offset:0});if(Ae.items&&Ae.items.length>0)Qe=Ae.items[0];else{g(null),R(!1);return}}else throw new Error("Invalid access parameters");g(Qe),console.log("Submission data loaded:",Qe),console.log("Number of items:",((it=Qe==null?void 0:Qe.items)==null?void 0:it.length)||0)}catch(Le){console.error("Error loading submission detail:",Le),g(null)}finally{R(!1)}}},K=ke=>{d({period_id:ke})},z=async()=>{console.log("handleFileUploaded called, reloading submission detail..."),await se(),console.log("loadSubmissionDetail completed")},W=async()=>{if(p){if(!ns.isSubmissionReady(p)){c({title:"Tidak dapat submit",description:"Pastikan semua RPP telah diupload sebelum submit.",variant:"destructive"});return}try{await ns.submitForApproval(p.id),c({title:"Berhasil",description:"RPP submission berhasil disubmit untuk review."}),P(!1),await se()}catch(ke){console.error("Error submitting for approval:",ke),c({title:"Error",description:ke.message||"Gagal submit RPP submission.",variant:"destructive"}),P(!1)}}},q=async()=>{await se()},H=ke=>{const it=(p==null?void 0:p.status)===Tt.DRAFT,Le=(p==null?void 0:p.status)===Tt.REJECTED,Qe=it||Le,Ae=E&&S&&E.id===S.id,Ie=X&&Qe&&Ae;return s.jsx(Qre,{item:ke,canUpload:Ie??!1,submissionStatus:p.status,onFileUploaded:z,onItemDeleted:z},ke.id)};if(!(X||Z||te))return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:a()?"Anda hanya dapat melihat RPP submission dari guru di Sekolah Anda.":"Anda tidak memiliki akses untuk melihat halaman ini."})]})});if(T)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const ne=()=>{var ke,it;return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Cs,{title:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{children:X?"RPP Submission Saya":`RPP Submission - ${((ke=v==null?void 0:v.profile)==null?void 0:ke.name)||(v==null?void 0:v.display_name)||"Unknown"}`}),Z&&s.jsx(vt,{variant:"outline",className:"text-blue-600",children:"Admin View"}),te&&s.jsx(vt,{variant:"outline",className:"text-purple-600",children:"Kepala Sekolah"})]}),description:s.jsxs("div",{children:[s.jsx("p",{children:S!=null&&S.academic_year&&(S!=null&&S.semester)?`Detail RPP submission untuk periode ${S.academic_year} - ${S.semester}`:"Detail RPP submission"}),((it=v==null?void 0:v.profile)==null?void 0:it.organization_name)&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Sekolah: ",v.profile.organization_name]})]})}),t&&!e&&w.length>0&&s.jsx($r,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"period-filter",children:"Periode"}),s.jsxs(Ut,{value:m.period_id,onValueChange:K,children:[s.jsx(Lt,{id:"period-filter",children:s.jsx($t,{placeholder:"Pilih periode"})}),s.jsx(It,{children:w.map(Le=>s.jsxs(Be,{value:Le.id.toString(),children:[Le.academic_year," - ",Le.semester,Le.is_active?" (Aktif)":""]},Le.id))})]})]})}),s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"RPP Submission Belum Ada"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:S!=null&&S.academic_year&&(S!=null&&S.semester)?`Belum ada RPP submission untuk periode ${S.academic_year} - ${S.semester}.`:"Belum ada RPP submission untuk periode ini."}),t&&!e&&w.length>0&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pilih periode lain menggunakan filter di atas untuk mencari RPP submission."})]})})]})};if(!p)return ne();const ie=E&&S&&E.id===S.id,he=X&&(p.status===Tt.DRAFT||p.status===Tt.REJECTED)&&ns.isSubmissionReady(p)&&ie;return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Cs,{title:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{children:X?"RPP Submission Saya":`RPP Submission - ${((nt=v==null?void 0:v.profile)==null?void 0:nt.name)||(v==null?void 0:v.display_name)||"Unknown"}`}),Z&&s.jsx(vt,{variant:"outline",className:"text-blue-600",children:"Admin View"}),te&&s.jsx(vt,{variant:"outline",className:"text-purple-600",children:"Kepala Sekolah"})]}),description:s.jsxs("div",{children:[s.jsx("p",{children:S!=null&&S.academic_year&&(S!=null&&S.semester)?`Detail RPP submission untuk periode ${S.academic_year} - ${S.semester}`:"Detail RPP submission"}),((De=v==null?void 0:v.profile)==null?void 0:De.organization_name)&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Sekolah: ",v.profile.organization_name]})]}),actions:s.jsxs("div",{className:"flex space-x-2",children:[he&&s.jsxs(ss,{open:M,onOpenChange:P,children:[s.jsx(Wd,{asChild:!0,children:s.jsxs(pe,{children:[s.jsx(t0,{className:"h-4 w-4 mr-2"}),p.status===Tt.REJECTED?"Submit Ulang":"Submit untuk Approval"]})}),s.jsxs(Gn,{children:[s.jsxs(Kn,{children:[s.jsx(Xn,{children:"Konfirmasi Submit"}),s.jsx(Wn,{children:p.status===Tt.REJECTED?"Apakah Anda yakin ingin submit ulang RPP submission ini untuk review?":"Apakah Anda yakin ingin submit RPP submission ini untuk review? Setelah disubmit, Anda tidak dapat mengubah file RPP hingga mendapat feedback."})]}),s.jsxs(Yn,{children:[s.jsx(Qn,{children:"Batal"}),s.jsx(Zn,{onClick:W,children:p.status===Tt.REJECTED?"Submit Ulang":"Submit"})]})]})]}),X&&(p.status===Tt.DRAFT||p.status===Tt.REJECTED)&&ns.isSubmissionReady(p)&&!ie&&s.jsxs(pe,{disabled:!0,title:"Upload dan submit hanya dapat dilakukan pada periode aktif",children:[s.jsx(t0,{className:"h-4 w-4 mr-2"}),p.status===Tt.REJECTED?"Submit Ulang":"Submit untuk Approval"]})]})}),t&&!e&&w.length>0&&s.jsx($r,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"period-filter",children:"Periode"}),s.jsxs(Ut,{value:m.period_id,onValueChange:K,children:[s.jsx(Lt,{id:"period-filter",children:s.jsx($t,{placeholder:"Pilih periode"})}),s.jsx(It,{children:w.map(ke=>s.jsxs(Be,{value:ke.id.toString(),children:[ke.academic_year," - ",ke.semester,ke.is_active?" (Aktif)":""]},ke.id))})]})]})}),s.jsx(eie,{submission:p}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"RPP Files"}),(()=>{const ke=p.status===Tt.DRAFT,it=p.status===Tt.REJECTED,Le=ke||it,Qe=E&&S&&E.id===S.id;return X&&Le&&Qe&&s.jsx(pe,{onClick:()=>I(!0),variant:"outline",size:"sm",children:"Tambah Item"})})()]}),s.jsx("div",{className:"grid grid-cols-1  gap-4",children:(console.log("Rendering items:",p.items),p.items.map(H))})]}),$&&s.jsx(Jre,{submission:p,onReviewComplete:q}),s.jsx(nie,{open:O,onOpenChange:I,periodId:(S==null?void 0:S.id)||0,onSuccess:z})]})};class iie extends Js{constructor(){super("/board-members")}async getBoardGroups(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/groups?${n.toString()}`:"/groups";return this.get(a)}async createBoardGroup(e){return this.post("/groups",e)}async getBoardGroupById(e){return this.get(`/groups/${e}`)}async updateBoardGroup(e,n){return this.put(`/groups/${e}`,n)}async deleteBoardGroup(e){return this.delete(`/groups/${e}`)}async getBoardMembers(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/members?${n.toString()}`:"/members";return this.get(a)}async createBoardMember(e,n){const a=new FormData;return a.append("data",JSON.stringify(e)),a.append("image",n),this.post("/members",a,{headers:{"Content-Type":"multipart/form-data"}})}async getBoardMemberById(e){return this.get(`/members/${e}`)}async updateBoardMember(e,n,a){const i=new FormData;return i.append("data",JSON.stringify(n)),a&&i.append("image",a),this.put(`/members/${e}`,i,{headers:{"Content-Type":"multipart/form-data"}})}async deleteBoardMember(e){return this.delete(`/members/${e}`)}}const ci=new iie,oie=({boardMembers:t,loading:e=!1,onEdit:n,onDelete:a,onView:i,boardGroups:o})=>{const c=d=>{if(!d)return"-";const h=o.find(m=>m.id===d);return(h==null?void 0:h.title)||"-"};return s.jsx("div",{className:"rounded-md border",children:s.jsxs(fs,{children:[s.jsx(ms,{children:s.jsxs(et,{children:[s.jsx(Te,{children:"Nama"}),s.jsx(Te,{children:"Posisi"}),s.jsx(Te,{children:"Grup"}),s.jsx(Te,{children:"Urutan"}),s.jsx(Te,{children:"Dibuat"}),s.jsx(Te,{className:"text-right",children:"Aksi"})]})}),s.jsx(ps,{children:e?s.jsx(et,{children:s.jsx(Ee,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"Memuat Anggota Dewan..."})}):t.length===0?s.jsx(et,{children:s.jsx(Ee,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"Tidak ada Anggota Dewan ditemukan"})}):t.map(d=>s.jsxs(et,{children:[s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[d.img_url&&s.jsx("img",{src:hu(d.img_url,48),alt:d.name,className:"w-8 h-8 rounded-full object-cover"}),s.jsx("span",{className:"font-medium",children:d.name})]})}),s.jsx(Ee,{children:d.position}),s.jsx(Ee,{children:c(d.group_id)}),s.jsx(Ee,{children:d.member_order}),s.jsx(Ee,{children:gn(new Date(d.created_at),"dd MMM yyyy",{locale:xn})}),s.jsx(Ee,{className:"text-right",children:s.jsx(un,{onView:()=>i(d),onEdit:()=>n(d),onDelete:()=>a(d)})})]},d.id))})]})})},lie=({boardMembers:t,loading:e=!1,onEdit:n,onDelete:a,onView:i,boardGroups:o})=>{const c=d=>{if(!d)return"-";const h=o.find(m=>m.id===d);return(h==null?void 0:h.title)||"-"};return e?s.jsx("div",{className:"grid gap-4",children:[...Array(3)].map((d,h)=>s.jsx(je,{children:s.jsx(we,{className:"p-4",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]})})},h))}):t.length===0?s.jsx(je,{children:s.jsx(we,{className:"p-8 text-center text-muted-foreground",children:"Tidak ada Anggota Dewan ditemukan"})}):s.jsx("div",{className:"grid gap-4",children:t.map(d=>s.jsx(je,{children:s.jsx(we,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[d.img_url&&s.jsx("img",{src:hu(d.img_url,64),alt:d.name,className:"w-10 h-10 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm",children:d.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:d.position})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Grup:"}),s.jsx("span",{children:c(d.group_id)})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Urutan:"}),s.jsx("span",{children:d.member_order})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Dibuat:"}),s.jsx("span",{children:gn(new Date(d.created_at),"dd MMM yyyy",{locale:xn})})]}),d.description&&s.jsx("div",{className:"mt-2",children:s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:d.short_description})})]})]}),s.jsx("div",{className:"ml-2",children:s.jsx(un,{onView:()=>i(d),onEdit:()=>n(d),onDelete:()=>a(d)})})]})})},d.id))})},cie=Bs({name:rt().min(1,"Nama wajib diisi").max(255,"Nama maksimal 255 karakter"),position:rt().min(1,"Posisi wajib diisi").max(255,"Posisi maksimal 255 karakter"),group_id:tl().min(1,"Grup wajib dipilih"),description:rt().optional().or(us("")),member_order:tl().min(0,"Urutan tidak boleh negatif")}),CC=({open:t,onOpenChange:e,editingBoardMember:n,onSave:a,mode:i="create",boardGroups:o})=>{const{toast:c}=_t(),[d,h]=x.useState(!1),[m,p]=x.useState([]),g=i==="edit",v=i==="view",y=gs({resolver:xs(cie),defaultValues:{name:"",position:"",group_id:0,description:"",member_order:0}});x.useEffect(()=>{t&&(n?y.reset({name:n.name,position:n.position,group_id:n.group_id||0,description:n.description||"",member_order:n.member_order}):y.reset({name:"",position:"",group_id:0,description:"",member_order:0}),p([]))},[t,n,y]);const w=async E=>{if(!g&&m.length===0){c({title:"Validasi gagal",description:"Gambar wajib diupload untuk pengurus baru",variant:"destructive"});return}h(!0);try{const A={name:E.name,position:E.position,group_id:E.group_id,description:E.description||void 0,member_order:E.member_order},T=m.length>0?m[0]:void 0;await a(A,T),e(!1),y.reset(),p([])}catch(A){console.error("Error saving board member:",A),c({title:"Terjadi kesalahan",description:A.message||"Gagal menyimpan pengurus",variant:"destructive"})}finally{h(!1)}},j=E=>{p(E)},S=E=>{c({title:"Error file",description:E,variant:"destructive"})},k=n!=null&&n.img_url?[{name:`Current Image - ${n.name}`,url:n.img_url,viewUrl:n.img_url}]:[];return s.jsx(nn,{open:t,onOpenChange:e,children:s.jsxs(sn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(an,{children:s.jsx(rn,{children:v?"Detail Anggota Dewan":g?"Edit Pengurus":"Tambah Pengurus Baru"})}),s.jsx(In,{...y,children:s.jsxs("form",{onSubmit:y.handleSubmit(w),className:"space-y-6",children:[s.jsx($e,{control:y.control,name:"name",render:({field:E})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Nama Lengkap"}),s.jsx(Ue,{children:s.jsx(at,{placeholder:"Masukkan nama lengkap",...E,disabled:d||v})}),s.jsx(He,{})]})}),s.jsx($e,{control:y.control,name:"position",render:({field:E})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Posisi/Jabatan"}),s.jsx(Ue,{children:s.jsx(at,{placeholder:"Masukkan posisi/jabatan",...E,disabled:d||v})}),s.jsx(He,{})]})}),s.jsx($e,{control:y.control,name:"group_id",render:({field:E})=>{var A;return s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Grup Dewan"}),s.jsxs(Ut,{onValueChange:T=>E.onChange(parseInt(T)),value:(A=E.value)==null?void 0:A.toString(),disabled:d||v,children:[s.jsx(Ue,{children:s.jsx(Lt,{children:s.jsx($t,{placeholder:"Pilih grup dewan"})})}),s.jsx(It,{children:o.map(T=>s.jsx(Be,{value:T.id.toString(),children:T.title},T.id))})]}),s.jsx(sa,{children:"Pilih grup dewan untuk anggota ini"}),s.jsx(He,{})]})}}),s.jsx("div",{children:s.jsx(wl,{label:"Foto Pengurus",description:"Upload foto pengurus (JPG, PNG, WebP, max 5MB)",accept:"image/*",maxSize:5*1024*1024,maxFiles:1,files:m,existingFiles:k,onFilesChange:j,onError:S,required:!g,disabled:d,showPreview:!0,allowRemove:!1})}),s.jsx($e,{control:y.control,name:"description",render:({field:E})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Deskripsi"}),s.jsx(Ue,{children:s.jsx(kc,{value:E.value||"",onChange:E.onChange,placeholder:"Masukkan deskripsi pengurus (opsional)",disabled:d||v})}),s.jsx(sa,{children:"Deskripsi singkat tentang pengurus (opsional)"}),s.jsx(He,{})]})}),s.jsx($e,{control:y.control,name:"member_order",render:({field:E})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Urutan Tampil"}),s.jsx(Ue,{children:s.jsx(at,{type:"number",min:"0",placeholder:"0",...E,onChange:A=>E.onChange(parseInt(A.target.value)||0),onFocus:A=>{A.target.value==="0"&&A.target.select()},disabled:d})}),s.jsx(sa,{children:"Urutan tampil di website (0 = paling atas)"}),s.jsx(He,{})]})}),s.jsxs(zs,{children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:d,children:v?"Tutup":"Batal"}),!v&&s.jsx(pe,{type:"submit",disabled:d,children:d?"Menyimpan...":g?"Perbarui":"Simpan"})]})]})})]})})},die=({boardGroups:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>s.jsx("div",{className:"rounded-md border",children:s.jsxs(fs,{children:[s.jsx(ms,{children:s.jsxs(et,{children:[s.jsx(Te,{children:"Nama Grup"}),s.jsx(Te,{children:"Urutan"}),s.jsx(Te,{children:"Deskripsi"}),s.jsx(Te,{children:"Dibuat"}),s.jsx(Te,{className:"text-right",children:"Aksi"})]})}),s.jsx(ps,{children:e?s.jsx(et,{children:s.jsx(Ee,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Memuat Grup Dewan..."})}):t.length===0?s.jsx(et,{children:s.jsx(Ee,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Tidak ada Grup Dewan ditemukan"})}):t.map(o=>s.jsxs(et,{children:[s.jsx(Ee,{children:s.jsx("span",{className:"font-medium",children:o.title})}),s.jsx(Ee,{children:o.display_order}),s.jsx(Ee,{children:o.description||"-"}),s.jsx(Ee,{children:gn(new Date(o.created_at),"dd MMM yyyy",{locale:xn})}),s.jsx(Ee,{className:"text-right",children:s.jsx(un,{onView:()=>i(o),onEdit:()=>n(o),onDelete:()=>a(o)})})]},o.id))})]})}),uie=({boardGroups:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>e?s.jsx("div",{className:"grid gap-4",children:[...Array(3)].map((o,c)=>s.jsx(je,{children:s.jsx(we,{className:"p-4",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]})})},c))}):t.length===0?s.jsx(je,{children:s.jsx(we,{className:"p-8 text-center text-muted-foreground",children:"Tidak ada Grup Dewan ditemukan"})}):s.jsx("div",{className:"grid gap-4",children:t.map(o=>s.jsx(je,{children:s.jsx(we,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"mb-2",children:[s.jsx("h3",{className:"font-medium text-sm",children:o.title}),o.description&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:o.description})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Urutan:"}),s.jsx("span",{children:o.display_order})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Dibuat:"}),s.jsx("span",{children:gn(new Date(o.created_at),"dd MMM yyyy",{locale:xn})})]})]})]}),s.jsx("div",{className:"ml-2",children:s.jsx(un,{onView:()=>i(o),onEdit:()=>n(o),onDelete:()=>a(o)})})]})})},o.id))}),hie=Bs({title:rt().min(1,"Nama grup wajib diisi").max(255,"Nama grup maksimal 255 karakter"),display_order:tl().min(0,"Urutan tidak boleh negatif"),description:rt().optional().or(us(""))}),TC=({open:t,onOpenChange:e,editingBoardGroup:n,onSave:a,mode:i="create"})=>{const{toast:o}=_t(),[c,d]=x.useState(!1),h=i==="edit",m=i==="view",p=gs({resolver:xs(hie),defaultValues:{title:"",display_order:0,description:""}});x.useEffect(()=>{t&&(n?p.reset({title:n.title,display_order:n.display_order,description:n.description||""}):p.reset({title:"",display_order:0,description:""}))},[t,n,p]);const g=async v=>{d(!0);try{const y={title:v.title,display_order:v.display_order,description:v.description||void 0};await a(y),e(!1),p.reset()}catch(y){console.error("Error saving board group:",y),o({title:"Terjadi kesalahan",description:y.message||"Gagal menyimpan grup",variant:"destructive"})}finally{d(!1)}};return s.jsx(nn,{open:t,onOpenChange:e,children:s.jsxs(sn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(an,{children:s.jsx(rn,{children:m?"Detail Grup Dewan":h?"Edit Grup":"Tambah Grup Baru"})}),s.jsx(In,{...p,children:s.jsxs("form",{onSubmit:p.handleSubmit(g),className:"space-y-6",children:[s.jsx($e,{control:p.control,name:"title",render:({field:v})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Nama Grup"}),s.jsx(Ue,{children:s.jsx(at,{placeholder:"Masukkan nama grup",...v,disabled:c||m})}),s.jsx(He,{})]})}),s.jsx($e,{control:p.control,name:"display_order",render:({field:v})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Urutan Tampil"}),s.jsx(Ue,{children:s.jsx(at,{type:"number",min:"0",placeholder:"0",...v,onChange:y=>v.onChange(parseInt(y.target.value)||0),onFocus:y=>{y.target.value==="0"&&y.target.select()},disabled:c||m})}),s.jsx(sa,{children:"Urutan tampil di website (0 = paling atas)"}),s.jsx(He,{})]})}),s.jsx($e,{control:p.control,name:"description",render:({field:v})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Deskripsi"}),s.jsx(Ue,{children:s.jsx(kc,{value:v.value||"",onChange:v.onChange,placeholder:"Masukkan deskripsi grup (opsional)",disabled:c||m})}),s.jsx(sa,{children:"Deskripsi singkat tentang grup (opsional)"}),s.jsx(He,{})]})}),s.jsxs(zs,{children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:c,children:m?"Tutup":"Batal"}),!m&&s.jsx(pe,{type:"submit",disabled:c,children:c?"Menyimpan...":h?"Perbarui":"Simpan"})]})]})})]})})},fie=()=>{const{isAdmin:t}=as(),{toast:e}=_t(),{updateURL:n,getCurrentFilters:a}=oa({defaults:{search:"",page:1,size:10},cleanDefaults:!0}),i=a(),[o,c]=x.useState([]),[d,h]=x.useState(!0),[m,p]=x.useState(!1),[g,v]=x.useState(!1),[y,w]=x.useState(null),[j,S]=x.useState(null),[k,E]=x.useState(null),[A,T]=x.useState([]),[_,M]=x.useState(!0),[P,O]=x.useState(0),[I,G]=x.useState(0),[R,X]=x.useState(!1),[$,Z]=x.useState(!1),[te,L]=x.useState(null),[V,B]=x.useState(null),[Y,se]=x.useState(null),K=x.useMemo(()=>t(),[t]),z=x.useCallback(async()=>{h(!0);try{const Ae={page:1,size:50},Ie=await ci.getBoardGroups(Ae);c(Ie.items)}catch(Ae){console.error("Failed to fetch board groups:",Ae),e({title:"Error",description:"Gagal memuat data Grup Dewan. Silakan coba lagi.",variant:"destructive"})}finally{h(!1)}},[]),W=x.useCallback(async()=>{M(!0);try{const Ae={page:i.page,size:i.size,search:i.search||void 0},Ie=await ci.getBoardMembers(Ae);T(Ie.items),O(Ie.total),G(Ie.pages)}catch(Ae){console.error("Failed to fetch board members:",Ae),e({title:"Error",description:"Gagal memuat data Anggota Dewan. Silakan coba lagi.",variant:"destructive"})}finally{M(!1)}},[i.page,i.size,i.search]);x.useEffect(()=>{K&&(z(),W())},[z,W,K]);const q=Ae=>{S(Ae),v(!0)},H=Ae=>{w(Ae),p(!0)},ee=Ae=>{E(Ae)},ne=()=>{w(null),p(!0)},ie=async Ae=>{try{y?await ci.updateBoardGroup(y.id,Ae):await ci.createBoardGroup(Ae),p(!1),w(null),z()}catch(Ie){console.error("Failed to save board group:",Ie);const Nt=(Ie==null?void 0:Ie.message)||"Gagal menyimpan grup. Silakan coba lagi.";throw new Error(Nt)}},he=async()=>{if(k)try{await ci.deleteBoardGroup(k.id),E(null),z(),e({title:"Grup berhasil dihapus",description:`Grup ${k.title} telah dihapus dari sistem.`})}catch(Ae){console.error("Failed to delete board group:",Ae);const Ie=(Ae==null?void 0:Ae.message)||"Gagal menghapus grup. Silakan coba lagi.";e({title:"Error",description:Ie,variant:"destructive"})}},ae=Ae=>{B(Ae),Z(!0)},ue=Ae=>{L(Ae),X(!0)},ce=Ae=>{se(Ae)},Ce=()=>{L(null),X(!0)},Oe=async()=>{if(Y)try{await ci.deleteBoardMember(Y.id),se(null),W(),e({title:"Anggota Dewan berhasil dihapus",description:`Anggota Dewan ${Y.name} telah dihapus dari sistem.`})}catch(Ae){console.error("Failed to delete board member:",Ae);const Ie=(Ae==null?void 0:Ae.message)||"Gagal menghapus Anggota Dewan. Silakan coba lagi.";e({title:"Error",description:Ie,variant:"destructive"})}},nt=async(Ae,Ie)=>{try{if(te)await ci.updateBoardMember(te.id,Ae,Ie);else{if(!Ie)throw new Error("Gambar wajib diupload untuk anggota baru");await ci.createBoardMember(Ae,Ie)}X(!1),L(null),W()}catch(Nt){console.error("Failed to save board member:",Nt);const hn=(Nt==null?void 0:Nt.message)||"Gagal menyimpan anggota. Silakan coba lagi.";throw new Error(hn)}},De=Ae=>{n({size:parseInt(Ae),page:1})},ke=x.useCallback(Ae=>{Ae!==i.search&&n({search:Ae,page:1})},[n,i.search]),it=Ae=>{n({page:Ae})},Le=()=>{let Ae="Daftar Grup Dewan";const Ie=[];return Ie.length>0&&(Ae+=" - "+Ie.join(" - ")),Ae},Qe=()=>{let Ae="Daftar Anggota Dewan";const Ie=[];return Ie.length>0&&(Ae+=" - "+Ie.join(" - ")),Ae};return K?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Cs,{title:"Manajemen Dewan",description:"Kelola grup dan anggota dewan serta atur urutan tampilan",actions:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(pe,{onClick:ne,children:[s.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Tambah Grup"]}),s.jsxs(pe,{onClick:Ce,children:[s.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Tambah Anggota"]})]})}),s.jsx(je,{children:s.jsx(we,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx($a,{title:Le(),subtitle:"Kelola grup dewan dan atur urutan tampilan"}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(die,{boardGroups:o,loading:d,onView:q,onEdit:H,onDelete:ee})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(uie,{boardGroups:o,loading:d,onView:q,onEdit:H,onDelete:ee})})]})})}),s.jsx(je,{children:s.jsx(we,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx($a,{title:Qe(),subtitle:"Kelola anggota dewan dan atur urutan tampilan"}),s.jsx(vr,{searchQuery:i.search,onSearchChange:ke,placeholder:"Cari anggota berdasarkan nama..."}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(oie,{boardMembers:A,loading:_,onView:ae,onEdit:ue,onDelete:ce,boardGroups:o})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(lie,{boardMembers:A,loading:_,onView:ae,onEdit:ue,onDelete:ce,boardGroups:o})}),I>1&&s.jsx(ya,{currentPage:i.page,totalPages:I,itemsPerPage:i.size,totalItems:P,onPageChange:it,onItemsPerPageChange:De})]})})}),s.jsx(TC,{open:m,onOpenChange:p,editingBoardGroup:y,onSave:ie,mode:y?"edit":"create"}),s.jsx(TC,{open:g,onOpenChange:v,editingBoardGroup:j,onSave:()=>{},mode:"view"}),s.jsx(CC,{open:R,onOpenChange:X,editingBoardMember:te,onSave:nt,mode:te?"edit":"create",boardGroups:o}),s.jsx(CC,{open:$,onOpenChange:Z,editingBoardMember:V,onSave:()=>{},mode:"view",boardGroups:o}),s.jsx(ss,{open:!!k,onOpenChange:()=>E(null),children:s.jsxs(Gn,{children:[s.jsxs(Kn,{children:[s.jsx(Xn,{children:"Konfirmasi Hapus Grup"}),s.jsxs(Wn,{children:["Tindakan ini tidak dapat dibatalkan. Grup"," ",s.jsx("span",{className:"font-semibold",children:k==null?void 0:k.title})," akan dihapus secara permanen dari sistem."]})]}),s.jsxs(Yn,{children:[s.jsx(Qn,{children:"Batal"}),s.jsx(Zn,{onClick:he,className:"bg-red-600 hover:bg-red-700",children:"Hapus Grup"})]})]})}),s.jsx(ss,{open:!!Y,onOpenChange:()=>se(null),children:s.jsxs(Gn,{children:[s.jsxs(Kn,{children:[s.jsx(Xn,{children:"Konfirmasi Hapus Anggota"}),s.jsxs(Wn,{children:["Tindakan ini tidak dapat dibatalkan. Anggota Dewan"," ",s.jsx("span",{className:"font-semibold",children:Y==null?void 0:Y.name})," akan dihapus secara permanen dari sistem."]})]}),s.jsxs(Yn,{children:[s.jsx(Qn,{children:"Batal"}),s.jsx(Zn,{onClick:Oe,className:"bg-red-600 hover:bg-red-700",children:"Hapus Anggota"})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki akses untuk melihat halaman ini."})]})})};class mie extends Js{constructor(){super("/articles")}async getArticles(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/?${n.toString()}`:"/";return this.get(a)}async getPublishedArticles(e){const n=new URLSearchParams;e&&n.append("limit",e.toString());const a=n.toString()?`/published?${n.toString()}`:"/published";return this.get(a)}async getDraftArticles(e){const n=new URLSearchParams;e&&n.append("limit",e.toString());const a=n.toString()?`/drafts?${n.toString()}`:"/drafts";return this.get(a)}async getCategories(){return this.get("/categories")}async getArticlesByCategory(e,n,a=!0){const i=new URLSearchParams;return n&&i.append("limit",n.toString()),i.append("published_only",a.toString()),this.get(`/categories/${encodeURIComponent(e)}?${i.toString()}`)}async getLatestArticles(e=5,n=!0){const a=new URLSearchParams;return a.append("limit",e.toString()),a.append("published_only",n.toString()),this.get(`/latest?${a.toString()}`)}async searchArticles(e,n,a=!0){const i=new URLSearchParams;return i.append("q",e),n&&i.append("limit",n.toString()),i.append("published_only",a.toString()),this.get(`/search?${i.toString()}`)}async getArticleStatistics(){return this.get("/statistics")}async getArticleSummaries(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/summaries?${n.toString()}`:"/summaries";return this.get(a)}async createArticle(e,n){const a=new FormData;return a.append("data",JSON.stringify(e)),a.append("image",n),this.post("/",a,{headers:{"Content-Type":"multipart/form-data"}})}async getArticleById(e){return this.get(`/${e}`)}async getArticleBySlug(e){return this.get(`/slug/${encodeURIComponent(e)}`)}async updateArticle(e,n,a){const i=new FormData;return i.append("data",JSON.stringify(n)),a&&i.append("image",a),this.put(`/${e}`,i,{headers:{"Content-Type":"multipart/form-data"}})}async deleteArticle(e){return this.delete(`/${e}`)}async publishArticle(e,n){return this.post(`/${e}/publish`,n)}async duplicateArticle(e,n,a){const i={};return n&&(i.new_title=n),a&&(i.new_slug=a),this.post(`/${e}/duplicate`,i)}async bulkPublishArticles(e,n=!0){return this.post("/bulk/publish",{article_ids:e,is_published:n})}async bulkDeleteArticles(e){return this.post("/bulk/delete",{article_ids:e})}}const hi=new mie,pie=({articles:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>{const o=c=>c?"Dipublikasikan":"Draft";return s.jsx("div",{className:"rounded-md border",children:s.jsxs(fs,{children:[s.jsx(ms,{children:s.jsxs(et,{children:[s.jsx(Te,{children:"Judul"}),s.jsx(Te,{children:"Kategori"}),s.jsx(Te,{children:"Status"}),s.jsx(Te,{children:"Publikasi"}),s.jsx(Te,{children:"Dibuat"}),s.jsx(Te,{className:"text-right",children:"Aksi"})]})}),s.jsx(ps,{children:e?s.jsx(et,{children:s.jsx(Ee,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"Memuat Artikel..."})}):t.length===0?s.jsx(et,{children:s.jsx(Ee,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"Tidak ada Artikel ditemukan"})}):t.map(c=>s.jsxs(et,{children:[s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("img",{src:dD(c.img_url),alt:c.title,className:"w-8 h-8 rounded object-cover"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:c.title}),s.jsx("div",{className:"text-xs text-muted-foreground",children:s.jsx(yn,{content:c.excerpt||c.description,isDetailView:!1,maxLength:60,fallback:"Tidak ada ringkasan"})})]})]})}),s.jsx(Ee,{children:c.category}),s.jsx(Ee,{children:o(c.is_published)}),s.jsx(Ee,{children:c.published_at?gn(new Date(c.published_at),"dd MMM yyyy",{locale:xn}):"-"}),s.jsx(Ee,{children:gn(new Date(c.created_at),"dd MMM yyyy",{locale:xn})}),s.jsx(Ee,{className:"text-right",children:s.jsx(un,{onView:()=>i(c),onEdit:()=>n(c),onDelete:()=>a(c)})})]},c.id))})]})})},gie=({articles:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>{const o=c=>c?"Dipublikasikan":"Draft";return e?s.jsx("div",{className:"grid gap-4",children:[...Array(3)].map((c,d)=>s.jsx(je,{children:s.jsx(we,{className:"p-4",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]})})},d))}):t.length===0?s.jsx(je,{children:s.jsx(we,{className:"p-8 text-center text-muted-foreground",children:"Tidak ada Artikel ditemukan"})}):s.jsx("div",{className:"grid gap-4",children:t.map(c=>s.jsx(je,{children:s.jsx(we,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start space-x-3 mb-2",children:[s.jsx("img",{src:dD(c.img_url),alt:c.title,className:"w-12 h-12 rounded object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-sm line-clamp-2",children:c.title}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:s.jsx(yn,{content:c.excerpt||c.description,isDetailView:!1,maxLength:100,fallback:"Tidak ada ringkasan"})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Kategori:"}),s.jsx("span",{children:c.category})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx("span",{children:o(c.is_published)})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Dibuat:"}),s.jsx("span",{children:gn(new Date(c.created_at),"dd MMM yyyy",{locale:xn})})]}),c.published_at&&s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Publikasi:"}),s.jsx("span",{children:gn(new Date(c.published_at),"dd MMM yyyy",{locale:xn})})]})]})]}),s.jsx("div",{className:"ml-2",children:s.jsx(un,{onView:()=>i(c),onEdit:()=>n(c),onDelete:()=>a(c)})})]})})},c.id))})},xie=Bs({title:rt().min(1,"Judul wajib diisi").max(255,"Judul maksimal 255 karakter"),slug:rt().min(1,"Slug wajib diisi").max(255,"Slug maksimal 255 karakter").regex(/^[a-z0-9-]+$/,"Slug hanya boleh mengandung huruf kecil, angka, dan tanda hubung"),description:rt().min(1,"Konten wajib diisi"),excerpt:rt().optional().or(us("")),category:rt().min(1,"Kategori wajib diisi").max(100,"Kategori maksimal 100 karakter"),is_published:Fg()}),vie=["Berita","Pengumuman","Kegiatan","Prestasi","Akademik","Ekstrakurikuler","Umum"],bie=({open:t,onOpenChange:e,editingArticle:n,onSave:a})=>{const{toast:i}=_t(),[o,c]=x.useState(!1),[d,h]=x.useState([]),[m,p]=x.useState(vie),[g,v]=x.useState(!1),[y,w]=x.useState(""),[j,S]=x.useState(!1),k=!!n,E=gs({resolver:xs(xie),defaultValues:{title:"",slug:"",description:"",excerpt:"",category:"",is_published:!1}});x.useEffect(()=>{t&&A()},[t]);const A=async()=>{v(!0);try{const G=await hi.getCategories();G.categories&&G.categories.length>0&&p(G.categories)}catch(G){console.error("Failed to fetch categories:",G)}finally{v(!1)}};x.useEffect(()=>{t&&(n?(E.reset({title:n.title,slug:n.slug,description:n.description,excerpt:n.excerpt||"",category:n.category,is_published:n.is_published}),w(""),S(!m.includes(n.category))):(E.reset({title:"",slug:"",description:"",excerpt:"",category:"",is_published:!1}),w(""),S(!1)),h([]))},[t,n,E,m]);const T=G=>G.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),_=E.watch("title");x.useEffect(()=>{if(_){const G=T(_);E.setValue("slug",G)}},[_,E]);const M=async G=>{if(!k&&d.length===0){i({title:"Error",description:"Gambar artikel wajib diupload",variant:"destructive"});return}c(!0);try{const R={title:G.title,slug:G.slug,description:G.description,excerpt:G.excerpt||void 0,category:G.category,is_published:G.is_published,published_at:G.is_published?new Date().toISOString():void 0},X=d.length>0?d[0]:void 0;await a(R,X),e(!1),E.reset(),h([])}catch(R){console.error("Error saving article:",R),i({title:"Error",description:R.message||"Gagal menyimpan artikel",variant:"destructive"})}finally{c(!1)}},P=G=>{h(G)},O=G=>{i({title:"Error",description:G,variant:"destructive"})},I=n!=null&&n.img_url?[{name:`Current Image - ${n.title}`,url:n.img_url,viewUrl:n.img_url}]:[];return s.jsx(nn,{open:t,onOpenChange:e,children:s.jsxs(sn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(an,{children:s.jsx(rn,{children:k?"Edit Artikel":"Tambah Artikel Baru"})}),s.jsx(In,{...E,children:s.jsxs("form",{onSubmit:E.handleSubmit(M),className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx($e,{control:E.control,name:"title",render:({field:G})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Judul Artikel"}),s.jsx(Ue,{children:s.jsx(at,{placeholder:"Masukkan judul artikel",...G,disabled:o})}),s.jsx(He,{})]})}),s.jsx($e,{control:E.control,name:"slug",render:({field:G})=>s.jsx(Fe,{className:"hidden",children:s.jsx(Ue,{children:s.jsx(at,{...G})})})})]}),s.jsx("div",{className:"flex flex-col gap-4",children:s.jsx($e,{control:E.control,name:"category",render:({field:G})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Kategori"}),j?s.jsxs("div",{className:"space-y-2",children:[s.jsx(Ue,{children:s.jsx(at,{placeholder:"Masukkan kategori baru",value:y,onChange:R=>{w(R.target.value),G.onChange(R.target.value)},disabled:o})}),s.jsx(pe,{type:"button",variant:"outline",size:"sm",onClick:()=>{S(!1),w(""),G.onChange("")},disabled:o,children:"Pilih dari daftar"})]}):s.jsx("div",{className:"space-y-2",children:s.jsxs(Ut,{onValueChange:R=>{R==="__custom__"?(S(!0),w(""),G.onChange("")):G.onChange(R)},value:G.value,disabled:o||g,children:[s.jsx(Ue,{children:s.jsx(Lt,{children:s.jsx($t,{placeholder:g?"Memuat kategori...":"Pilih kategori artikel"})})}),s.jsxs(It,{children:[m.map(R=>s.jsx(Be,{value:R,children:R},R)),s.jsx(Be,{value:"__custom__",children:s.jsx("span",{className:"text-primary font-medium",children:"+ Tambah kategori baru"})})]})]})}),s.jsx(sa,{children:j?"Masukkan nama kategori baru":"Pilih kategori yang sudah ada atau tambah kategori baru"}),s.jsx(He,{})]})})}),s.jsx("div",{children:s.jsx(wl,{label:"Gambar Artikel",description:"Upload gambar artikel (JPG, PNG, WebP, max 5MB)",accept:"image/*",maxSize:5*1024*1024,maxFiles:1,files:d,existingFiles:I,onFilesChange:P,onError:O,required:!k,disabled:o,showPreview:!0,allowRemove:!1})}),s.jsx($e,{control:E.control,name:"excerpt",render:({field:G})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Ringkasan"}),s.jsx(Ue,{children:s.jsx(br,{placeholder:"Masukkan ringkasan artikel (opsional)",rows:3,...G,disabled:o})}),s.jsx(sa,{children:"Ringkasan singkat artikel yang akan ditampilkan di daftar artikel"}),s.jsx(He,{})]})}),s.jsx($e,{control:E.control,name:"description",render:({field:G})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Konten Artikel"}),s.jsx(Ue,{children:s.jsx(kc,{value:G.value,onChange:G.onChange,placeholder:"Masukkan konten lengkap artikel",disabled:o,variant:"full",minHeight:300})}),s.jsx(sa,{children:"Konten lengkap artikel dengan format rich text"}),s.jsx(He,{})]})}),s.jsx($e,{control:E.control,name:"is_published",render:({field:G})=>s.jsxs(Fe,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ve,{children:"Status Publikasi"}),s.jsx(sa,{children:"Artikel akan ditampilkan di website"})]}),s.jsx(Ue,{children:s.jsx(Dx,{checked:G.value,onCheckedChange:G.onChange,disabled:o})})]})}),s.jsxs(zs,{children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:o,children:"Batal"}),s.jsx(pe,{type:"submit",disabled:o,children:o?"Menyimpan...":k?"Perbarui":"Simpan"})]})]})})]})})},yie=()=>{const{isAdmin:t}=as(),{toast:e}=_t(),{updateURL:n,getCurrentFilters:a}=oa({defaults:{search:"",category:"all",is_published:"all",page:1,size:10},cleanDefaults:!0}),i=a(),[o,c]=x.useState([]),[d,h]=x.useState([]),[m,p]=x.useState(!0),[g,v]=x.useState(0),[y,w]=x.useState(0),[j,S]=x.useState(!1),[k,E]=x.useState(!1),[A,T]=x.useState(null),[_,M]=x.useState(null),[P,O]=x.useState(null),I=t(),G=async()=>{p(!0);try{const q={page:i.page,size:i.size,search:i.search||void 0,category:i.category!=="all"?i.category:void 0,is_published:i.is_published!=="all"?i.is_published==="true":void 0},H=await hi.getArticles(q);c(H.items),v(H.total),w(H.pages)}catch(q){console.error("Failed to fetch articles:",q),e({title:"Error",description:"Gagal memuat data Artikel. Silakan coba lagi.",variant:"destructive"})}finally{p(!1)}},R=async()=>{try{const q=await hi.getCategories();h(q.categories)}catch(q){console.error("Failed to fetch categories:",q)}};x.useEffect(()=>{I&&G()},[i.page,i.size,i.search,i.category,i.is_published,I]),x.useEffect(()=>{I&&R()},[I]);const X=q=>{M(q),E(!0)},$=q=>{T(q),S(!0)},Z=q=>{O(q)},te=async()=>{if(P)try{await hi.deleteArticle(P.id),O(null),G(),e({title:"Artikel berhasil dihapus",description:`Artikel ${P.title} telah dihapus dari sistem.`})}catch(q){console.error("Failed to delete article:",q);const H=(q==null?void 0:q.message)||"Gagal menghapus Artikel. Silakan coba lagi.";e({title:"Error",description:H,variant:"destructive"})}},L=()=>{T(null),S(!0)},V=async(q,H)=>{try{if(A)await hi.updateArticle(A.id,q,H),e({title:"Artikel berhasil diperbarui",description:`Artikel ${q.title} telah diperbarui.`});else{if(!H){e({title:"Gambar wajib diupload",description:"Silakan pilih gambar untuk artikel baru.",variant:"destructive"});return}await hi.createArticle(q,H),e({title:"Artikel berhasil dibuat",description:`Artikel ${q.title} telah ditambahkan ke sistem.`})}S(!1),T(null),G(),R()}catch(ee){console.error("Failed to save article:",ee);const ne=(ee==null?void 0:ee.message)||"Gagal menyimpan Artikel. Silakan coba lagi.";e({title:"Error",description:ne,variant:"destructive"})}},B=q=>{n({size:parseInt(q),page:1})},Y=x.useCallback(q=>{q!==i.search&&n({search:q,page:1})},[n,i.search]),se=x.useCallback(q=>{q!==i.category&&n({category:q,page:1})},[n,i.category]),K=x.useCallback(q=>{q!==i.is_published&&n({is_published:q,page:1})},[n,i.is_published]),z=q=>{n({page:q})},W=()=>{let q="Daftar Artikel";const H=[];return i.category!=="all"&&H.push(`Kategori: ${i.category}`),i.is_published!=="all"&&H.push(i.is_published==="true"?"Dipublikasikan":"Draft"),H.length>0&&(q+=" - "+H.join(" - ")),q};return I?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Cs,{title:"Manajemen Artikel",description:"Kelola artikel, publikasikan konten, dan atur kategori",actions:s.jsxs(pe,{onClick:L,children:[s.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Tambah Artikel"]})}),s.jsxs($r,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"category-filter",children:"Kategori"}),s.jsxs(Ut,{value:i.category,onValueChange:se,children:[s.jsx(Lt,{id:"category-filter",children:s.jsx($t,{placeholder:"Filter berdasarkan kategori"})}),s.jsxs(It,{children:[s.jsx(Be,{value:"all",children:"Semua Kategori"}),d.map(q=>s.jsx(Be,{value:q,children:q},q))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"published-filter",children:"Status Publikasi"}),s.jsxs(Ut,{value:i.is_published,onValueChange:K,children:[s.jsx(Lt,{id:"published-filter",children:s.jsx($t,{placeholder:"Filter berdasarkan status"})}),s.jsxs(It,{children:[s.jsx(Be,{value:"all",children:"Semua Status"}),s.jsx(Be,{value:"true",children:"Dipublikasikan"}),s.jsx(Be,{value:"false",children:"Draft"})]})]})]})]}),s.jsx(je,{children:s.jsx(we,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx($a,{title:W(),subtitle:"Kelola artikel dan konten website"}),s.jsx(vr,{searchQuery:i.search,onSearchChange:Y,placeholder:"Cari artikel berdasarkan judul, deskripsi, atau kategori..."}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(pie,{articles:o,loading:m,onView:X,onEdit:$,onDelete:Z})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(gie,{articles:o,loading:m,onView:X,onEdit:$,onDelete:Z})}),y>1&&s.jsx(ya,{currentPage:i.page,totalPages:y,itemsPerPage:i.size,totalItems:g,onPageChange:z,onItemsPerPageChange:B})]})})}),s.jsx(bie,{open:j,onOpenChange:S,editingArticle:A,onSave:V}),_&&s.jsx(nn,{open:k,onOpenChange:E,children:s.jsxs(sn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(an,{children:s.jsx(rn,{children:"Detail Artikel"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Pe,{children:"Judul"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:_.title})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Slug"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:_.slug})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Kategori"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:_.category})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Status"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:_.is_published?"Dipublikasikan":"Draft"})]}),_.published_at&&s.jsxs("div",{children:[s.jsx(Pe,{children:"Tanggal Publikasi"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:new Date(_.published_at).toLocaleDateString("id-ID")})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Dibuat"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:new Date(_.created_at).toLocaleDateString("id-ID")})]})]}),_.img_url&&s.jsxs("div",{children:[s.jsx(Pe,{children:"Gambar"}),s.jsx("div",{className:"p-2 bg-muted rounded",children:s.jsx("img",{src:_.img_url,alt:_.title,className:"w-full max-w-md h-auto rounded"})})]}),_.excerpt&&s.jsxs("div",{children:[s.jsx(Pe,{children:"Ringkasan"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:_.excerpt})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Konten"}),s.jsx("div",{className:"p-4 bg-muted rounded text-sm max-h-96 overflow-y-auto",children:s.jsx("div",{dangerouslySetInnerHTML:{__html:_.description}})})]})]})]})}),s.jsx(ss,{open:!!P,onOpenChange:()=>O(null),children:s.jsxs(Gn,{children:[s.jsxs(Kn,{children:[s.jsx(Xn,{children:"Konfirmasi Hapus"}),s.jsxs(Wn,{children:["Tindakan ini tidak dapat dibatalkan. Artikel"," ",s.jsx("span",{className:"font-semibold",children:P==null?void 0:P.title})," akan dihapus secara permanen dari sistem."]})]}),s.jsxs(Yn,{children:[s.jsx(Qn,{children:"Batal"}),s.jsx(Zn,{onClick:te,className:"bg-red-600 hover:bg-red-700",children:"Hapus Artikel"})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki akses untuk melihat halaman ini."})]})})};class jie extends Js{constructor(){super("/galleries")}async getGalleries(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/?${n.toString()}`:"/";return this.get(a)}async getAllGalleries(e){const n=new URLSearchParams;e&&n.append("limit",e.toString());const a=n.toString()?`/all?${n.toString()}`:"/all";return this.get(a)}async searchGalleries(e,n){const a=new URLSearchParams;return a.append("q",e),n&&a.append("limit",n.toString()),this.get(`/search?${a.toString()}`)}async getGalleryStatistics(){return this.get("/statistics")}async getHighlightedGalleries(e){const n=new URLSearchParams;e&&n.append("limit",e.toString());const a=n.toString()?`/highlighted?${n.toString()}`:"/highlighted";return this.get(a)}async getNonHighlightedGalleries(e){const n=new URLSearchParams;e&&n.append("limit",e.toString());const a=n.toString()?`/non-highlighted?${n.toString()}`:"/non-highlighted";return this.get(a)}async getGallerySummaries(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/summaries?${n.toString()}`:"/summaries";return this.get(a)}async createGallery(e,n){const a=new FormData;return a.append("data",JSON.stringify(e)),a.append("image",n),this.post("/",a,{headers:{"Content-Type":"multipart/form-data"}})}async getGalleryById(e){return this.get(`/${e}`)}async updateGallery(e,n,a){const i=new FormData;return i.append("data",JSON.stringify(n)),a&&i.append("image",a),this.put(`/${e}`,i,{headers:{"Content-Type":"multipart/form-data"}})}async deleteGallery(e){return this.delete(`/${e}`)}async toggleGalleryHighlight(e,n){return this.patch(`/${e}/highlight`,n)}}const Pd=new jie,wie=({galleries:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>s.jsx("div",{className:"rounded-md border",children:s.jsxs(fs,{children:[s.jsx(ms,{children:s.jsxs(et,{children:[s.jsx(Te,{children:"Gambar"}),s.jsx(Te,{children:"Judul"}),s.jsx(Te,{children:"Status"}),s.jsx(Te,{children:"Dibuat"}),s.jsx(Te,{className:"text-right",children:"Aksi"})]})}),s.jsx(ps,{children:e?s.jsx(et,{children:s.jsx(Ee,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Memuat Galeri..."})}):t.length===0?s.jsx(et,{children:s.jsx(Ee,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Tidak ada Galeri ditemukan"})}):t.map(o=>s.jsxs(et,{children:[s.jsx(Ee,{children:s.jsx("img",{src:hu(o.img_url,48),alt:o.title,className:"w-12 h-12 rounded object-cover"})}),s.jsxs(Ee,{children:[s.jsx("div",{className:"font-medium",children:o.title}),o.excerpt&&s.jsx("div",{className:"text-xs text-muted-foreground line-clamp-1 mt-1",children:o.short_excerpt})]}),s.jsx(Ee,{children:s.jsx("span",{className:"text-sm",children:o.is_highlight?"Unggulan":"Normal"})}),s.jsx(Ee,{children:gn(new Date(o.created_at),"dd MMM yyyy",{locale:xn})}),s.jsx(Ee,{className:"text-right",children:s.jsx(un,{onView:()=>i(o),onEdit:()=>n(o),onDelete:()=>a(o)})})]},o.id))})]})}),Nie=({galleries:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>e?s.jsx("div",{className:"grid gap-4",children:[...Array(3)].map((o,c)=>s.jsx(je,{children:s.jsx(we,{className:"p-4",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})})},c))}):t.length===0?s.jsx(je,{children:s.jsx(we,{className:"p-8 text-center text-muted-foreground",children:"Tidak ada Galeri ditemukan"})}):s.jsx("div",{className:"grid gap-4",children:t.map(o=>s.jsx(je,{children:s.jsx(we,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[s.jsx("img",{src:hu(o.img_url,64),alt:o.title,className:"w-16 h-16 rounded object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-sm",children:o.title}),s.jsx("div",{className:"mt-1",children:s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Status: ",o.is_highlight?"Unggulan":"Normal"]})})]})]}),s.jsx(un,{onView:()=>i(o),onEdit:()=>n(o),onDelete:()=>a(o)})]})})},o.id))}),Sie=Bs({title:rt().min(1,"Judul wajib diisi").max(255,"Judul maksimal 255 karakter"),excerpt:rt().optional().or(us("")),is_highlight:Fg()}),kie=({open:t,onOpenChange:e,editingGallery:n,onSave:a})=>{const{toast:i}=_t(),[o,c]=x.useState(!1),[d,h]=x.useState([]),m=!!n,p=gs({resolver:xs(Sie),defaultValues:{title:"",excerpt:"",is_highlight:!1}});x.useEffect(()=>{t&&(n?p.reset({title:n.title,excerpt:n.excerpt||"",is_highlight:n.is_highlight||!1}):p.reset({title:"",excerpt:"",is_highlight:!1}),h([]))},[t,n,p]);const g=async j=>{if(!m&&d.length===0){i({title:"Validasi gagal",description:"Gambar wajib diupload untuk galeri baru",variant:"destructive"});return}c(!0);try{const S={title:j.title,excerpt:j.excerpt||void 0,is_highlight:j.is_highlight},k=d.length>0?d[0]:void 0;await a(S,k),e(!1),p.reset(),h([])}catch(S){console.error("Error saving gallery:",S),i({title:"Terjadi kesalahan",description:S.message||"Gagal menyimpan galeri",variant:"destructive"})}finally{c(!1)}},v=j=>{h(j)},y=j=>{i({title:"Error file",description:j,variant:"destructive"})},w=n!=null&&n.img_url?[{name:`Current Image - ${n.title}`,url:n.img_url,viewUrl:n.img_url}]:[];return s.jsx(nn,{open:t,onOpenChange:e,children:s.jsxs(sn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(an,{children:s.jsx(rn,{children:m?"Edit Galeri":"Tambah Galeri Baru"})}),s.jsx(In,{...p,children:s.jsxs("form",{onSubmit:p.handleSubmit(g),className:"space-y-6",children:[s.jsx("div",{children:s.jsx(wl,{label:"Gambar Galeri",description:"Upload gambar galeri (JPG, PNG, WebP, max 5MB)",accept:"image/*",maxSize:5*1024*1024,maxFiles:1,files:d,existingFiles:w,onFilesChange:v,onError:y,disabled:o})}),s.jsx($e,{control:p.control,name:"title",render:({field:j})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Judul"}),s.jsx(Ue,{children:s.jsx(at,{placeholder:"Masukkan judul galeri",disabled:o,...j})}),s.jsx(He,{})]})}),s.jsx($e,{control:p.control,name:"excerpt",render:({field:j})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Deskripsi"}),s.jsx(Ue,{children:s.jsx(br,{placeholder:"Masukkan deskripsi galeri (opsional)",disabled:o,rows:3,...j})}),s.jsx(He,{})]})}),s.jsx($e,{control:p.control,name:"is_highlight",render:({field:j})=>s.jsxs(Fe,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Ve,{className:"text-base",children:"Jadikan galeri unggulan"}),s.jsx(sa,{children:"Galeri unggulan akan ditampilkan di posisi teratas"})]}),s.jsx(Ue,{children:s.jsx(Dx,{checked:j.value,onCheckedChange:j.onChange,disabled:o})})]})})]})}),s.jsxs(zs,{children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:o,children:"Batal"}),s.jsx(pe,{onClick:p.handleSubmit(g),disabled:o,children:o?"Menyimpan...":m?"Perbarui Galeri":"Buat Galeri"})]})]})})},Eie=()=>{const{isAdmin:t}=as(),{toast:e}=_t(),{updateURL:n,getCurrentFilters:a}=oa({defaults:{search:"",page:1,size:10,is_highlighted:""},cleanDefaults:!0}),i=a(),[o,c]=x.useState([]),[d,h]=x.useState(!0),[m,p]=x.useState(0),[g,v]=x.useState(0),[y,w]=x.useState(!1),[j,S]=x.useState(!1),[k,E]=x.useState(null),[A,T]=x.useState(null),[_,M]=x.useState(null),P=t(),O=async()=>{h(!0);try{const V={page:i.page,size:i.size,search:i.search||void 0,is_highlighted:i.is_highlighted==="true"?!0:i.is_highlighted==="false"?!1:void 0},B=await Pd.getGalleries(V);c(B.items),p(B.total),v(B.pages)}catch(V){console.error("Failed to fetch galleries:",V),e({title:"Error",description:"Gagal memuat data Galeri. Silakan coba lagi.",variant:"destructive"})}finally{h(!1)}};x.useEffect(()=>{P&&O()},[i.page,i.size,i.search,i.is_highlighted,P]);const I=V=>{T(V),S(!0)},G=V=>{E(V),w(!0)},R=V=>{M(V)},X=async()=>{if(_)try{await Pd.deleteGallery(_.id),M(null),O(),e({title:"Galeri berhasil dihapus",description:`Galeri ${_.title} telah dihapus dari sistem.`})}catch(V){console.error("Failed to delete gallery:",V);const B=(V==null?void 0:V.message)||"Gagal menghapus Galeri. Silakan coba lagi.";e({title:"Error",description:B,variant:"destructive"})}},$=()=>{E(null),w(!0)},Z=async(V,B)=>{try{if(k)await Pd.updateGallery(k.id,V,B),e({title:"Galeri berhasil diperbarui",description:`Galeri ${V.title} telah diperbarui.`});else{if(!B){e({title:"Gambar wajib diupload",description:"Silakan pilih gambar untuk galeri baru.",variant:"destructive"});return}await Pd.createGallery(V,B),e({title:"Galeri berhasil dibuat",description:`Galeri ${V.title} telah ditambahkan ke sistem.`})}w(!1),E(null),O()}catch(Y){console.error("Failed to save gallery:",Y);const se=(Y==null?void 0:Y.message)||"Gagal menyimpan Galeri. Silakan coba lagi.";e({title:"Error",description:se,variant:"destructive"})}},te=x.useCallback(V=>{V!==i.search&&n({search:V,page:1})},[n,i.search]),L=x.useCallback(V=>{n({is_highlighted:V==="all"?"":V,page:1})},[n]);return P?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Cs,{title:"Manajemen Galeri",description:"Kelola galeri foto dan status unggulan",actions:s.jsxs(pe,{onClick:$,children:[s.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Tambah Galeri"]})}),s.jsx(je,{children:s.jsx(we,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx($a,{title:"Daftar Galeri",subtitle:"Kelola galeri foto dan status unggulan"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(vr,{searchQuery:i.search,onSearchChange:te,placeholder:"Cari galeri berdasarkan judul..."})}),s.jsx("div",{className:"w-full sm:w-48",children:s.jsxs(Ut,{value:i.is_highlighted||"all",onValueChange:L,children:[s.jsxs(Lt,{children:[s.jsx(Xj,{className:"w-4 h-4 mr-2"}),s.jsx($t,{placeholder:"Filter status"})]}),s.jsxs(It,{children:[s.jsx(Be,{value:"all",children:"Semua Galeri"}),s.jsx(Be,{value:"true",children:"Hanya Unggulan"}),s.jsx(Be,{value:"false",children:"Tidak Unggulan"})]})]})})]}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(wie,{galleries:o,loading:d,onView:I,onEdit:G,onDelete:R})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(Nie,{galleries:o,loading:d,onView:I,onEdit:G,onDelete:R})}),g>1&&s.jsx(ya,{currentPage:i.page,totalPages:g,itemsPerPage:i.size,totalItems:m,onPageChange:V=>n({page:V}),onItemsPerPageChange:V=>n({size:parseInt(V),page:1})})]})})}),s.jsx(kie,{open:y,onOpenChange:w,editingGallery:k,onSave:Z}),A&&s.jsx(nn,{open:j,onOpenChange:S,children:s.jsxs(sn,{className:"max-w-2xl",children:[s.jsx(an,{children:s.jsx(rn,{children:"Detail Galeri"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Pe,{children:"Gambar"}),s.jsx("div",{className:"p-2 bg-muted rounded",children:s.jsx("img",{src:xg(A.img_url),alt:A.title,className:"w-full max-w-md h-auto rounded"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Pe,{children:"Judul"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:A.title})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Status"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:A.is_highlight?"Unggulan":"Normal"})]})]}),A.excerpt&&s.jsxs("div",{children:[s.jsx(Pe,{children:"Deskripsi"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:A.excerpt})]})]})]})}),s.jsx(ss,{open:!!_,onOpenChange:()=>M(null),children:s.jsxs(Gn,{children:[s.jsxs(Kn,{children:[s.jsx(Xn,{children:"Konfirmasi Hapus"}),s.jsxs(Wn,{children:["Tindakan ini tidak dapat dibatalkan. Galeri"," ",s.jsx("span",{className:"font-semibold",children:_==null?void 0:_.title})," akan dihapus secara permanen dari sistem."]})]}),s.jsxs(Yn,{children:[s.jsx(Qn,{children:"Batal"}),s.jsx(Zn,{onClick:X,className:"bg-red-600 hover:bg-red-700",children:"Hapus Galeri"})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki akses untuk melihat halaman ini."})]})})};class Aie extends Js{constructor(){super("/messages")}async submitMessage(e){return this.post("/submit",e)}async getMessages(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/?${n.toString()}`:"/";return this.get(a)}async getUnreadMessages(e){const n=new URLSearchParams;e&&n.append("limit",e.toString());const a=n.toString()?`/unread?${n.toString()}`:"/unread";return this.get(a)}async getMessagesByEmail(e){return this.get(`/by-email/${encodeURIComponent(e)}`)}async searchMessages(e,n){const a=new URLSearchParams;return a.append("q",e),n&&a.append("limit",n.toString()),this.get(`/search?${a.toString()}`)}async getMessageStatistics(){return this.get("/statistics")}async getMessageSummaries(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/summaries?${n.toString()}`:"/summaries";return this.get(a)}async getMessageById(e,n=!1){const a=new URLSearchParams;n&&a.append("mark_as_read","true");const i=a.toString()?`/${e}?${a.toString()}`:`/${e}`;return this.get(i)}async updateMessage(e,n){return this.put(`/${e}`,n)}async deleteMessage(e){return this.delete(`/${e}`)}async updateMessageStatus(e,n){return this.patch(`/${e}/status`,n)}async markMessageAsRead(e){return this.post(`/${e}/mark-read`)}async archiveMessage(e){return this.post(`/${e}/archive`)}async bulkUpdateStatus(e,n){return this.post("/bulk/status",{message_ids:e,status:n})}async bulkDeleteMessages(e){return this.post("/bulk/delete",{message_ids:e})}async bulkMarkAsRead(e){return this.post("/bulk/mark-read",{message_ids:e})}async bulkArchiveMessages(e){return this.post("/bulk/archive",{message_ids:e})}}const Ed=new Aie,Cie=({messages:t,loading:e=!1,onView:n,onDelete:a,onMarkAsRead:i,onArchive:o})=>{const c=d=>{switch(d){case"UNREAD":return"Belum Dibaca";case"READ":return"Sudah Dibaca";case"ARCHIEVED":return"Diarsipkan";default:return d}};return s.jsx("div",{className:"rounded-md border",children:s.jsxs(fs,{children:[s.jsx(ms,{children:s.jsxs(et,{children:[s.jsx(Te,{children:"Pengirim"}),s.jsx(Te,{children:"Judul"}),s.jsx(Te,{children:"Status"}),s.jsx(Te,{children:"Tanggal"}),s.jsx(Te,{className:"text-right",children:"Aksi"})]})}),s.jsx(ps,{children:e?s.jsx(et,{children:s.jsx(Ee,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Memuat Pesan..."})}):t.length===0?s.jsx(et,{children:s.jsx(Ee,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Tidak ada Pesan ditemukan"})}):t.map(d=>s.jsxs(et,{className:d.is_unread?"bg-blue-50":"",children:[s.jsx(Ee,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:d.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:d.email})]})}),s.jsxs(Ee,{children:[s.jsx("div",{className:"font-medium",children:d.short_title}),s.jsx("div",{className:"text-xs text-muted-foreground line-clamp-1",children:d.short_message})]}),s.jsx(Ee,{children:c(d.status)}),s.jsx(Ee,{children:gn(new Date(d.created_at),"dd MMM yyyy",{locale:xn})}),s.jsx(Ee,{className:"text-right",children:s.jsx(un,{onView:()=>n(d),onDelete:()=>a(d),showView:!0,showEdit:!1,showDelete:!0,customActions:[...d.is_unread?[{label:"Tandai Dibaca",onClick:()=>i(d),icon:"Eye"}]:[],...d.status!=="ARCHIEVED"?[{label:"Arsipkan",onClick:()=>o(d),icon:"Archive"}]:[]]})})]},d.id))})]})})},Tie=({messages:t,loading:e=!1,onView:n,onDelete:a,onMarkAsRead:i,onArchive:o})=>{const c=d=>{switch(d){case"UNREAD":return"Belum Dibaca";case"READ":return"Sudah Dibaca";case"ARCHIEVED":return"Diarsipkan";default:return d}};return e?s.jsx("div",{className:"grid gap-4",children:[...Array(3)].map((d,h)=>s.jsx(je,{children:s.jsx(we,{className:"p-4",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})})},h))}):t.length===0?s.jsx(je,{children:s.jsx(we,{className:"p-8 text-center text-muted-foreground",children:"Tidak ada Pesan ditemukan"})}):s.jsx("div",{className:"grid gap-4",children:t.map(d=>s.jsx(je,{className:d.is_unread?"border-blue-200 bg-blue-50":"",children:s.jsx(we,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("h3",{className:"font-medium text-sm",children:d.name}),c(d.status)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:d.email})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:gn(new Date(d.created_at),"dd MMM yyyy",{locale:xn})})]}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-muted rounded-full",children:s.jsx(X_,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm mb-1",children:d.short_title}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:d.short_message})]})]}),s.jsx(un,{onView:()=>n(d),onDelete:()=>a(d),showView:!0,showEdit:!1,showDelete:!0,customActions:[...d.is_unread?[{label:"Tandai Dibaca",onClick:()=>i(d),icon:"Eye"}]:[],...d.status!=="ARCHIEVED"?[{label:"Arsipkan",onClick:()=>o(d),icon:"Archive"}]:[]]})]})]})})},d.id))})},_ie=()=>{const{isAdmin:t}=as(),{toast:e}=_t(),{updateURL:n,getCurrentFilters:a}=oa({defaults:{search:"",status:"all",unread_only:"false",page:1,size:10},cleanDefaults:!0}),i=a(),[o,c]=x.useState([]),[d,h]=x.useState(!0),[m,p]=x.useState(0),[g,v]=x.useState(0),[y,w]=x.useState(!1),[j,S]=x.useState(null),[k,E]=x.useState(null),A=t(),T=async()=>{h(!0);try{const $={page:i.page,size:i.size,search:i.search||void 0,status:i.status!=="all"?i.status:void 0,unread_only:i.unread_only==="true"},Z=await Ed.getMessages($);c(Z.items),p(Z.total),v(Z.pages)}catch($){console.error("Failed to fetch messages:",$),e({title:"Error",description:"Gagal memuat data Pesan. Silakan coba lagi.",variant:"destructive"})}finally{h(!1)}};x.useEffect(()=>{A&&T()},[i.page,i.size,i.search,i.status,i.unread_only,A]);const _=async $=>{try{const Z=await Ed.getMessageById($.id,!0);S(Z),w(!0),T()}catch(Z){console.error("Failed to view message:",Z),S($),w(!0)}},M=$=>{E($)},P=async()=>{if(k)try{await Ed.deleteMessage(k.id),E(null),T(),e({title:"Pesan berhasil dihapus",description:`Pesan dari ${k.name} telah dihapus dari sistem.`})}catch($){console.error("Failed to delete message:",$);const Z=($==null?void 0:$.message)||"Gagal menghapus Pesan. Silakan coba lagi.";e({title:"Error",description:Z,variant:"destructive"})}},O=async $=>{try{await Ed.markMessageAsRead($.id),T(),e({title:"Pesan ditandai sebagai dibaca",description:`Pesan dari ${$.name} telah ditandai sebagai dibaca.`})}catch(Z){console.error("Failed to mark message as read:",Z),e({title:"Error",description:"Gagal menandai pesan sebagai dibaca.",variant:"destructive"})}},I=async $=>{try{await Ed.archiveMessage($.id),T(),e({title:"Pesan diarsipkan",description:`Pesan dari ${$.name} telah diarsipkan.`})}catch(Z){console.error("Failed to archive message:",Z),e({title:"Error",description:"Gagal mengarsipkan pesan.",variant:"destructive"})}},G=x.useCallback($=>{$!==i.search&&n({search:$,page:1})},[n,i.search]),R=x.useCallback($=>{$!==i.status&&n({status:$,page:1})},[n,i.status]),X=x.useCallback($=>{$!==i.unread_only&&n({unread_only:$,page:1})},[n,i.unread_only]);return A?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Cs,{title:"Manajemen Pesan",description:"Kelola pesan masuk dari pengunjung website"}),s.jsxs($r,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"status-filter",children:"Status"}),s.jsxs(Ut,{value:i.status,onValueChange:R,children:[s.jsx(Lt,{id:"status-filter",children:s.jsx($t,{placeholder:"Filter berdasarkan status"})}),s.jsxs(It,{children:[s.jsx(Be,{value:"all",children:"Semua Status"}),s.jsx(Be,{value:"UNREAD",children:"Belum Dibaca"}),s.jsx(Be,{value:"READ",children:"Sudah Dibaca"}),s.jsx(Be,{value:"ARCHIEVED",children:"Diarsipkan"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"unread-filter",children:"Tampilan"}),s.jsxs(Ut,{value:i.unread_only,onValueChange:X,children:[s.jsx(Lt,{id:"unread-filter",children:s.jsx($t,{placeholder:"Filter tampilan"})}),s.jsxs(It,{children:[s.jsx(Be,{value:"false",children:"Semua Pesan"}),s.jsx(Be,{value:"true",children:"Hanya Belum Dibaca"})]})]})]})]}),s.jsx(je,{children:s.jsx(we,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx($a,{title:"Daftar Pesan",subtitle:"Kelola pesan masuk dari pengunjung website"}),s.jsx(vr,{searchQuery:i.search,onSearchChange:G,placeholder:"Cari pesan berdasarkan nama, email, atau judul..."}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(Cie,{messages:o,loading:d,onView:_,onDelete:M,onMarkAsRead:O,onArchive:I})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(Tie,{messages:o,loading:d,onView:_,onDelete:M,onMarkAsRead:O,onArchive:I})}),g>1&&s.jsx(ya,{currentPage:i.page,totalPages:g,itemsPerPage:i.size,totalItems:m,onPageChange:$=>n({page:$}),onItemsPerPageChange:$=>n({size:parseInt($),page:1})})]})})}),j&&s.jsx(nn,{open:y,onOpenChange:w,children:s.jsxs(sn,{className:"max-w-2xl",children:[s.jsx(an,{children:s.jsx(rn,{children:"Detail Pesan"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Pe,{children:"Nama Pengirim"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:j.name})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Email"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:j.email})]})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Judul"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:j.title})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Pesan"}),s.jsx("div",{className:"p-4 bg-muted rounded text-sm max-h-64 overflow-y-auto",children:j.message})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Pe,{children:"Status"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:j.status==="UNREAD"?"Belum Dibaca":j.status==="READ"?"Sudah Dibaca":"Diarsipkan"})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Tanggal"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:new Date(j.created_at).toLocaleDateString("id-ID")})]})]})]})]})}),s.jsx(ss,{open:!!k,onOpenChange:()=>E(null),children:s.jsxs(Gn,{children:[s.jsxs(Kn,{children:[s.jsx(Xn,{children:"Konfirmasi Hapus"}),s.jsxs(Wn,{children:["Tindakan ini tidak dapat dibatalkan. Pesan dari"," ",s.jsx("span",{className:"font-semibold",children:k==null?void 0:k.name})," akan dihapus secara permanen dari sistem."]})]}),s.jsxs(Yn,{children:[s.jsx(Qn,{children:"Batal"}),s.jsx(Zn,{onClick:P,className:"bg-red-600 hover:bg-red-700",children:"Hapus Pesan"})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki akses untuk melihat halaman ini."})]})})};function Re({className:t,...e}){return s.jsx("div",{"data-slot":"skeleton",className:ge("bg-accent animate-pulse rounded-md",t),...e})}const Rie=()=>s.jsx(ps,{children:Array.from({length:5}).map((t,e)=>s.jsxs(et,{children:[s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Re,{className:"w-16 h-12 rounded"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Re,{className:"h-4 w-32"}),s.jsx(Re,{className:"h-3 w-24"})]})]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx(Re,{className:"h-4 w-full"}),s.jsx(Re,{className:"h-4 w-3/4"})]})}),s.jsx(Ee,{children:s.jsx(Re,{className:"h-4 w-20"})}),s.jsx(Ee,{children:s.jsx(Re,{className:"h-8 w-8 rounded"})})]},e))}),Die=({mitras:t,loading:e,onView:n,onEdit:a,onDelete:i})=>e?s.jsx("div",{className:"border rounded-lg",children:s.jsxs(fs,{children:[s.jsx(ms,{children:s.jsxs(et,{children:[s.jsx(Te,{children:"Mitra"}),s.jsx(Te,{children:"Deskripsi"}),s.jsx(Te,{children:"Dibuat"}),s.jsx(Te,{className:"w-12"})]})}),s.jsx(Rie,{})]})}):t.length===0?s.jsx("div",{className:"border rounded-lg",children:s.jsxs(fs,{children:[s.jsx(ms,{children:s.jsxs(et,{children:[s.jsx(Te,{children:"Mitra"}),s.jsx(Te,{children:"Deskripsi"}),s.jsx(Te,{children:"Dibuat"}),s.jsx(Te,{className:"w-12"})]})}),s.jsx(ps,{children:s.jsx(et,{children:s.jsxs(Ee,{colSpan:4,className:"text-center py-12",children:[s.jsx(af,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Tidak ada mitra ditemukan"}),s.jsx("p",{className:"text-muted-foreground",children:"Belum ada data mitra yang tersedia saat ini."})]})})})]})}):s.jsx("div",{className:"border rounded-lg",children:s.jsxs(fs,{children:[s.jsx(ms,{children:s.jsxs(et,{children:[s.jsx(Te,{children:"Mitra"}),s.jsx(Te,{children:"Deskripsi"}),s.jsx(Te,{children:"Dibuat"}),s.jsx(Te,{className:"w-12"})]})}),s.jsx(ps,{children:t.map(o=>s.jsxs(et,{className:"hover:bg-muted/50",children:[s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-16 h-12 relative overflow-hidden rounded bg-muted flex-shrink-0",children:o.img_url?s.jsx("img",{src:wi(o.img_url),alt:o.title,className:"w-full h-full object-cover",onError:c=>{const d=c.target;d.src=`https://picsum.photos/200/150?random=${o.id}`}}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(af,{className:"w-6 h-6 text-muted-foreground"})})}),s.jsx("div",{className:"min-w-0 flex-1",children:s.jsx("h3",{className:"truncate",children:o.title})})]})}),s.jsx(Ee,{className:"max-w-md",children:o.description?s.jsx(yn,{content:o.description}):s.jsx("span",{className:"italic",children:"Tidak ada deskripsi"})}),s.jsx(Ee,{children:gn(new Date(o.created_at),"dd MMM yyyy",{locale:xn})}),s.jsx(Ee,{children:s.jsx(un,{onView:()=>n(o),onEdit:()=>a(o),onDelete:()=>i(o)})})]},o.id))})]})}),Mie=()=>s.jsxs(je,{children:[s.jsx("div",{className:"aspect-video relative overflow-hidden rounded-t-lg bg-muted",children:s.jsx(Re,{className:"w-full h-full"})}),s.jsxs(we,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx(Re,{className:"h-5 w-3/4"}),s.jsx(Re,{className:"h-8 w-8 rounded"})]}),s.jsx(Re,{className:"h-4 w-full mb-2"}),s.jsx(Re,{className:"h-4 w-2/3 mb-3"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Re,{className:"h-4 w-4"}),s.jsx(Re,{className:"h-4 w-20"})]})]})]}),Pie=({mitras:t,loading:e,onView:n,onEdit:a,onDelete:i})=>e?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((o,c)=>s.jsx(Mie,{},c))}):t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(af,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Tidak ada mitra ditemukan"}),s.jsx("p",{className:"text-muted-foreground",children:"Belum ada data mitra yang tersedia saat ini."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(o=>s.jsxs(je,{className:"group hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[s.jsx("div",{className:"aspect-video relative overflow-hidden rounded-t-lg bg-muted",children:o.img_url?s.jsx("img",{src:wi(o.img_url),alt:o.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:c=>{const d=c.target;d.src=`https://picsum.photos/400/225?random=${o.id}`}}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(af,{className:"w-12 h-12 text-muted-foreground"})})}),s.jsxs(we,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors line-clamp-1",children:o.title}),s.jsx(un,{onView:()=>n(o),onEdit:()=>a(o),onDelete:()=>i(o)})]}),o.description&&s.jsx("div",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:s.jsx(yn,{content:o.description})}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(Fa,{className:"w-4 h-4"}),s.jsx("span",{children:gn(new Date(o.created_at),"dd MMM yyyy",{locale:xn})})]})]})]},o.id))}),Oie=Bs({title:rt().min(1,"Nama mitra wajib diisi").max(255,"Nama mitra maksimal 255 karakter"),description:rt().optional().or(us(""))}),_C=({open:t,onOpenChange:e,editingMitra:n,onSave:a,mode:i="create"})=>{const{toast:o}=_t(),[c,d]=x.useState(!1),[h,m]=x.useState([]),p=i==="edit",g=i==="view",v=gs({resolver:xs(Oie),defaultValues:{title:"",description:""}});x.useEffect(()=>{t&&(n?v.reset({title:n.title,description:n.description||""}):v.reset({title:"",description:""}),m([]))},[t,n,v]);const y=async k=>{d(!0);try{const E={title:k.title,description:k.description||void 0},A=h.length>0?h[0]:void 0;await a(E,A),e(!1),v.reset(),m([])}catch(E){console.error("Error saving mitra:",E),o({title:"Terjadi kesalahan",description:E.message||"Gagal menyimpan mitra",variant:"destructive"})}finally{d(!1)}},w=k=>{m(k)},j=k=>{o({title:"Error file",description:k,variant:"destructive"})},S=n!=null&&n.img_url?[{name:`Current Image - ${n.title}`,url:n.img_url,viewUrl:n.img_url}]:[];return s.jsx(nn,{open:t,onOpenChange:e,children:s.jsxs(sn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(an,{children:s.jsx(rn,{children:g?"Detail Mitra":p?"Edit Mitra":"Tambah Mitra Baru"})}),s.jsx(In,{...v,children:s.jsxs("form",{onSubmit:v.handleSubmit(y),className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx($e,{control:v.control,name:"title",render:({field:k})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Nama Mitra"}),s.jsx(Ue,{children:s.jsx(at,{placeholder:"Masukkan nama mitra",...k,disabled:c||g})}),s.jsx(He,{})]})}),s.jsx("div",{children:s.jsx(wl,{label:"Logo/Gambar Mitra",description:"Upload logo atau gambar mitra (JPG, PNG, WebP, max 5MB)",accept:"image/*",maxSize:5*1024*1024,maxFiles:1,files:h,existingFiles:S,onFilesChange:w,onError:j,required:!1,disabled:c||g,showPreview:!0,allowRemove:!1})}),s.jsx($e,{control:v.control,name:"description",render:({field:k})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Deskripsi"}),s.jsx(Ue,{children:g?s.jsx("div",{className:"min-h-[100px] p-3 border rounded-md bg-muted/30",children:k.value?s.jsx(yn,{content:k.value}):s.jsx("span",{className:"text-muted-foreground italic",children:"Tidak ada deskripsi"})}):s.jsx(kc,{value:k.value||"",onChange:k.onChange,placeholder:"Masukkan deskripsi mitra (opsional)",disabled:c})}),s.jsx(sa,{children:"Deskripsi singkat tentang mitra (opsional)"}),s.jsx(He,{})]})})]}),s.jsxs(zs,{children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:c,children:g?"Tutup":"Batal"}),!g&&s.jsx(pe,{type:"submit",disabled:c,children:c?"Menyimpan...":p?"Perbarui":"Simpan"})]})]})})]})})},Lie=()=>{const{isAdmin:t}=as(),{toast:e}=_t(),{updateURL:n,getCurrentFilters:a}=oa({defaults:{search:"",page:1,size:10},cleanDefaults:!0}),i=a(),[o,c]=x.useState([]),[d,h]=x.useState(!0),[m,p]=x.useState(0),[g,v]=x.useState(0),[y,w]=x.useState(!1),[j,S]=x.useState(!1),[k,E]=x.useState(null),[A,T]=x.useState(null),[_,M]=x.useState(null),P=t(),O=async()=>{h(!0);try{const B={skip:(i.page-1)*i.size,limit:i.size,search:i.search||void 0},Y=await Ch.getMitras(B);c(Y.items),p(Y.total),v(Y.pages)}catch(B){console.error("Failed to fetch mitras:",B),e({title:"Error",description:"Gagal memuat data Mitra. Silakan coba lagi.",variant:"destructive"})}finally{h(!1)}};x.useEffect(()=>{P&&O()},[i.page,i.size,i.search,P]);const I=B=>{T(B),S(!0)},G=B=>{E(B),w(!0)},R=B=>{M(B)},X=()=>{E(null),w(!0)},$=x.useCallback(async(B,Y)=>{var se,K;try{k?await Ch.updateMitra(k.id,B,Y):await Ch.createMitra(B,Y),await O()}catch(z){throw new Error(((K=(se=z.response)==null?void 0:se.data)==null?void 0:K.message)||"Gagal menyimpan mitra")}},[k]),Z=async()=>{var B,Y;if(_)try{await Ch.deleteMitra(_.id),e({title:"Berhasil",description:"Mitra berhasil dihapus."}),await O()}catch(se){console.error("Failed to delete mitra:",se),e({title:"Error",description:((Y=(B=se.response)==null?void 0:B.data)==null?void 0:Y.message)||"Gagal menghapus mitra.",variant:"destructive"})}finally{M(null)}},te=x.useCallback(B=>{n({search:B,page:1})},[n]),L=x.useCallback(B=>{n({page:B})},[n]),V=x.useCallback(B=>{n({size:B,page:1})},[n]);return P?s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsx(Cs,{title:"Manajemen Mitra",description:"Kelola data mitra dan kemitraan yayasan",actions:s.jsxs(pe,{onClick:X,children:[s.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Tambah Mitra"]})}),s.jsx("div",{className:"space-y-4",children:s.jsx(vr,{searchQuery:i.search,onSearchChange:te,placeholder:"Cari mitra..."})}),s.jsx($a,{title:"Daftar Mitra",subtitle:`${m} mitra ditemukan`}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"hidden lg:block",children:s.jsx(Die,{mitras:o,loading:d,onView:I,onEdit:G,onDelete:R})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(Pie,{mitras:o,loading:d,onView:I,onEdit:G,onDelete:R})}),g>1&&s.jsx(ya,{currentPage:i.page,totalPages:g,itemsPerPage:i.size,totalItems:m,onPageChange:L,onItemsPerPageChange:B=>V(parseInt(B))})]}),s.jsx(_C,{open:y,onOpenChange:w,editingMitra:k,onSave:$,mode:k?"edit":"create"}),s.jsx(nn,{open:j,onOpenChange:S,children:s.jsxs(sn,{className:"max-w-2xl",children:[s.jsx(an,{children:s.jsx(rn,{children:"Detail Mitra"})}),A&&s.jsx(_C,{open:j,onOpenChange:S,editingMitra:A,onSave:()=>{},mode:"view"})]})}),s.jsx(ss,{open:!!_,onOpenChange:()=>M(null),children:s.jsxs(Gn,{children:[s.jsxs(Kn,{children:[s.jsx(Xn,{children:"Hapus Mitra"}),s.jsxs(Wn,{children:['Apakah Anda yakin ingin menghapus mitra "',_==null?void 0:_.title,'"? Tindakan ini tidak dapat dibatalkan.']})]}),s.jsxs(Yn,{children:[s.jsx(Qn,{children:"Batal"}),s.jsx(Zn,{onClick:Z,className:"bg-destructive hover:bg-destructive/90",children:"Hapus"})]})]})})]}):s.jsx("div",{className:"container mx-auto py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-destructive mb-4",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki izin untuk mengakses halaman ini."})]})})},Iie=()=>s.jsx(ps,{children:Array.from({length:5}).map((t,e)=>s.jsxs(et,{children:[s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Re,{className:"w-16 h-12 rounded"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Re,{className:"h-4 w-32"}),s.jsx(Re,{className:"h-3 w-24"})]})]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx(Re,{className:"h-4 w-full"}),s.jsx(Re,{className:"h-4 w-3/4"})]})}),s.jsx(Ee,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx(Re,{className:"h-4 w-full"}),s.jsx(Re,{className:"h-4 w-2/3"})]})}),s.jsx(Ee,{children:s.jsx(Re,{className:"h-4 w-20"})}),s.jsx(Ee,{children:s.jsx(Re,{className:"h-8 w-8 rounded"})})]},e))}),Bie=({programs:t,loading:e,onView:n,onEdit:a,onDelete:i})=>e?s.jsx("div",{className:"border rounded-lg",children:s.jsxs(fs,{children:[s.jsx(ms,{children:s.jsxs(et,{children:[s.jsx(Te,{children:"Program"}),s.jsx(Te,{children:"Ringkasan"}),s.jsx(Te,{children:"Deskripsi"}),s.jsx(Te,{children:"Dibuat"}),s.jsx(Te,{className:"w-12"})]})}),s.jsx(Iie,{})]})}):t.length===0?s.jsx("div",{className:"border rounded-lg",children:s.jsxs(fs,{children:[s.jsx(ms,{children:s.jsxs(et,{children:[s.jsx(Te,{children:"Program"}),s.jsx(Te,{children:"Ringkasan"}),s.jsx(Te,{children:"Deskripsi"}),s.jsx(Te,{children:"Dibuat"}),s.jsx(Te,{className:"w-12"})]})}),s.jsx(ps,{children:s.jsx(et,{children:s.jsxs(Ee,{colSpan:5,className:"text-center py-12",children:[s.jsx(ol,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Tidak ada program ditemukan"}),s.jsx("p",{className:"text-muted-foreground",children:"Belum ada data program yang tersedia saat ini."})]})})})]})}):s.jsx("div",{className:"border rounded-lg",children:s.jsxs(fs,{children:[s.jsx(ms,{children:s.jsxs(et,{children:[s.jsx(Te,{children:"Program"}),s.jsx(Te,{children:"Ringkasan"}),s.jsx(Te,{children:"Deskripsi"}),s.jsx(Te,{children:"Dibuat"}),s.jsx(Te,{className:"w-12"})]})}),s.jsx(ps,{children:t.map(o=>s.jsxs(et,{className:"hover:bg-muted/50",children:[s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-16 h-12 relative overflow-hidden rounded bg-muted flex-shrink-0",children:o.img_url?s.jsx("img",{src:wi(o.img_url),alt:o.title,className:"w-full h-full object-cover",onError:c=>{const d=c.target;d.src=`https://picsum.photos/200/150?random=${o.id}`}}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(ol,{className:"w-6 h-6 text-muted-foreground"})})}),s.jsx("div",{className:"min-w-0 flex-1",children:s.jsx("h3",{className:"truncate",children:o.title})})]})}),s.jsx(Ee,{className:"max-w-md",children:o.excerpt?s.jsx("div",{className:"line-clamp-2",children:o.excerpt}):s.jsx("span",{className:"italic",children:"Tidak ada ringkasan"})}),s.jsx(Ee,{className:"max-w-md",children:o.description?s.jsx(yn,{content:o.description}):s.jsx("span",{className:"italic",children:"Tidak ada deskripsi"})}),s.jsx(Ee,{children:gn(new Date(o.created_at),"dd MMM yyyy",{locale:xn})}),s.jsx(Ee,{children:s.jsx(un,{onView:()=>n(o),onEdit:()=>a(o),onDelete:()=>i(o)})})]},o.id))})]})}),zie=()=>s.jsxs(je,{children:[s.jsx("div",{className:"aspect-video relative overflow-hidden rounded-t-lg bg-muted",children:s.jsx(Re,{className:"w-full h-full"})}),s.jsxs(we,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx(Re,{className:"h-5 w-3/4"}),s.jsx(Re,{className:"h-8 w-8 rounded"})]}),s.jsx(Re,{className:"h-4 w-full mb-2"}),s.jsx(Re,{className:"h-4 w-2/3 mb-3"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Re,{className:"h-4 w-4"}),s.jsx(Re,{className:"h-4 w-20"})]})]})]}),Uie=({programs:t,loading:e,onView:n,onEdit:a,onDelete:i})=>e?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((o,c)=>s.jsx(zie,{},c))}):t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ol,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Tidak ada program ditemukan"}),s.jsx("p",{className:"text-muted-foreground",children:"Belum ada data program yang tersedia saat ini."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(o=>s.jsxs(je,{className:"group hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[s.jsx("div",{className:"aspect-video relative overflow-hidden rounded-t-lg bg-muted",children:o.img_url?s.jsx("img",{src:wi(o.img_url),alt:o.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:c=>{const d=c.target;d.src=`https://picsum.photos/400/225?random=${o.id}`}}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(ol,{className:"w-12 h-12 text-muted-foreground"})})}),s.jsxs(we,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors line-clamp-1",children:o.title}),s.jsx(un,{onView:()=>n(o),onEdit:()=>a(o),onDelete:()=>i(o)})]}),o.excerpt&&s.jsx("div",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:o.excerpt}),o.description&&s.jsx("div",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:s.jsx(yn,{content:o.description})}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(Fa,{className:"w-4 h-4"}),s.jsx("span",{children:gn(new Date(o.created_at),"dd MMM yyyy",{locale:xn})})]})]})]},o.id))}),$ie=Bs({title:rt().min(1,"Nama program wajib diisi").max(255,"Nama program maksimal 255 karakter"),excerpt:rt().optional().or(us("")),description:rt().optional().or(us(""))}),RC=({open:t,onOpenChange:e,editingProgram:n,onSave:a,mode:i="create"})=>{const{toast:o}=_t(),[c,d]=x.useState(!1),[h,m]=x.useState([]),p=i==="edit",g=i==="view",v=gs({resolver:xs($ie),defaultValues:{title:"",excerpt:"",description:""}});x.useEffect(()=>{t&&(n?v.reset({title:n.title,excerpt:n.excerpt||"",description:n.description||""}):v.reset({title:"",excerpt:"",description:""}),m([]))},[t,n,v]);const y=async k=>{d(!0);try{const E={title:k.title,excerpt:k.excerpt||void 0,description:k.description||void 0},A=h.length>0?h[0]:void 0;await a(E,A),e(!1),v.reset(),m([])}catch(E){console.error("Error saving program:",E),o({title:"Terjadi kesalahan",description:E.message||"Gagal menyimpan program",variant:"destructive"})}finally{d(!1)}},w=k=>{m(k)},j=k=>{o({title:"Error file",description:k,variant:"destructive"})},S=n!=null&&n.img_url?[{name:`Current Image - ${n.title}`,url:n.img_url,viewUrl:n.img_url}]:[];return s.jsx(nn,{open:t,onOpenChange:e,children:s.jsxs(sn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(an,{children:s.jsx(rn,{children:g?"Detail Program":p?"Edit Program":"Tambah Program Baru"})}),s.jsx(In,{...v,children:s.jsxs("form",{onSubmit:v.handleSubmit(y),className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx($e,{control:v.control,name:"title",render:({field:k})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Nama Program"}),s.jsx(Ue,{children:s.jsx(at,{placeholder:"Masukkan nama program",...k,disabled:c||g})}),s.jsx(He,{})]})}),s.jsx("div",{children:s.jsx(wl,{label:"Gambar Program",description:"Upload gambar program (JPG, PNG, WebP, max 5MB)",accept:"image/*",maxSize:5*1024*1024,maxFiles:1,files:h,existingFiles:S,onFilesChange:w,onError:j,required:!1,disabled:c||g,showPreview:!0,allowRemove:!1})}),s.jsx($e,{control:v.control,name:"excerpt",render:({field:k})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Ringkasan"}),s.jsx(Ue,{children:s.jsx(br,{placeholder:"Masukkan ringkasan program (opsional)",rows:3,...k,disabled:c||g})}),s.jsx(sa,{children:"Ringkasan singkat tentang program (opsional)"}),s.jsx(He,{})]})}),s.jsx($e,{control:v.control,name:"description",render:({field:k})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Deskripsi Detail"}),s.jsx(Ue,{children:g?s.jsx("div",{className:"min-h-[200px] p-3 border rounded-md bg-muted/30",children:k.value?s.jsx(yn,{content:k.value}):s.jsx("span",{className:"text-muted-foreground italic",children:"Tidak ada deskripsi detail"})}):s.jsx(kc,{value:k.value||"",onChange:k.onChange,placeholder:"Masukkan deskripsi detail program (opsional)",disabled:c})}),s.jsx(sa,{children:"Deskripsi lengkap tentang program, tujuan, manfaat, dll (opsional)"}),s.jsx(He,{})]})})]}),s.jsxs(zs,{children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:c,children:g?"Tutup":"Batal"}),!g&&s.jsx(pe,{type:"submit",disabled:c,children:c?"Menyimpan...":p?"Perbarui":"Simpan"})]})]})})]})})},Fie=()=>{const{isAdmin:t}=as(),{toast:e}=_t(),{updateURL:n,getCurrentFilters:a}=oa({defaults:{search:"",page:1,size:10},cleanDefaults:!0}),i=a(),[o,c]=x.useState([]),[d,h]=x.useState(!0),[m,p]=x.useState(0),[g,v]=x.useState(0),[y,w]=x.useState(!1),[j,S]=x.useState(!1),[k,E]=x.useState(null),[A,T]=x.useState(null),[_,M]=x.useState(null),P=t(),O=async()=>{h(!0);try{const B={skip:(i.page-1)*i.size,limit:i.size,search:i.search||void 0},Y=await Th.getPrograms(B);c(Y.items),p(Y.total),v(Y.pages)}catch(B){console.error("Failed to fetch programs:",B),e({title:"Error",description:"Gagal memuat data Program. Silakan coba lagi.",variant:"destructive"})}finally{h(!1)}};x.useEffect(()=>{P&&O()},[i.page,i.size,i.search,P]);const I=B=>{T(B),S(!0)},G=B=>{E(B),w(!0)},R=B=>{M(B)},X=()=>{E(null),w(!0)},$=x.useCallback(async(B,Y)=>{var se,K;try{k?await Th.updateProgram(k.id,B,Y):await Th.createProgram(B,Y),await O()}catch(z){throw new Error(((K=(se=z.response)==null?void 0:se.data)==null?void 0:K.message)||"Gagal menyimpan program")}},[k]),Z=async()=>{var B,Y;if(_)try{await Th.deleteProgram(_.id),e({title:"Berhasil",description:"Program berhasil dihapus."}),await O()}catch(se){console.error("Failed to delete program:",se),e({title:"Error",description:((Y=(B=se.response)==null?void 0:B.data)==null?void 0:Y.message)||"Gagal menghapus program.",variant:"destructive"})}finally{M(null)}},te=x.useCallback(B=>{n({search:B,page:1})},[n]),L=x.useCallback(B=>{n({page:B})},[n]),V=x.useCallback(B=>{n({size:B,page:1})},[n]);return P?s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsx(Cs,{title:"Manajemen Program",description:"Kelola data program dan kegiatan yayasan",actions:s.jsxs(pe,{onClick:X,children:[s.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Tambah Program"]})}),s.jsx("div",{className:"space-y-4",children:s.jsx(vr,{searchQuery:i.search,onSearchChange:te,placeholder:"Cari program..."})}),s.jsx($a,{title:"Daftar Program",subtitle:`${m} program ditemukan`}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"hidden lg:block",children:s.jsx(Bie,{programs:o,loading:d,onView:I,onEdit:G,onDelete:R})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(Uie,{programs:o,loading:d,onView:I,onEdit:G,onDelete:R})}),g>1&&s.jsx(ya,{currentPage:i.page,totalPages:g,itemsPerPage:i.size,totalItems:m,onPageChange:L,onItemsPerPageChange:B=>V(parseInt(B))})]}),s.jsx(RC,{open:y,onOpenChange:w,editingProgram:k,onSave:$,mode:k?"edit":"create"}),s.jsx(nn,{open:j,onOpenChange:S,children:s.jsxs(sn,{className:"max-w-4xl",children:[s.jsx(an,{children:s.jsx(rn,{children:"Detail Program"})}),A&&s.jsx(RC,{open:j,onOpenChange:S,editingProgram:A,onSave:()=>{},mode:"view"})]})}),s.jsx(ss,{open:!!_,onOpenChange:()=>M(null),children:s.jsxs(Gn,{children:[s.jsxs(Kn,{children:[s.jsx(Xn,{children:"Hapus Program"}),s.jsxs(Wn,{children:['Apakah Anda yakin ingin menghapus program "',_==null?void 0:_.title,'"? Tindakan ini tidak dapat dibatalkan.']})]}),s.jsxs(Yn,{children:[s.jsx(Qn,{children:"Batal"}),s.jsx(Zn,{onClick:Z,className:"bg-destructive hover:bg-destructive/90",children:"Hapus"})]})]})})]}):s.jsx("div",{className:"container mx-auto py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-destructive mb-4",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki izin untuk mengakses halaman ini."})]})})};function Vie(t){return Object.prototype.toString.call(t)==="[object Object]"}function DC(t){return Vie(t)||Array.isArray(t)}function qie(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function vw(t,e){const n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),o=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==o?!1:n.every(c=>{const d=t[c],h=e[c];return typeof d=="function"?`${d}`==`${h}`:!DC(d)||!DC(h)?d===h:vw(d,h)})}function MC(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function Hie(t,e){if(t.length!==e.length)return!1;const n=MC(t),a=MC(e);return n.every((i,o)=>{const c=a[o];return vw(i,c)})}function bw(t){return typeof t=="number"}function uj(t){return typeof t=="string"}function Fx(t){return typeof t=="boolean"}function PC(t){return Object.prototype.toString.call(t)==="[object Object]"}function An(t){return Math.abs(t)}function yw(t){return Math.sign(t)}function Qh(t,e){return An(t-e)}function Gie(t,e){if(t===0||e===0||An(t)<=An(e))return 0;const n=Qh(An(t),An(e));return An(n/t)}function Kie(t){return Math.round(t*100)/100}function Tf(t){return _f(t).map(Number)}function Ir(t){return t[im(t)]}function im(t){return Math.max(0,t.length-1)}function jw(t,e){return e===im(t)}function OC(t,e=0){return Array.from(Array(t),(n,a)=>e+a)}function _f(t){return Object.keys(t)}function z3(t,e){return[t,e].reduce((n,a)=>(_f(a).forEach(i=>{const o=n[i],c=a[i],d=PC(o)&&PC(c);n[i]=d?z3(o,c):c}),n),{})}function hj(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function Yie(t,e){const n={start:a,center:i,end:o};function a(){return 0}function i(h){return o(h)/2}function o(h){return e-h}function c(h,m){return uj(t)?n[t](h):t(e,h,m)}return{measure:c}}function Rf(){let t=[];function e(i,o,c,d={passive:!0}){let h;if("addEventListener"in i)i.addEventListener(o,c,d),h=()=>i.removeEventListener(o,c,d);else{const m=i;m.addListener(c),h=()=>m.removeListener(c)}return t.push(h),a}function n(){t=t.filter(i=>i())}const a={add:e,clear:n};return a}function Xie(t,e,n,a){const i=Rf(),o=1e3/60;let c=null,d=0,h=0;function m(){i.add(t,"visibilitychange",()=>{t.hidden&&w()})}function p(){y(),i.clear()}function g(S){if(!h)return;c||(c=S,n(),n());const k=S-c;for(c=S,d+=k;d>=o;)n(),d-=o;const E=d/o;a(E),h&&(h=e.requestAnimationFrame(g))}function v(){h||(h=e.requestAnimationFrame(g))}function y(){e.cancelAnimationFrame(h),c=null,d=0,h=0}function w(){c=null,d=0}return{init:m,destroy:p,start:v,stop:y,update:n,render:a}}function Wie(t,e){const n=e==="rtl",a=t==="y",i=a?"y":"x",o=a?"x":"y",c=!a&&n?-1:1,d=p(),h=g();function m(w){const{height:j,width:S}=w;return a?j:S}function p(){return a?"top":n?"right":"left"}function g(){return a?"bottom":n?"left":"right"}function v(w){return w*c}return{scroll:i,cross:o,startEdge:d,endEdge:h,measureSize:m,direction:v}}function fc(t=0,e=0){const n=An(t-e);function a(m){return m<t}function i(m){return m>e}function o(m){return a(m)||i(m)}function c(m){return o(m)?a(m)?t:e:m}function d(m){return n?m-n*Math.ceil((m-e)/n):m}return{length:n,max:e,min:t,constrain:c,reachedAny:o,reachedMax:i,reachedMin:a,removeOffset:d}}function U3(t,e,n){const{constrain:a}=fc(0,t),i=t+1;let o=c(e);function c(v){return n?An((i+v)%i):a(v)}function d(){return o}function h(v){return o=c(v),g}function m(v){return p().set(d()+v)}function p(){return U3(t,d(),n)}const g={get:d,set:h,add:m,clone:p};return g}function Zie(t,e,n,a,i,o,c,d,h,m,p,g,v,y,w,j,S,k,E){const{cross:A,direction:T}=t,_=["INPUT","SELECT","TEXTAREA"],M={passive:!1},P=Rf(),O=Rf(),I=fc(50,225).constrain(y.measure(20)),G={mouse:300,touch:400},R={mouse:500,touch:600},X=w?43:25;let $=!1,Z=0,te=0,L=!1,V=!1,B=!1,Y=!1;function se(ce){if(!E)return;function Ce(nt){(Fx(E)||E(ce,nt))&&ee(nt)}const Oe=e;P.add(Oe,"dragstart",nt=>nt.preventDefault(),M).add(Oe,"touchmove",()=>{},M).add(Oe,"touchend",()=>{}).add(Oe,"touchstart",Ce).add(Oe,"mousedown",Ce).add(Oe,"touchcancel",ie).add(Oe,"contextmenu",ie).add(Oe,"click",he,!0)}function K(){P.clear(),O.clear()}function z(){const ce=Y?n:e;O.add(ce,"touchmove",ne,M).add(ce,"touchend",ie).add(ce,"mousemove",ne,M).add(ce,"mouseup",ie)}function W(ce){const Ce=ce.nodeName||"";return _.includes(Ce)}function q(){return(w?R:G)[Y?"mouse":"touch"]}function H(ce,Ce){const Oe=g.add(yw(ce)*-1),nt=p.byDistance(ce,!w).distance;return w||An(ce)<I?nt:S&&Ce?nt*.5:p.byIndex(Oe.get(),0).distance}function ee(ce){const Ce=hj(ce,a);Y=Ce,B=w&&Ce&&!ce.buttons&&$,$=Qh(i.get(),c.get())>=2,!(Ce&&ce.button!==0)&&(W(ce.target)||(L=!0,o.pointerDown(ce),m.useFriction(0).useDuration(0),i.set(c),z(),Z=o.readPoint(ce),te=o.readPoint(ce,A),v.emit("pointerDown")))}function ne(ce){if(!hj(ce,a)&&ce.touches.length>=2)return ie(ce);const Oe=o.readPoint(ce),nt=o.readPoint(ce,A),De=Qh(Oe,Z),ke=Qh(nt,te);if(!V&&!Y&&(!ce.cancelable||(V=De>ke,!V)))return ie(ce);const it=o.pointerMove(ce);De>j&&(B=!0),m.useFriction(.3).useDuration(.75),d.start(),i.add(T(it)),ce.preventDefault()}function ie(ce){const Oe=p.byDistance(0,!1).index!==g.get(),nt=o.pointerUp(ce)*q(),De=H(T(nt),Oe),ke=Gie(nt,De),it=X-10*ke,Le=k+ke/50;V=!1,L=!1,O.clear(),m.useDuration(it).useFriction(Le),h.distance(De,!w),Y=!1,v.emit("pointerUp")}function he(ce){B&&(ce.stopPropagation(),ce.preventDefault(),B=!1)}function ae(){return L}return{init:se,destroy:K,pointerDown:ae}}function Qie(t,e){let a,i;function o(g){return g.timeStamp}function c(g,v){const w=`client${(v||t.scroll)==="x"?"X":"Y"}`;return(hj(g,e)?g:g.touches[0])[w]}function d(g){return a=g,i=g,c(g)}function h(g){const v=c(g)-c(i),y=o(g)-o(a)>170;return i=g,y&&(a=g),v}function m(g){if(!a||!i)return 0;const v=c(i)-c(a),y=o(g)-o(a),w=o(g)-o(i)>170,j=v/y;return y&&!w&&An(j)>.1?j:0}return{pointerDown:d,pointerMove:h,pointerUp:m,readPoint:c}}function Jie(){function t(n){const{offsetTop:a,offsetLeft:i,offsetWidth:o,offsetHeight:c}=n;return{top:a,right:i+o,bottom:a+c,left:i,width:o,height:c}}return{measure:t}}function eoe(t){function e(a){return t*(a/100)}return{measure:e}}function toe(t,e,n,a,i,o,c){const d=[t].concat(a);let h,m,p=[],g=!1;function v(S){return i.measureSize(c.measure(S))}function y(S){if(!o)return;m=v(t),p=a.map(v);function k(E){for(const A of E){if(g)return;const T=A.target===t,_=a.indexOf(A.target),M=T?m:p[_],P=v(T?t:a[_]);if(An(P-M)>=.5){S.reInit(),e.emit("resize");break}}}h=new ResizeObserver(E=>{(Fx(o)||o(S,E))&&k(E)}),n.requestAnimationFrame(()=>{d.forEach(E=>h.observe(E))})}function w(){g=!0,h&&h.disconnect()}return{init:y,destroy:w}}function noe(t,e,n,a,i,o){let c=0,d=0,h=i,m=o,p=t.get(),g=0;function v(){const M=a.get()-t.get(),P=!h;let O=0;return P?(c=0,n.set(a),t.set(a),O=M):(n.set(t),c+=M/h,c*=m,p+=c,t.add(c),O=p-g),d=yw(O),g=p,_}function y(){const M=a.get()-e.get();return An(M)<.001}function w(){return h}function j(){return d}function S(){return c}function k(){return A(i)}function E(){return T(o)}function A(M){return h=M,_}function T(M){return m=M,_}const _={direction:j,duration:w,velocity:S,seek:v,settled:y,useBaseFriction:E,useBaseDuration:k,useFriction:T,useDuration:A};return _}function soe(t,e,n,a,i){const o=i.measure(10),c=i.measure(50),d=fc(.1,.99);let h=!1;function m(){return!(h||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function p(y){if(!m())return;const w=t.reachedMin(e.get())?"min":"max",j=An(t[w]-e.get()),S=n.get()-e.get(),k=d.constrain(j/c);n.subtract(S*k),!y&&An(S)<o&&(n.set(t.constrain(n.get())),a.useDuration(25).useBaseFriction())}function g(y){h=!y}return{shouldConstrain:m,constrain:p,toggleActive:g}}function aoe(t,e,n,a,i){const o=fc(-e+t,0),c=g(),d=p(),h=v();function m(w,j){return Qh(w,j)<=1}function p(){const w=c[0],j=Ir(c),S=c.lastIndexOf(w),k=c.indexOf(j)+1;return fc(S,k)}function g(){return n.map((w,j)=>{const{min:S,max:k}=o,E=o.constrain(w),A=!j,T=jw(n,j);return A?k:T||m(S,E)?S:m(k,E)?k:E}).map(w=>parseFloat(w.toFixed(3)))}function v(){if(e<=t+i)return[o.max];if(a==="keepSnaps")return c;const{min:w,max:j}=d;return c.slice(w,j)}return{snapsContained:h,scrollContainLimit:d}}function roe(t,e,n){const a=e[0],i=n?a-t:Ir(e);return{limit:fc(i,a)}}function ioe(t,e,n,a){const o=e.min+.1,c=e.max+.1,{reachedMin:d,reachedMax:h}=fc(o,c);function m(v){return v===1?h(n.get()):v===-1?d(n.get()):!1}function p(v){if(!m(v))return;const y=t*(v*-1);a.forEach(w=>w.add(y))}return{loop:p}}function ooe(t){const{max:e,length:n}=t;function a(o){const c=o-e;return n?c/-n:0}return{get:a}}function loe(t,e,n,a,i){const{startEdge:o,endEdge:c}=t,{groupSlides:d}=i,h=g().map(e.measure),m=v(),p=y();function g(){return d(a).map(j=>Ir(j)[c]-j[0][o]).map(An)}function v(){return a.map(j=>n[o]-j[o]).map(j=>-An(j))}function y(){return d(m).map(j=>j[0]).map((j,S)=>j+h[S])}return{snaps:m,snapsAligned:p}}function coe(t,e,n,a,i,o){const{groupSlides:c}=i,{min:d,max:h}=a,m=p();function p(){const v=c(o),y=!t||e==="keepSnaps";return n.length===1?[o]:y?v:v.slice(d,h).map((w,j,S)=>{const k=!j,E=jw(S,j);if(k){const A=Ir(S[0])+1;return OC(A)}if(E){const A=im(o)-Ir(S)[0]+1;return OC(A,Ir(S)[0])}return w})}return{slideRegistry:m}}function doe(t,e,n,a,i){const{reachedAny:o,removeOffset:c,constrain:d}=a;function h(w){return w.concat().sort((j,S)=>An(j)-An(S))[0]}function m(w){const j=t?c(w):d(w),S=e.map((E,A)=>({diff:p(E-j,0),index:A})).sort((E,A)=>An(E.diff)-An(A.diff)),{index:k}=S[0];return{index:k,distance:j}}function p(w,j){const S=[w,w+n,w-n];if(!t)return w;if(!j)return h(S);const k=S.filter(E=>yw(E)===j);return k.length?h(k):Ir(S)-n}function g(w,j){const S=e[w]-i.get(),k=p(S,j);return{index:w,distance:k}}function v(w,j){const S=i.get()+w,{index:k,distance:E}=m(S),A=!t&&o(S);if(!j||A)return{index:k,distance:w};const T=e[k]-E,_=w+p(T,0);return{index:k,distance:_}}return{byDistance:v,byIndex:g,shortcut:p}}function uoe(t,e,n,a,i,o,c){function d(g){const v=g.distance,y=g.index!==e.get();o.add(v),v&&(a.duration()?t.start():(t.update(),t.render(1),t.update())),y&&(n.set(e.get()),e.set(g.index),c.emit("select"))}function h(g,v){const y=i.byDistance(g,v);d(y)}function m(g,v){const y=e.clone().set(g),w=i.byIndex(y.get(),v);d(w)}return{distance:h,index:m}}function hoe(t,e,n,a,i,o,c,d){const h={passive:!0,capture:!0};let m=0;function p(y){if(!d)return;function w(j){if(new Date().getTime()-m>10)return;c.emit("slideFocusStart"),t.scrollLeft=0;const E=n.findIndex(A=>A.includes(j));bw(E)&&(i.useDuration(0),a.index(E,0),c.emit("slideFocus"))}o.add(document,"keydown",g,!1),e.forEach((j,S)=>{o.add(j,"focus",k=>{(Fx(d)||d(y,k))&&w(S)},h)})}function g(y){y.code==="Tab"&&(m=new Date().getTime())}return{init:p}}function Lh(t){let e=t;function n(){return e}function a(h){e=c(h)}function i(h){e+=c(h)}function o(h){e-=c(h)}function c(h){return bw(h)?h:h.get()}return{get:n,set:a,add:i,subtract:o}}function $3(t,e){const n=t.scroll==="x"?c:d,a=e.style;let i=null,o=!1;function c(v){return`translate3d(${v}px,0px,0px)`}function d(v){return`translate3d(0px,${v}px,0px)`}function h(v){if(o)return;const y=Kie(t.direction(v));y!==i&&(a.transform=n(y),i=y)}function m(v){o=!v}function p(){o||(a.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:p,to:h,toggleActive:m}}function foe(t,e,n,a,i,o,c,d,h){const p=Tf(i),g=Tf(i).reverse(),v=k().concat(E());function y(P,O){return P.reduce((I,G)=>I-i[G],O)}function w(P,O){return P.reduce((I,G)=>y(I,O)>0?I.concat([G]):I,[])}function j(P){return o.map((O,I)=>({start:O-a[I]+.5+P,end:O+e-.5+P}))}function S(P,O,I){const G=j(O);return P.map(R=>{const X=I?0:-n,$=I?n:0,Z=I?"end":"start",te=G[R][Z];return{index:R,loopPoint:te,slideLocation:Lh(-1),translate:$3(t,h[R]),target:()=>d.get()>te?X:$}})}function k(){const P=c[0],O=w(g,P);return S(O,n,!1)}function E(){const P=e-c[0]-1,O=w(p,P);return S(O,-n,!0)}function A(){return v.every(({index:P})=>{const O=p.filter(I=>I!==P);return y(O,e)<=.1})}function T(){v.forEach(P=>{const{target:O,translate:I,slideLocation:G}=P,R=O();R!==G.get()&&(I.to(R),G.set(R))})}function _(){v.forEach(P=>P.translate.clear())}return{canLoop:A,clear:_,loop:T,loopPoints:v}}function moe(t,e,n){let a,i=!1;function o(h){if(!n)return;function m(p){for(const g of p)if(g.type==="childList"){h.reInit(),e.emit("slidesChanged");break}}a=new MutationObserver(p=>{i||(Fx(n)||n(h,p))&&m(p)}),a.observe(t,{childList:!0})}function c(){a&&a.disconnect(),i=!0}return{init:o,destroy:c}}function poe(t,e,n,a){const i={};let o=null,c=null,d,h=!1;function m(){d=new IntersectionObserver(w=>{h||(w.forEach(j=>{const S=e.indexOf(j.target);i[S]=j}),o=null,c=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:a}),e.forEach(w=>d.observe(w))}function p(){d&&d.disconnect(),h=!0}function g(w){return _f(i).reduce((j,S)=>{const k=parseInt(S),{isIntersecting:E}=i[k];return(w&&E||!w&&!E)&&j.push(k),j},[])}function v(w=!0){if(w&&o)return o;if(!w&&c)return c;const j=g(w);return w&&(o=j),w||(c=j),j}return{init:m,destroy:p,get:v}}function goe(t,e,n,a,i,o){const{measureSize:c,startEdge:d,endEdge:h}=t,m=n[0]&&i,p=w(),g=j(),v=n.map(c),y=S();function w(){if(!m)return 0;const E=n[0];return An(e[d]-E[d])}function j(){if(!m)return 0;const E=o.getComputedStyle(Ir(a));return parseFloat(E.getPropertyValue(`margin-${h}`))}function S(){return n.map((E,A,T)=>{const _=!A,M=jw(T,A);return _?v[A]+p:M?v[A]+g:T[A+1][d]-E[d]}).map(An)}return{slideSizes:v,slideSizesWithGaps:y,startGap:p,endGap:g}}function xoe(t,e,n,a,i,o,c,d,h){const{startEdge:m,endEdge:p,direction:g}=t,v=bw(n);function y(k,E){return Tf(k).filter(A=>A%E===0).map(A=>k.slice(A,A+E))}function w(k){return k.length?Tf(k).reduce((E,A,T)=>{const _=Ir(E)||0,M=_===0,P=A===im(k),O=i[m]-o[_][m],I=i[m]-o[A][p],G=!a&&M?g(c):0,R=!a&&P?g(d):0,X=An(I-R-(O+G));return T&&X>e+h&&E.push(A),P&&E.push(k.length),E},[]).map((E,A,T)=>{const _=Math.max(T[A-1]||0);return k.slice(_,E)}):[]}function j(k){return v?y(k,n):w(k)}return{groupSlides:j}}function voe(t,e,n,a,i,o,c){const{align:d,axis:h,direction:m,startIndex:p,loop:g,duration:v,dragFree:y,dragThreshold:w,inViewThreshold:j,slidesToScroll:S,skipSnaps:k,containScroll:E,watchResize:A,watchSlides:T,watchDrag:_,watchFocus:M}=o,P=2,O=Jie(),I=O.measure(e),G=n.map(O.measure),R=Wie(h,m),X=R.measureSize(I),$=eoe(X),Z=Yie(d,X),te=!g&&!!E,L=g||!!E,{slideSizes:V,slideSizesWithGaps:B,startGap:Y,endGap:se}=goe(R,I,G,n,L,i),K=xoe(R,X,S,g,I,G,Y,se,P),{snaps:z,snapsAligned:W}=loe(R,Z,I,G,K),q=-Ir(z)+Ir(B),{snapsContained:H,scrollContainLimit:ee}=aoe(X,q,W,E,P),ne=te?H:W,{limit:ie}=roe(q,ne,g),he=U3(im(ne),p,g),ae=he.clone(),ue=Tf(n),ce=({dragHandler:Gt,scrollBody:Tn,scrollBounds:Jn,options:{loop:Ts}})=>{Ts||Jn.constrain(Gt.pointerDown()),Tn.seek()},Ce=({scrollBody:Gt,translate:Tn,location:Jn,offsetLocation:Ts,previousLocation:Us,scrollLooper:Nn,slideLooper:_s,dragHandler:bs,animation:ys,eventHandler:Qt,scrollBounds:ta,options:{loop:$s}},Rt)=>{const ln=Gt.settled(),qe=!ta.shouldConstrain(),bt=$s?ln:ln&&qe,gt=bt&&!bs.pointerDown();gt&&ys.stop();const yt=Jn.get()*Rt+Us.get()*(1-Rt);Ts.set(yt),$s&&(Nn.loop(Gt.direction()),_s.loop()),Tn.to(Ts.get()),gt&&Qt.emit("settle"),bt||Qt.emit("scroll")},Oe=Xie(a,i,()=>ce(Vt),Gt=>Ce(Vt,Gt)),nt=.68,De=ne[he.get()],ke=Lh(De),it=Lh(De),Le=Lh(De),Qe=Lh(De),Ae=noe(ke,Le,it,Qe,v,nt),Ie=doe(g,ne,q,ie,Qe),Nt=uoe(Oe,he,ae,Ae,Ie,Qe,c),hn=ooe(ie),ea=Rf(),vs=poe(e,n,c,j),{slideRegistry:Ft}=coe(te,E,ne,ee,K,ue),on=hoe(t,n,Ft,Nt,Ae,ea,c,M),Vt={ownerDocument:a,ownerWindow:i,eventHandler:c,containerRect:I,slideRects:G,animation:Oe,axis:R,dragHandler:Zie(R,t,a,i,Qe,Qie(R,i),ke,Oe,Nt,Ae,Ie,he,c,$,y,w,k,nt,_),eventStore:ea,percentOfView:$,index:he,indexPrevious:ae,limit:ie,location:ke,offsetLocation:Le,previousLocation:it,options:o,resizeHandler:toe(e,c,i,n,R,A,O),scrollBody:Ae,scrollBounds:soe(ie,Le,Qe,Ae,$),scrollLooper:ioe(q,ie,Le,[ke,Le,it,Qe]),scrollProgress:hn,scrollSnapList:ne.map(hn.get),scrollSnaps:ne,scrollTarget:Ie,scrollTo:Nt,slideLooper:foe(R,X,q,V,B,z,ne,Le,n),slideFocus:on,slidesHandler:moe(e,c,T),slidesInView:vs,slideIndexes:ue,slideRegistry:Ft,slidesToScroll:K,target:Qe,translate:$3(R,e)};return Vt}function boe(){let t={},e;function n(m){e=m}function a(m){return t[m]||[]}function i(m){return a(m).forEach(p=>p(e,m)),h}function o(m,p){return t[m]=a(m).concat([p]),h}function c(m,p){return t[m]=a(m).filter(g=>g!==p),h}function d(){t={}}const h={init:n,emit:i,off:c,on:o,clear:d};return h}const yoe={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function joe(t){function e(o,c){return z3(o,c||{})}function n(o){const c=o.breakpoints||{},d=_f(c).filter(h=>t.matchMedia(h).matches).map(h=>c[h]).reduce((h,m)=>e(h,m),{});return e(o,d)}function a(o){return o.map(c=>_f(c.breakpoints||{})).reduce((c,d)=>c.concat(d),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:a}}function woe(t){let e=[];function n(o,c){return e=c.filter(({options:d})=>t.optionsAtMedia(d).active!==!1),e.forEach(d=>d.init(o,t)),c.reduce((d,h)=>Object.assign(d,{[h.name]:h}),{})}function a(){e=e.filter(o=>o.destroy())}return{init:n,destroy:a}}function Lg(t,e,n){const a=t.ownerDocument,i=a.defaultView,o=joe(i),c=woe(o),d=Rf(),h=boe(),{mergeOptions:m,optionsAtMedia:p,optionsMediaQueries:g}=o,{on:v,off:y,emit:w}=h,j=R;let S=!1,k,E=m(yoe,Lg.globalOptions),A=m(E),T=[],_,M,P;function O(){const{container:ue,slides:ce}=A;M=(uj(ue)?t.querySelector(ue):ue)||t.children[0];const Oe=uj(ce)?M.querySelectorAll(ce):ce;P=[].slice.call(Oe||M.children)}function I(ue){const ce=voe(t,M,P,a,i,ue,h);if(ue.loop&&!ce.slideLooper.canLoop()){const Ce=Object.assign({},ue,{loop:!1});return I(Ce)}return ce}function G(ue,ce){S||(E=m(E,ue),A=p(E),T=ce||T,O(),k=I(A),g([E,...T.map(({options:Ce})=>Ce)]).forEach(Ce=>d.add(Ce,"change",R)),A.active&&(k.translate.to(k.location.get()),k.animation.init(),k.slidesInView.init(),k.slideFocus.init(ae),k.eventHandler.init(ae),k.resizeHandler.init(ae),k.slidesHandler.init(ae),k.options.loop&&k.slideLooper.loop(),M.offsetParent&&P.length&&k.dragHandler.init(ae),_=c.init(ae,T)))}function R(ue,ce){const Ce=K();X(),G(m({startIndex:Ce},ue),ce),h.emit("reInit")}function X(){k.dragHandler.destroy(),k.eventStore.clear(),k.translate.clear(),k.slideLooper.clear(),k.resizeHandler.destroy(),k.slidesHandler.destroy(),k.slidesInView.destroy(),k.animation.destroy(),c.destroy(),d.clear()}function $(){S||(S=!0,d.clear(),X(),h.emit("destroy"),h.clear())}function Z(ue,ce,Ce){!A.active||S||(k.scrollBody.useBaseFriction().useDuration(ce===!0?0:A.duration),k.scrollTo.index(ue,Ce||0))}function te(ue){const ce=k.index.add(1).get();Z(ce,ue,-1)}function L(ue){const ce=k.index.add(-1).get();Z(ce,ue,1)}function V(){return k.index.add(1).get()!==K()}function B(){return k.index.add(-1).get()!==K()}function Y(){return k.scrollSnapList}function se(){return k.scrollProgress.get(k.offsetLocation.get())}function K(){return k.index.get()}function z(){return k.indexPrevious.get()}function W(){return k.slidesInView.get()}function q(){return k.slidesInView.get(!1)}function H(){return _}function ee(){return k}function ne(){return t}function ie(){return M}function he(){return P}const ae={canScrollNext:V,canScrollPrev:B,containerNode:ie,internalEngine:ee,destroy:$,off:y,on:v,emit:w,plugins:H,previousScrollSnap:z,reInit:j,rootNode:ne,scrollNext:te,scrollPrev:L,scrollProgress:se,scrollSnapList:Y,scrollTo:Z,selectedScrollSnap:K,slideNodes:he,slidesInView:W,slidesNotInView:q};return G(e,n),setTimeout(()=>h.emit("init"),0),ae}Lg.globalOptions=void 0;function ww(t={},e=[]){const n=x.useRef(t),a=x.useRef(e),[i,o]=x.useState(),[c,d]=x.useState(),h=x.useCallback(()=>{i&&i.reInit(n.current,a.current)},[i]);return x.useEffect(()=>{vw(n.current,t)||(n.current=t,h())},[t,h]),x.useEffect(()=>{Hie(a.current,e)||(a.current=e,h())},[e,h]),x.useEffect(()=>{if(qie()&&c){Lg.globalOptions=ww.globalOptions;const m=Lg(c,n.current,a.current);return o(m),()=>m.destroy()}else o(void 0)},[c,o]),[d,i]}ww.globalOptions=void 0;const F3=x.createContext(null);function Vx(){const t=x.useContext(F3);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}function Ig({orientation:t="horizontal",opts:e,setApi:n,plugins:a,className:i,children:o,...c}){const[d,h]=ww({...e,axis:t==="horizontal"?"x":"y"},a),[m,p]=x.useState(!1),[g,v]=x.useState(!1),y=x.useCallback(k=>{k&&(p(k.canScrollPrev()),v(k.canScrollNext()))},[]),w=x.useCallback(()=>{h==null||h.scrollPrev()},[h]),j=x.useCallback(()=>{h==null||h.scrollNext()},[h]),S=x.useCallback(k=>{k.key==="ArrowLeft"?(k.preventDefault(),w()):k.key==="ArrowRight"&&(k.preventDefault(),j())},[w,j]);return x.useEffect(()=>{!h||!n||n(h)},[h,n]),x.useEffect(()=>{if(h)return y(h),h.on("reInit",y),h.on("select",y),()=>{h==null||h.off("select",y)}},[h,y]),s.jsx(F3.Provider,{value:{carouselRef:d,api:h,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:w,scrollNext:j,canScrollPrev:m,canScrollNext:g},children:s.jsx("div",{onKeyDownCapture:S,className:ge("relative",i),role:"region","aria-roledescription":"carousel","data-slot":"carousel",...c,children:o})})}function Bg({className:t,...e}){const{carouselRef:n,orientation:a}=Vx();return s.jsx("div",{ref:n,className:"overflow-hidden","data-slot":"carousel-content",children:s.jsx("div",{className:ge("flex",a==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})}function zg({className:t,...e}){const{orientation:n}=Vx();return s.jsx("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:ge("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",t),...e})}function fj({className:t,variant:e="outline",size:n="icon",...a}){const{orientation:i,scrollPrev:o,canScrollPrev:c}=Vx();return s.jsxs(pe,{"data-slot":"carousel-previous",variant:e,size:n,className:ge("absolute size-8 rounded-full",i==="horizontal"?"top-1/2 -left-12 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!c,onClick:o,...a,children:[s.jsx(A9,{}),s.jsx("span",{className:"sr-only",children:"Previous slide"})]})}function mj({className:t,variant:e="outline",size:n="icon",...a}){const{orientation:i,scrollNext:o,canScrollNext:c}=Vx();return s.jsxs(pe,{"data-slot":"carousel-next",variant:e,size:n,className:ge("absolute size-8 rounded-full",i==="horizontal"?"top-1/2 -right-12 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!c,onClick:o,...a,children:[s.jsx(T9,{}),s.jsx("span",{className:"sr-only",children:"Next slide"})]})}function Noe({items:t,renderItem:e,autoScrollInterval:n=5e3,showControls:a=!0,showDots:i=!0,pauseOnHover:o=!0,fadeTransition:c=!1,className:d,controlsClassName:h,dotsClassName:m}){const[p,g]=x.useState(),[v,y]=x.useState(0),[w,j]=x.useState(!1),S=x.useRef(null);x.useEffect(()=>{p&&(y(p.selectedScrollSnap()),p.on("select",()=>{y(p.selectedScrollSnap())}))},[p]),x.useEffect(()=>{if(!p||t.length<=1)return;const A=()=>{S.current!==null&&clearTimeout(S.current),S.current=window.setTimeout(()=>{(!w||!o)&&(p.canScrollNext()?p.scrollNext():p.scrollTo(0)),A()},n)};return A(),()=>{S.current!==null&&clearTimeout(S.current)}},[p,w,n,t.length,o]);const k=()=>{p&&(p.canScrollPrev()?p.scrollPrev():p.scrollTo(t.length-1))},E=()=>{p&&(p.canScrollNext()?p.scrollNext():p.scrollTo(0))};return t.length===0?null:s.jsxs("div",{className:ge("relative",d),onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1),children:[s.jsx(Ig,{setApi:g,opts:{align:"start",loop:!0,skipSnaps:!1,dragFree:!1},className:"w-full h-full",children:s.jsx(Bg,{className:"-ml-0",children:t.map((A,T)=>s.jsx(zg,{className:"pl-0 basis-full",children:s.jsx("div",{className:ge("w-full h-full",c&&"transition-opacity duration-1000",c&&T!==v&&"opacity-0"),children:e(A,T,T===v)})},T))})}),a&&t.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:k,className:ge("absolute left-4 top-1/2 -translate-y-1/2 z-20","bg-black/20 hover:bg-black/40 text-white p-2 rounded-full","transition-all duration-200",h),"aria-label":"Previous slide",children:s.jsx(Gj,{className:"w-6 h-6"})}),s.jsx("button",{onClick:E,className:ge("absolute right-4 top-1/2 -translate-y-1/2 z-20","bg-black/20 hover:bg-black/40 text-white p-2 rounded-full","transition-all duration-200",h),"aria-label":"Next slide",children:s.jsx(Kj,{className:"w-6 h-6"})})]}),i&&t.length>1&&s.jsx("div",{className:ge("absolute bottom-8 left-1/2 -translate-x-1/2 z-20 flex space-x-2",m),children:t.map((A,T)=>s.jsx("button",{onClick:()=>p==null?void 0:p.scrollTo(T),className:ge("w-3 h-3 rounded-full transition-all duration-200",T===v?"bg-white":"bg-white/40 hover:bg-white/60"),"aria-label":`Go to slide ${T+1}`},T))})]})}const Soe=({galleries:t,loading:e})=>{if(e||!t.length)return s.jsx("section",{className:"relative h-screen flex items-center justify-center bg-muted/20",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Memuat galeri unggulan..."})]})});const n=(a,i)=>s.jsxs("div",{className:"relative h-screen overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:xg(a.img_url)||`https://picsum.photos/1920/1080?random=${i+1}`,alt:a.title,className:"w-full h-full object-cover transition-opacity duration-1000"}),s.jsx("div",{className:"absolute inset-0 bg-black/20"})]}),s.jsx("div",{className:"relative z-10 h-full flex items-center pt-24",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4 w-full",children:s.jsxs("div",{className:"max-w-3xl text-white",children:[s.jsx(vt,{variant:"secondary",className:"mb-6 bg-white/10 text-white border-white/20 hover:bg-white/20",children:"Yayasan Baitul Muslim Lampung Timur"}),s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight",children:a.title}),s.jsx("div",{className:"text-lg md:text-xl mb-8 text-white/90 leading-relaxed max-w-2xl",children:s.jsx(yn,{content:a.excerpt||a.short_excerpt,fallback:"Pendidikan Islam Terpadu yang menggabungkan ilmu agama dan umum dengan pendekatan modern dan holistik.",className:"text-white/90"})})]})})})]});return s.jsx(Noe,{items:t,renderItem:n,autoScrollInterval:5e3,showControls:!0,showDots:!0,pauseOnHover:!0,fadeTransition:!1,className:"h-screen"})},koe=()=>{const[t,e]=x.useState([]),[n,a]=x.useState(!0);return x.useEffect(()=>{(async()=>{try{const o=await _h.getPublicStatistics();e(o)}catch(o){console.error("Failed to fetch statistics:",o)}finally{a(!1)}})()},[]),n?s.jsx("section",{className:"py-16 bg-muted/50",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:4}).map((i,o)=>s.jsx(je,{className:"text-center",children:s.jsxs(we,{className:"p-6",children:[s.jsx("div",{className:"bg-muted w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:s.jsx("div",{className:"w-8 h-8 bg-muted-foreground/20 rounded"})}),s.jsx("div",{className:"h-8 bg-muted animate-pulse rounded mb-2"}),s.jsx("div",{className:"h-5 bg-muted animate-pulse rounded mb-1"}),s.jsx("div",{className:"h-4 bg-muted animate-pulse rounded"})]})},o))})})}):t.length===0?null:s.jsx("section",{className:"py-16 bg-muted/50",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(i=>s.jsx(je,{className:"text-center hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:s.jsxs(we,{className:"p-6",children:[i.img_url&&s.jsx("div",{className:"w-16 h-16 flex items-center justify-center mx-auto mb-4  overflow-hidden",children:s.jsx("img",{src:gr(i.img_url),alt:i.title,className:"w-full h-full object-cover"})}),s.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:i.stats}),s.jsx("div",{className:"font-semibold text-foreground mb-1",children:i.title}),i.description&&s.jsx("div",{className:"text-sm text-muted-foreground",children:i.description})]})},i.id))})})})},Eoe=[{icon:Fa,title:"Berdiri Sejak 1993",description:"Lebih dari 30 tahun pengalaman dalam pendidikan Islam"},{icon:cx,title:"Lokasi Strategis",description:"Jl. Ir. H. Djuanda No. 19, Way Jepara, Lampung Timur"},{icon:ds,title:"Pendidikan Holistik",description:"Menggabungkan ilmu agama dan umum dengan pendekatan modern"}],Aoe=()=>s.jsx("section",{className:"py-16",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{children:[s.jsx(vt,{variant:"outline",className:"mb-4 border-primary text-primary",children:"Tentang Kami"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-foreground",children:"Yayasan Baitul Muslim Lampung Timur"}),s.jsx("p",{className:"text-lg text-muted-foreground mb-6 leading-relaxed",children:"Yayasan Baitul Muslim Lampung Timur adalah lembaga pendidikan dan dakwah Islam yang telah berdiri sejak 15 Juli 1993. Kami menyelenggarakan pendidikan Islam terpadu berkualitas dari tingkat TKIT hingga Pondok Pesantren Tahfidz Qur'an."}),s.jsx("p",{className:"text-lg text-muted-foreground mb-8 leading-relaxed",children:"Berlokasi di Way Jepara, Lampung Timur, kami berkomitmen memberikan pendidikan yang menggabungkan ilmu agama dan umum dengan pendekatan yang holistik dan modern."}),s.jsx("div",{className:"grid gap-4 mb-8",children:Eoe.map((t,e)=>{const n=t.icon;return s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:s.jsx(n,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground",children:t.title}),s.jsx("p",{className:"text-muted-foreground text-sm",children:t.description})]})]},e)})}),s.jsx(Oa,{to:"/about",children:s.jsxs(pe,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:["Pelajari Lebih Lanjut",s.jsx(rc,{className:"w-4 h-4 ml-2"})]})})]}),s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"relative",children:s.jsx("img",{src:"https://picsum.photos/600/400",alt:"Yayasan Baitul Muslim",className:"rounded-lg shadow-lg w-full"})})})]})})});function qx({items:t,renderItem:e,autoScrollInterval:n=5e3,showControls:a=!0,showDots:i=!1,pauseOnHover:o=!0,loop:c=!0,itemsPerView:d={mobile:1,tablet:2,desktop:3,large:4},className:h,contentClassName:m,itemClassName:p,spacing:g="-ml-2 md:-ml-4"}){const[v,y]=x.useState(),[w,j]=x.useState(0),[S,k]=x.useState(0),[E,A]=x.useState(!1),T=x.useRef(null);x.useEffect(()=>{v&&(k(v.scrollSnapList().length),j(v.selectedScrollSnap()+1),v.on("select",()=>{j(v.selectedScrollSnap()+1)}))},[v]),x.useEffect(()=>{if(!v||t.length===0)return;const M=()=>{T.current!==null&&clearTimeout(T.current),T.current=window.setTimeout(()=>{(!E||!o)&&(v.canScrollNext()?v.scrollNext():c&&v.scrollTo(0)),M()},n)};return M(),()=>{T.current!==null&&clearTimeout(T.current)}},[v,E,n,t.length,c,o]);const _=()=>{const M=["pl-2 md:pl-4"];return d.mobile===1?M.push("basis-full"):d.mobile===2&&M.push("basis-1/2"),d.tablet&&(d.tablet===1?M.push("sm:basis-full"):d.tablet===2?M.push("sm:basis-1/2"):d.tablet===3&&M.push("sm:basis-1/3")),d.desktop&&(d.desktop===1?M.push("md:basis-full"):d.desktop===2?M.push("md:basis-1/2"):d.desktop===3?M.push("md:basis-1/3"):d.desktop===4&&M.push("md:basis-1/4")),d.large&&(d.large===1?M.push("lg:basis-full"):d.large===2?M.push("lg:basis-1/2"):d.large===3?M.push("lg:basis-1/3"):d.large===4?M.push("lg:basis-1/4"):d.large===5&&M.push("lg:basis-1/5")),ge(M,p)};return t.length===0?null:s.jsxs("div",{className:ge("relative",h),onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),children:[s.jsxs(Ig,{setApi:y,opts:{align:"start",loop:c,skipSnaps:!1,dragFree:!0},className:"w-full",children:[s.jsx(Bg,{className:ge(g,m),children:t.map((M,P)=>s.jsx(zg,{className:_(),children:e(M,P)},P))}),a&&t.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(fj,{className:"hidden md:flex"}),s.jsx(mj,{className:"hidden md:flex"})]})]}),i&&S>1&&s.jsx("div",{className:"flex justify-center mt-4 gap-2",children:Array.from({length:S}).map((M,P)=>s.jsx("button",{className:ge("w-2 h-2 rounded-full transition-all duration-300",P===w-1?"bg-primary w-6":"bg-muted-foreground/30 hover:bg-muted-foreground/50"),onClick:()=>v==null?void 0:v.scrollTo(P),"aria-label":`Go to slide ${P+1}`},P))})]})}const Coe=({articles:t,loading:e})=>{const n=()=>s.jsxs(je,{children:[s.jsx("div",{className:"aspect-video relative overflow-hidden rounded-t-lg",children:s.jsx(Re,{className:"w-full h-full"})}),s.jsxs(ct,{children:[s.jsx(Re,{className:"h-4 w-3/4"}),s.jsx(Re,{className:"h-4 w-1/2"})]}),s.jsxs(we,{children:[s.jsx(Re,{className:"h-4 w-full mb-2"}),s.jsx(Re,{className:"h-4 w-full mb-2"}),s.jsx(Re,{className:"h-4 w-2/3"})]}),s.jsx(ba,{children:s.jsx(Re,{className:"h-9 w-24"})})]}),a=(i,o)=>s.jsxs(je,{className:"hover:shadow-lg transition-all duration-300 hover:-translate-y-1 group pt-0 h-full flex flex-col",children:[s.jsxs("div",{className:"aspect-video relative overflow-hidden rounded-t-lg bg-muted",children:[s.jsx("img",{src:wi(i.img_url)||`https://picsum.photos/400/240?random=${o+1}`,alt:i.title,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300"}),s.jsx(vt,{className:"absolute top-3 left-3 bg-primary hover:bg-primary/90",children:i.category})]}),s.jsxs(ct,{className:"pb-3",children:[s.jsx(pt,{className:"line-clamp-2 group-hover:text-primary transition-colors",children:i.title}),s.jsx("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:i.published_at&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Fa,{className:"w-3 h-3"}),s.jsx("span",{children:new Date(i.published_at).toLocaleDateString("id-ID")})]})})]}),s.jsx(we,{className:"pb-4 flex-grow",children:s.jsx("div",{className:"text-muted-foreground line-clamp-3 leading-relaxed",children:s.jsx(yn,{content:i.display_excerpt||i.excerpt,fallback:"Deskripsi artikel yang menarik dan informatif tentang berbagai topik pendidikan dan kegiatan yayasan.",maxLength:120,className:"text-muted-foreground"})})}),s.jsx(ba,{children:s.jsx(ra,{to:`/articles/${i.id}`,className:"w-full",children:s.jsxs(pe,{variant:"outline",size:"sm",className:"w-full group-hover:bg-primary group-hover:text-primary-foreground group-hover:border-primary",children:["Baca Selengkapnya",s.jsx(rc,{className:"w-3 h-3 ml-1"})]})})})]});return s.jsx("section",{className:"py-16 bg-muted/30",children:s.jsxs("div",{className:"max-w-screen-xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(vt,{variant:"outline",className:"mb-4 border-primary text-primary",children:"Artikel & Berita"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-foreground",children:"Artikel Terbaru"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Berita dan informasi terkini seputar pendidikan dan kegiatan yayasan"})]}),e?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:Array.from({length:6}).map((i,o)=>s.jsx(n,{},o))}):t.length>3?s.jsx("div",{className:"mb-8",children:s.jsx(qx,{items:t.slice(0,6),renderItem:a,autoScrollInterval:7e3,showControls:!0,itemsPerView:{mobile:1,tablet:2,desktop:3,large:3}})}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:t.slice(0,5).map((i,o)=>s.jsx("div",{children:a(i,o)},i.id))}),s.jsx("div",{className:"text-center",children:s.jsx(ra,{to:"/articles",children:s.jsxs(pe,{variant:"outline",size:"lg",className:"hover:bg-primary hover:text-primary-foreground hover:border-primary",children:["Lihat Semua Artikel",s.jsx(rc,{className:"w-4 h-4 ml-2"})]})})})]})})},Toe=({organizations:t,loading:e})=>{const n=()=>s.jsxs(je,{children:[s.jsx("div",{className:"aspect-video relative overflow-hidden rounded-t-lg",children:s.jsx(Re,{className:"w-full h-full"})}),s.jsxs(ct,{children:[s.jsx(Re,{className:"h-4 w-3/4"}),s.jsx(Re,{className:"h-4 w-1/2"})]}),s.jsxs(we,{children:[s.jsx(Re,{className:"h-4 w-full mb-2"}),s.jsx(Re,{className:"h-4 w-full mb-2"}),s.jsx(Re,{className:"h-4 w-2/3"})]}),s.jsx(ba,{children:s.jsx(Re,{className:"h-9 w-24"})})]}),a=(i,o)=>s.jsxs(je,{className:"hover:shadow-lg transition-all duration-300 hover:-translate-y-1 group h-full",children:[s.jsxs("div",{className:"aspect-video relative overflow-hidden rounded-t-lg bg-muted",children:[s.jsx("img",{src:vg(i.img_url)||`https://picsum.photos/400/240?random=${o+10}`,alt:i.name,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300"}),s.jsx(vt,{className:"absolute top-3 left-3 bg-primary hover:bg-primary/90",children:"Organisasi"})]}),s.jsxs(ct,{className:"pb-3",children:[s.jsx(pt,{className:"line-clamp-2 group-hover:text-primary transition-colors",children:i.display_name}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[i.user_count>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ds,{className:"w-3 h-3"}),s.jsxs("span",{children:[i.user_count," anggota"]})]}),i.head_name&&s.jsxs("div",{className:"text-xs",children:["Kepala: ",i.head_name]})]})]}),s.jsx(we,{className:"pb-4 flex-grow",children:s.jsx("div",{className:"text-muted-foreground line-clamp-3 leading-relaxed",children:s.jsx(yn,{content:i.description||i.excerpt,fallback:`Informasi tentang organisasi ${i.name}.`,maxLength:120,className:"text-muted-foreground"})})}),s.jsx(ba,{children:s.jsx(ra,{to:`/organizations/${i.id}`,className:"w-full",children:s.jsxs(pe,{variant:"outline",size:"sm",className:"w-full group-hover:bg-primary group-hover:text-primary-foreground group-hover:border-primary",children:["Lihat Detail",s.jsx(rc,{className:"w-3 h-3 ml-1"})]})})})]});return s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"max-w-screen-xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(vt,{variant:"outline",className:"mb-4 border-primary text-primary",children:"Lembaga Pendidikan"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-foreground",children:"Jenjang Pendidikan"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Berbagai jenjang pendidikan yang tersedia di Yayasan Baitul Muslim dengan fasilitas lengkap dan berkualitas"})]}),e?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:Array.from({length:6}).map((i,o)=>s.jsx(n,{},o))}):t.length>3?s.jsx("div",{className:"mb-8",children:s.jsx(qx,{items:t.slice(0,6),renderItem:a,autoScrollInterval:6e3,showControls:!0,itemsPerView:{mobile:1,tablet:2,desktop:3,large:3}})}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:t.slice(0,5).map((i,o)=>s.jsx("div",{children:a(i,o)},i.id))}),s.jsx("div",{className:"text-center",children:s.jsx(ra,{to:"/schools",children:s.jsxs(pe,{variant:"outline",size:"lg",className:"hover:bg-primary hover:text-primary-foreground hover:border-primary",children:["Lihat Semua Lembaga",s.jsx(rc,{className:"w-4 h-4 ml-2"})]})})})]})})},LC=()=>{const[t,e]=x.useState([]),[n,a]=x.useState([]),[i,o]=x.useState([]),[c,d]=x.useState(!0);return x.useEffect(()=>{(async()=>{try{const m=await Pd.getHighlightedGalleries(),p=await hi.getArticles({size:5,is_published:!0,sort_by:"published_at",sort_order:"desc"}),g=await Or.getOrganizations({size:5,sort_by:"name",sort_order:"asc"});e(m),a(p.items),o(g.items)}catch(m){console.error("Error loading data:",m)}finally{d(!1)}})()},[]),c?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Memuat halaman..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(Soe,{galleries:t,loading:c}),s.jsx(koe,{}),s.jsx(Aoe,{}),s.jsx(Coe,{articles:n,loading:c}),s.jsx(Toe,{organizations:i,loading:c})]})},_oe=()=>{const[t,e]=Ug(),[n,a]=x.useState([]),[i,o]=x.useState(!0),[c,d]=x.useState(1),[h,m]=x.useState(0),[p,g]=x.useState(parseInt(t.get("size")||"10")),v=parseInt(t.get("page")||"1"),y=t.get("search")||"",w=t.get("category")||"",j=t.get("sort_by")||"published_at",S=t.get("sort_order")||"desc",[k,E]=x.useState(y),[A,T]=x.useState(w||"all"),_=["Pendidikan","Kegiatan","Prestasi","Pengumuman","Berita"],M=()=>s.jsxs(je,{children:[s.jsx("div",{className:"aspect-video relative overflow-hidden rounded-t-lg bg-muted",children:s.jsx(Re,{className:"w-full h-full"})}),s.jsxs(ct,{children:[s.jsx(Re,{className:"h-4 w-3/4"}),s.jsx(Re,{className:"h-4 w-1/2"})]}),s.jsxs(we,{children:[s.jsx(Re,{className:"h-4 w-full mb-2"}),s.jsx(Re,{className:"h-4 w-full mb-2"}),s.jsx(Re,{className:"h-4 w-2/3"})]}),s.jsx(ba,{children:s.jsx(Re,{className:"h-9 w-24"})})]});x.useEffect(()=>{(async()=>{o(!0);try{const Z=await hi.getArticles({page:v,size:p,search:y||void 0,category:w||void 0,is_published:!0,sort_by:j,sort_order:S});a(Z.items),d(Z.pages),m(Z.total)}catch(Z){console.error("Error loading articles:",Z)}finally{o(!1)}})()},[v,y,w,j,S,p]);const P=$=>{const Z=new URLSearchParams(t);Object.entries($).forEach(([te,L])=>{L?Z.set(te,L):Z.delete(te)}),("search"in $||"category"in $)&&Z.set("page","1"),e(Z)},O=()=>{P({search:k||null,category:A==="all"?null:A||null})},I=$=>{P({page:$.toString()})},G=$=>{const Z=parseInt($);g(Z),P({size:$,page:"1"})},R=$=>{const[Z,te]=$.split("-");P({sort_by:Z,sort_order:te})},X=()=>{E(""),T("all"),P({search:null,category:null,page:"1"})};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("section",{className:"relative h-96 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"https://picsum.photos/1920/600?random=articles",alt:"Artikel & Berita",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/40"})]}),s.jsx("div",{className:"relative z-10 h-full flex items-center pt-24",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4 w-full",children:s.jsxs("div",{className:"max-w-3xl text-white",children:[s.jsx(vt,{variant:"secondary",className:"mb-6 bg-white/10 text-white border-white/20 hover:bg-white/20",children:"Yayasan Baitul Muslim Lampung Timur"}),s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-6 leading-tight",children:"Artikel & Berita"}),s.jsx("p",{className:"text-lg md:text-xl mb-8 text-white/90 leading-relaxed max-w-2xl",children:"Temukan berbagai artikel dan berita terbaru seputar pendidikan dan kegiatan yayasan"})]})})})]}),s.jsx("div",{className:"py-8 border-b bg-muted/20",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Wj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(at,{placeholder:"Cari artikel...",value:k,onChange:$=>E($.target.value),onKeyDown:$=>$.key==="Enter"&&O(),className:"pl-10"})]}),s.jsxs(Ut,{value:A,onValueChange:T,children:[s.jsxs(Lt,{className:"w-full sm:w-48",children:[s.jsx(Xj,{className:"w-4 h-4 mr-2"}),s.jsx($t,{placeholder:"Semua Kategori"})]}),s.jsxs(It,{children:[s.jsx(Be,{value:"all",children:"Semua Kategori"}),_.map($=>s.jsx(Be,{value:$,children:$},$))]})]}),s.jsx(pe,{onClick:O,className:"w-full sm:w-auto",children:"Cari"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Ut,{value:`${j}-${S}`,onValueChange:R,children:[s.jsx(Lt,{className:"w-48",children:s.jsx($t,{placeholder:"Urutkan"})}),s.jsxs(It,{children:[s.jsx(Be,{value:"published_at-desc",children:"Terbaru"}),s.jsx(Be,{value:"published_at-asc",children:"Terlama"}),s.jsx(Be,{value:"title-asc",children:"Judul A-Z"}),s.jsx(Be,{value:"title-desc",children:"Judul Z-A"})]})]}),(y||w)&&s.jsx(pe,{variant:"outline",onClick:X,children:"Reset Filter"})]})]})})}),s.jsx("div",{className:"py-12",children:s.jsxs("div",{className:"max-w-screen-xl mx-auto px-4",children:[s.jsx("div",{className:"mb-8",children:s.jsx("p",{className:"text-muted-foreground",children:i?"Memuat...":`Menampilkan ${n.length} dari ${h} artikel`})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:i?Array.from({length:p}).map(($,Z)=>s.jsx(M,{},Z)):n.length>0?n.map(($,Z)=>s.jsxs(je,{className:"hover:shadow-lg transition-all duration-300 hover:-translate-y-1 group",children:[s.jsxs("div",{className:"aspect-video relative overflow-hidden rounded-t-lg bg-muted",children:[s.jsx("img",{src:wi($.img_url)||`https://picsum.photos/400/240?random=${Z+1}`,alt:$.title,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300"}),s.jsx(vt,{className:"absolute top-3 left-3 bg-primary hover:bg-primary/90",children:$.category})]}),s.jsxs(ct,{className:"pb-3",children:[s.jsx(pt,{className:"line-clamp-2 group-hover:text-primary transition-colors",children:$.title}),s.jsx("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:$.published_at&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Fa,{className:"w-3 h-3"}),s.jsx("span",{children:new Date($.published_at).toLocaleDateString("id-ID")})]})})]}),s.jsx(we,{className:"pb-4",children:s.jsx("div",{className:"text-muted-foreground line-clamp-3 leading-relaxed",children:s.jsx(yn,{content:$.display_excerpt||$.excerpt,fallback:"Deskripsi artikel yang menarik dan informatif.",maxLength:100,className:"text-muted-foreground"})})}),s.jsx(ba,{children:s.jsx(ra,{to:`/articles/${$.id}`,className:"w-full",children:s.jsxs(pe,{variant:"outline",size:"sm",className:"w-full group-hover:bg-primary group-hover:text-primary-foreground group-hover:border-primary",children:["Baca Selengkapnya",s.jsx(rc,{className:"w-3 h-3 ml-1"})]})})})]},$.id)):s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx("p",{className:"text-muted-foreground text-lg",children:"Tidak ada artikel yang ditemukan."}),(y||w)&&s.jsx(pe,{variant:"outline",onClick:X,className:"mt-4",children:"Reset Filter"})]})}),c>1&&s.jsx("div",{className:"flex justify-center",children:s.jsx(ya,{currentPage:v,totalPages:c,itemsPerPage:p,totalItems:h,onPageChange:I,onItemsPerPageChange:G})})]})})]})};function V3({onShare:t,shareLabel:e="Bagikan",backPath:n,backLabel:a,showShare:i=!0}){return s.jsx("footer",{className:"border-t pt-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[i&&t&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Bagikan:"}),s.jsxs(pe,{variant:"outline",size:"sm",onClick:t,children:[s.jsx(h7,{className:"w-4 h-4 mr-2"}),e]})]}),s.jsx(ra,{to:n,className:!i||!t?"ml-auto":"",children:s.jsx(pe,{variant:"outline",children:a})})]})})}function q3(){return x.useCallback(async e=>{const n={title:e.title,text:e.text||"",url:e.url||window.location.href};if(navigator.share)try{await navigator.share(n)}catch{navigator.clipboard.writeText(n.url)}else navigator.clipboard.writeText(n.url)},[])}const Roe=()=>{const{id:t}=$g(),[e,n]=x.useState(null),[a,i]=x.useState(!0),[o,c]=x.useState(null),[d,h]=x.useState([]),m=q3();x.useEffect(()=>{if(!t)return;(async()=>{i(!0),c(null);try{const v=await hi.getArticleById(parseInt(t));if(v){n(v);const w=(await hi.getArticles({is_published:!0,size:10,sort_by:"published_at",sort_order:"desc"})).items.filter(j=>j.id!==v.id).slice(0,9);h(w)}else c("Artikel tidak ditemukan")}catch(v){console.error("Error loading article:",v),c("Gagal memuat artikel")}finally{i(!1)}})()},[t]);const p=()=>{e&&m({title:e.title,text:e.display_excerpt||e.excerpt})};return a?s.jsx("div",{className:"min-h-screen bg-background pt-24",children:s.jsxs("div",{className:"mx-auto px-4 lg:px-12 py-8",children:[s.jsx(Re,{className:"h-8 w-32 mb-6"}),s.jsx(Re,{className:"h-10 w-3/4 mb-4"}),s.jsx(Re,{className:"h-6 w-1/2 mb-8"}),s.jsx(Re,{className:"h-64 w-full mb-8 rounded-lg"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Re,{className:"h-4 w-full"}),s.jsx(Re,{className:"h-4 w-full"}),s.jsx(Re,{className:"h-4 w-3/4"})]})]})}):o||!e?s.jsx("div",{className:"min-h-screen bg-background pt-24 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:o||"Artikel Tidak Ditemukan"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Artikel yang Anda cari tidak tersedia atau telah dihapus."}),s.jsx(ra,{to:"/articles",children:s.jsxs(pe,{children:[s.jsx(il,{className:"w-4 h-4 mr-2"}),"Kembali ke Artikel"]})})]})}):s.jsxs("div",{className:"min-h-screen bg-background pt-24",children:[s.jsxs("article",{className:"px-4 lg:px-12 py-8",children:[s.jsxs("header",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-2 mb-4",children:s.jsx(vt,{variant:"secondary",className:"bg-primary/10 text-primary",children:e.category})}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:e.title}),s.jsx("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground mb-6",children:e.published_at&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Fa,{className:"w-4 h-4"}),s.jsx("span",{children:new Date(e.published_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]})}),(e.display_excerpt||e.excerpt)&&s.jsx("div",{className:"text-lg text-muted-foreground leading-relaxed mb-8 p-4 bg-muted/30 rounded-lg",children:s.jsx(yn,{content:e.display_excerpt||e.excerpt,className:"text-muted-foreground"})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[e.img_url?s.jsx("div",{className:"aspect-[4/3] relative overflow-hidden rounded-lg bg-muted",children:s.jsx("img",{src:wi(e.img_url),alt:e.title,className:"w-full h-full object-cover"})}):s.jsx("div",{className:"aspect-[4/3] bg-muted rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-muted-foreground",children:"Tidak ada gambar"})}),s.jsx("div",{className:"prose prose-lg max-w-none",children:s.jsx(yn,{content:e.description,isDetailView:!0,fallback:"Konten artikel tidak tersedia."})})]}),s.jsx(V3,{onShare:p,shareLabel:"Bagikan Artikel",backPath:"/articles",backLabel:"Lihat Artikel Lainnya"})]}),d.length>0&&s.jsx("section",{className:"bg-muted/20 py-16",children:s.jsxs("div",{className:"px-4 lg:px-12",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Artikel Terbaru"})}),s.jsx(qx,{items:d,autoScrollInterval:4e3,showControls:!0,itemsPerView:{mobile:1,tablet:2,desktop:3,large:3},className:"mb-8",renderItem:(g,v)=>s.jsxs(je,{className:"hover:shadow-lg transition-all duration-300 hover:-translate-y-1 group h-full",children:[s.jsxs("div",{className:"aspect-video relative overflow-hidden rounded-t-lg bg-muted",children:[s.jsx("img",{src:wi(g.img_url)||`https://picsum.photos/300/200?random=${v+100}`,alt:g.title,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300"}),s.jsx(vt,{className:"absolute top-3 left-3 bg-primary hover:bg-primary/90",children:g.category})]}),s.jsxs(we,{className:"p-3 flex flex-col h-32",children:[s.jsx("h3",{className:"font-medium text-foreground mb-1 line-clamp-2 group-hover:text-primary transition-colors text-sm flex-grow",children:g.title}),s.jsx("div",{className:"text-muted-foreground line-clamp-1 text-xs mb-3",children:s.jsx(yn,{content:g.display_excerpt||g.excerpt,fallback:"Deskripsi artikel...",maxLength:40,className:"text-muted-foreground"})}),s.jsx(ra,{to:`/articles/${g.id}`,className:"mt-auto",children:s.jsx(pe,{variant:"outline",size:"sm",className:"w-full group-hover:bg-primary group-hover:text-primary-foreground group-hover:border-primary text-xs",children:"Baca"})})]})]})})]})})]})},Doe=()=>{const[t,e]=x.useState([]),[n,a]=x.useState(!0),i=()=>s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 py-12",children:[s.jsx("div",{className:"lg:w-1/2",children:s.jsx(Re,{className:"w-full h-64 rounded-lg"})}),s.jsxs("div",{className:"lg:w-1/2",children:[s.jsx(Re,{className:"h-8 w-3/4 mb-4"}),s.jsx(Re,{className:"h-4 w-1/2 mb-6"}),s.jsx(Re,{className:"h-4 w-full mb-2"}),s.jsx(Re,{className:"h-4 w-full mb-2"}),s.jsx(Re,{className:"h-4 w-2/3 mb-8"}),s.jsx(Re,{className:"h-10 w-32"})]})]});return x.useEffect(()=>{(async()=>{a(!0);try{const c=await Or.getOrganizations({page:1,size:100,sort_by:"name",sort_order:"asc"});e(c.items)}catch(c){console.error("Error loading organizations:",c)}finally{a(!1)}})()},[]),s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("section",{className:"relative h-96 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"https://picsum.photos/1920/600?random=schools",alt:"Jenjang Pendidikan",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/40"})]}),s.jsx("div",{className:"relative z-10 h-full flex items-center pt-24",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4 w-full",children:s.jsxs("div",{className:"max-w-3xl text-white",children:[s.jsx(vt,{variant:"secondary",className:"mb-6 bg-white/10 text-white border-white/20 hover:bg-white/20",children:"Yayasan Baitul Muslim Lampung Timur"}),s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-6 leading-tight",children:"Jenjang Pendidikan"}),s.jsx("p",{className:"text-lg md:text-xl mb-8 text-white/90 leading-relaxed max-w-2xl",children:"Berbagai jenjang pendidikan yang tersedia di Yayasan Baitul Muslim dengan fasilitas lengkap dan berkualitas"})]})})})]}),s.jsx("div",{className:"py-12",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4",children:s.jsx("div",{className:"divide-y divide-border",children:n?Array.from({length:3}).map((o,c)=>s.jsx(i,{},c)):t.length>0?t.map((o,c)=>{const d=c%2===0;return s.jsx("div",{className:"py-12 first:pt-0 last:pb-0",children:s.jsxs("div",{className:`flex flex-col lg:flex-row gap-8 items-center ${d?"":"lg:flex-row-reverse"}`,children:[s.jsx("div",{className:"lg:w-1/2",children:s.jsxs("div",{className:"relative overflow-hidden rounded-lg bg-muted group",children:[s.jsx("img",{src:vg(o.img_url)||`https://picsum.photos/600/400?random=${c+10}`,alt:o.name,className:"w-full h-64 lg:h-80 object-cover object-center group-hover:scale-105 transition-transform duration-500"}),s.jsx(vt,{className:"absolute top-4 left-4 bg-primary hover:bg-primary/90",children:"Lembaga"})]})}),s.jsxs("div",{className:"lg:w-1/2 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl lg:text-3xl font-bold mb-3 text-foreground",children:o.display_name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground mb-4",children:[o.user_count>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ds,{className:"w-4 h-4"}),s.jsxs("span",{children:[o.user_count," anggota"]})]}),o.head_name&&s.jsxs("div",{className:"text-muted-foreground",children:["Kepala: ",s.jsx("span",{className:"font-medium",children:o.head_name})]})]})]}),s.jsx("div",{className:"text-muted-foreground leading-relaxed",children:s.jsx(yn,{content:o.description||o.excerpt,fallback:`Informasi tentang ${o.name}.`,maxLength:200,className:"text-muted-foreground"})}),s.jsx("div",{children:s.jsx(ra,{to:`/schools/${o.id}`,children:s.jsxs(pe,{className:"group",children:["Lihat Detail",s.jsx(rc,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})})]})]})},o.id)}):s.jsx("div",{className:"text-center py-20",children:s.jsx("p",{className:"text-muted-foreground text-lg",children:"Tidak ada lembaga yang ditemukan."})})})})})]})},Moe=()=>{const{id:t}=$g(),[e,n]=x.useState(null),[a,i]=x.useState(!0),[o,c]=x.useState(null),[d,h]=x.useState([]),m=q3();x.useEffect(()=>{if(!t)return;(async()=>{i(!0),c(null);try{const v=await Or.getOrganizationById(parseInt(t));n(v);const w=(await Or.getOrganizations({size:12})).items.filter(j=>j.id!==v.id).slice(0,9);h(w)}catch(v){console.error("Error loading organization:",v),c("Gagal memuat informasi lembaga")}finally{i(!1)}})()},[t]);const p=()=>{e&&m({title:e.display_name,text:e.description||e.excerpt})};return a?s.jsx("div",{className:"min-h-screen bg-background pt-24",children:s.jsxs("div",{className:"mx-auto px-4 lg:px-12 py-12",children:[s.jsx(Re,{className:"h-8 w-32 mb-6"}),s.jsx(Re,{className:"h-10 w-3/4 mb-4"}),s.jsx(Re,{className:"h-6 w-1/2 mb-8"}),s.jsx(Re,{className:"h-64 w-full mb-8 rounded-lg"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Re,{className:"h-4 w-full"}),s.jsx(Re,{className:"h-4 w-full"}),s.jsx(Re,{className:"h-4 w-3/4"})]})]})}):o||!e?s.jsx("div",{className:"min-h-screen bg-background pt-24 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:o||"Lembaga Tidak Ditemukan"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Lembaga yang Anda cari tidak tersedia atau telah dihapus."}),s.jsx(ra,{to:"/schools",children:s.jsxs(pe,{children:[s.jsx(il,{className:"w-4 h-4 mr-2"}),"Kembali ke Lembaga"]})})]})}):s.jsxs("div",{className:"min-h-screen bg-background pt-24",children:[s.jsxs("div",{className:"mx-auto px-4 lg:px-12 py-8",children:[s.jsxs("header",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-2 mb-4",children:s.jsx(vt,{variant:"secondary",className:"bg-primary/10 text-primary",children:"Lembaga Pendidikan"})}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:e.display_name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground mb-6",children:[e.user_count>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ds,{className:"w-4 h-4"}),s.jsxs("span",{children:[e.user_count," anggota"]})]}),e.created_at&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Fa,{className:"w-4 h-4"}),s.jsxs("span",{children:["Dibuat ",new Date(e.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})]})]})]}),e.head_name&&s.jsx("div",{className:"mb-6",children:s.jsxs("p",{className:"text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:"Kepala Lembaga:"})," ",e.head_name]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[e.img_url?s.jsx("div",{className:"aspect-[4/3] relative overflow-hidden rounded-lg bg-muted",children:s.jsx("img",{src:vg(e.img_url),alt:e.name,className:"w-full h-full object-cover"})}):s.jsx("div",{className:"aspect-[4/3] bg-muted rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-muted-foreground",children:"Tidak ada gambar"})}),s.jsx("div",{className:"prose prose-sm max-w-none",children:s.jsx(yn,{content:e.description||e.excerpt,isDetailView:!0,fallback:`Informasi tentang ${e.name} belum tersedia.`})})]}),s.jsx("div",{className:"mt-12",children:s.jsx(V3,{onShare:p,shareLabel:"Bagikan Lembaga",backPath:"/schools",backLabel:"Lihat Lembaga Lainnya"})})]}),d.length>0&&s.jsx("section",{className:"bg-muted/20 py-16",children:s.jsxs("div",{className:"mx-auto px-4 lg:px-12",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Lembaga Lainnya"})}),s.jsx(qx,{items:d,autoScrollInterval:4500,showControls:!0,itemsPerView:{mobile:1,tablet:2,desktop:3,large:3},className:"mb-8",renderItem:(g,v)=>s.jsxs(je,{className:"hover:shadow-lg transition-all duration-300 hover:-translate-y-1 group h-full",children:[s.jsx("div",{className:"aspect-video relative overflow-hidden rounded-t-lg bg-muted",children:s.jsx("img",{src:vg(g.img_url)||`https://picsum.photos/320/180?random=${v+200}`,alt:g.name,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300"})}),s.jsxs(we,{className:"p-4 flex flex-col h-32",children:[s.jsx("h3",{className:"font-medium text-foreground mb-2 line-clamp-2 group-hover:text-primary transition-colors text-sm flex-grow",children:g.display_name}),s.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-3",children:g.user_count>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ds,{className:"w-3 h-3"}),s.jsxs("span",{children:[g.user_count," anggota"]})]})}),s.jsx(ra,{to:`/schools/${g.id}`,className:"mt-auto",children:s.jsx(pe,{variant:"outline",size:"sm",className:"w-full group-hover:bg-primary group-hover:text-primary-foreground group-hover:border-primary text-xs",children:"Lihat Detail"})})]})]})})]})})]})},H3=({open:t,onOpenChange:e,image:n,description:a})=>s.jsx(nn,{open:t,onOpenChange:e,children:s.jsxs(sn,{className:"max-h-[90vh] overflow-y-scroll p-0",children:[s.jsx(an,{className:"p-6 pb-0",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(rn,{className:"text-lg font-semibold",children:n.title||n.alt})})}),s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"flex-1 flex items-center justify-center p-6 bg-muted/20",children:s.jsx("div",{className:"relative w-full h-full max-w-[30vw] lg:max-w-[50vw]",children:s.jsx("img",{src:n.src,alt:n.alt,className:"w-full h-full object-contain rounded-lg",loading:"lazy"})})}),a&&s.jsx("div",{className:"p-6 bg-background border-t lg:border-t-0 lg:border-l",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"Deskripsi"}),s.jsx("div",{className:"text-sm text-muted-foreground leading-relaxed",children:s.jsx(yn,{isDetailView:!0,content:a})})]})})]})]})}),Poe=()=>{const[t,e]=Ug(),[n,a]=x.useState([]),[i,o]=x.useState(!0),[c,d]=x.useState(1),[h,m]=x.useState(0),[p,g]=x.useState(parseInt(t.get("size")||"10")),[v,y]=x.useState(null),[w,j]=x.useState(""),[S,k]=x.useState(!1),E=parseInt(t.get("page")||"1"),A=t.get("search")||"",T=t.get("sort_by")||"created_at",_=t.get("sort_order")||"desc",[M,P]=x.useState(A),O=()=>s.jsxs(je,{children:[s.jsx("div",{className:"aspect-square relative overflow-hidden rounded-t-lg bg-muted",children:s.jsx(Re,{className:"w-full h-full"})}),s.jsx(ct,{children:s.jsx(Re,{className:"h-4 w-3/4"})}),s.jsxs(we,{children:[s.jsx(Re,{className:"h-4 w-full mb-2"}),s.jsx(Re,{className:"h-4 w-2/3"})]})]});x.useEffect(()=>{(async()=>{o(!0);try{const B=await Pd.getGalleries({page:E,size:p,search:A||void 0,sort_by:T,sort_order:_});a(B.items),d(B.pages),m(B.total)}catch(B){console.error("Error loading galleries:",B)}finally{o(!1)}})()},[E,A,T,_,p]);const I=V=>{const B=xg(V.img_url)||`https://picsum.photos/800/600?random=${V.id}`;y({src:B,alt:V.title,title:V.title}),j(V.excerpt||V.short_excerpt||"Dokumentasi kegiatan Yayasan Baitul Muslim Lampung Timur"),k(!0)},G=V=>{k(V),V||(y(null),j(""))},R=V=>{const B=new URLSearchParams(t);Object.entries(V).forEach(([Y,se])=>{se?B.set(Y,se):B.delete(Y)}),"search"in V&&B.set("page","1"),e(B)},X=()=>{R({search:M||null})},$=V=>{R({page:V.toString()})},Z=V=>{const B=parseInt(V);g(B),R({size:V,page:"1"})},te=V=>{const[B,Y]=V.split("-");R({sort_by:B,sort_order:Y})},L=()=>{P(""),R({search:null,page:"1"})};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("section",{className:"relative h-96 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"https://picsum.photos/1920/600?random=galleries",alt:"Galeri Foto",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/40"})]}),s.jsx("div",{className:"relative z-10 h-full flex items-center pt-24",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4 w-full",children:s.jsxs("div",{className:"max-w-3xl text-white",children:[s.jsx(vt,{variant:"secondary",className:"mb-6 bg-white/10 text-white border-white/20 hover:bg-white/20",children:"Yayasan Baitul Muslim Lampung Timur"}),s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-6 leading-tight",children:"Galeri Foto"}),s.jsx("p",{className:"text-lg md:text-xl mb-8 text-white/90 leading-relaxed max-w-2xl",children:"Kumpulan foto dan dokumentasi kegiatan Yayasan Baitul Muslim Lampung Timur"})]})})})]}),s.jsx("div",{className:"py-8 border-b bg-muted/20",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Wj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(at,{placeholder:"Cari galeri...",value:M,onChange:V=>P(V.target.value),onKeyDown:V=>V.key==="Enter"&&X(),className:"pl-10"})]}),s.jsx(pe,{onClick:X,className:"w-full sm:w-auto",children:"Cari"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Ut,{value:`${T}-${_}`,onValueChange:te,children:[s.jsx(Lt,{className:"w-48",children:s.jsx($t,{placeholder:"Urutkan"})}),s.jsxs(It,{children:[s.jsx(Be,{value:"created_at-desc",children:"Terbaru"}),s.jsx(Be,{value:"created_at-asc",children:"Terlama"}),s.jsx(Be,{value:"title-asc",children:"Judul A-Z"}),s.jsx(Be,{value:"title-desc",children:"Judul Z-A"})]})]}),A&&s.jsx(pe,{variant:"outline",onClick:L,children:"Reset Filter"})]})]})})}),s.jsx("div",{className:"py-12",children:s.jsxs("div",{className:"max-w-screen-xl mx-auto px-4",children:[s.jsx("div",{className:"mb-8",children:s.jsx("p",{className:"text-muted-foreground",children:i?"Memuat...":`Menampilkan ${n.length} dari ${h} galeri`})}),s.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-6 mb-12",children:i?Array.from({length:p}).map((V,B)=>s.jsx(O,{},B)):n.length>0?n.map((V,B)=>s.jsxs(je,{className:"hover:shadow-lg transition-all duration-300 hover:-translate-y-1 group",children:[s.jsxs("div",{className:"aspect-square relative overflow-hidden rounded-t-lg bg-muted cursor-pointer",onClick:()=>I(V),children:[s.jsx("img",{src:xg(V.img_url)||`https://picsum.photos/300/300?random=${B+1}`,alt:V.title,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300"}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300 flex items-center justify-center",children:s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:s.jsx(q_,{className:"w-8 h-8 text-white"})})}),s.jsxs(vt,{className:"absolute top-3 left-3 bg-primary hover:bg-primary/90",children:[s.jsx(G_,{className:"w-3 h-3 mr-1"}),"Foto"]})]}),s.jsx(ct,{className:"pb-3",children:s.jsx(pt,{className:"line-clamp-2 group-hover:text-primary transition-colors text-sm",children:V.title})}),s.jsx(we,{className:"pb-4",children:s.jsx("div",{className:"text-muted-foreground line-clamp-2 leading-relaxed text-xs",children:s.jsx(yn,{content:V.excerpt||V.short_excerpt,fallback:"Dokumentasi kegiatan yayasan.",maxLength:60,className:"text-muted-foreground"})})})]},V.id)):s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx("p",{className:"text-muted-foreground text-lg",children:"Tidak ada galeri yang ditemukan."}),A&&s.jsx(pe,{variant:"outline",onClick:L,className:"mt-4",children:"Reset Filter"})]})}),c>1&&s.jsx("div",{className:"flex justify-center",children:s.jsx(ya,{currentPage:E,totalPages:c,itemsPerPage:p,totalItems:h,onPageChange:$,onItemsPerPageChange:Z})})]})}),v&&s.jsx(H3,{open:S,onOpenChange:G,image:v,description:w})]})};var Hx="Collapsible",[Ooe,Tle]=Qs(Hx),[Loe,Nw]=Ooe(Hx),G3=x.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:a,defaultOpen:i,disabled:o,onOpenChange:c,...d}=t,[h,m]=Ur({prop:a,defaultProp:i??!1,onChange:c,caller:Hx});return s.jsx(Loe,{scope:n,disabled:o,contentId:hs(),open:h,onOpenToggle:x.useCallback(()=>m(p=>!p),[m]),children:s.jsx(ze.div,{"data-state":kw(h),"data-disabled":o?"":void 0,...d,ref:e})})});G3.displayName=Hx;var K3="CollapsibleTrigger",Y3=x.forwardRef((t,e)=>{const{__scopeCollapsible:n,...a}=t,i=Nw(K3,n);return s.jsx(ze.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":kw(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...a,ref:e,onClick:_e(t.onClick,i.onOpenToggle)})});Y3.displayName=K3;var Sw="CollapsibleContent",X3=x.forwardRef((t,e)=>{const{forceMount:n,...a}=t,i=Nw(Sw,t.__scopeCollapsible);return s.jsx(Bn,{present:n||i.open,children:({present:o})=>s.jsx(Ioe,{...a,ref:e,present:o})})});X3.displayName=Sw;var Ioe=x.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:a,children:i,...o}=t,c=Nw(Sw,n),[d,h]=x.useState(a),m=x.useRef(null),p=ht(e,m),g=x.useRef(0),v=g.current,y=x.useRef(0),w=y.current,j=c.open||d,S=x.useRef(j),k=x.useRef(void 0);return x.useEffect(()=>{const E=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(E)},[]),wn(()=>{const E=m.current;if(E){k.current=k.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const A=E.getBoundingClientRect();g.current=A.height,y.current=A.width,S.current||(E.style.transitionDuration=k.current.transitionDuration,E.style.animationName=k.current.animationName),h(a)}},[c.open,a]),s.jsx(ze.div,{"data-state":kw(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!j,...o,ref:p,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...t.style},children:j&&i})});function kw(t){return t?"open":"closed"}var Boe=G3;const zoe=Boe,Uoe=Y3,$oe=X3,Foe=()=>s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"grid gap-8 mb-8",children:s.jsx("div",{className:"max-w-sm mx-auto w-full",children:s.jsxs(je,{children:[s.jsx("div",{className:"relative overflow-hidden rounded-t-lg bg-muted h-80",children:s.jsx(Re,{className:"w-full h-full"})}),s.jsxs(we,{className:"p-6 text-center",children:[s.jsx(Re,{className:"h-6 w-32 mx-auto mb-2"}),s.jsx(Re,{className:"h-4 w-24 mx-auto mb-4"}),s.jsx(Re,{className:"h-16 w-full"})]})]})})}),s.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:Array.from({length:2}).map((t,e)=>s.jsxs(je,{children:[s.jsx("div",{className:"relative overflow-hidden rounded-t-lg bg-muted h-80",children:s.jsx(Re,{className:"w-full h-full"})}),s.jsxs(we,{className:"p-6 text-center",children:[s.jsx(Re,{className:"h-5 w-28 mx-auto mb-2"}),s.jsx(Re,{className:"h-4 w-20 mx-auto mb-4"}),s.jsx(Re,{className:"h-12 w-full"})]})]},e))})]}),Voe=()=>{const[t,e]=x.useState([]),[n,a]=x.useState([]),[i,o]=x.useState([]),[c,d]=x.useState([]),[h,m]=x.useState(!0),[p,g]=x.useState(!0),[v,y]=x.useState(!0),[w,j]=x.useState(null),[S,k]=x.useState(""),[E,A]=x.useState(!1);x.useEffect(()=>{const I=async()=>{try{const X=await ci.getBoardGroups({size:50,sort_by:"display_order",sort_order:"asc"});a(X.items);const $=await ci.getBoardMembers({size:50,sort_by:"member_order",sort_order:"asc"});e($.items)}catch(X){console.error("Error loading board data:",X)}finally{m(!1)}},G=async()=>{try{const X=await Ch.getMitras({limit:50});o(X.items)}catch(X){console.error("Error loading mitra data:",X)}finally{g(!1)}},R=async()=>{try{const X=await Th.getPrograms({limit:50});d(X.items)}catch(X){console.error("Error loading program data:",X)}finally{y(!1)}};I(),G(),R()},[]);const T=I=>{const G=zE(I.img_url)||`https://picsum.photos/400/500?random=${I.id}`;j({src:G,alt:I.name,title:`${I.name} - ${I.position}`}),k(I.description||I.short_description||"Pengurus Yayasan Baitul Muslim Lampung Timur"),A(!0)},_=I=>{A(I),I||(j(null),k(""))},M=I=>s.jsx(je,{className:"h-full",children:s.jsxs(we,{className:"p-6 text-center h-full flex flex-col",children:[s.jsx("div",{className:"relative w-24 h-24 mx-auto mb-4 rounded-full overflow-hidden bg-muted",children:I.img_url?s.jsx("img",{src:wi(I.img_url),alt:I.title,className:"w-full h-full object-cover",onError:G=>{const R=G.target;R.src=`https://picsum.photos/200/200?random=${I.id}`}}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(ds,{className:"w-8 h-8 text-muted-foreground"})})}),s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:I.title}),I.description&&s.jsx("div",{className:"text-sm text-muted-foreground leading-relaxed flex-1",children:s.jsx(yn,{content:I.description})})]})},I.id),P=I=>s.jsxs(je,{className:"h-full hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[s.jsx("div",{className:"relative overflow-hidden rounded-t-lg bg-muted",children:I.img_url?s.jsx("img",{src:wi(I.img_url),alt:I.title,className:"w-full h-full object-cover",onError:G=>{const R=G.target;R.src=`https://picsum.photos/400/300?random=${I.id}`}}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Yp,{className:"w-12 h-12 text-muted-foreground"})})}),s.jsxs(we,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx("div",{className:"bg-primary/10 p-2 rounded-lg flex-shrink-0",children:s.jsx(ol,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-foreground mb-2",children:I.title}),I.excerpt&&s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:I.excerpt})]})]}),I.description&&s.jsxs(zoe,{children:[s.jsxs(Uoe,{className:"flex items-center justify-between w-full p-3 bg-muted/50 rounded-lg hover:bg-muted transition-colors",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Lihat Detail Program"}),s.jsx(lx,{className:"w-4 h-4 text-muted-foreground transition-transform [&[data-state=open]]:rotate-180"})]}),s.jsx($oe,{className:"mt-3",children:s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground",children:s.jsx(yn,{content:I.description})})})]})]})]},I.id),O=(I,G=!1)=>s.jsxs(je,{className:"hover:shadow-lg transition-all duration-300 hover:-translate-y-1 group w-full",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-t-lg bg-muted h-80 cursor-pointer",onClick:()=>T(I),children:[s.jsx("img",{src:zE(I.img_url)||`https://picsum.photos/400/500?random=${I.id}`,alt:I.name,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300"}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300 flex items-center justify-center",children:s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:s.jsx(q_,{className:"w-8 h-8 text-white"})})}),s.jsx("div",{className:"absolute top-3 right-3 bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm shadow-lg",children:I.member_order})]}),s.jsxs(we,{className:"p-6 text-center",children:[s.jsx("h3",{className:`font-bold text-foreground mb-2 group-hover:text-primary transition-colors ${G?"text-xl":"text-lg"}`,children:I.name}),s.jsx(vt,{variant:"secondary",className:"mb-4",children:I.position}),s.jsx("div",{className:"text-muted-foreground leading-relaxed text-sm",children:I.description?s.jsx(yn,{content:I.description}):I.short_description?s.jsx("p",{children:I.short_description}):s.jsx("p",{children:"Pengurus Yayasan Baitul Muslim Lampung Timur"})})]})]},I.id);return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("section",{className:"relative h-96 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"https://picsum.photos/1920/600?random=about",alt:"Tentang Yayasan",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/40"})]}),s.jsx("div",{className:"relative z-10 h-full flex items-center pt-24",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4 w-full",children:s.jsxs("div",{className:"max-w-3xl text-white",children:[s.jsx(vt,{variant:"secondary",className:"mb-6 bg-white/10 text-white border-white/20 hover:bg-white/20",children:"Yayasan Baitul Muslim Lampung Timur"}),s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-6 leading-tight",children:"Tentang Yayasan"}),s.jsx("p",{className:"text-lg md:text-xl mb-8 text-white/90 leading-relaxed max-w-2xl",children:"Mengenal lebih dekat Yayasan Baitul Muslim Lampung Timur, visi misi, dan pengurus yayasan"})]})})})]}),s.jsx("section",{className:"py-16",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{children:[s.jsx(vt,{variant:"outline",className:"mb-4 border-primary text-primary",children:"Sejarah Kami"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-foreground",children:"Yayasan Baitul Muslim Lampung Timur"}),s.jsx("p",{className:"text-lg text-muted-foreground mb-6 leading-relaxed",children:"Yayasan Baitul Muslim Lampung Timur adalah lembaga pendidikan dan dakwah Islam yang telah berdiri sejak 15 Juli 1993. Kami menyelenggarakan pendidikan Islam terpadu berkualitas dari tingkat TKIT hingga Pondok Pesantren Tahfidz Qur'an."}),s.jsx("p",{className:"text-lg text-muted-foreground mb-8 leading-relaxed",children:"Berlokasi di Way Jepara, Lampung Timur, kami berkomitmen memberikan pendidikan yang menggabungkan ilmu agama dan umum dengan pendekatan yang holistik dan modern."}),s.jsx("div",{className:"grid gap-4",children:[{icon:Fa,title:"Berdiri Sejak 1993",description:"Lebih dari 30 tahun pengalaman dalam pendidikan Islam"},{icon:cx,title:"Lokasi Strategis",description:"Jl. Ir. H. Djuanda No. 19, Way Jepara, Lampung Timur"},{icon:ds,title:"Pendidikan Holistik",description:"Menggabungkan ilmu agama dan umum dengan pendekatan modern"}].map((I,G)=>{const R=I.icon;return s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:s.jsx(R,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground",children:I.title}),s.jsx("p",{className:"text-muted-foreground text-sm",children:I.description})]})]},G)})})]}),s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"relative",children:s.jsx("img",{src:"https://picsum.photos/600/400",alt:"Yayasan Baitul Muslim",className:"rounded-lg shadow-lg w-full"})})})]})})}),s.jsx("section",{className:"py-16 bg-muted/20",children:s.jsxs("div",{className:"max-w-screen-xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(vt,{variant:"outline",className:"mb-4 border-primary text-primary",children:"Kepemimpinan"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-foreground",children:"Pengurus Yayasan"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Para pengurus yang berdedikasi memimpin dan mengembangkan Yayasan Baitul Muslim Lampung Timur"})]}),h?s.jsx(Foe,{}):n.length>0?s.jsx("div",{className:"max-w-6xl mx-auto space-y-12",children:n.map(I=>{const G=t.filter(R=>R.group_id===I.id).sort((R,X)=>R.member_order-X.member_order);return G.length===0?null:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-2xl font-bold text-foreground mb-2",children:I.title}),I.description&&s.jsx("div",{className:"text-muted-foreground",children:s.jsx(yn,{content:I.description})})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:G.map(R=>s.jsx("div",{className:"w-full",children:O(R,!1)},R.id))})]},I.id)})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ds,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Data pengurus belum tersedia."})]})]})}),s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"max-w-screen-xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(vt,{variant:"outline",className:"mb-4 border-primary text-primary",children:"Visi & Misi"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-foreground",children:"Visi dan Misi Kami"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Komitmen kami dalam mencerdaskan bangsa melalui pendidikan Islam yang berkualitas"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(je,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-primary to-primary/60"}),s.jsxs(we,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:s.jsx(Ys,{className:"w-8 h-8 text-primary"})}),s.jsx("h3",{className:"text-2xl font-bold text-foreground",children:"Visi"})]}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Menjadi lembaga pendidikan Islam terpadu yang unggul, berkarakter, dan berwawasan global, yang mampu mencetak generasi Qur'ani yang beriman, bertakwa, berilmu, dan berakhlak mulia."})]})]}),s.jsxs(je,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-primary/60 to-primary"}),s.jsxs(we,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:s.jsx(Yp,{className:"w-8 h-8 text-primary"})}),s.jsx("h3",{className:"text-2xl font-bold text-foreground",children:"Misi"})]}),s.jsx("div",{className:"space-y-4",children:["Menyelenggarakan pendidikan Islam terpadu yang berkualitas dengan kurikulum yang seimbang antara ilmu agama dan umum","Membentuk generasi yang memiliki akhlak mulia, berkarakter Islami, dan berwawasan global","Mengembangkan potensi peserta didik secara optimal dalam aspek spiritual, intelektual, emosional, dan sosial","Menciptakan lingkungan pembelajaran yang kondusif, inovatif, dan berbasis teknologi modern","Membangun kemitraan strategis dengan berbagai pihak untuk kemajuan pendidikan Islam"].map((I,G)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-primary/20 text-primary rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:G+1}),s.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm",children:I})]},G))})]})]})]})]})}),s.jsx("section",{className:"py-16 bg-muted/20",children:s.jsxs("div",{className:"max-w-screen-xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(vt,{variant:"outline",className:"mb-4 border-primary text-primary",children:"Kemitraan"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-foreground",children:"Mitra Yayasan"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Berbagai pihak yang berkolaborasi dengan kami dalam mengembangkan pendidikan dan dakwah Islam"})]}),s.jsx("div",{className:"relative max-w-5xl mx-auto",children:p?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((I,G)=>s.jsx(je,{children:s.jsxs(we,{className:"p-6 text-center",children:[s.jsx(Re,{className:"w-24 h-24 rounded-full mx-auto mb-4"}),s.jsx(Re,{className:"h-6 w-32 mx-auto mb-2"}),s.jsx(Re,{className:"h-4 w-full mb-2"}),s.jsx(Re,{className:"h-4 w-3/4 mx-auto"})]})},G))}):i.length>0?s.jsxs(Ig,{opts:{align:"start",loop:!0},className:"w-full",children:[s.jsx(Bg,{className:"-ml-2 md:-ml-4",children:i.map(I=>s.jsx(zg,{className:"pl-2 md:pl-4 md:basis-1/2 lg:basis-1/3",children:M(I)},I.id))}),s.jsx(fj,{className:"hidden md:flex"}),s.jsx(mj,{className:"hidden md:flex"})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ds,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Belum ada data mitra yang tersedia."})]})})]})}),s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"max-w-screen-xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(vt,{variant:"outline",className:"mb-4 border-primary text-primary",children:"Program Kami"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-foreground",children:"Program Yayasan"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Berbagai program unggulan yang dijalankan untuk kemajuan pendidikan dan kesejahteraan umat"})]}),s.jsx("div",{className:"relative max-w-6xl mx-auto",children:v?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((I,G)=>s.jsxs(je,{children:[s.jsx("div",{className:"relative overflow-hidden rounded-t-lg bg-muted h-48",children:s.jsx(Re,{className:"w-full h-full"})}),s.jsxs(we,{className:"p-6",children:[s.jsx(Re,{className:"h-6 w-32 mb-2"}),s.jsx(Re,{className:"h-4 w-full mb-2"}),s.jsx(Re,{className:"h-4 w-3/4"})]})]},G))}):c.length>0?s.jsxs(Ig,{opts:{align:"start",loop:!0},className:"w-full",children:[s.jsx(Bg,{className:"-ml-2 md:-ml-4",children:c.map(I=>s.jsx(zg,{className:"pl-2 md:pl-4",children:P(I)},I.id))}),s.jsx(fj,{className:"hidden md:flex"}),s.jsx(mj,{className:"hidden md:flex"})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Yp,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Belum ada data program yang tersedia."})]})})]})}),w&&s.jsx(H3,{open:E,onOpenChange:_,image:w,description:S})]})},qoe=()=>{const[t,e]=x.useState({name:"",email:"",title:"",message:""}),[n,a]=x.useState(!1),[i,o]=x.useState(!1),{error:c,success:d}=_t(),h=g=>{const{name:v,value:y}=g.target;e(w=>({...w,[v]:y}))},m=async g=>{if(g.preventDefault(),!t.name.trim()||!t.email.trim()||!t.title.trim()||!t.message.trim()){c({title:"Semua field harus diisi"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)){c({title:"Format email tidak valid"});return}a(!0);try{const y={name:t.name.trim(),email:t.email.trim(),title:t.title.trim(),message:t.message.trim()};await Ed.submitMessage(y),o(!0),e({name:"",email:"",title:"",message:""}),d({title:"Pesan berhasil dikirim! Kami akan segera merespons."})}catch(y){console.error("Error submitting message:",y)}finally{a(!1)}},p=()=>{o(!1),e({name:"",email:"",title:"",message:""})};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("section",{className:"relative h-96 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:"https://picsum.photos/1920/600?random=contact",alt:"Kontak Kami",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/40"})]}),s.jsx("div",{className:"relative z-10 h-full flex items-center pt-24",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4 w-full",children:s.jsxs("div",{className:"max-w-3xl text-white",children:[s.jsx(vt,{variant:"secondary",className:"mb-6 bg-white/10 text-white border-white/20 hover:bg-white/20",children:"Yayasan Baitul Muslim Lampung Timur"}),s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-6 leading-tight",children:"Kontak Kami"}),s.jsx("p",{className:"text-lg md:text-xl mb-8 text-white/90 leading-relaxed max-w-2xl",children:"Hubungi kami untuk informasi lebih lanjut tentang pendidikan, program, atau pertanyaan lainnya"})]})})})]}),s.jsx("section",{className:"py-16",children:s.jsx("div",{className:"px-4 max-w-screen-xl lg:px-8 mx-auto px-4",children:s.jsx("div",{className:"flex flex-col gap-12",children:s.jsxs("div",{children:[s.jsxs("div",{className:"mb-8",children:[s.jsx(vt,{variant:"outline",className:"mb-4 border-primary text-primary",children:"Kirim Pesan"}),s.jsx("h2",{className:"text-3xl font-bold mb-4 text-foreground",children:"Hubungi Kami"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Isi form di bawah ini untuk mengirim pesan kepada kami. Kami akan merespons dalam 1x24 jam."})]}),i?s.jsx(je,{className:"border-green-200 bg-green-50 border-2",children:s.jsxs(we,{className:"p-8 text-center",children:[s.jsx(Ji,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:"Pesan Terkirim!"}),s.jsx("p",{className:"text-green-700 mb-6",children:"Terima kasih telah menghubungi kami. Pesan Anda telah berhasil dikirim dan akan segera kami proses."}),s.jsx(pe,{onClick:p,variant:"outline",className:"border-green-600 text-green-600 hover:bg-green-600 hover:text-white",children:"Kirim Pesan Lain"})]})}):s.jsx(je,{children:s.jsx(we,{className:"p-6",children:s.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"name",children:"Nama Lengkap *"}),s.jsx(at,{id:"name",name:"name",type:"text",placeholder:"Masukkan nama lengkap",value:t.name,onChange:h,required:!0,disabled:n})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"email",children:"Email *"}),s.jsx(at,{id:"email",name:"email",type:"email",placeholder:"nama@email.com",value:t.email,onChange:h,required:!0,disabled:n})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"title",children:"Subjek *"}),s.jsx(at,{id:"title",name:"title",type:"text",placeholder:"Subjek pesan",value:t.title,onChange:h,required:!0,disabled:n})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"message",children:"Pesan *"}),s.jsx(br,{id:"message",name:"message",placeholder:"Tulis pesan Anda di sini...",value:t.message,onChange:h,required:!0,disabled:n,rows:6})]}),s.jsx(pe,{type:"submit",className:"w-full",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Mengirim..."]}):s.jsxs(s.Fragment,{children:[s.jsx(t0,{className:"w-4 h-4 mr-2"}),"Kirim Pesan"]})})]})})})]})})})})]})},Hoe=({statistics:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>s.jsx("div",{className:"rounded-md border",children:s.jsxs(fs,{children:[s.jsx(ms,{children:s.jsxs(et,{children:[s.jsx(Te,{children:"Judul"}),s.jsx(Te,{children:"Nilai"}),s.jsx(Te,{children:"Urutan"}),s.jsx(Te,{children:"Dibuat"}),s.jsx(Te,{className:"text-right",children:"Aksi"})]})}),s.jsx(ps,{children:e?s.jsx(et,{children:s.jsx(Ee,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Memuat Statistik..."})}):t.length===0?s.jsx(et,{children:s.jsx(Ee,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Tidak ada Statistik ditemukan"})}):t.map(o=>s.jsxs(et,{children:[s.jsx(Ee,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[o.img_url&&s.jsx("img",{src:gr(o.img_url),alt:o.title,className:"w-8 h-8 rounded object-cover"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:o.title}),o.description&&s.jsx("div",{className:"text-muted-foreground",children:o.description.length>60?`${o.description.substring(0,60)}...`:o.description})]})]})}),s.jsx(Ee,{children:o.stats}),s.jsx(Ee,{children:o.display_order}),s.jsx(Ee,{children:gn(new Date(o.created_at),"dd MMM yyyy",{locale:xn})}),s.jsx(Ee,{className:"text-right",children:s.jsx(un,{onView:()=>i(o),onEdit:()=>n(o),onDelete:()=>a(o)})})]},o.id))})]})}),Goe=({statistics:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>e?s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((o,c)=>s.jsx(je,{className:"animate-pulse",children:s.jsx(we,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-muted rounded"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-32"}),s.jsx("div",{className:"h-3 bg-muted rounded w-24"})]})]}),s.jsx("div",{className:"w-8 h-8 bg-muted rounded-full"})]})})},c))}):t.length===0?s.jsx(je,{children:s.jsx(we,{className:"p-8 text-center text-muted-foreground",children:"Tidak ada Statistik ditemukan"})}):s.jsx("div",{className:"space-y-4",children:t.map(o=>s.jsx(je,{className:"hover:shadow-md transition-shadow",children:s.jsx(we,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[o.img_url&&s.jsx("img",{src:gr(o.img_url),alt:o.title,className:"w-12 h-12 rounded-lg object-cover flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("h3",{className:"font-medium truncate",children:o.title}),s.jsxs(vt,{variant:"secondary",children:["#",o.display_order]})]}),s.jsx("div",{className:"font-semibold mb-1",children:o.stats}),o.description&&s.jsx("p",{className:"text-muted-foreground line-clamp-2",children:o.description}),s.jsxs("div",{className:"text-muted-foreground mt-2",children:["Dibuat: ",gn(new Date(o.created_at),"dd MMM yyyy",{locale:xn})]})]})]}),s.jsx("div",{className:"ml-4",children:s.jsx(un,{onView:()=>i(o),onEdit:()=>n(o),onDelete:()=>a(o)})})]})})},o.id))}),Koe=Bs({title:rt().min(1,"Judul wajib diisi").max(255,"Judul maksimal 255 karakter"),description:rt().optional().or(us("")),stats:rt().min(1,"Nilai statistik wajib diisi").max(255,"Nilai maksimal 255 karakter"),display_order:tl().min(1,"Urutan minimal 1").optional()}),Yoe=({open:t,onOpenChange:e,editingStatistic:n,onSave:a})=>{const[i,o]=x.useState(!1),[c,d]=x.useState([]),h=!!n,m=gs({resolver:xs(Koe),defaultValues:{title:"",description:"",stats:"",display_order:void 0}});x.useEffect(()=>{t&&(n?m.reset({title:n.title,description:n.description||"",stats:n.stats,display_order:n.display_order}):m.reset({title:"",description:"",stats:"",display_order:void 0}),d([]))},[t,n,m]);const p=async y=>{o(!0);try{const w=c.length>0?c[0]:void 0;await a({title:y.title,description:y.description||void 0,stats:y.stats,display_order:y.display_order},w),e(!1),m.reset(),d([])}catch(w){console.error("Failed to save statistic:",w)}finally{o(!1)}},g=y=>{d(y)},v=y=>{d(w=>w.filter((j,S)=>S!==y))};return s.jsx(nn,{open:t,onOpenChange:e,children:s.jsxs(sn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(an,{children:s.jsx(rn,{children:h?"Edit Statistik":"Tambah Statistik"})}),s.jsx(In,{...m,children:s.jsxs("form",{onSubmit:m.handleSubmit(p),className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx($e,{control:m.control,name:"title",render:({field:y})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Judul"}),s.jsx(Ue,{children:s.jsx(at,{placeholder:"Contoh: Total Siswa",...y})}),s.jsx(He,{})]})}),s.jsx($e,{control:m.control,name:"stats",render:({field:y})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Nilai Statistik"}),s.jsx(Ue,{children:s.jsx(at,{placeholder:"Contoh: 1,250 atau 85% atau 2.5km",...y})}),s.jsx(sa,{children:"Nilai bisa berupa angka dengan suffix seperti %, km, atau hanya angka biasa"}),s.jsx(He,{})]})})]}),s.jsx($e,{control:m.control,name:"description",render:({field:y})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Deskripsi (Opsional)"}),s.jsx(Ue,{children:s.jsx(br,{placeholder:"Deskripsi singkat tentang statistik ini...",rows:3,...y})}),s.jsx(He,{})]})}),s.jsx($e,{control:m.control,name:"display_order",render:({field:y})=>s.jsxs(Fe,{children:[s.jsx(Ve,{children:"Urutan Tampilan (Opsional)"}),s.jsx(Ue,{children:s.jsx(at,{type:"number",min:"1",placeholder:"Biarkan kosong untuk otomatis",...y,value:y.value||"",onChange:w=>y.onChange(w.target.value?parseInt(w.target.value):void 0)})}),s.jsx(sa,{children:"Urutan untuk menampilkan statistik. Biarkan kosong untuk menggunakan urutan otomatis."}),s.jsx(He,{})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block font-medium",children:"Icon Statistik (Opsional)"}),s.jsx(wl,{accept:"image/*",maxFiles:1,maxSize:5*1024*1024,onFilesChange:g,onFileRemove:v,files:c,description:"Upload icon untuk statistik (maksimal 5MB)"}),h&&(n==null?void 0:n.img_url)&&c.length===0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-muted-foreground",children:"Icon saat ini:"}),s.jsx("img",{src:n.img_url,alt:n.title,className:"w-16 h-16 object-cover rounded mt-1"})]})]}),s.jsxs(zs,{children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:i,children:"Batal"}),s.jsx(pe,{type:"submit",disabled:i,children:i?"Menyimpan...":h?"Update":"Simpan"})]})]})})]})})},Xoe=()=>{const{isAdmin:t}=as(),{toast:e}=_t(),{updateURL:n,getCurrentFilters:a}=oa({defaults:{search:"",page:1,size:10},cleanDefaults:!0}),i=a(),[o,c]=x.useState([]),[d,h]=x.useState(!0),[m,p]=x.useState(0),[g,v]=x.useState(0),[y,w]=x.useState(!1),[j,S]=x.useState(!1),[k,E]=x.useState(null),[A,T]=x.useState(null),[_,M]=x.useState(null),P=t(),O=async()=>{h(!0);try{const Y={page:i.page,size:i.size,search:i.search||void 0,sort_by:"display_order",sort_order:"asc"},se=await _h.getStatistics(Y);c(se.items),p(se.total),v(se.pages)}catch(Y){console.error("Failed to fetch statistics:",Y),e({title:"Error",description:"Gagal memuat data Statistik. Silakan coba lagi.",variant:"destructive"})}finally{h(!1)}};x.useEffect(()=>{P&&O()},[i.page,i.size,i.search,P]);const I=Y=>{T(Y),S(!0)},G=Y=>{E(Y),w(!0)},R=Y=>{M(Y)},X=async()=>{if(_)try{await _h.deleteStatistic(_.id),M(null),O(),e({title:"Statistik berhasil dihapus",description:`Statistik ${_.title} telah dihapus dari sistem.`})}catch(Y){console.error("Failed to delete statistic:",Y);const se=(Y==null?void 0:Y.message)||"Gagal menghapus Statistik. Silakan coba lagi.";e({title:"Error",description:se,variant:"destructive"})}},$=()=>{E(null),w(!0)},Z=async(Y,se)=>{try{k?(await _h.updateStatistic(k.id,Y,se),e({title:"Statistik berhasil diperbarui",description:`Statistik ${Y.title} telah diperbarui.`})):(await _h.createStatistic(Y,se),e({title:"Statistik berhasil dibuat",description:`Statistik ${Y.title} telah ditambahkan ke sistem.`})),w(!1),E(null),O()}catch(K){console.error("Failed to save statistic:",K);const z=(K==null?void 0:K.message)||"Gagal menyimpan Statistik. Silakan coba lagi.";e({title:"Error",description:z,variant:"destructive"})}},te=Y=>{n({size:parseInt(Y),page:1})},L=x.useCallback(Y=>{Y!==i.search&&n({search:Y,page:1})},[n,i.search]),V=Y=>{n({page:Y})},B=()=>"Daftar Statistik";return P?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Cs,{title:"Manajemen Statistik",description:"Kelola statistik dan data tampilan untuk website",actions:s.jsxs(pe,{onClick:$,children:[s.jsx(Ls,{className:"w-4 h-4 mr-2"}),"Tambah Statistik"]})}),s.jsx(je,{children:s.jsx(we,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx($a,{title:B(),subtitle:"Kelola statistik dan data yang ditampilkan di website"}),s.jsx(vr,{searchQuery:i.search,onSearchChange:L,placeholder:"Cari statistik berdasarkan judul, deskripsi, atau nilai..."}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(Hoe,{statistics:o,loading:d,onView:I,onEdit:G,onDelete:R})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(Goe,{statistics:o,loading:d,onView:I,onEdit:G,onDelete:R})}),g>1&&s.jsx(ya,{currentPage:i.page,totalPages:g,itemsPerPage:i.size,totalItems:m,onPageChange:V,onItemsPerPageChange:te})]})})}),s.jsx(Yoe,{open:y,onOpenChange:w,editingStatistic:k,onSave:Z}),A&&s.jsx(nn,{open:j,onOpenChange:S,children:s.jsxs(sn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(an,{children:s.jsx(rn,{children:"Detail Statistik"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Pe,{children:"Judul"}),s.jsx("div",{className:"p-2 bg-muted rounded",children:A.title})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Nilai"}),s.jsx("div",{className:"p-2 bg-muted rounded font-semibold text-primary",children:A.stats})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Urutan Tampilan"}),s.jsxs("div",{className:"p-2 bg-muted rounded",children:["#",A.display_order]})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Dibuat"}),s.jsx("div",{className:"p-2 bg-muted rounded",children:new Date(A.created_at).toLocaleDateString("id-ID")})]}),A.updated_at&&s.jsxs("div",{children:[s.jsx(Pe,{children:"Terakhir Diupdate"}),s.jsx("div",{className:"p-2 bg-muted rounded",children:new Date(A.updated_at).toLocaleDateString("id-ID")})]})]}),A.img_url&&s.jsxs("div",{children:[s.jsx(Pe,{children:"Icon"}),s.jsx("div",{className:"p-2 bg-muted rounded",children:s.jsx("img",{src:A.img_url,alt:A.title,className:"w-16 h-16 rounded object-cover"})})]}),A.description&&s.jsxs("div",{children:[s.jsx(Pe,{children:"Deskripsi"}),s.jsx("div",{className:"p-2 bg-muted rounded",children:A.description})]})]})]})}),s.jsx(ss,{open:!!_,onOpenChange:()=>M(null),children:s.jsxs(Gn,{children:[s.jsxs(Kn,{children:[s.jsx(Xn,{children:"Konfirmasi Hapus"}),s.jsxs(Wn,{children:["Tindakan ini tidak dapat dibatalkan. Statistik"," ",s.jsx("span",{className:"font-semibold",children:_==null?void 0:_.title})," akan dihapus secara permanen dari sistem."]})]}),s.jsxs(Yn,{children:[s.jsx(Qn,{children:"Batal"}),s.jsx(Zn,{onClick:X,className:"bg-red-600 hover:bg-red-700",children:"Hapus Statistik"})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki akses untuk melihat halaman ini."})]})})},Woe=()=>{const t=Ei(),{currentRole:e}=as(),{user:n}=mr(),{toast:a}=_t();return e==="ADMIN"?s.jsx(to,{to:"/rpp-submissions",replace:!0}):(x.useEffect(()=>{const i=async()=>{if(!(n!=null&&n.id)){console.error("User ID not available");return}try{const o=await kn.getActivePeriod();o!=null&&o.id?t(`/teacher-evaluations/${n.id}?period_id=${o.id}`):a({title:"Periode Tidak Aktif",description:"Belum ada periode yang aktif saat ini. Hubungi administrator.",variant:"destructive"})}catch(o){console.error("Error getting active period:",o),a({title:"Error",description:"Gagal mengambil periode aktif. Silakan coba lagi.",variant:"destructive"})}};n!=null&&n.id&&i()},[n==null?void 0:n.id,t,a]),s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"text-muted-foreground",children:"Mengalihkan ke evaluasi Anda..."})]})}))};function Zoe(){return s.jsx(YC,{children:s.jsx(c6,{store:$h,children:s.jsx(mB,{children:s.jsx($T,{loading:null,persistor:qT,children:s.jsx(yz,{children:s.jsx(q5,{children:s.jsxs(vz,{children:[s.jsx(xz,{}),s.jsxs(H5,{children:[s.jsxs(kt,{path:"/",element:s.jsx(cV,{}),children:[s.jsx(kt,{index:!0,element:s.jsx(LC,{})}),s.jsx(kt,{path:"home",element:s.jsx(LC,{})}),s.jsx(kt,{path:"articles",element:s.jsx(_oe,{})}),s.jsx(kt,{path:"articles/:id",element:s.jsx(Roe,{})}),s.jsx(kt,{path:"schools",element:s.jsx(Doe,{})}),s.jsx(kt,{path:"schools/:id",element:s.jsx(Moe,{})}),s.jsx(kt,{path:"galleries",element:s.jsx(Poe,{})}),s.jsx(kt,{path:"about",element:s.jsx(Voe,{})}),s.jsx(kt,{path:"contact",element:s.jsx(qoe,{})})]}),s.jsxs(kt,{path:"/",children:[s.jsx(kt,{path:"login",element:s.jsx(_p,{children:s.jsx(TF,{})})}),s.jsx(kt,{path:"forgot-password",element:s.jsx(_p,{children:s.jsx(uV,{})})}),s.jsx(kt,{path:"callback",element:s.jsx(_p,{children:s.jsx(hV,{})})}),s.jsx(kt,{path:"reset-password",element:s.jsx(_p,{children:s.jsx(mV,{})})})]}),s.jsxs(kt,{path:"/",element:s.jsx(tJ,{children:s.jsx(xF,{})}),children:[s.jsx(kt,{index:!0,element:s.jsx(HE,{})}),s.jsx(kt,{path:"dashboard",element:s.jsx(HE,{})}),s.jsx(kt,{path:"profile",element:s.jsx(nq,{})}),s.jsx(kt,{path:"users",element:s.jsx(Es,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(mH,{})})}),s.jsx(kt,{path:"cms/organizations",element:s.jsx(Es,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(eJ,{})})}),s.jsx(kt,{path:"periods",element:s.jsx(Es,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(uJ,{})})}),s.jsx(kt,{path:"evaluation-aspects",element:s.jsx(Es,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(Rre,{})})}),s.jsx(kt,{path:"evaluations/reports",element:s.jsx(Es,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(Hre,{})})}),s.jsx(kt,{path:"teacher-evaluations",element:s.jsx(Es,{allowedRoles:["SUPER_ADMIN","ADMIN","KEPALA_SEKOLAH"],children:s.jsx(Ire,{})})}),s.jsx(kt,{path:"teacher-evaluations/:teacherId",element:s.jsx(Es,{allowedRoles:["SUPER_ADMIN","ADMIN","KEPALA_SEKOLAH","GURU"],children:s.jsx($re,{})})}),s.jsx(kt,{path:"my-evaluations",element:s.jsx(Es,{allowedRoles:["GURU","KEPALA_SEKOLAH"],children:s.jsx(Woe,{})})}),s.jsx(kt,{path:"my-rpp-submissions",element:s.jsx(Es,{allowedRoles:["GURU","KEPALA_SEKOLAH"],children:s.jsx(Gre,{})})}),s.jsx(kt,{path:"rpp-submissions",element:s.jsx(Es,{allowedRoles:["SUPER_ADMIN","ADMIN","KEPALA_SEKOLAH"],children:s.jsx(aie,{})})}),s.jsx(kt,{path:"rpp-submissions/teacher/:teacherId",element:s.jsx(Es,{allowedRoles:["SUPER_ADMIN","ADMIN","KEPALA_SEKOLAH","GURU"],children:s.jsx(rie,{})})}),s.jsxs(kt,{path:"/cms",children:[s.jsx(kt,{path:"board-members",element:s.jsx(Es,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(fie,{})})}),s.jsx(kt,{path:"articles",element:s.jsx(Es,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(yie,{})})}),s.jsx(kt,{path:"galleries",element:s.jsx(Es,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(Eie,{})})}),s.jsx(kt,{path:"messages",element:s.jsx(Es,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(_ie,{})})}),s.jsx(kt,{path:"mitra",element:s.jsx(Es,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(Lie,{})})}),s.jsx(kt,{path:"program",element:s.jsx(Es,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(Fie,{})})}),s.jsx(kt,{path:"statistik",element:s.jsx(Es,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(Xoe,{})})})]})]})]})]})})})})})})})}A6.createRoot(document.getElementById("root")).render(s.jsx(ve.StrictMode,{children:s.jsx(YC,{children:s.jsx(Zoe,{})})}))});export default Qoe();
