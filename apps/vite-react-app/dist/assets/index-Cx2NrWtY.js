const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/exceljs.min-C9H5vAEu.js","assets/vendor-Csw2ODfV.js","assets/excel-DQzXLhii.js"])))=>i.map(i=>d[i]);
var BL=Object.defineProperty;var zL=(t,e,n)=>e in t?BL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var UL=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Me=(t,e,n)=>zL(t,typeof e!="symbol"?e+"":e,n);import{r as x,R as ve,a as Zi,b as DC,c as lj,L as aa,u as ki,d as rd,O as MC,e as Og,N as eo,f as Lg,B as $L,g as FL,h as Et}from"./router-j06lvBm0.js";import{r as PC,a as VL,g as cj,c as Yo}from"./vendor-Csw2ODfV.js";import{c as OC,R as qL,P as HL,a as GL,C as KL,T as YL}from"./charts-MXNALvtl.js";import{c as ml,a as LC,b as XL,d as WL,F as ZL,R as QL,P as JL,e as e6,f as t6,g as n6,p as s6,h as a6,u as _f,i as r6,j as i6}from"./redux-oGszBZzH.js";import{a as o6,b as Mb,c as ph,d as gh,e as l6,f as vn}from"./utils-4E9rYp62.js";import{o as c6,s as u6,a as d6,F as h6,C as IC,u as f6,b as m6,c as Ws,d as Ig,e as ct,f as js,l as ys,n as to,g as Uk,r as p6,z as Pu}from"./forms-DAkOKqhU.js";import{E as g6,a as x6,_ as BC}from"./pdf-C4tvgMGH.js";var Yoe=UL((La,Ia)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Pb={exports:{}},xh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $k;function v6(){if($k)return xh;$k=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:a,key:c,ref:i!==void 0?i:null,props:o}}return xh.Fragment=e,xh.jsx=n,xh.jsxs=n,xh}var Fk;function b6(){return Fk||(Fk=1,Pb.exports=v6()),Pb.exports}var s=b6(),Ob={exports:{}},vh={},Lb={exports:{}},Ib={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vk;function y6(){return Vk||(Vk=1,function(t){function e(L,F){var V=L.length;L.push(F);e:for(;0<V;){var K=V-1>>>1,ae=L[K];if(0<i(ae,F))L[K]=F,L[V]=ae,V=K;else break e}}function n(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var F=L[0],V=L.pop();if(V!==F){L[0]=V;e:for(var K=0,ae=L.length,G=ae>>>1;K<G;){var B=2*(K+1)-1,W=L[B],$=B+1,q=L[$];if(0>i(W,V))$<ae&&0>i(q,W)?(L[K]=q,L[$]=V,K=$):(L[K]=W,L[B]=V,K=B);else if($<ae&&0>i(q,V))L[K]=q,L[$]=V,K=$;else break e}}return F}function i(L,F){var V=L.sortIndex-F.sortIndex;return V!==0?V:L.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var h=[],f=[],p=1,g=null,v=3,y=!1,w=!1,j=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function T(L){for(var F=n(f);F!==null;){if(F.callback===null)a(f);else if(F.startTime<=L)a(f),F.sortIndex=F.expirationTime,e(h,F);else break;F=n(f)}}function _(L){if(j=!1,T(L),!w)if(n(h)!==null)w=!0,M||(M=!0,X());else{var F=n(f);F!==null&&ne(_,F.startTime-L)}}var M=!1,P=-1,O=5,H=-1;function Y(){return k?!0:!(t.unstable_now()-H<O)}function R(){if(k=!1,M){var L=t.unstable_now();H=L;var F=!0;try{e:{w=!1,j&&(j=!1,E(P),P=-1),y=!0;var V=v;try{t:{for(T(L),g=n(h);g!==null&&!(g.expirationTime>L&&Y());){var K=g.callback;if(typeof K=="function"){g.callback=null,v=g.priorityLevel;var ae=K(g.expirationTime<=L);if(L=t.unstable_now(),typeof ae=="function"){g.callback=ae,T(L),F=!0;break t}g===n(h)&&a(h),T(L)}else a(h);g=n(h)}if(g!==null)F=!0;else{var G=n(f);G!==null&&ne(_,G.startTime-L),F=!1}}break e}finally{g=null,v=V,y=!1}F=void 0}}finally{F?X():M=!1}}}var X;if(typeof A=="function")X=function(){A(R)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Q=z.port2;z.port1.onmessage=R,X=function(){Q.postMessage(null)}}else X=function(){S(R,0)};function ne(L,F){P=S(function(){L(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(L){switch(v){case 1:case 2:case 3:var F=3;break;default:F=v}var V=v;v=F;try{return L()}finally{v=V}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var V=v;v=L;try{return F()}finally{v=V}},t.unstable_scheduleCallback=function(L,F,V){var K=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?K+V:K):V=K,L){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=V+ae,L={id:p++,callback:F,priorityLevel:L,startTime:V,expirationTime:ae,sortIndex:-1},V>K?(L.sortIndex=V,e(f,L),n(h)===null&&L===n(f)&&(j?(E(P),P=-1):j=!0,ne(_,V-K))):(L.sortIndex=ae,e(h,L),w||y||(w=!0,M||(M=!0,X()))),L},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(L){var F=v;return function(){var V=v;v=F;try{return L.apply(this,arguments)}finally{v=V}}}}(Ib)),Ib}var qk;function j6(){return qk||(qk=1,Lb.exports=y6()),Lb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hk;function w6(){if(Hk)return vh;Hk=1;var t=j6(),e=PC(),n=VL();function a(r){var l="https://react.dev/errors/"+r;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+r+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var l=r,d=r;if(r.alternate)for(;l.return;)l=l.return;else{r=l;do l=r,(l.flags&4098)!==0&&(d=l.return),r=l.return;while(r)}return l.tag===3?d:null}function c(r){if(r.tag===13){var l=r.memoizedState;if(l===null&&(r=r.alternate,r!==null&&(l=r.memoizedState)),l!==null)return l.dehydrated}return null}function u(r){if(o(r)!==r)throw Error(a(188))}function h(r){var l=r.alternate;if(!l){if(l=o(r),l===null)throw Error(a(188));return l!==r?null:r}for(var d=r,m=l;;){var b=d.return;if(b===null)break;var N=b.alternate;if(N===null){if(m=b.return,m!==null){d=m;continue}break}if(b.child===N.child){for(N=b.child;N;){if(N===d)return u(b),r;if(N===m)return u(b),l;N=N.sibling}throw Error(a(188))}if(d.return!==m.return)d=b,m=N;else{for(var D=!1,I=b.child;I;){if(I===d){D=!0,d=b,m=N;break}if(I===m){D=!0,m=b,d=N;break}I=I.sibling}if(!D){for(I=N.child;I;){if(I===d){D=!0,d=N,m=b;break}if(I===m){D=!0,m=N,d=b;break}I=I.sibling}if(!D)throw Error(a(189))}}if(d.alternate!==m)throw Error(a(190))}if(d.tag!==3)throw Error(a(188));return d.stateNode.current===d?r:l}function f(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r;for(r=r.child;r!==null;){if(l=f(r),l!==null)return l;r=r.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),E=Symbol.for("react.consumer"),A=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function X(r){return r===null||typeof r!="object"?null:(r=R&&r[R]||r["@@iterator"],typeof r=="function"?r:null)}var z=Symbol.for("react.client.reference");function Q(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===z?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case w:return"Fragment";case k:return"Profiler";case j:return"StrictMode";case _:return"Suspense";case M:return"SuspenseList";case H:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case y:return"Portal";case A:return(r.displayName||"Context")+".Provider";case E:return(r._context.displayName||"Context")+".Consumer";case T:var l=r.render;return r=r.displayName,r||(r=l.displayName||l.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case P:return l=r.displayName||null,l!==null?l:Q(r.type)||"Memo";case O:l=r._payload,r=r._init;try{return Q(r(l))}catch{}}return null}var ne=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},K=[],ae=-1;function G(r){return{current:r}}function B(r){0>ae||(r.current=K[ae],K[ae]=null,ae--)}function W(r,l){ae++,K[ae]=r.current,r.current=l}var $=G(null),q=G(null),ee=G(null),te=G(null);function ie(r,l){switch(W(ee,l),W(q,r),W($,null),l.nodeType){case 9:case 11:r=(r=l.documentElement)&&(r=r.namespaceURI)?mk(r):0;break;default:if(r=l.tagName,l=l.namespaceURI)l=mk(l),r=pk(l,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}B($),W($,r)}function de(){B($),B(q),B(ee)}function re(r){r.memoizedState!==null&&W(te,r);var l=$.current,d=pk(l,r.type);l!==d&&(W(q,r),W($,d))}function he(r){q.current===r&&(B($),B(q)),te.current===r&&(B(te),uh._currentValue=V)}var ce=Object.prototype.hasOwnProperty,Ee=t.unstable_scheduleCallback,be=t.unstable_cancelCallback,De=t.unstable_shouldYield,Te=t.unstable_requestPaint,Oe=t.unstable_now,Ze=t.unstable_getCurrentPriorityLevel,qe=t.unstable_ImmediatePriority,He=t.unstable_UserBlockingPriority,Re=t.unstable_NormalPriority,Je=t.unstable_LowPriority,Zt=t.unstable_IdlePriority,An=t.log,ea=t.unstable_setDisableYieldValue,ds=null,$t=null;function nn(r){if(typeof An=="function"&&ea(r),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(ds,r)}catch{}}var Ft=Math.clz32?Math.clz32:Gn,Ht=Math.log,Cn=Math.LN2;function Gn(r){return r>>>=0,r===0?32:31-(Ht(r)/Cn|0)|0}var Ns=256,Ps=4194304;function jn(r){var l=r&42;if(l!==0)return l;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ss(r,l,d){var m=r.pendingLanes;if(m===0)return 0;var b=0,N=r.suspendedLanes,D=r.pingedLanes;r=r.warmLanes;var I=m&134217727;return I!==0?(m=I&~N,m!==0?b=jn(m):(D&=I,D!==0?b=jn(D):d||(d=I&~r,d!==0&&(b=jn(d))))):(I=m&~N,I!==0?b=jn(I):D!==0?b=jn(D):d||(d=m&~r,d!==0&&(b=jn(d)))),b===0?0:l!==0&&l!==b&&(l&N)===0&&(N=b&-b,d=l&-l,N>=d||N===32&&(d&4194048)!==0)?l:b}function hs(r,l){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&l)===0}function fs(r,l){switch(r){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qt(){var r=Ns;return Ns<<=1,(Ns&4194048)===0&&(Ns=256),r}function ta(){var r=Ps;return Ps<<=1,(Ps&62914560)===0&&(Ps=4194304),r}function Os(r){for(var l=[],d=0;31>d;d++)l.push(r);return l}function Ct(r,l){r.pendingLanes|=l,l!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function sn(r,l,d,m,b,N){var D=r.pendingLanes;r.pendingLanes=d,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=d,r.entangledLanes&=d,r.errorRecoveryDisabledLanes&=d,r.shellSuspendCounter=0;var I=r.entanglements,Z=r.expirationTimes,ue=r.hiddenUpdates;for(d=D&~d;0<d;){var ye=31-Ft(d),ke=1<<ye;I[ye]=0,Z[ye]=-1;var fe=ue[ye];if(fe!==null)for(ue[ye]=null,ye=0;ye<fe.length;ye++){var me=fe[ye];me!==null&&(me.lane&=-536870913)}d&=~ke}m!==0&&Ve(r,m,0),N!==0&&b===0&&r.tag!==0&&(r.suspendedLanes|=N&~(D&~l))}function Ve(r,l,d){r.pendingLanes|=l,r.suspendedLanes&=~l;var m=31-Ft(l);r.entangledLanes|=l,r.entanglements[m]=r.entanglements[m]|1073741824|d&4194090}function vt(r,l){var d=r.entangledLanes|=l;for(r=r.entanglements;d;){var m=31-Ft(d),b=1<<m;b&l|r[m]&l&&(r[m]|=l),d&=~b}}function gt(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function bt(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function an(){var r=F.p;return r!==0?r:(r=window.event,r===void 0?32:Pk(r.type))}function Gt(r,l){var d=F.p;try{return F.p=r,l()}finally{F.p=d}}var ut=Math.random().toString(36).slice(2),It="__reactFiber$"+ut,xt="__reactProps$"+ut,Vt="__reactContainer$"+ut,ks="__reactEvents$"+ut,In="__reactListeners$"+ut,Yt="__reactHandles$"+ut,Fa="__reactResources$"+ut,ya="__reactMarker$"+ut;function wl(r){delete r[It],delete r[xt],delete r[ks],delete r[In],delete r[Yt]}function Xr(r){var l=r[It];if(l)return l;for(var d=r.parentNode;d;){if(l=d[Vt]||d[It]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(r=bk(r);r!==null;){if(d=r[It])return d;r=bk(r)}return l}r=d,d=r.parentNode}return null}function Wr(r){if(r=r[It]||r[Vt]){var l=r.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return r}return null}function Tn(r){var l=r.tag;if(l===5||l===26||l===27||l===6)return r.stateNode;throw Error(a(33))}function Zr(r){var l=r[Fa];return l||(l=r[Fa]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function _n(r){r[ya]=!0}var kc=new Set,Ec={};function br(r,l){Bn(r,l),Bn(r+"Capture",l)}function Bn(r,l){for(Ec[r]=l,r=0;r<l.length;r++)kc.add(l[r])}var jd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ac={},Cc={};function wd(r){return ce.call(Cc,r)?!0:ce.call(Ac,r)?!1:jd.test(r)?Cc[r]=!0:(Ac[r]=!0,!1)}function fo(r,l,d){if(wd(l))if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":r.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){r.removeAttribute(l);return}}r.setAttribute(l,""+d)}}function yr(r,l,d){if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttribute(l,""+d)}}function ia(r,l,d,m){if(m===null)r.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(d);return}r.setAttributeNS(l,d,""+m)}}var Qr,ja;function Va(r){if(Qr===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Qr=l&&l[1]||"",ja=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qr+r+ja}var Nl=!1;function Sl(r,l){if(!r||Nl)return"";Nl=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var ke=function(){throw Error()};if(Object.defineProperty(ke.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ke,[])}catch(me){var fe=me}Reflect.construct(r,[],ke)}else{try{ke.call()}catch(me){fe=me}r.call(ke.prototype)}}else{try{throw Error()}catch(me){fe=me}(ke=r())&&typeof ke.catch=="function"&&ke.catch(function(){})}}catch(me){if(me&&fe&&typeof me.stack=="string")return[me.stack,fe.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=m.DetermineComponentFrameRoot(),D=N[0],I=N[1];if(D&&I){var Z=D.split(`
`),ue=I.split(`
`);for(b=m=0;m<Z.length&&!Z[m].includes("DetermineComponentFrameRoot");)m++;for(;b<ue.length&&!ue[b].includes("DetermineComponentFrameRoot");)b++;if(m===Z.length||b===ue.length)for(m=Z.length-1,b=ue.length-1;1<=m&&0<=b&&Z[m]!==ue[b];)b--;for(;1<=m&&0<=b;m--,b--)if(Z[m]!==ue[b]){if(m!==1||b!==1)do if(m--,b--,0>b||Z[m]!==ue[b]){var ye=`
`+Z[m].replace(" at new "," at ");return r.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",r.displayName)),ye}while(1<=m&&0<=b);break}}}finally{Nl=!1,Error.prepareStackTrace=d}return(d=r?r.displayName||r.name:"")?Va(d):""}function Nd(r){switch(r.tag){case 26:case 27:case 5:return Va(r.type);case 16:return Va("Lazy");case 13:return Va("Suspense");case 19:return Va("SuspenseList");case 0:case 15:return Sl(r.type,!1);case 11:return Sl(r.type.render,!1);case 1:return Sl(r.type,!0);case 31:return Va("Activity");default:return""}}function Tc(r){try{var l="";do l+=Nd(r),r=r.return;while(r);return l}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Ls(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ti(r){var l=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function kl(r){var l=Ti(r)?"checked":"value",d=Object.getOwnPropertyDescriptor(r.constructor.prototype,l),m=""+r[l];if(!r.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var b=d.get,N=d.set;return Object.defineProperty(r,l,{configurable:!0,get:function(){return b.call(this)},set:function(D){m=""+D,N.call(this,D)}}),Object.defineProperty(r,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(D){m=""+D},stopTracking:function(){r._valueTracker=null,delete r[l]}}}}function qa(r){r._valueTracker||(r._valueTracker=kl(r))}function El(r){if(!r)return!1;var l=r._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return r&&(m=Ti(r)?r.checked?"true":"false":r.value),r=m,r!==d?(l.setValue(r),!0):!1}function _i(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var Sd=/[\n"\\]/g;function Is(r){return r.replace(Sd,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Al(r,l,d,m,b,N,D,I){r.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?r.type=D:r.removeAttribute("type"),l!=null?D==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+Ls(l)):r.value!==""+Ls(l)&&(r.value=""+Ls(l)):D!=="submit"&&D!=="reset"||r.removeAttribute("value"),l!=null?Ri(r,D,Ls(l)):d!=null?Ri(r,D,Ls(d)):m!=null&&r.removeAttribute("value"),b==null&&N!=null&&(r.defaultChecked=!!N),b!=null&&(r.checked=b&&typeof b!="function"&&typeof b!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?r.name=""+Ls(I):r.removeAttribute("name")}function _c(r,l,d,m,b,N,D,I){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(r.type=N),l!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||l!=null))return;d=d!=null?""+Ls(d):"",l=l!=null?""+Ls(l):d,I||l===r.value||(r.value=l),r.defaultValue=l}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,r.checked=I?r.checked:!!m,r.defaultChecked=!!m,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(r.name=D)}function Ri(r,l,d){l==="number"&&_i(r.ownerDocument)===r||r.defaultValue===""+d||(r.defaultValue=""+d)}function Jr(r,l,d,m){if(r=r.options,l){l={};for(var b=0;b<d.length;b++)l["$"+d[b]]=!0;for(d=0;d<r.length;d++)b=l.hasOwnProperty("$"+r[d].value),r[d].selected!==b&&(r[d].selected=b),b&&m&&(r[d].defaultSelected=!0)}else{for(d=""+Ls(d),l=null,b=0;b<r.length;b++){if(r[b].value===d){r[b].selected=!0,m&&(r[b].defaultSelected=!0);return}l!==null||r[b].disabled||(l=r[b])}l!==null&&(l.selected=!0)}}function Rc(r,l,d){if(l!=null&&(l=""+Ls(l),l!==r.value&&(r.value=l),d==null)){r.defaultValue!==l&&(r.defaultValue=l);return}r.defaultValue=d!=null?""+Ls(d):""}function ei(r,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(a(92));if(ne(m)){if(1<m.length)throw Error(a(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=Ls(l),r.defaultValue=d,m=r.textContent,m===d&&m!==""&&m!==null&&(r.value=m)}function ms(r,l){if(l){var d=r.firstChild;if(d&&d===r.lastChild&&d.nodeType===3){d.nodeValue=l;return}}r.textContent=l}var jr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ha(r,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?r.setProperty(l,""):l==="float"?r.cssFloat="":r[l]="":m?r.setProperty(l,d):typeof d!="number"||d===0||jr.has(l)?l==="float"?r.cssFloat=d:r[l]=(""+d).trim():r[l]=d+"px"}function Dc(r,l,d){if(l!=null&&typeof l!="object")throw Error(a(62));if(r=r.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?r.setProperty(m,""):m==="float"?r.cssFloat="":r[m]="");for(var b in l)m=l[b],l.hasOwnProperty(b)&&d[b]!==m&&Ha(r,b,m)}else for(var N in l)l.hasOwnProperty(N)&&Ha(r,N,l[N])}function oa(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ed=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mo(r){return Ed.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Cl=null;function po(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Rn=null,wr=null;function Tl(r){var l=Wr(r);if(l&&(r=l.stateNode)){var d=r[xt]||null;e:switch(r=l.stateNode,l.type){case"input":if(Al(r,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=r;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Is(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==r&&m.form===r.form){var b=m[xt]||null;if(!b)throw Error(a(90));Al(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===r.form&&El(m)}break e;case"textarea":Rc(r,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Jr(r,!!d.multiple,l,!1)}}}var ti=!1;function go(r,l,d){if(ti)return r(l,d);ti=!0;try{var m=r(l);return m}finally{if(ti=!1,(Rn!==null||wr!==null)&&(zm(),Rn&&(l=Rn,r=wr,wr=Rn=null,Tl(l),r)))for(l=0;l<r.length;l++)Tl(r[l])}}function Ga(r,l){var d=r.stateNode;if(d===null)return null;var m=d[xt]||null;if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(r=r.type,m=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!m;break e;default:r=!1}if(r)return null;if(d&&typeof d!="function")throw Error(a(231,l,typeof d));return d}var wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xo=!1;if(wa)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){xo=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{xo=!1}var Na=null,la=null,Di=null;function vo(){if(Di)return Di;var r,l=la,d=l.length,m,b="value"in Na?Na.value:Na.textContent,N=b.length;for(r=0;r<d&&l[r]===b[r];r++);var D=d-r;for(m=1;m<=D&&l[d-m]===b[N-m];m++);return Di=b.slice(r,1<m?1-m:void 0)}function bo(r){var l=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&l===13&&(r=13)):r=l,r===10&&(r=13),32<=r||r===13?r:0}function yo(){return!0}function C(){return!1}function U(r){function l(d,m,b,N,D){this._reactName=d,this._targetInst=b,this.type=m,this.nativeEvent=N,this.target=D,this.currentTarget=null;for(var I in r)r.hasOwnProperty(I)&&(d=r[I],this[I]=d?d(N):N[I]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?yo:C,this.isPropagationStopped=C,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=yo)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=yo)},persist:function(){},isPersistent:yo}),l}var J={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xe=U(J),dt=p({},J,{view:0,detail:0}),tt=U(dt),Tt,Nt,on,Rt=p({},dt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$x,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==on&&(on&&r.type==="mousemove"?(Tt=r.screenX-on.screenX,Nt=r.screenY-on.screenY):Nt=Tt=0,on=r),Tt)},movementY:function(r){return"movementY"in r?r.movementY:Nt}}),ss=U(Rt),Bs=p({},Rt,{dataTransfer:0}),zn=U(Bs),ps=p({},dt,{relatedTarget:0}),Un=U(ps),ni=p({},J,{animationName:0,elapsedTime:0,pseudoElement:0}),Sr=U(ni),Mi=p({},J,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),rm=U(Mi),Mc=p({},J,{data:0}),_l=U(Mc),K3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W3(r){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(r):(r=X3[r])?!!l[r]:!1}function $x(){return W3}var Z3=p({},dt,{key:function(r){if(r.key){var l=K3[r.key]||r.key;if(l!=="Unidentified")return l}return r.type==="keypress"?(r=bo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Y3[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$x,charCode:function(r){return r.type==="keypress"?bo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?bo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Q3=U(Z3),J3=p({},Rt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ww=U(J3),e5=p({},dt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$x}),t5=U(e5),n5=p({},J,{propertyName:0,elapsedTime:0,pseudoElement:0}),s5=U(n5),a5=p({},Rt,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),r5=U(a5),i5=p({},J,{newState:0,oldState:0}),o5=U(i5),l5=[9,13,27,32],Fx=wa&&"CompositionEvent"in window,Ad=null;wa&&"documentMode"in document&&(Ad=document.documentMode);var c5=wa&&"TextEvent"in window&&!Ad,Nw=wa&&(!Fx||Ad&&8<Ad&&11>=Ad),Sw=" ",kw=!1;function Ew(r,l){switch(r){case"keyup":return l5.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aw(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Pc=!1;function u5(r,l){switch(r){case"compositionend":return Aw(l);case"keypress":return l.which!==32?null:(kw=!0,Sw);case"textInput":return r=l.data,r===Sw&&kw?null:r;default:return null}}function d5(r,l){if(Pc)return r==="compositionend"||!Fx&&Ew(r,l)?(r=vo(),Di=la=Na=null,Pc=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Nw&&l.locale!=="ko"?null:l.data;default:return null}}var h5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cw(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l==="input"?!!h5[r.type]:l==="textarea"}function Tw(r,l,d,m){Rn?wr?wr.push(m):wr=[m]:Rn=m,l=Hm(l,"onChange"),0<l.length&&(d=new xe("onChange","change",null,d,m),r.push({event:d,listeners:l}))}var Cd=null,Td=null;function f5(r){ck(r,0)}function im(r){var l=Tn(r);if(El(l))return r}function _w(r,l){if(r==="change")return l}var Rw=!1;if(wa){var Vx;if(wa){var qx="oninput"in document;if(!qx){var Dw=document.createElement("div");Dw.setAttribute("oninput","return;"),qx=typeof Dw.oninput=="function"}Vx=qx}else Vx=!1;Rw=Vx&&(!document.documentMode||9<document.documentMode)}function Mw(){Cd&&(Cd.detachEvent("onpropertychange",Pw),Td=Cd=null)}function Pw(r){if(r.propertyName==="value"&&im(Td)){var l=[];Tw(l,Td,r,po(r)),go(f5,l)}}function m5(r,l,d){r==="focusin"?(Mw(),Cd=l,Td=d,Cd.attachEvent("onpropertychange",Pw)):r==="focusout"&&Mw()}function p5(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return im(Td)}function g5(r,l){if(r==="click")return im(l)}function x5(r,l){if(r==="input"||r==="change")return im(l)}function v5(r,l){return r===l&&(r!==0||1/r===1/l)||r!==r&&l!==l}var Sa=typeof Object.is=="function"?Object.is:v5;function _d(r,l){if(Sa(r,l))return!0;if(typeof r!="object"||r===null||typeof l!="object"||l===null)return!1;var d=Object.keys(r),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var b=d[m];if(!ce.call(l,b)||!Sa(r[b],l[b]))return!1}return!0}function Ow(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Lw(r,l){var d=Ow(r);r=0;for(var m;d;){if(d.nodeType===3){if(m=r+d.textContent.length,r<=l&&m>=l)return{node:d,offset:l-r};r=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Ow(d)}}function Iw(r,l){return r&&l?r===l?!0:r&&r.nodeType===3?!1:l&&l.nodeType===3?Iw(r,l.parentNode):"contains"in r?r.contains(l):r.compareDocumentPosition?!!(r.compareDocumentPosition(l)&16):!1:!1}function Bw(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var l=_i(r.document);l instanceof r.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)r=l.contentWindow;else break;l=_i(r.document)}return l}function Hx(r){var l=r&&r.nodeName&&r.nodeName.toLowerCase();return l&&(l==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||l==="textarea"||r.contentEditable==="true")}var b5=wa&&"documentMode"in document&&11>=document.documentMode,Oc=null,Gx=null,Rd=null,Kx=!1;function zw(r,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Kx||Oc==null||Oc!==_i(m)||(m=Oc,"selectionStart"in m&&Hx(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Rd&&_d(Rd,m)||(Rd=m,m=Hm(Gx,"onSelect"),0<m.length&&(l=new xe("onSelect","select",null,l,d),r.push({event:l,listeners:m}),l.target=Oc)))}function Rl(r,l){var d={};return d[r.toLowerCase()]=l.toLowerCase(),d["Webkit"+r]="webkit"+l,d["Moz"+r]="moz"+l,d}var Lc={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionrun:Rl("Transition","TransitionRun"),transitionstart:Rl("Transition","TransitionStart"),transitioncancel:Rl("Transition","TransitionCancel"),transitionend:Rl("Transition","TransitionEnd")},Yx={},Uw={};wa&&(Uw=document.createElement("div").style,"AnimationEvent"in window||(delete Lc.animationend.animation,delete Lc.animationiteration.animation,delete Lc.animationstart.animation),"TransitionEvent"in window||delete Lc.transitionend.transition);function Dl(r){if(Yx[r])return Yx[r];if(!Lc[r])return r;var l=Lc[r],d;for(d in l)if(l.hasOwnProperty(d)&&d in Uw)return Yx[r]=l[d];return r}var $w=Dl("animationend"),Fw=Dl("animationiteration"),Vw=Dl("animationstart"),y5=Dl("transitionrun"),j5=Dl("transitionstart"),w5=Dl("transitioncancel"),qw=Dl("transitionend"),Hw=new Map,Xx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xx.push("scrollEnd");function kr(r,l){Hw.set(r,l),br(l,[r])}var Gw=new WeakMap;function Ka(r,l){if(typeof r=="object"&&r!==null){var d=Gw.get(r);return d!==void 0?d:(l={value:r,source:l,stack:Tc(l)},Gw.set(r,l),l)}return{value:r,source:l,stack:Tc(l)}}var Ya=[],Ic=0,Wx=0;function om(){for(var r=Ic,l=Wx=Ic=0;l<r;){var d=Ya[l];Ya[l++]=null;var m=Ya[l];Ya[l++]=null;var b=Ya[l];Ya[l++]=null;var N=Ya[l];if(Ya[l++]=null,m!==null&&b!==null){var D=m.pending;D===null?b.next=b:(b.next=D.next,D.next=b),m.pending=b}N!==0&&Kw(d,b,N)}}function lm(r,l,d,m){Ya[Ic++]=r,Ya[Ic++]=l,Ya[Ic++]=d,Ya[Ic++]=m,Wx|=m,r.lanes|=m,r=r.alternate,r!==null&&(r.lanes|=m)}function Zx(r,l,d,m){return lm(r,l,d,m),cm(r)}function Bc(r,l){return lm(r,null,null,l),cm(r)}function Kw(r,l,d){r.lanes|=d;var m=r.alternate;m!==null&&(m.lanes|=d);for(var b=!1,N=r.return;N!==null;)N.childLanes|=d,m=N.alternate,m!==null&&(m.childLanes|=d),N.tag===22&&(r=N.stateNode,r===null||r._visibility&1||(b=!0)),r=N,N=N.return;return r.tag===3?(N=r.stateNode,b&&l!==null&&(b=31-Ft(d),r=N.hiddenUpdates,m=r[b],m===null?r[b]=[l]:m.push(l),l.lane=d|536870912),N):null}function cm(r){if(50<nh)throw nh=0,sb=null,Error(a(185));for(var l=r.return;l!==null;)r=l,l=r.return;return r.tag===3?r.stateNode:null}var zc={};function N5(r,l,d,m){this.tag=r,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ka(r,l,d,m){return new N5(r,l,d,m)}function Qx(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Pi(r,l){var d=r.alternate;return d===null?(d=ka(r.tag,l,r.key,r.mode),d.elementType=r.elementType,d.type=r.type,d.stateNode=r.stateNode,d.alternate=r,r.alternate=d):(d.pendingProps=l,d.type=r.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=r.flags&65011712,d.childLanes=r.childLanes,d.lanes=r.lanes,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,l=r.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=r.sibling,d.index=r.index,d.ref=r.ref,d.refCleanup=r.refCleanup,d}function Yw(r,l){r.flags&=65011714;var d=r.alternate;return d===null?(r.childLanes=0,r.lanes=l,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=d.childLanes,r.lanes=d.lanes,r.child=d.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=d.memoizedProps,r.memoizedState=d.memoizedState,r.updateQueue=d.updateQueue,r.type=d.type,l=d.dependencies,r.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),r}function um(r,l,d,m,b,N){var D=0;if(m=r,typeof r=="function")Qx(r)&&(D=1);else if(typeof r=="string")D=kL(r,d,$.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case H:return r=ka(31,d,l,b),r.elementType=H,r.lanes=N,r;case w:return Ml(d.children,b,N,l);case j:D=8,b|=24;break;case k:return r=ka(12,d,l,b|2),r.elementType=k,r.lanes=N,r;case _:return r=ka(13,d,l,b),r.elementType=_,r.lanes=N,r;case M:return r=ka(19,d,l,b),r.elementType=M,r.lanes=N,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case S:case A:D=10;break e;case E:D=9;break e;case T:D=11;break e;case P:D=14;break e;case O:D=16,m=null;break e}D=29,d=Error(a(130,r===null?"null":typeof r,"")),m=null}return l=ka(D,d,l,b),l.elementType=r,l.type=m,l.lanes=N,l}function Ml(r,l,d,m){return r=ka(7,r,m,l),r.lanes=d,r}function Jx(r,l,d){return r=ka(6,r,null,l),r.lanes=d,r}function ev(r,l,d){return l=ka(4,r.children!==null?r.children:[],r.key,l),l.lanes=d,l.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},l}var Uc=[],$c=0,dm=null,hm=0,Xa=[],Wa=0,Pl=null,Oi=1,Li="";function Ol(r,l){Uc[$c++]=hm,Uc[$c++]=dm,dm=r,hm=l}function Xw(r,l,d){Xa[Wa++]=Oi,Xa[Wa++]=Li,Xa[Wa++]=Pl,Pl=r;var m=Oi;r=Li;var b=32-Ft(m)-1;m&=~(1<<b),d+=1;var N=32-Ft(l)+b;if(30<N){var D=b-b%5;N=(m&(1<<D)-1).toString(32),m>>=D,b-=D,Oi=1<<32-Ft(l)+b|d<<b|m,Li=N+r}else Oi=1<<N|d<<b|m,Li=r}function tv(r){r.return!==null&&(Ol(r,1),Xw(r,1,0))}function nv(r){for(;r===dm;)dm=Uc[--$c],Uc[$c]=null,hm=Uc[--$c],Uc[$c]=null;for(;r===Pl;)Pl=Xa[--Wa],Xa[Wa]=null,Li=Xa[--Wa],Xa[Wa]=null,Oi=Xa[--Wa],Xa[Wa]=null}var na=null,Dn=null,Kt=!1,Ll=null,si=!1,sv=Error(a(519));function Il(r){var l=Error(a(418,""));throw Pd(Ka(l,r)),sv}function Ww(r){var l=r.stateNode,d=r.type,m=r.memoizedProps;switch(l[It]=r,l[xt]=m,d){case"dialog":kt("cancel",l),kt("close",l);break;case"iframe":case"object":case"embed":kt("load",l);break;case"video":case"audio":for(d=0;d<ah.length;d++)kt(ah[d],l);break;case"source":kt("error",l);break;case"img":case"image":case"link":kt("error",l),kt("load",l);break;case"details":kt("toggle",l);break;case"input":kt("invalid",l),_c(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),qa(l);break;case"select":kt("invalid",l);break;case"textarea":kt("invalid",l),ei(l,m.value,m.defaultValue,m.children),qa(l)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||fk(l.textContent,d)?(m.popover!=null&&(kt("beforetoggle",l),kt("toggle",l)),m.onScroll!=null&&kt("scroll",l),m.onScrollEnd!=null&&kt("scrollend",l),m.onClick!=null&&(l.onclick=Gm),l=!0):l=!1,l||Il(r)}function Zw(r){for(na=r.return;na;)switch(na.tag){case 5:case 13:si=!1;return;case 27:case 3:si=!0;return;default:na=na.return}}function Dd(r){if(r!==na)return!1;if(!Kt)return Zw(r),Kt=!0,!1;var l=r.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=r.type,d=!(d!=="form"&&d!=="button")||bb(r.type,r.memoizedProps)),d=!d),d&&Dn&&Il(r),Zw(r),l===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(a(317));e:{for(r=r.nextSibling,l=0;r;){if(r.nodeType===8)if(d=r.data,d==="/$"){if(l===0){Dn=Ar(r.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++;r=r.nextSibling}Dn=null}}else l===27?(l=Dn,Lo(r.type)?(r=Nb,Nb=null,Dn=r):Dn=l):Dn=na?Ar(r.stateNode.nextSibling):null;return!0}function Md(){Dn=na=null,Kt=!1}function Qw(){var r=Ll;return r!==null&&(da===null?da=r:da.push.apply(da,r),Ll=null),r}function Pd(r){Ll===null?Ll=[r]:Ll.push(r)}var av=G(null),Bl=null,Ii=null;function jo(r,l,d){W(av,l._currentValue),l._currentValue=d}function Bi(r){r._currentValue=av.current,B(av)}function rv(r,l,d){for(;r!==null;){var m=r.alternate;if((r.childLanes&l)!==l?(r.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),r===d)break;r=r.return}}function iv(r,l,d,m){var b=r.child;for(b!==null&&(b.return=r);b!==null;){var N=b.dependencies;if(N!==null){var D=b.child;N=N.firstContext;e:for(;N!==null;){var I=N;N=b;for(var Z=0;Z<l.length;Z++)if(I.context===l[Z]){N.lanes|=d,I=N.alternate,I!==null&&(I.lanes|=d),rv(N.return,d,r),m||(D=null);break e}N=I.next}}else if(b.tag===18){if(D=b.return,D===null)throw Error(a(341));D.lanes|=d,N=D.alternate,N!==null&&(N.lanes|=d),rv(D,d,r),D=null}else D=b.child;if(D!==null)D.return=b;else for(D=b;D!==null;){if(D===r){D=null;break}if(b=D.sibling,b!==null){b.return=D.return,D=b;break}D=D.return}b=D}}function Od(r,l,d,m){r=null;for(var b=l,N=!1;b!==null;){if(!N){if((b.flags&524288)!==0)N=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var D=b.alternate;if(D===null)throw Error(a(387));if(D=D.memoizedProps,D!==null){var I=b.type;Sa(b.pendingProps.value,D.value)||(r!==null?r.push(I):r=[I])}}else if(b===te.current){if(D=b.alternate,D===null)throw Error(a(387));D.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(r!==null?r.push(uh):r=[uh])}b=b.return}r!==null&&iv(l,r,d,m),l.flags|=262144}function fm(r){for(r=r.firstContext;r!==null;){if(!Sa(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function zl(r){Bl=r,Ii=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function zs(r){return Jw(Bl,r)}function mm(r,l){return Bl===null&&zl(r),Jw(r,l)}function Jw(r,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},Ii===null){if(r===null)throw Error(a(308));Ii=l,r.dependencies={lanes:0,firstContext:l},r.flags|=524288}else Ii=Ii.next=l;return d}var S5=typeof AbortController<"u"?AbortController:function(){var r=[],l=this.signal={aborted:!1,addEventListener:function(d,m){r.push(m)}};this.abort=function(){l.aborted=!0,r.forEach(function(d){return d()})}},k5=t.unstable_scheduleCallback,E5=t.unstable_NormalPriority,as={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ov(){return{controller:new S5,data:new Map,refCount:0}}function Ld(r){r.refCount--,r.refCount===0&&k5(E5,function(){r.controller.abort()})}var Id=null,lv=0,Fc=0,Vc=null;function A5(r,l){if(Id===null){var d=Id=[];lv=0,Fc=ub(),Vc={status:"pending",value:void 0,then:function(m){d.push(m)}}}return lv++,l.then(eN,eN),l}function eN(){if(--lv===0&&Id!==null){Vc!==null&&(Vc.status="fulfilled");var r=Id;Id=null,Fc=0,Vc=null;for(var l=0;l<r.length;l++)(0,r[l])()}}function C5(r,l){var d=[],m={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return r.then(function(){m.status="fulfilled",m.value=l;for(var b=0;b<d.length;b++)(0,d[b])(l)},function(b){for(m.status="rejected",m.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),m}var tN=L.S;L.S=function(r,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&A5(r,l),tN!==null&&tN(r,l)};var Ul=G(null);function cv(){var r=Ul.current;return r!==null?r:ln.pooledCache}function pm(r,l){l===null?W(Ul,Ul.current):W(Ul,l.pool)}function nN(){var r=cv();return r===null?null:{parent:as._currentValue,pool:r}}var Bd=Error(a(460)),sN=Error(a(474)),gm=Error(a(542)),uv={then:function(){}};function aN(r){return r=r.status,r==="fulfilled"||r==="rejected"}function xm(){}function rN(r,l,d){switch(d=r[d],d===void 0?r.push(l):d!==l&&(l.then(xm,xm),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,oN(r),r;default:if(typeof l.status=="string")l.then(xm,xm);else{if(r=ln,r!==null&&100<r.shellSuspendCounter)throw Error(a(482));r=l,r.status="pending",r.then(function(m){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=m}},function(m){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw r=l.reason,oN(r),r}throw zd=l,Bd}}var zd=null;function iN(){if(zd===null)throw Error(a(459));var r=zd;return zd=null,r}function oN(r){if(r===Bd||r===gm)throw Error(a(483))}var wo=!1;function dv(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hv(r,l){r=r.updateQueue,l.updateQueue===r&&(l.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function No(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function So(r,l,d){var m=r.updateQueue;if(m===null)return null;if(m=m.shared,(Xt&2)!==0){var b=m.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),m.pending=l,l=cm(r),Kw(r,null,d),l}return lm(r,m,l,d),cm(r)}function Ud(r,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=r.pendingLanes,d|=m,l.lanes=d,vt(r,d)}}function fv(r,l){var d=r.updateQueue,m=r.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var b=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var D={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?b=N=D:N=N.next=D,d=d.next}while(d!==null);N===null?b=N=l:N=N.next=l}else b=N=l;d={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:N,shared:m.shared,callbacks:m.callbacks},r.updateQueue=d;return}r=d.lastBaseUpdate,r===null?d.firstBaseUpdate=l:r.next=l,d.lastBaseUpdate=l}var mv=!1;function $d(){if(mv){var r=Vc;if(r!==null)throw r}}function Fd(r,l,d,m){mv=!1;var b=r.updateQueue;wo=!1;var N=b.firstBaseUpdate,D=b.lastBaseUpdate,I=b.shared.pending;if(I!==null){b.shared.pending=null;var Z=I,ue=Z.next;Z.next=null,D===null?N=ue:D.next=ue,D=Z;var ye=r.alternate;ye!==null&&(ye=ye.updateQueue,I=ye.lastBaseUpdate,I!==D&&(I===null?ye.firstBaseUpdate=ue:I.next=ue,ye.lastBaseUpdate=Z))}if(N!==null){var ke=b.baseState;D=0,ye=ue=Z=null,I=N;do{var fe=I.lane&-536870913,me=fe!==I.lane;if(me?(Bt&fe)===fe:(m&fe)===fe){fe!==0&&fe===Fc&&(mv=!0),ye!==null&&(ye=ye.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var ft=r,it=I;fe=l;var tn=d;switch(it.tag){case 1:if(ft=it.payload,typeof ft=="function"){ke=ft.call(tn,ke,fe);break e}ke=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=it.payload,fe=typeof ft=="function"?ft.call(tn,ke,fe):ft,fe==null)break e;ke=p({},ke,fe);break e;case 2:wo=!0}}fe=I.callback,fe!==null&&(r.flags|=64,me&&(r.flags|=8192),me=b.callbacks,me===null?b.callbacks=[fe]:me.push(fe))}else me={lane:fe,tag:I.tag,payload:I.payload,callback:I.callback,next:null},ye===null?(ue=ye=me,Z=ke):ye=ye.next=me,D|=fe;if(I=I.next,I===null){if(I=b.shared.pending,I===null)break;me=I,I=me.next,me.next=null,b.lastBaseUpdate=me,b.shared.pending=null}}while(!0);ye===null&&(Z=ke),b.baseState=Z,b.firstBaseUpdate=ue,b.lastBaseUpdate=ye,N===null&&(b.shared.lanes=0),Do|=D,r.lanes=D,r.memoizedState=ke}}function lN(r,l){if(typeof r!="function")throw Error(a(191,r));r.call(l)}function cN(r,l){var d=r.callbacks;if(d!==null)for(r.callbacks=null,r=0;r<d.length;r++)lN(d[r],l)}var qc=G(null),vm=G(0);function uN(r,l){r=Hi,W(vm,r),W(qc,l),Hi=r|l.baseLanes}function pv(){W(vm,Hi),W(qc,qc.current)}function gv(){Hi=vm.current,B(qc),B(vm)}var ko=0,yt=null,Jt=null,Kn=null,bm=!1,Hc=!1,$l=!1,ym=0,Vd=0,Gc=null,T5=0;function $n(){throw Error(a(321))}function xv(r,l){if(l===null)return!1;for(var d=0;d<l.length&&d<r.length;d++)if(!Sa(r[d],l[d]))return!1;return!0}function vv(r,l,d,m,b,N){return ko=N,yt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,L.H=r===null||r.memoizedState===null?KN:YN,$l=!1,N=d(m,b),$l=!1,Hc&&(N=hN(l,d,m,b)),dN(r),N}function dN(r){L.H=Em;var l=Jt!==null&&Jt.next!==null;if(ko=0,Kn=Jt=yt=null,bm=!1,Vd=0,Gc=null,l)throw Error(a(300));r===null||gs||(r=r.dependencies,r!==null&&fm(r)&&(gs=!0))}function hN(r,l,d,m){yt=r;var b=0;do{if(Hc&&(Gc=null),Vd=0,Hc=!1,25<=b)throw Error(a(301));if(b+=1,Kn=Jt=null,r.updateQueue!=null){var N=r.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}L.H=L5,N=l(d,m)}while(Hc);return N}function _5(){var r=L.H,l=r.useState()[0];return l=typeof l.then=="function"?qd(l):l,r=r.useState()[0],(Jt!==null?Jt.memoizedState:null)!==r&&(yt.flags|=1024),l}function bv(){var r=ym!==0;return ym=0,r}function yv(r,l,d){l.updateQueue=r.updateQueue,l.flags&=-2053,r.lanes&=~d}function jv(r){if(bm){for(r=r.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}bm=!1}ko=0,Kn=Jt=yt=null,Hc=!1,Vd=ym=0,Gc=null}function ca(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?yt.memoizedState=Kn=r:Kn=Kn.next=r,Kn}function Yn(){if(Jt===null){var r=yt.alternate;r=r!==null?r.memoizedState:null}else r=Jt.next;var l=Kn===null?yt.memoizedState:Kn.next;if(l!==null)Kn=l,Jt=r;else{if(r===null)throw yt.alternate===null?Error(a(467)):Error(a(310));Jt=r,r={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Kn===null?yt.memoizedState=Kn=r:Kn=Kn.next=r}return Kn}function wv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qd(r){var l=Vd;return Vd+=1,Gc===null&&(Gc=[]),r=rN(Gc,r,l),l=yt,(Kn===null?l.memoizedState:Kn.next)===null&&(l=l.alternate,L.H=l===null||l.memoizedState===null?KN:YN),r}function jm(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return qd(r);if(r.$$typeof===A)return zs(r)}throw Error(a(438,String(r)))}function Nv(r){var l=null,d=yt.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=yt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=wv(),yt.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(r),m=0;m<r;m++)d[m]=Y;return l.index++,d}function zi(r,l){return typeof l=="function"?l(r):l}function wm(r){var l=Yn();return Sv(l,Jt,r)}function Sv(r,l,d){var m=r.queue;if(m===null)throw Error(a(311));m.lastRenderedReducer=d;var b=r.baseQueue,N=m.pending;if(N!==null){if(b!==null){var D=b.next;b.next=N.next,N.next=D}l.baseQueue=b=N,m.pending=null}if(N=r.baseState,b===null)r.memoizedState=N;else{l=b.next;var I=D=null,Z=null,ue=l,ye=!1;do{var ke=ue.lane&-536870913;if(ke!==ue.lane?(Bt&ke)===ke:(ko&ke)===ke){var fe=ue.revertLane;if(fe===0)Z!==null&&(Z=Z.next={lane:0,revertLane:0,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),ke===Fc&&(ye=!0);else if((ko&fe)===fe){ue=ue.next,fe===Fc&&(ye=!0);continue}else ke={lane:0,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Z===null?(I=Z=ke,D=N):Z=Z.next=ke,yt.lanes|=fe,Do|=fe;ke=ue.action,$l&&d(N,ke),N=ue.hasEagerState?ue.eagerState:d(N,ke)}else fe={lane:ke,revertLane:ue.revertLane,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Z===null?(I=Z=fe,D=N):Z=Z.next=fe,yt.lanes|=ke,Do|=ke;ue=ue.next}while(ue!==null&&ue!==l);if(Z===null?D=N:Z.next=I,!Sa(N,r.memoizedState)&&(gs=!0,ye&&(d=Vc,d!==null)))throw d;r.memoizedState=N,r.baseState=D,r.baseQueue=Z,m.lastRenderedState=N}return b===null&&(m.lanes=0),[r.memoizedState,m.dispatch]}function kv(r){var l=Yn(),d=l.queue;if(d===null)throw Error(a(311));d.lastRenderedReducer=r;var m=d.dispatch,b=d.pending,N=l.memoizedState;if(b!==null){d.pending=null;var D=b=b.next;do N=r(N,D.action),D=D.next;while(D!==b);Sa(N,l.memoizedState)||(gs=!0),l.memoizedState=N,l.baseQueue===null&&(l.baseState=N),d.lastRenderedState=N}return[N,m]}function fN(r,l,d){var m=yt,b=Yn(),N=Kt;if(N){if(d===void 0)throw Error(a(407));d=d()}else d=l();var D=!Sa((Jt||b).memoizedState,d);D&&(b.memoizedState=d,gs=!0),b=b.queue;var I=gN.bind(null,m,b,r);if(Hd(2048,8,I,[r]),b.getSnapshot!==l||D||Kn!==null&&Kn.memoizedState.tag&1){if(m.flags|=2048,Kc(9,Nm(),pN.bind(null,m,b,d,l),null),ln===null)throw Error(a(349));N||(ko&124)!==0||mN(m,l,d)}return d}function mN(r,l,d){r.flags|=16384,r={getSnapshot:l,value:d},l=yt.updateQueue,l===null?(l=wv(),yt.updateQueue=l,l.stores=[r]):(d=l.stores,d===null?l.stores=[r]:d.push(r))}function pN(r,l,d,m){l.value=d,l.getSnapshot=m,xN(l)&&vN(r)}function gN(r,l,d){return d(function(){xN(l)&&vN(r)})}function xN(r){var l=r.getSnapshot;r=r.value;try{var d=l();return!Sa(r,d)}catch{return!0}}function vN(r){var l=Bc(r,2);l!==null&&_a(l,r,2)}function Ev(r){var l=ca();if(typeof r=="function"){var d=r;if(r=d(),$l){nn(!0);try{d()}finally{nn(!1)}}}return l.memoizedState=l.baseState=r,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:r},l}function bN(r,l,d,m){return r.baseState=d,Sv(r,Jt,typeof m=="function"?m:zi)}function R5(r,l,d,m,b){if(km(r))throw Error(a(485));if(r=l.action,r!==null){var N={payload:b,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){N.listeners.push(D)}};L.T!==null?d(!0):N.isTransition=!1,m(N),d=l.pending,d===null?(N.next=l.pending=N,yN(l,N)):(N.next=d.next,l.pending=d.next=N)}}function yN(r,l){var d=l.action,m=l.payload,b=r.state;if(l.isTransition){var N=L.T,D={};L.T=D;try{var I=d(b,m),Z=L.S;Z!==null&&Z(D,I),jN(r,l,I)}catch(ue){Av(r,l,ue)}finally{L.T=N}}else try{N=d(b,m),jN(r,l,N)}catch(ue){Av(r,l,ue)}}function jN(r,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){wN(r,l,m)},function(m){return Av(r,l,m)}):wN(r,l,d)}function wN(r,l,d){l.status="fulfilled",l.value=d,NN(l),r.state=d,l=r.pending,l!==null&&(d=l.next,d===l?r.pending=null:(d=d.next,l.next=d,yN(r,d)))}function Av(r,l,d){var m=r.pending;if(r.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,NN(l),l=l.next;while(l!==m)}r.action=null}function NN(r){r=r.listeners;for(var l=0;l<r.length;l++)(0,r[l])()}function SN(r,l){return l}function kN(r,l){if(Kt){var d=ln.formState;if(d!==null){e:{var m=yt;if(Kt){if(Dn){t:{for(var b=Dn,N=si;b.nodeType!==8;){if(!N){b=null;break t}if(b=Ar(b.nextSibling),b===null){b=null;break t}}N=b.data,b=N==="F!"||N==="F"?b:null}if(b){Dn=Ar(b.nextSibling),m=b.data==="F!";break e}}Il(m)}m=!1}m&&(l=d[0])}}return d=ca(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:SN,lastRenderedState:l},d.queue=m,d=qN.bind(null,yt,m),m.dispatch=d,m=Ev(!1),N=Dv.bind(null,yt,!1,m.queue),m=ca(),b={state:l,dispatch:null,action:r,pending:null},m.queue=b,d=R5.bind(null,yt,b,N,d),b.dispatch=d,m.memoizedState=r,[l,d,!1]}function EN(r){var l=Yn();return AN(l,Jt,r)}function AN(r,l,d){if(l=Sv(r,l,SN)[0],r=wm(zi)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=qd(l)}catch(D){throw D===Bd?gm:D}else m=l;l=Yn();var b=l.queue,N=b.dispatch;return d!==l.memoizedState&&(yt.flags|=2048,Kc(9,Nm(),D5.bind(null,b,d),null)),[m,N,r]}function D5(r,l){r.action=l}function CN(r){var l=Yn(),d=Jt;if(d!==null)return AN(l,d,r);Yn(),l=l.memoizedState,d=Yn();var m=d.queue.dispatch;return d.memoizedState=r,[l,m,!1]}function Kc(r,l,d,m){return r={tag:r,create:d,deps:m,inst:l,next:null},l=yt.updateQueue,l===null&&(l=wv(),yt.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=r.next=r:(m=d.next,d.next=r,r.next=m,l.lastEffect=r),r}function Nm(){return{destroy:void 0,resource:void 0}}function TN(){return Yn().memoizedState}function Sm(r,l,d,m){var b=ca();m=m===void 0?null:m,yt.flags|=r,b.memoizedState=Kc(1|l,Nm(),d,m)}function Hd(r,l,d,m){var b=Yn();m=m===void 0?null:m;var N=b.memoizedState.inst;Jt!==null&&m!==null&&xv(m,Jt.memoizedState.deps)?b.memoizedState=Kc(l,N,d,m):(yt.flags|=r,b.memoizedState=Kc(1|l,N,d,m))}function _N(r,l){Sm(8390656,8,r,l)}function RN(r,l){Hd(2048,8,r,l)}function DN(r,l){return Hd(4,2,r,l)}function MN(r,l){return Hd(4,4,r,l)}function PN(r,l){if(typeof l=="function"){r=r();var d=l(r);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return r=r(),l.current=r,function(){l.current=null}}function ON(r,l,d){d=d!=null?d.concat([r]):null,Hd(4,4,PN.bind(null,l,r),d)}function Cv(){}function LN(r,l){var d=Yn();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&xv(l,m[1])?m[0]:(d.memoizedState=[r,l],r)}function IN(r,l){var d=Yn();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&xv(l,m[1]))return m[0];if(m=r(),$l){nn(!0);try{r()}finally{nn(!1)}}return d.memoizedState=[m,l],m}function Tv(r,l,d){return d===void 0||(ko&1073741824)!==0?r.memoizedState=l:(r.memoizedState=d,r=US(),yt.lanes|=r,Do|=r,d)}function BN(r,l,d,m){return Sa(d,l)?d:qc.current!==null?(r=Tv(r,d,m),Sa(r,l)||(gs=!0),r):(ko&42)===0?(gs=!0,r.memoizedState=d):(r=US(),yt.lanes|=r,Do|=r,l)}function zN(r,l,d,m,b){var N=F.p;F.p=N!==0&&8>N?N:8;var D=L.T,I={};L.T=I,Dv(r,!1,l,d);try{var Z=b(),ue=L.S;if(ue!==null&&ue(I,Z),Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ye=C5(Z,m);Gd(r,l,ye,Ta(r))}else Gd(r,l,m,Ta(r))}catch(ke){Gd(r,l,{then:function(){},status:"rejected",reason:ke},Ta())}finally{F.p=N,L.T=D}}function M5(){}function _v(r,l,d,m){if(r.tag!==5)throw Error(a(476));var b=UN(r).queue;zN(r,b,l,V,d===null?M5:function(){return $N(r),d(m)})}function UN(r){var l=r.memoizedState;if(l!==null)return l;l={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:V},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:d},next:null},r.memoizedState=l,r=r.alternate,r!==null&&(r.memoizedState=l),l}function $N(r){var l=UN(r).next.queue;Gd(r,l,{},Ta())}function Rv(){return zs(uh)}function FN(){return Yn().memoizedState}function VN(){return Yn().memoizedState}function P5(r){for(var l=r.return;l!==null;){switch(l.tag){case 24:case 3:var d=Ta();r=No(d);var m=So(l,r,d);m!==null&&(_a(m,l,d),Ud(m,l,d)),l={cache:ov()},r.payload=l;return}l=l.return}}function O5(r,l,d){var m=Ta();d={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},km(r)?HN(l,d):(d=Zx(r,l,d,m),d!==null&&(_a(d,r,m),GN(d,l,m)))}function qN(r,l,d){var m=Ta();Gd(r,l,d,m)}function Gd(r,l,d,m){var b={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(km(r))HN(l,b);else{var N=r.alternate;if(r.lanes===0&&(N===null||N.lanes===0)&&(N=l.lastRenderedReducer,N!==null))try{var D=l.lastRenderedState,I=N(D,d);if(b.hasEagerState=!0,b.eagerState=I,Sa(I,D))return lm(r,l,b,0),ln===null&&om(),!1}catch{}finally{}if(d=Zx(r,l,b,m),d!==null)return _a(d,r,m),GN(d,l,m),!0}return!1}function Dv(r,l,d,m){if(m={lane:2,revertLane:ub(),action:m,hasEagerState:!1,eagerState:null,next:null},km(r)){if(l)throw Error(a(479))}else l=Zx(r,d,m,2),l!==null&&_a(l,r,2)}function km(r){var l=r.alternate;return r===yt||l!==null&&l===yt}function HN(r,l){Hc=bm=!0;var d=r.pending;d===null?l.next=l:(l.next=d.next,d.next=l),r.pending=l}function GN(r,l,d){if((d&4194048)!==0){var m=l.lanes;m&=r.pendingLanes,d|=m,l.lanes=d,vt(r,d)}}var Em={readContext:zs,use:jm,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useLayoutEffect:$n,useInsertionEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useSyncExternalStore:$n,useId:$n,useHostTransitionStatus:$n,useFormState:$n,useActionState:$n,useOptimistic:$n,useMemoCache:$n,useCacheRefresh:$n},KN={readContext:zs,use:jm,useCallback:function(r,l){return ca().memoizedState=[r,l===void 0?null:l],r},useContext:zs,useEffect:_N,useImperativeHandle:function(r,l,d){d=d!=null?d.concat([r]):null,Sm(4194308,4,PN.bind(null,l,r),d)},useLayoutEffect:function(r,l){return Sm(4194308,4,r,l)},useInsertionEffect:function(r,l){Sm(4,2,r,l)},useMemo:function(r,l){var d=ca();l=l===void 0?null:l;var m=r();if($l){nn(!0);try{r()}finally{nn(!1)}}return d.memoizedState=[m,l],m},useReducer:function(r,l,d){var m=ca();if(d!==void 0){var b=d(l);if($l){nn(!0);try{d(l)}finally{nn(!1)}}}else b=l;return m.memoizedState=m.baseState=b,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:b},m.queue=r,r=r.dispatch=O5.bind(null,yt,r),[m.memoizedState,r]},useRef:function(r){var l=ca();return r={current:r},l.memoizedState=r},useState:function(r){r=Ev(r);var l=r.queue,d=qN.bind(null,yt,l);return l.dispatch=d,[r.memoizedState,d]},useDebugValue:Cv,useDeferredValue:function(r,l){var d=ca();return Tv(d,r,l)},useTransition:function(){var r=Ev(!1);return r=zN.bind(null,yt,r.queue,!0,!1),ca().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,l,d){var m=yt,b=ca();if(Kt){if(d===void 0)throw Error(a(407));d=d()}else{if(d=l(),ln===null)throw Error(a(349));(Bt&124)!==0||mN(m,l,d)}b.memoizedState=d;var N={value:d,getSnapshot:l};return b.queue=N,_N(gN.bind(null,m,N,r),[r]),m.flags|=2048,Kc(9,Nm(),pN.bind(null,m,N,d,l),null),d},useId:function(){var r=ca(),l=ln.identifierPrefix;if(Kt){var d=Li,m=Oi;d=(m&~(1<<32-Ft(m)-1)).toString(32)+d,l=""+l+"R"+d,d=ym++,0<d&&(l+="H"+d.toString(32)),l+=""}else d=T5++,l=""+l+"r"+d.toString(32)+"";return r.memoizedState=l},useHostTransitionStatus:Rv,useFormState:kN,useActionState:kN,useOptimistic:function(r){var l=ca();l.memoizedState=l.baseState=r;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=Dv.bind(null,yt,!0,d),d.dispatch=l,[r,l]},useMemoCache:Nv,useCacheRefresh:function(){return ca().memoizedState=P5.bind(null,yt)}},YN={readContext:zs,use:jm,useCallback:LN,useContext:zs,useEffect:RN,useImperativeHandle:ON,useInsertionEffect:DN,useLayoutEffect:MN,useMemo:IN,useReducer:wm,useRef:TN,useState:function(){return wm(zi)},useDebugValue:Cv,useDeferredValue:function(r,l){var d=Yn();return BN(d,Jt.memoizedState,r,l)},useTransition:function(){var r=wm(zi)[0],l=Yn().memoizedState;return[typeof r=="boolean"?r:qd(r),l]},useSyncExternalStore:fN,useId:FN,useHostTransitionStatus:Rv,useFormState:EN,useActionState:EN,useOptimistic:function(r,l){var d=Yn();return bN(d,Jt,r,l)},useMemoCache:Nv,useCacheRefresh:VN},L5={readContext:zs,use:jm,useCallback:LN,useContext:zs,useEffect:RN,useImperativeHandle:ON,useInsertionEffect:DN,useLayoutEffect:MN,useMemo:IN,useReducer:kv,useRef:TN,useState:function(){return kv(zi)},useDebugValue:Cv,useDeferredValue:function(r,l){var d=Yn();return Jt===null?Tv(d,r,l):BN(d,Jt.memoizedState,r,l)},useTransition:function(){var r=kv(zi)[0],l=Yn().memoizedState;return[typeof r=="boolean"?r:qd(r),l]},useSyncExternalStore:fN,useId:FN,useHostTransitionStatus:Rv,useFormState:CN,useActionState:CN,useOptimistic:function(r,l){var d=Yn();return Jt!==null?bN(d,Jt,r,l):(d.baseState=r,[r,d.queue.dispatch])},useMemoCache:Nv,useCacheRefresh:VN},Yc=null,Kd=0;function Am(r){var l=Kd;return Kd+=1,Yc===null&&(Yc=[]),rN(Yc,r,l)}function Yd(r,l){l=l.props.ref,r.ref=l!==void 0?l:null}function Cm(r,l){throw l.$$typeof===g?Error(a(525)):(r=Object.prototype.toString.call(l),Error(a(31,r==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":r)))}function XN(r){var l=r._init;return l(r._payload)}function WN(r){function l(oe,se){if(r){var le=oe.deletions;le===null?(oe.deletions=[se],oe.flags|=16):le.push(se)}}function d(oe,se){if(!r)return null;for(;se!==null;)l(oe,se),se=se.sibling;return null}function m(oe){for(var se=new Map;oe!==null;)oe.key!==null?se.set(oe.key,oe):se.set(oe.index,oe),oe=oe.sibling;return se}function b(oe,se){return oe=Pi(oe,se),oe.index=0,oe.sibling=null,oe}function N(oe,se,le){return oe.index=le,r?(le=oe.alternate,le!==null?(le=le.index,le<se?(oe.flags|=67108866,se):le):(oe.flags|=67108866,se)):(oe.flags|=1048576,se)}function D(oe){return r&&oe.alternate===null&&(oe.flags|=67108866),oe}function I(oe,se,le,je){return se===null||se.tag!==6?(se=Jx(le,oe.mode,je),se.return=oe,se):(se=b(se,le),se.return=oe,se)}function Z(oe,se,le,je){var Ye=le.type;return Ye===w?ye(oe,se,le.props.children,je,le.key):se!==null&&(se.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===O&&XN(Ye)===se.type)?(se=b(se,le.props),Yd(se,le),se.return=oe,se):(se=um(le.type,le.key,le.props,null,oe.mode,je),Yd(se,le),se.return=oe,se)}function ue(oe,se,le,je){return se===null||se.tag!==4||se.stateNode.containerInfo!==le.containerInfo||se.stateNode.implementation!==le.implementation?(se=ev(le,oe.mode,je),se.return=oe,se):(se=b(se,le.children||[]),se.return=oe,se)}function ye(oe,se,le,je,Ye){return se===null||se.tag!==7?(se=Ml(le,oe.mode,je,Ye),se.return=oe,se):(se=b(se,le),se.return=oe,se)}function ke(oe,se,le){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=Jx(""+se,oe.mode,le),se.return=oe,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case v:return le=um(se.type,se.key,se.props,null,oe.mode,le),Yd(le,se),le.return=oe,le;case y:return se=ev(se,oe.mode,le),se.return=oe,se;case O:var je=se._init;return se=je(se._payload),ke(oe,se,le)}if(ne(se)||X(se))return se=Ml(se,oe.mode,le,null),se.return=oe,se;if(typeof se.then=="function")return ke(oe,Am(se),le);if(se.$$typeof===A)return ke(oe,mm(oe,se),le);Cm(oe,se)}return null}function fe(oe,se,le,je){var Ye=se!==null?se.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Ye!==null?null:I(oe,se,""+le,je);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case v:return le.key===Ye?Z(oe,se,le,je):null;case y:return le.key===Ye?ue(oe,se,le,je):null;case O:return Ye=le._init,le=Ye(le._payload),fe(oe,se,le,je)}if(ne(le)||X(le))return Ye!==null?null:ye(oe,se,le,je,null);if(typeof le.then=="function")return fe(oe,se,Am(le),je);if(le.$$typeof===A)return fe(oe,se,mm(oe,le),je);Cm(oe,le)}return null}function me(oe,se,le,je,Ye){if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return oe=oe.get(le)||null,I(se,oe,""+je,Ye);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case v:return oe=oe.get(je.key===null?le:je.key)||null,Z(se,oe,je,Ye);case y:return oe=oe.get(je.key===null?le:je.key)||null,ue(se,oe,je,Ye);case O:var wt=je._init;return je=wt(je._payload),me(oe,se,le,je,Ye)}if(ne(je)||X(je))return oe=oe.get(le)||null,ye(se,oe,je,Ye,null);if(typeof je.then=="function")return me(oe,se,le,Am(je),Ye);if(je.$$typeof===A)return me(oe,se,le,mm(se,je),Ye);Cm(se,je)}return null}function ft(oe,se,le,je){for(var Ye=null,wt=null,nt=se,ot=se=0,vs=null;nt!==null&&ot<le.length;ot++){nt.index>ot?(vs=nt,nt=null):vs=nt.sibling;var qt=fe(oe,nt,le[ot],je);if(qt===null){nt===null&&(nt=vs);break}r&&nt&&qt.alternate===null&&l(oe,nt),se=N(qt,se,ot),wt===null?Ye=qt:wt.sibling=qt,wt=qt,nt=vs}if(ot===le.length)return d(oe,nt),Kt&&Ol(oe,ot),Ye;if(nt===null){for(;ot<le.length;ot++)nt=ke(oe,le[ot],je),nt!==null&&(se=N(nt,se,ot),wt===null?Ye=nt:wt.sibling=nt,wt=nt);return Kt&&Ol(oe,ot),Ye}for(nt=m(nt);ot<le.length;ot++)vs=me(nt,oe,ot,le[ot],je),vs!==null&&(r&&vs.alternate!==null&&nt.delete(vs.key===null?ot:vs.key),se=N(vs,se,ot),wt===null?Ye=vs:wt.sibling=vs,wt=vs);return r&&nt.forEach(function($o){return l(oe,$o)}),Kt&&Ol(oe,ot),Ye}function it(oe,se,le,je){if(le==null)throw Error(a(151));for(var Ye=null,wt=null,nt=se,ot=se=0,vs=null,qt=le.next();nt!==null&&!qt.done;ot++,qt=le.next()){nt.index>ot?(vs=nt,nt=null):vs=nt.sibling;var $o=fe(oe,nt,qt.value,je);if($o===null){nt===null&&(nt=vs);break}r&&nt&&$o.alternate===null&&l(oe,nt),se=N($o,se,ot),wt===null?Ye=$o:wt.sibling=$o,wt=$o,nt=vs}if(qt.done)return d(oe,nt),Kt&&Ol(oe,ot),Ye;if(nt===null){for(;!qt.done;ot++,qt=le.next())qt=ke(oe,qt.value,je),qt!==null&&(se=N(qt,se,ot),wt===null?Ye=qt:wt.sibling=qt,wt=qt);return Kt&&Ol(oe,ot),Ye}for(nt=m(nt);!qt.done;ot++,qt=le.next())qt=me(nt,oe,ot,qt.value,je),qt!==null&&(r&&qt.alternate!==null&&nt.delete(qt.key===null?ot:qt.key),se=N(qt,se,ot),wt===null?Ye=qt:wt.sibling=qt,wt=qt);return r&&nt.forEach(function(IL){return l(oe,IL)}),Kt&&Ol(oe,ot),Ye}function tn(oe,se,le,je){if(typeof le=="object"&&le!==null&&le.type===w&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case v:e:{for(var Ye=le.key;se!==null;){if(se.key===Ye){if(Ye=le.type,Ye===w){if(se.tag===7){d(oe,se.sibling),je=b(se,le.props.children),je.return=oe,oe=je;break e}}else if(se.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===O&&XN(Ye)===se.type){d(oe,se.sibling),je=b(se,le.props),Yd(je,le),je.return=oe,oe=je;break e}d(oe,se);break}else l(oe,se);se=se.sibling}le.type===w?(je=Ml(le.props.children,oe.mode,je,le.key),je.return=oe,oe=je):(je=um(le.type,le.key,le.props,null,oe.mode,je),Yd(je,le),je.return=oe,oe=je)}return D(oe);case y:e:{for(Ye=le.key;se!==null;){if(se.key===Ye)if(se.tag===4&&se.stateNode.containerInfo===le.containerInfo&&se.stateNode.implementation===le.implementation){d(oe,se.sibling),je=b(se,le.children||[]),je.return=oe,oe=je;break e}else{d(oe,se);break}else l(oe,se);se=se.sibling}je=ev(le,oe.mode,je),je.return=oe,oe=je}return D(oe);case O:return Ye=le._init,le=Ye(le._payload),tn(oe,se,le,je)}if(ne(le))return ft(oe,se,le,je);if(X(le)){if(Ye=X(le),typeof Ye!="function")throw Error(a(150));return le=Ye.call(le),it(oe,se,le,je)}if(typeof le.then=="function")return tn(oe,se,Am(le),je);if(le.$$typeof===A)return tn(oe,se,mm(oe,le),je);Cm(oe,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,se!==null&&se.tag===6?(d(oe,se.sibling),je=b(se,le),je.return=oe,oe=je):(d(oe,se),je=Jx(le,oe.mode,je),je.return=oe,oe=je),D(oe)):d(oe,se)}return function(oe,se,le,je){try{Kd=0;var Ye=tn(oe,se,le,je);return Yc=null,Ye}catch(nt){if(nt===Bd||nt===gm)throw nt;var wt=ka(29,nt,null,oe.mode);return wt.lanes=je,wt.return=oe,wt}finally{}}}var Xc=WN(!0),ZN=WN(!1),Za=G(null),ai=null;function Eo(r){var l=r.alternate;W(rs,rs.current&1),W(Za,r),ai===null&&(l===null||qc.current!==null||l.memoizedState!==null)&&(ai=r)}function QN(r){if(r.tag===22){if(W(rs,rs.current),W(Za,r),ai===null){var l=r.alternate;l!==null&&l.memoizedState!==null&&(ai=r)}}else Ao()}function Ao(){W(rs,rs.current),W(Za,Za.current)}function Ui(r){B(Za),ai===r&&(ai=null),B(rs)}var rs=G(0);function Tm(r){for(var l=r;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||wb(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Mv(r,l,d,m){l=r.memoizedState,d=d(m,l),d=d==null?l:p({},l,d),r.memoizedState=d,r.lanes===0&&(r.updateQueue.baseState=d)}var Pv={enqueueSetState:function(r,l,d){r=r._reactInternals;var m=Ta(),b=No(m);b.payload=l,d!=null&&(b.callback=d),l=So(r,b,m),l!==null&&(_a(l,r,m),Ud(l,r,m))},enqueueReplaceState:function(r,l,d){r=r._reactInternals;var m=Ta(),b=No(m);b.tag=1,b.payload=l,d!=null&&(b.callback=d),l=So(r,b,m),l!==null&&(_a(l,r,m),Ud(l,r,m))},enqueueForceUpdate:function(r,l){r=r._reactInternals;var d=Ta(),m=No(d);m.tag=2,l!=null&&(m.callback=l),l=So(r,m,d),l!==null&&(_a(l,r,d),Ud(l,r,d))}};function JN(r,l,d,m,b,N,D){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(m,N,D):l.prototype&&l.prototype.isPureReactComponent?!_d(d,m)||!_d(b,N):!0}function eS(r,l,d,m){r=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==r&&Pv.enqueueReplaceState(l,l.state,null)}function Fl(r,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(r=r.defaultProps){d===l&&(d=p({},d));for(var b in r)d[b]===void 0&&(d[b]=r[b])}return d}var _m=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function tS(r){_m(r)}function nS(r){console.error(r)}function sS(r){_m(r)}function Rm(r,l){try{var d=r.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function aS(r,l,d){try{var m=r.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Ov(r,l,d){return d=No(d),d.tag=3,d.payload={element:null},d.callback=function(){Rm(r,l)},d}function rS(r){return r=No(r),r.tag=3,r}function iS(r,l,d,m){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var N=m.value;r.payload=function(){return b(N)},r.callback=function(){aS(l,d,m)}}var D=d.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(r.callback=function(){aS(l,d,m),typeof b!="function"&&(Mo===null?Mo=new Set([this]):Mo.add(this));var I=m.stack;this.componentDidCatch(m.value,{componentStack:I!==null?I:""})})}function I5(r,l,d,m,b){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&Od(l,d,b,!0),d=Za.current,d!==null){switch(d.tag){case 13:return ai===null?rb():d.alternate===null&&Mn===0&&(Mn=3),d.flags&=-257,d.flags|=65536,d.lanes=b,m===uv?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),ob(r,m,b)),!1;case 22:return d.flags|=65536,m===uv?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),ob(r,m,b)),!1}throw Error(a(435,d.tag))}return ob(r,m,b),rb(),!1}if(Kt)return l=Za.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,m!==sv&&(r=Error(a(422),{cause:m}),Pd(Ka(r,d)))):(m!==sv&&(l=Error(a(423),{cause:m}),Pd(Ka(l,d))),r=r.current.alternate,r.flags|=65536,b&=-b,r.lanes|=b,m=Ka(m,d),b=Ov(r.stateNode,m,b),fv(r,b),Mn!==4&&(Mn=2)),!1;var N=Error(a(520),{cause:m});if(N=Ka(N,d),th===null?th=[N]:th.push(N),Mn!==4&&(Mn=2),l===null)return!0;m=Ka(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,r=b&-b,d.lanes|=r,r=Ov(d.stateNode,m,r),fv(d,r),!1;case 1:if(l=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Mo===null||!Mo.has(N))))return d.flags|=65536,b&=-b,d.lanes|=b,b=rS(b),iS(b,r,d,m),fv(d,b),!1}d=d.return}while(d!==null);return!1}var oS=Error(a(461)),gs=!1;function Es(r,l,d,m){l.child=r===null?ZN(l,null,d,m):Xc(l,r.child,d,m)}function lS(r,l,d,m,b){d=d.render;var N=l.ref;if("ref"in m){var D={};for(var I in m)I!=="ref"&&(D[I]=m[I])}else D=m;return zl(l),m=vv(r,l,d,D,N,b),I=bv(),r!==null&&!gs?(yv(r,l,b),$i(r,l,b)):(Kt&&I&&tv(l),l.flags|=1,Es(r,l,m,b),l.child)}function cS(r,l,d,m,b){if(r===null){var N=d.type;return typeof N=="function"&&!Qx(N)&&N.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=N,uS(r,l,N,m,b)):(r=um(d.type,null,m,l,l.mode,b),r.ref=l.ref,r.return=l,l.child=r)}if(N=r.child,!Vv(r,b)){var D=N.memoizedProps;if(d=d.compare,d=d!==null?d:_d,d(D,m)&&r.ref===l.ref)return $i(r,l,b)}return l.flags|=1,r=Pi(N,m),r.ref=l.ref,r.return=l,l.child=r}function uS(r,l,d,m,b){if(r!==null){var N=r.memoizedProps;if(_d(N,m)&&r.ref===l.ref)if(gs=!1,l.pendingProps=m=N,Vv(r,b))(r.flags&131072)!==0&&(gs=!0);else return l.lanes=r.lanes,$i(r,l,b)}return Lv(r,l,d,m,b)}function dS(r,l,d){var m=l.pendingProps,b=m.children,N=r!==null?r.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=N!==null?N.baseLanes|d:d,r!==null){for(b=l.child=r.child,N=0;b!==null;)N=N|b.lanes|b.childLanes,b=b.sibling;l.childLanes=N&~m}else l.childLanes=0,l.child=null;return hS(r,l,m,d)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},r!==null&&pm(l,N!==null?N.cachePool:null),N!==null?uN(l,N):pv(),QN(l);else return l.lanes=l.childLanes=536870912,hS(r,l,N!==null?N.baseLanes|d:d,d)}else N!==null?(pm(l,N.cachePool),uN(l,N),Ao(),l.memoizedState=null):(r!==null&&pm(l,null),pv(),Ao());return Es(r,l,b,d),l.child}function hS(r,l,d,m){var b=cv();return b=b===null?null:{parent:as._currentValue,pool:b},l.memoizedState={baseLanes:d,cachePool:b},r!==null&&pm(l,null),pv(),QN(l),r!==null&&Od(r,l,m,!0),null}function Dm(r,l){var d=l.ref;if(d===null)r!==null&&r.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(a(284));(r===null||r.ref!==d)&&(l.flags|=4194816)}}function Lv(r,l,d,m,b){return zl(l),d=vv(r,l,d,m,void 0,b),m=bv(),r!==null&&!gs?(yv(r,l,b),$i(r,l,b)):(Kt&&m&&tv(l),l.flags|=1,Es(r,l,d,b),l.child)}function fS(r,l,d,m,b,N){return zl(l),l.updateQueue=null,d=hN(l,m,d,b),dN(r),m=bv(),r!==null&&!gs?(yv(r,l,N),$i(r,l,N)):(Kt&&m&&tv(l),l.flags|=1,Es(r,l,d,N),l.child)}function mS(r,l,d,m,b){if(zl(l),l.stateNode===null){var N=zc,D=d.contextType;typeof D=="object"&&D!==null&&(N=zs(D)),N=new d(m,N),l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Pv,l.stateNode=N,N._reactInternals=l,N=l.stateNode,N.props=m,N.state=l.memoizedState,N.refs={},dv(l),D=d.contextType,N.context=typeof D=="object"&&D!==null?zs(D):zc,N.state=l.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(Mv(l,d,D,m),N.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(D=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),D!==N.state&&Pv.enqueueReplaceState(N,N.state,null),Fd(l,m,N,b),$d(),N.state=l.memoizedState),typeof N.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(r===null){N=l.stateNode;var I=l.memoizedProps,Z=Fl(d,I);N.props=Z;var ue=N.context,ye=d.contextType;D=zc,typeof ye=="object"&&ye!==null&&(D=zs(ye));var ke=d.getDerivedStateFromProps;ye=typeof ke=="function"||typeof N.getSnapshotBeforeUpdate=="function",I=l.pendingProps!==I,ye||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(I||ue!==D)&&eS(l,N,m,D),wo=!1;var fe=l.memoizedState;N.state=fe,Fd(l,m,N,b),$d(),ue=l.memoizedState,I||fe!==ue||wo?(typeof ke=="function"&&(Mv(l,d,ke,m),ue=l.memoizedState),(Z=wo||JN(l,d,Z,m,fe,ue,D))?(ye||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=ue),N.props=m,N.state=ue,N.context=D,m=Z):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{N=l.stateNode,hv(r,l),D=l.memoizedProps,ye=Fl(d,D),N.props=ye,ke=l.pendingProps,fe=N.context,ue=d.contextType,Z=zc,typeof ue=="object"&&ue!==null&&(Z=zs(ue)),I=d.getDerivedStateFromProps,(ue=typeof I=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(D!==ke||fe!==Z)&&eS(l,N,m,Z),wo=!1,fe=l.memoizedState,N.state=fe,Fd(l,m,N,b),$d();var me=l.memoizedState;D!==ke||fe!==me||wo||r!==null&&r.dependencies!==null&&fm(r.dependencies)?(typeof I=="function"&&(Mv(l,d,I,m),me=l.memoizedState),(ye=wo||JN(l,d,ye,m,fe,me,Z)||r!==null&&r.dependencies!==null&&fm(r.dependencies))?(ue||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(m,me,Z),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(m,me,Z)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||D===r.memoizedProps&&fe===r.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&fe===r.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=me),N.props=m,N.state=me,N.context=Z,m=ye):(typeof N.componentDidUpdate!="function"||D===r.memoizedProps&&fe===r.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||D===r.memoizedProps&&fe===r.memoizedState||(l.flags|=1024),m=!1)}return N=m,Dm(r,l),m=(l.flags&128)!==0,N||m?(N=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:N.render(),l.flags|=1,r!==null&&m?(l.child=Xc(l,r.child,null,b),l.child=Xc(l,null,d,b)):Es(r,l,d,b),l.memoizedState=N.state,r=l.child):r=$i(r,l,b),r}function pS(r,l,d,m){return Md(),l.flags|=256,Es(r,l,d,m),l.child}var Iv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bv(r){return{baseLanes:r,cachePool:nN()}}function zv(r,l,d){return r=r!==null?r.childLanes&~d:0,l&&(r|=Qa),r}function gS(r,l,d){var m=l.pendingProps,b=!1,N=(l.flags&128)!==0,D;if((D=N)||(D=r!==null&&r.memoizedState===null?!1:(rs.current&2)!==0),D&&(b=!0,l.flags&=-129),D=(l.flags&32)!==0,l.flags&=-33,r===null){if(Kt){if(b?Eo(l):Ao(),Kt){var I=Dn,Z;if(Z=I){e:{for(Z=I,I=si;Z.nodeType!==8;){if(!I){I=null;break e}if(Z=Ar(Z.nextSibling),Z===null){I=null;break e}}I=Z}I!==null?(l.memoizedState={dehydrated:I,treeContext:Pl!==null?{id:Oi,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},Z=ka(18,null,null,0),Z.stateNode=I,Z.return=l,l.child=Z,na=l,Dn=null,Z=!0):Z=!1}Z||Il(l)}if(I=l.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return wb(I)?l.lanes=32:l.lanes=536870912,null;Ui(l)}return I=m.children,m=m.fallback,b?(Ao(),b=l.mode,I=Mm({mode:"hidden",children:I},b),m=Ml(m,b,d,null),I.return=l,m.return=l,I.sibling=m,l.child=I,b=l.child,b.memoizedState=Bv(d),b.childLanes=zv(r,D,d),l.memoizedState=Iv,m):(Eo(l),Uv(l,I))}if(Z=r.memoizedState,Z!==null&&(I=Z.dehydrated,I!==null)){if(N)l.flags&256?(Eo(l),l.flags&=-257,l=$v(r,l,d)):l.memoizedState!==null?(Ao(),l.child=r.child,l.flags|=128,l=null):(Ao(),b=m.fallback,I=l.mode,m=Mm({mode:"visible",children:m.children},I),b=Ml(b,I,d,null),b.flags|=2,m.return=l,b.return=l,m.sibling=b,l.child=m,Xc(l,r.child,null,d),m=l.child,m.memoizedState=Bv(d),m.childLanes=zv(r,D,d),l.memoizedState=Iv,l=b);else if(Eo(l),wb(I)){if(D=I.nextSibling&&I.nextSibling.dataset,D)var ue=D.dgst;D=ue,m=Error(a(419)),m.stack="",m.digest=D,Pd({value:m,source:null,stack:null}),l=$v(r,l,d)}else if(gs||Od(r,l,d,!1),D=(d&r.childLanes)!==0,gs||D){if(D=ln,D!==null&&(m=d&-d,m=(m&42)!==0?1:gt(m),m=(m&(D.suspendedLanes|d))!==0?0:m,m!==0&&m!==Z.retryLane))throw Z.retryLane=m,Bc(r,m),_a(D,r,m),oS;I.data==="$?"||rb(),l=$v(r,l,d)}else I.data==="$?"?(l.flags|=192,l.child=r.child,l=null):(r=Z.treeContext,Dn=Ar(I.nextSibling),na=l,Kt=!0,Ll=null,si=!1,r!==null&&(Xa[Wa++]=Oi,Xa[Wa++]=Li,Xa[Wa++]=Pl,Oi=r.id,Li=r.overflow,Pl=l),l=Uv(l,m.children),l.flags|=4096);return l}return b?(Ao(),b=m.fallback,I=l.mode,Z=r.child,ue=Z.sibling,m=Pi(Z,{mode:"hidden",children:m.children}),m.subtreeFlags=Z.subtreeFlags&65011712,ue!==null?b=Pi(ue,b):(b=Ml(b,I,d,null),b.flags|=2),b.return=l,m.return=l,m.sibling=b,l.child=m,m=b,b=l.child,I=r.child.memoizedState,I===null?I=Bv(d):(Z=I.cachePool,Z!==null?(ue=as._currentValue,Z=Z.parent!==ue?{parent:ue,pool:ue}:Z):Z=nN(),I={baseLanes:I.baseLanes|d,cachePool:Z}),b.memoizedState=I,b.childLanes=zv(r,D,d),l.memoizedState=Iv,m):(Eo(l),d=r.child,r=d.sibling,d=Pi(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,r!==null&&(D=l.deletions,D===null?(l.deletions=[r],l.flags|=16):D.push(r)),l.child=d,l.memoizedState=null,d)}function Uv(r,l){return l=Mm({mode:"visible",children:l},r.mode),l.return=r,r.child=l}function Mm(r,l){return r=ka(22,r,null,l),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function $v(r,l,d){return Xc(l,r.child,null,d),r=Uv(l,l.pendingProps.children),r.flags|=2,l.memoizedState=null,r}function xS(r,l,d){r.lanes|=l;var m=r.alternate;m!==null&&(m.lanes|=l),rv(r.return,l,d)}function Fv(r,l,d,m,b){var N=r.memoizedState;N===null?r.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:b}:(N.isBackwards=l,N.rendering=null,N.renderingStartTime=0,N.last=m,N.tail=d,N.tailMode=b)}function vS(r,l,d){var m=l.pendingProps,b=m.revealOrder,N=m.tail;if(Es(r,l,m.children,d),m=rs.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=l.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&xS(r,d,l);else if(r.tag===19)xS(r,d,l);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===l)break e;for(;r.sibling===null;){if(r.return===null||r.return===l)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}m&=1}switch(W(rs,m),b){case"forwards":for(d=l.child,b=null;d!==null;)r=d.alternate,r!==null&&Tm(r)===null&&(b=d),d=d.sibling;d=b,d===null?(b=l.child,l.child=null):(b=d.sibling,d.sibling=null),Fv(l,!1,b,d,N);break;case"backwards":for(d=null,b=l.child,l.child=null;b!==null;){if(r=b.alternate,r!==null&&Tm(r)===null){l.child=b;break}r=b.sibling,b.sibling=d,d=b,b=r}Fv(l,!0,d,null,N);break;case"together":Fv(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function $i(r,l,d){if(r!==null&&(l.dependencies=r.dependencies),Do|=l.lanes,(d&l.childLanes)===0)if(r!==null){if(Od(r,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(r!==null&&l.child!==r.child)throw Error(a(153));if(l.child!==null){for(r=l.child,d=Pi(r,r.pendingProps),l.child=d,d.return=l;r.sibling!==null;)r=r.sibling,d=d.sibling=Pi(r,r.pendingProps),d.return=l;d.sibling=null}return l.child}function Vv(r,l){return(r.lanes&l)!==0?!0:(r=r.dependencies,!!(r!==null&&fm(r)))}function B5(r,l,d){switch(l.tag){case 3:ie(l,l.stateNode.containerInfo),jo(l,as,r.memoizedState.cache),Md();break;case 27:case 5:re(l);break;case 4:ie(l,l.stateNode.containerInfo);break;case 10:jo(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Eo(l),l.flags|=128,null):(d&l.child.childLanes)!==0?gS(r,l,d):(Eo(l),r=$i(r,l,d),r!==null?r.sibling:null);Eo(l);break;case 19:var b=(r.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(Od(r,l,d,!1),m=(d&l.childLanes)!==0),b){if(m)return vS(r,l,d);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),W(rs,rs.current),m)break;return null;case 22:case 23:return l.lanes=0,dS(r,l,d);case 24:jo(l,as,r.memoizedState.cache)}return $i(r,l,d)}function bS(r,l,d){if(r!==null)if(r.memoizedProps!==l.pendingProps)gs=!0;else{if(!Vv(r,d)&&(l.flags&128)===0)return gs=!1,B5(r,l,d);gs=(r.flags&131072)!==0}else gs=!1,Kt&&(l.flags&1048576)!==0&&Xw(l,hm,l.index);switch(l.lanes=0,l.tag){case 16:e:{r=l.pendingProps;var m=l.elementType,b=m._init;if(m=b(m._payload),l.type=m,typeof m=="function")Qx(m)?(r=Fl(m,r),l.tag=1,l=mS(null,l,m,r,d)):(l.tag=0,l=Lv(null,l,m,r,d));else{if(m!=null){if(b=m.$$typeof,b===T){l.tag=11,l=lS(null,l,m,r,d);break e}else if(b===P){l.tag=14,l=cS(null,l,m,r,d);break e}}throw l=Q(m)||m,Error(a(306,l,""))}}return l;case 0:return Lv(r,l,l.type,l.pendingProps,d);case 1:return m=l.type,b=Fl(m,l.pendingProps),mS(r,l,m,b,d);case 3:e:{if(ie(l,l.stateNode.containerInfo),r===null)throw Error(a(387));m=l.pendingProps;var N=l.memoizedState;b=N.element,hv(r,l),Fd(l,m,null,d);var D=l.memoizedState;if(m=D.cache,jo(l,as,m),m!==N.cache&&iv(l,[as],d,!0),$d(),m=D.element,N.isDehydrated)if(N={element:m,isDehydrated:!1,cache:D.cache},l.updateQueue.baseState=N,l.memoizedState=N,l.flags&256){l=pS(r,l,m,d);break e}else if(m!==b){b=Ka(Error(a(424)),l),Pd(b),l=pS(r,l,m,d);break e}else{switch(r=l.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Dn=Ar(r.firstChild),na=l,Kt=!0,Ll=null,si=!0,d=ZN(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Md(),m===b){l=$i(r,l,d);break e}Es(r,l,m,d)}l=l.child}return l;case 26:return Dm(r,l),r===null?(d=Nk(l.type,null,l.pendingProps,null))?l.memoizedState=d:Kt||(d=l.type,r=l.pendingProps,m=Km(ee.current).createElement(d),m[It]=l,m[xt]=r,Cs(m,d,r),_n(m),l.stateNode=m):l.memoizedState=Nk(l.type,r.memoizedProps,l.pendingProps,r.memoizedState),null;case 27:return re(l),r===null&&Kt&&(m=l.stateNode=yk(l.type,l.pendingProps,ee.current),na=l,si=!0,b=Dn,Lo(l.type)?(Nb=b,Dn=Ar(m.firstChild)):Dn=b),Es(r,l,l.pendingProps.children,d),Dm(r,l),r===null&&(l.flags|=4194304),l.child;case 5:return r===null&&Kt&&((b=m=Dn)&&(m=hL(m,l.type,l.pendingProps,si),m!==null?(l.stateNode=m,na=l,Dn=Ar(m.firstChild),si=!1,b=!0):b=!1),b||Il(l)),re(l),b=l.type,N=l.pendingProps,D=r!==null?r.memoizedProps:null,m=N.children,bb(b,N)?m=null:D!==null&&bb(b,D)&&(l.flags|=32),l.memoizedState!==null&&(b=vv(r,l,_5,null,null,d),uh._currentValue=b),Dm(r,l),Es(r,l,m,d),l.child;case 6:return r===null&&Kt&&((r=d=Dn)&&(d=fL(d,l.pendingProps,si),d!==null?(l.stateNode=d,na=l,Dn=null,r=!0):r=!1),r||Il(l)),null;case 13:return gS(r,l,d);case 4:return ie(l,l.stateNode.containerInfo),m=l.pendingProps,r===null?l.child=Xc(l,null,m,d):Es(r,l,m,d),l.child;case 11:return lS(r,l,l.type,l.pendingProps,d);case 7:return Es(r,l,l.pendingProps,d),l.child;case 8:return Es(r,l,l.pendingProps.children,d),l.child;case 12:return Es(r,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,jo(l,l.type,m.value),Es(r,l,m.children,d),l.child;case 9:return b=l.type._context,m=l.pendingProps.children,zl(l),b=zs(b),m=m(b),l.flags|=1,Es(r,l,m,d),l.child;case 14:return cS(r,l,l.type,l.pendingProps,d);case 15:return uS(r,l,l.type,l.pendingProps,d);case 19:return vS(r,l,d);case 31:return m=l.pendingProps,d=l.mode,m={mode:m.mode,children:m.children},r===null?(d=Mm(m,d),d.ref=l.ref,l.child=d,d.return=l,l=d):(d=Pi(r.child,m),d.ref=l.ref,l.child=d,d.return=l,l=d),l;case 22:return dS(r,l,d);case 24:return zl(l),m=zs(as),r===null?(b=cv(),b===null&&(b=ln,N=ov(),b.pooledCache=N,N.refCount++,N!==null&&(b.pooledCacheLanes|=d),b=N),l.memoizedState={parent:m,cache:b},dv(l),jo(l,as,b)):((r.lanes&d)!==0&&(hv(r,l),Fd(l,null,null,d),$d()),b=r.memoizedState,N=l.memoizedState,b.parent!==m?(b={parent:m,cache:m},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),jo(l,as,m)):(m=N.cache,jo(l,as,m),m!==b.cache&&iv(l,[as],d,!0))),Es(r,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(a(156,l.tag))}function Fi(r){r.flags|=4}function yS(r,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Ck(l)){if(l=Za.current,l!==null&&((Bt&4194048)===Bt?ai!==null:(Bt&62914560)!==Bt&&(Bt&536870912)===0||l!==ai))throw zd=uv,sN;r.flags|=8192}}function Pm(r,l){l!==null&&(r.flags|=4),r.flags&16384&&(l=r.tag!==22?ta():536870912,r.lanes|=l,Jc|=l)}function Xd(r,l){if(!Kt)switch(r.tailMode){case"hidden":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r.tail=null:d.sibling=null;break;case"collapsed":d=r.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||r.tail===null?r.tail=null:r.tail.sibling=null:m.sibling=null}}function wn(r){var l=r.alternate!==null&&r.alternate.child===r.child,d=0,m=0;if(l)for(var b=r.child;b!==null;)d|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=r,b=b.sibling;else for(b=r.child;b!==null;)d|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=r,b=b.sibling;return r.subtreeFlags|=m,r.childLanes=d,l}function z5(r,l,d){var m=l.pendingProps;switch(nv(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(l),null;case 1:return wn(l),null;case 3:return d=l.stateNode,m=null,r!==null&&(m=r.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Bi(as),de(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Dd(l)?Fi(l):r===null||r.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Qw())),wn(l),null;case 26:return d=l.memoizedState,r===null?(Fi(l),d!==null?(wn(l),yS(l,d)):(wn(l),l.flags&=-16777217)):d?d!==r.memoizedState?(Fi(l),wn(l),yS(l,d)):(wn(l),l.flags&=-16777217):(r.memoizedProps!==m&&Fi(l),wn(l),l.flags&=-16777217),null;case 27:he(l),d=ee.current;var b=l.type;if(r!==null&&l.stateNode!=null)r.memoizedProps!==m&&Fi(l);else{if(!m){if(l.stateNode===null)throw Error(a(166));return wn(l),null}r=$.current,Dd(l)?Ww(l):(r=yk(b,m,d),l.stateNode=r,Fi(l))}return wn(l),null;case 5:if(he(l),d=l.type,r!==null&&l.stateNode!=null)r.memoizedProps!==m&&Fi(l);else{if(!m){if(l.stateNode===null)throw Error(a(166));return wn(l),null}if(r=$.current,Dd(l))Ww(l);else{switch(b=Km(ee.current),r){case 1:r=b.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:r=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":r=b.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":r=b.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":r=b.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof m.is=="string"?b.createElement("select",{is:m.is}):b.createElement("select"),m.multiple?r.multiple=!0:m.size&&(r.size=m.size);break;default:r=typeof m.is=="string"?b.createElement(d,{is:m.is}):b.createElement(d)}}r[It]=l,r[xt]=m;e:for(b=l.child;b!==null;){if(b.tag===5||b.tag===6)r.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===l)break e;for(;b.sibling===null;){if(b.return===null||b.return===l)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}l.stateNode=r;e:switch(Cs(r,d,m),d){case"button":case"input":case"select":case"textarea":r=!!m.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Fi(l)}}return wn(l),l.flags&=-16777217,null;case 6:if(r&&l.stateNode!=null)r.memoizedProps!==m&&Fi(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(a(166));if(r=ee.current,Dd(l)){if(r=l.stateNode,d=l.memoizedProps,m=null,b=na,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}r[It]=l,r=!!(r.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||fk(r.nodeValue,d)),r||Il(l)}else r=Km(r).createTextNode(m),r[It]=l,l.stateNode=r}return wn(l),null;case 13:if(m=l.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(b=Dd(l),m!==null&&m.dehydrated!==null){if(r===null){if(!b)throw Error(a(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(a(317));b[It]=l}else Md(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;wn(l),b=!1}else b=Qw(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(Ui(l),l):(Ui(l),null)}if(Ui(l),(l.flags&128)!==0)return l.lanes=d,l;if(d=m!==null,r=r!==null&&r.memoizedState!==null,d){m=l.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool);var N=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(N=m.memoizedState.cachePool.pool),N!==b&&(m.flags|=2048)}return d!==r&&d&&(l.child.flags|=8192),Pm(l,l.updateQueue),wn(l),null;case 4:return de(),r===null&&mb(l.stateNode.containerInfo),wn(l),null;case 10:return Bi(l.type),wn(l),null;case 19:if(B(rs),b=l.memoizedState,b===null)return wn(l),null;if(m=(l.flags&128)!==0,N=b.rendering,N===null)if(m)Xd(b,!1);else{if(Mn!==0||r!==null&&(r.flags&128)!==0)for(r=l.child;r!==null;){if(N=Tm(r),N!==null){for(l.flags|=128,Xd(b,!1),r=N.updateQueue,l.updateQueue=r,Pm(l,r),l.subtreeFlags=0,r=d,d=l.child;d!==null;)Yw(d,r),d=d.sibling;return W(rs,rs.current&1|2),l.child}r=r.sibling}b.tail!==null&&Oe()>Im&&(l.flags|=128,m=!0,Xd(b,!1),l.lanes=4194304)}else{if(!m)if(r=Tm(N),r!==null){if(l.flags|=128,m=!0,r=r.updateQueue,l.updateQueue=r,Pm(l,r),Xd(b,!0),b.tail===null&&b.tailMode==="hidden"&&!N.alternate&&!Kt)return wn(l),null}else 2*Oe()-b.renderingStartTime>Im&&d!==536870912&&(l.flags|=128,m=!0,Xd(b,!1),l.lanes=4194304);b.isBackwards?(N.sibling=l.child,l.child=N):(r=b.last,r!==null?r.sibling=N:l.child=N,b.last=N)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=Oe(),l.sibling=null,r=rs.current,W(rs,m?r&1|2:r&1),l):(wn(l),null);case 22:case 23:return Ui(l),gv(),m=l.memoizedState!==null,r!==null?r.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&(wn(l),l.subtreeFlags&6&&(l.flags|=8192)):wn(l),d=l.updateQueue,d!==null&&Pm(l,d.retryQueue),d=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),r!==null&&B(Ul),null;case 24:return d=null,r!==null&&(d=r.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),Bi(as),wn(l),null;case 25:return null;case 30:return null}throw Error(a(156,l.tag))}function U5(r,l){switch(nv(l),l.tag){case 1:return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 3:return Bi(as),de(),r=l.flags,(r&65536)!==0&&(r&128)===0?(l.flags=r&-65537|128,l):null;case 26:case 27:case 5:return he(l),null;case 13:if(Ui(l),r=l.memoizedState,r!==null&&r.dehydrated!==null){if(l.alternate===null)throw Error(a(340));Md()}return r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 19:return B(rs),null;case 4:return de(),null;case 10:return Bi(l.type),null;case 22:case 23:return Ui(l),gv(),r!==null&&B(Ul),r=l.flags,r&65536?(l.flags=r&-65537|128,l):null;case 24:return Bi(as),null;case 25:return null;default:return null}}function jS(r,l){switch(nv(l),l.tag){case 3:Bi(as),de();break;case 26:case 27:case 5:he(l);break;case 4:de();break;case 13:Ui(l);break;case 19:B(rs);break;case 10:Bi(l.type);break;case 22:case 23:Ui(l),gv(),r!==null&&B(Ul);break;case 24:Bi(as)}}function Wd(r,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var b=m.next;d=b;do{if((d.tag&r)===r){m=void 0;var N=d.create,D=d.inst;m=N(),D.destroy=m}d=d.next}while(d!==b)}}catch(I){rn(l,l.return,I)}}function Co(r,l,d){try{var m=l.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var N=b.next;m=N;do{if((m.tag&r)===r){var D=m.inst,I=D.destroy;if(I!==void 0){D.destroy=void 0,b=l;var Z=d,ue=I;try{ue()}catch(ye){rn(b,Z,ye)}}}m=m.next}while(m!==N)}}catch(ye){rn(l,l.return,ye)}}function wS(r){var l=r.updateQueue;if(l!==null){var d=r.stateNode;try{cN(l,d)}catch(m){rn(r,r.return,m)}}}function NS(r,l,d){d.props=Fl(r.type,r.memoizedProps),d.state=r.memoizedState;try{d.componentWillUnmount()}catch(m){rn(r,l,m)}}function Zd(r,l){try{var d=r.ref;if(d!==null){switch(r.tag){case 26:case 27:case 5:var m=r.stateNode;break;case 30:m=r.stateNode;break;default:m=r.stateNode}typeof d=="function"?r.refCleanup=d(m):d.current=m}}catch(b){rn(r,l,b)}}function ri(r,l){var d=r.ref,m=r.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(b){rn(r,l,b)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){rn(r,l,b)}else d.current=null}function SS(r){var l=r.type,d=r.memoizedProps,m=r.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(b){rn(r,r.return,b)}}function qv(r,l,d){try{var m=r.stateNode;oL(m,r.type,d,l),m[xt]=l}catch(b){rn(r,r.return,b)}}function kS(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Lo(r.type)||r.tag===4}function Hv(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||kS(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Lo(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Gv(r,l,d){var m=r.tag;if(m===5||m===6)r=r.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(r,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(r),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Gm));else if(m!==4&&(m===27&&Lo(r.type)&&(d=r.stateNode,l=null),r=r.child,r!==null))for(Gv(r,l,d),r=r.sibling;r!==null;)Gv(r,l,d),r=r.sibling}function Om(r,l,d){var m=r.tag;if(m===5||m===6)r=r.stateNode,l?d.insertBefore(r,l):d.appendChild(r);else if(m!==4&&(m===27&&Lo(r.type)&&(d=r.stateNode),r=r.child,r!==null))for(Om(r,l,d),r=r.sibling;r!==null;)Om(r,l,d),r=r.sibling}function ES(r){var l=r.stateNode,d=r.memoizedProps;try{for(var m=r.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);Cs(l,m,d),l[It]=r,l[xt]=d}catch(N){rn(r,r.return,N)}}var Vi=!1,Fn=!1,Kv=!1,AS=typeof WeakSet=="function"?WeakSet:Set,xs=null;function $5(r,l){if(r=r.containerInfo,xb=Jm,r=Bw(r),Hx(r)){if("selectionStart"in r)var d={start:r.selectionStart,end:r.selectionEnd};else e:{d=(d=r.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var b=m.anchorOffset,N=m.focusNode;m=m.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var D=0,I=-1,Z=-1,ue=0,ye=0,ke=r,fe=null;t:for(;;){for(var me;ke!==d||b!==0&&ke.nodeType!==3||(I=D+b),ke!==N||m!==0&&ke.nodeType!==3||(Z=D+m),ke.nodeType===3&&(D+=ke.nodeValue.length),(me=ke.firstChild)!==null;)fe=ke,ke=me;for(;;){if(ke===r)break t;if(fe===d&&++ue===b&&(I=D),fe===N&&++ye===m&&(Z=D),(me=ke.nextSibling)!==null)break;ke=fe,fe=ke.parentNode}ke=me}d=I===-1||Z===-1?null:{start:I,end:Z}}else d=null}d=d||{start:0,end:0}}else d=null;for(vb={focusedElem:r,selectionRange:d},Jm=!1,xs=l;xs!==null;)if(l=xs,r=l.child,(l.subtreeFlags&1024)!==0&&r!==null)r.return=l,xs=r;else for(;xs!==null;){switch(l=xs,N=l.alternate,r=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&N!==null){r=void 0,d=l,b=N.memoizedProps,N=N.memoizedState,m=d.stateNode;try{var ft=Fl(d.type,b,d.elementType===d.type);r=m.getSnapshotBeforeUpdate(ft,N),m.__reactInternalSnapshotBeforeUpdate=r}catch(it){rn(d,d.return,it)}}break;case 3:if((r&1024)!==0){if(r=l.stateNode.containerInfo,d=r.nodeType,d===9)jb(r);else if(d===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":jb(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(a(163))}if(r=l.sibling,r!==null){r.return=l.return,xs=r;break}xs=l.return}}function CS(r,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:To(r,d),m&4&&Wd(5,d);break;case 1:if(To(r,d),m&4)if(r=d.stateNode,l===null)try{r.componentDidMount()}catch(D){rn(d,d.return,D)}else{var b=Fl(d.type,l.memoizedProps);l=l.memoizedState;try{r.componentDidUpdate(b,l,r.__reactInternalSnapshotBeforeUpdate)}catch(D){rn(d,d.return,D)}}m&64&&wS(d),m&512&&Zd(d,d.return);break;case 3:if(To(r,d),m&64&&(r=d.updateQueue,r!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{cN(r,l)}catch(D){rn(d,d.return,D)}}break;case 27:l===null&&m&4&&ES(d);case 26:case 5:To(r,d),l===null&&m&4&&SS(d),m&512&&Zd(d,d.return);break;case 12:To(r,d);break;case 13:To(r,d),m&4&&RS(r,d),m&64&&(r=d.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(d=W5.bind(null,d),mL(r,d))));break;case 22:if(m=d.memoizedState!==null||Vi,!m){l=l!==null&&l.memoizedState!==null||Fn,b=Vi;var N=Fn;Vi=m,(Fn=l)&&!N?_o(r,d,(d.subtreeFlags&8772)!==0):To(r,d),Vi=b,Fn=N}break;case 30:break;default:To(r,d)}}function TS(r){var l=r.alternate;l!==null&&(r.alternate=null,TS(l)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(l=r.stateNode,l!==null&&wl(l)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var xn=null,ua=!1;function qi(r,l,d){for(d=d.child;d!==null;)_S(r,l,d),d=d.sibling}function _S(r,l,d){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(ds,d)}catch{}switch(d.tag){case 26:Fn||ri(d,l),qi(r,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Fn||ri(d,l);var m=xn,b=ua;Lo(d.type)&&(xn=d.stateNode,ua=!1),qi(r,l,d),ih(d.stateNode),xn=m,ua=b;break;case 5:Fn||ri(d,l);case 6:if(m=xn,b=ua,xn=null,qi(r,l,d),xn=m,ua=b,xn!==null)if(ua)try{(xn.nodeType===9?xn.body:xn.nodeName==="HTML"?xn.ownerDocument.body:xn).removeChild(d.stateNode)}catch(N){rn(d,l,N)}else try{xn.removeChild(d.stateNode)}catch(N){rn(d,l,N)}break;case 18:xn!==null&&(ua?(r=xn,vk(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,d.stateNode),mh(r)):vk(xn,d.stateNode));break;case 4:m=xn,b=ua,xn=d.stateNode.containerInfo,ua=!0,qi(r,l,d),xn=m,ua=b;break;case 0:case 11:case 14:case 15:Fn||Co(2,d,l),Fn||Co(4,d,l),qi(r,l,d);break;case 1:Fn||(ri(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&NS(d,l,m)),qi(r,l,d);break;case 21:qi(r,l,d);break;case 22:Fn=(m=Fn)||d.memoizedState!==null,qi(r,l,d),Fn=m;break;default:qi(r,l,d)}}function RS(r,l){if(l.memoizedState===null&&(r=l.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{mh(r)}catch(d){rn(l,l.return,d)}}function F5(r){switch(r.tag){case 13:case 19:var l=r.stateNode;return l===null&&(l=r.stateNode=new AS),l;case 22:return r=r.stateNode,l=r._retryCache,l===null&&(l=r._retryCache=new AS),l;default:throw Error(a(435,r.tag))}}function Yv(r,l){var d=F5(r);l.forEach(function(m){var b=Z5.bind(null,r,m);d.has(m)||(d.add(m),m.then(b,b))})}function Ea(r,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var b=d[m],N=r,D=l,I=D;e:for(;I!==null;){switch(I.tag){case 27:if(Lo(I.type)){xn=I.stateNode,ua=!1;break e}break;case 5:xn=I.stateNode,ua=!1;break e;case 3:case 4:xn=I.stateNode.containerInfo,ua=!0;break e}I=I.return}if(xn===null)throw Error(a(160));_S(N,D,b),xn=null,ua=!1,N=b.alternate,N!==null&&(N.return=null),b.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)DS(l,r),l=l.sibling}var Er=null;function DS(r,l){var d=r.alternate,m=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Ea(l,r),Aa(r),m&4&&(Co(3,r,r.return),Wd(3,r),Co(5,r,r.return));break;case 1:Ea(l,r),Aa(r),m&512&&(Fn||d===null||ri(d,d.return)),m&64&&Vi&&(r=r.updateQueue,r!==null&&(m=r.callbacks,m!==null&&(d=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var b=Er;if(Ea(l,r),Aa(r),m&512&&(Fn||d===null||ri(d,d.return)),m&4){var N=d!==null?d.memoizedState:null;if(m=r.memoizedState,d===null)if(m===null)if(r.stateNode===null){e:{m=r.type,d=r.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":N=b.getElementsByTagName("title")[0],(!N||N[ya]||N[It]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=b.createElement(m),b.head.insertBefore(N,b.querySelector("head > title"))),Cs(N,m,d),N[It]=r,_n(N),m=N;break e;case"link":var D=Ek("link","href",b).get(m+(d.href||""));if(D){for(var I=0;I<D.length;I++)if(N=D[I],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){D.splice(I,1);break t}}N=b.createElement(m),Cs(N,m,d),b.head.appendChild(N);break;case"meta":if(D=Ek("meta","content",b).get(m+(d.content||""))){for(I=0;I<D.length;I++)if(N=D[I],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){D.splice(I,1);break t}}N=b.createElement(m),Cs(N,m,d),b.head.appendChild(N);break;default:throw Error(a(468,m))}N[It]=r,_n(N),m=N}r.stateNode=m}else Ak(b,r.type,r.stateNode);else r.stateNode=kk(b,m,r.memoizedProps);else N!==m?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,m===null?Ak(b,r.type,r.stateNode):kk(b,m,r.memoizedProps)):m===null&&r.stateNode!==null&&qv(r,r.memoizedProps,d.memoizedProps)}break;case 27:Ea(l,r),Aa(r),m&512&&(Fn||d===null||ri(d,d.return)),d!==null&&m&4&&qv(r,r.memoizedProps,d.memoizedProps);break;case 5:if(Ea(l,r),Aa(r),m&512&&(Fn||d===null||ri(d,d.return)),r.flags&32){b=r.stateNode;try{ms(b,"")}catch(me){rn(r,r.return,me)}}m&4&&r.stateNode!=null&&(b=r.memoizedProps,qv(r,b,d!==null?d.memoizedProps:b)),m&1024&&(Kv=!0);break;case 6:if(Ea(l,r),Aa(r),m&4){if(r.stateNode===null)throw Error(a(162));m=r.memoizedProps,d=r.stateNode;try{d.nodeValue=m}catch(me){rn(r,r.return,me)}}break;case 3:if(Wm=null,b=Er,Er=Ym(l.containerInfo),Ea(l,r),Er=b,Aa(r),m&4&&d!==null&&d.memoizedState.isDehydrated)try{mh(l.containerInfo)}catch(me){rn(r,r.return,me)}Kv&&(Kv=!1,MS(r));break;case 4:m=Er,Er=Ym(r.stateNode.containerInfo),Ea(l,r),Aa(r),Er=m;break;case 12:Ea(l,r),Aa(r);break;case 13:Ea(l,r),Aa(r),r.child.flags&8192&&r.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(eb=Oe()),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Yv(r,m)));break;case 22:b=r.memoizedState!==null;var Z=d!==null&&d.memoizedState!==null,ue=Vi,ye=Fn;if(Vi=ue||b,Fn=ye||Z,Ea(l,r),Fn=ye,Vi=ue,Aa(r),m&8192)e:for(l=r.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(d===null||Z||Vi||Fn||Vl(r)),d=null,l=r;;){if(l.tag===5||l.tag===26){if(d===null){Z=d=l;try{if(N=Z.stateNode,b)D=N.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{I=Z.stateNode;var ke=Z.memoizedProps.style,fe=ke!=null&&ke.hasOwnProperty("display")?ke.display:null;I.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(me){rn(Z,Z.return,me)}}}else if(l.tag===6){if(d===null){Z=l;try{Z.stateNode.nodeValue=b?"":Z.memoizedProps}catch(me){rn(Z,Z.return,me)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===r)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break e;for(;l.sibling===null;){if(l.return===null||l.return===r)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=r.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,Yv(r,d))));break;case 19:Ea(l,r),Aa(r),m&4&&(m=r.updateQueue,m!==null&&(r.updateQueue=null,Yv(r,m)));break;case 30:break;case 21:break;default:Ea(l,r),Aa(r)}}function Aa(r){var l=r.flags;if(l&2){try{for(var d,m=r.return;m!==null;){if(kS(m)){d=m;break}m=m.return}if(d==null)throw Error(a(160));switch(d.tag){case 27:var b=d.stateNode,N=Hv(r);Om(r,N,b);break;case 5:var D=d.stateNode;d.flags&32&&(ms(D,""),d.flags&=-33);var I=Hv(r);Om(r,I,D);break;case 3:case 4:var Z=d.stateNode.containerInfo,ue=Hv(r);Gv(r,ue,Z);break;default:throw Error(a(161))}}catch(ye){rn(r,r.return,ye)}r.flags&=-3}l&4096&&(r.flags&=-4097)}function MS(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var l=r;MS(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),r=r.sibling}}function To(r,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)CS(r,l.alternate,l),l=l.sibling}function Vl(r){for(r=r.child;r!==null;){var l=r;switch(l.tag){case 0:case 11:case 14:case 15:Co(4,l,l.return),Vl(l);break;case 1:ri(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&NS(l,l.return,d),Vl(l);break;case 27:ih(l.stateNode);case 26:case 5:ri(l,l.return),Vl(l);break;case 22:l.memoizedState===null&&Vl(l);break;case 30:Vl(l);break;default:Vl(l)}r=r.sibling}}function _o(r,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,b=r,N=l,D=N.flags;switch(N.tag){case 0:case 11:case 15:_o(b,N,d),Wd(4,N);break;case 1:if(_o(b,N,d),m=N,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ue){rn(m,m.return,ue)}if(m=N,b=m.updateQueue,b!==null){var I=m.stateNode;try{var Z=b.shared.hiddenCallbacks;if(Z!==null)for(b.shared.hiddenCallbacks=null,b=0;b<Z.length;b++)lN(Z[b],I)}catch(ue){rn(m,m.return,ue)}}d&&D&64&&wS(N),Zd(N,N.return);break;case 27:ES(N);case 26:case 5:_o(b,N,d),d&&m===null&&D&4&&SS(N),Zd(N,N.return);break;case 12:_o(b,N,d);break;case 13:_o(b,N,d),d&&D&4&&RS(b,N);break;case 22:N.memoizedState===null&&_o(b,N,d),Zd(N,N.return);break;case 30:break;default:_o(b,N,d)}l=l.sibling}}function Xv(r,l){var d=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),r=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(r=l.memoizedState.cachePool.pool),r!==d&&(r!=null&&r.refCount++,d!=null&&Ld(d))}function Wv(r,l){r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Ld(r))}function ii(r,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)PS(r,l,d,m),l=l.sibling}function PS(r,l,d,m){var b=l.flags;switch(l.tag){case 0:case 11:case 15:ii(r,l,d,m),b&2048&&Wd(9,l);break;case 1:ii(r,l,d,m);break;case 3:ii(r,l,d,m),b&2048&&(r=null,l.alternate!==null&&(r=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==r&&(l.refCount++,r!=null&&Ld(r)));break;case 12:if(b&2048){ii(r,l,d,m),r=l.stateNode;try{var N=l.memoizedProps,D=N.id,I=N.onPostCommit;typeof I=="function"&&I(D,l.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Z){rn(l,l.return,Z)}}else ii(r,l,d,m);break;case 13:ii(r,l,d,m);break;case 23:break;case 22:N=l.stateNode,D=l.alternate,l.memoizedState!==null?N._visibility&2?ii(r,l,d,m):Qd(r,l):N._visibility&2?ii(r,l,d,m):(N._visibility|=2,Wc(r,l,d,m,(l.subtreeFlags&10256)!==0)),b&2048&&Xv(D,l);break;case 24:ii(r,l,d,m),b&2048&&Wv(l.alternate,l);break;default:ii(r,l,d,m)}}function Wc(r,l,d,m,b){for(b=b&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var N=r,D=l,I=d,Z=m,ue=D.flags;switch(D.tag){case 0:case 11:case 15:Wc(N,D,I,Z,b),Wd(8,D);break;case 23:break;case 22:var ye=D.stateNode;D.memoizedState!==null?ye._visibility&2?Wc(N,D,I,Z,b):Qd(N,D):(ye._visibility|=2,Wc(N,D,I,Z,b)),b&&ue&2048&&Xv(D.alternate,D);break;case 24:Wc(N,D,I,Z,b),b&&ue&2048&&Wv(D.alternate,D);break;default:Wc(N,D,I,Z,b)}l=l.sibling}}function Qd(r,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=r,m=l,b=m.flags;switch(m.tag){case 22:Qd(d,m),b&2048&&Xv(m.alternate,m);break;case 24:Qd(d,m),b&2048&&Wv(m.alternate,m);break;default:Qd(d,m)}l=l.sibling}}var Jd=8192;function Zc(r){if(r.subtreeFlags&Jd)for(r=r.child;r!==null;)OS(r),r=r.sibling}function OS(r){switch(r.tag){case 26:Zc(r),r.flags&Jd&&r.memoizedState!==null&&AL(Er,r.memoizedState,r.memoizedProps);break;case 5:Zc(r);break;case 3:case 4:var l=Er;Er=Ym(r.stateNode.containerInfo),Zc(r),Er=l;break;case 22:r.memoizedState===null&&(l=r.alternate,l!==null&&l.memoizedState!==null?(l=Jd,Jd=16777216,Zc(r),Jd=l):Zc(r));break;default:Zc(r)}}function LS(r){var l=r.alternate;if(l!==null&&(r=l.child,r!==null)){l.child=null;do l=r.sibling,r.sibling=null,r=l;while(r!==null)}}function eh(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];xs=m,BS(m,r)}LS(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)IS(r),r=r.sibling}function IS(r){switch(r.tag){case 0:case 11:case 15:eh(r),r.flags&2048&&Co(9,r,r.return);break;case 3:eh(r);break;case 12:eh(r);break;case 22:var l=r.stateNode;r.memoizedState!==null&&l._visibility&2&&(r.return===null||r.return.tag!==13)?(l._visibility&=-3,Lm(r)):eh(r);break;default:eh(r)}}function Lm(r){var l=r.deletions;if((r.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];xs=m,BS(m,r)}LS(r)}for(r=r.child;r!==null;){switch(l=r,l.tag){case 0:case 11:case 15:Co(8,l,l.return),Lm(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,Lm(l));break;default:Lm(l)}r=r.sibling}}function BS(r,l){for(;xs!==null;){var d=xs;switch(d.tag){case 0:case 11:case 15:Co(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Ld(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,xs=m;else e:for(d=r;xs!==null;){m=xs;var b=m.sibling,N=m.return;if(TS(m),m===d){xs=null;break e}if(b!==null){b.return=N,xs=b;break e}xs=N}}}var V5={getCacheForType:function(r){var l=zs(as),d=l.data.get(r);return d===void 0&&(d=r(),l.data.set(r,d)),d}},q5=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ln=null,St=null,Bt=0,Wt=0,Ca=null,Ro=!1,Qc=!1,Zv=!1,Hi=0,Mn=0,Do=0,ql=0,Qv=0,Qa=0,Jc=0,th=null,da=null,Jv=!1,eb=0,Im=1/0,Bm=null,Mo=null,As=0,Po=null,eu=null,tu=0,tb=0,nb=null,zS=null,nh=0,sb=null;function Ta(){if((Xt&2)!==0&&Bt!==0)return Bt&-Bt;if(L.T!==null){var r=Fc;return r!==0?r:ub()}return an()}function US(){Qa===0&&(Qa=(Bt&536870912)===0||Kt?Qt():536870912);var r=Za.current;return r!==null&&(r.flags|=32),Qa}function _a(r,l,d){(r===ln&&(Wt===2||Wt===9)||r.cancelPendingCommit!==null)&&(nu(r,0),Oo(r,Bt,Qa,!1)),Ct(r,d),((Xt&2)===0||r!==ln)&&(r===ln&&((Xt&2)===0&&(ql|=d),Mn===4&&Oo(r,Bt,Qa,!1)),oi(r))}function $S(r,l,d){if((Xt&6)!==0)throw Error(a(327));var m=!d&&(l&124)===0&&(l&r.expiredLanes)===0||hs(r,l),b=m?K5(r,l):ib(r,l,!0),N=m;do{if(b===0){Qc&&!m&&Oo(r,l,0,!1);break}else{if(d=r.current.alternate,N&&!H5(d)){b=ib(r,l,!1),N=!1;continue}if(b===2){if(N=l,r.errorRecoveryDisabledLanes&N)var D=0;else D=r.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){l=D;e:{var I=r;b=th;var Z=I.current.memoizedState.isDehydrated;if(Z&&(nu(I,D).flags|=256),D=ib(I,D,!1),D!==2){if(Zv&&!Z){I.errorRecoveryDisabledLanes|=N,ql|=N,b=4;break e}N=da,da=b,N!==null&&(da===null?da=N:da.push.apply(da,N))}b=D}if(N=!1,b!==2)continue}}if(b===1){nu(r,0),Oo(r,l,0,!0);break}e:{switch(m=r,N=b,N){case 0:case 1:throw Error(a(345));case 4:if((l&4194048)!==l)break;case 6:Oo(m,l,Qa,!Ro);break e;case 2:da=null;break;case 3:case 5:break;default:throw Error(a(329))}if((l&62914560)===l&&(b=eb+300-Oe(),10<b)){if(Oo(m,l,Qa,!Ro),Ss(m,0,!0)!==0)break e;m.timeoutHandle=gk(FS.bind(null,m,d,da,Bm,Jv,l,Qa,ql,Jc,Ro,N,2,-0,0),b);break e}FS(m,d,da,Bm,Jv,l,Qa,ql,Jc,Ro,N,0,-0,0)}}break}while(!0);oi(r)}function FS(r,l,d,m,b,N,D,I,Z,ue,ye,ke,fe,me){if(r.timeoutHandle=-1,ke=l.subtreeFlags,(ke&8192||(ke&16785408)===16785408)&&(ch={stylesheets:null,count:0,unsuspend:EL},OS(l),ke=CL(),ke!==null)){r.cancelPendingCommit=ke(XS.bind(null,r,l,N,d,m,b,D,I,Z,ye,1,fe,me)),Oo(r,N,D,!ue);return}XS(r,l,N,d,m,b,D,I,Z)}function H5(r){for(var l=r;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var b=d[m],N=b.getSnapshot;b=b.value;try{if(!Sa(N(),b))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Oo(r,l,d,m){l&=~Qv,l&=~ql,r.suspendedLanes|=l,r.pingedLanes&=~l,m&&(r.warmLanes|=l),m=r.expirationTimes;for(var b=l;0<b;){var N=31-Ft(b),D=1<<N;m[N]=-1,b&=~D}d!==0&&Ve(r,d,l)}function zm(){return(Xt&6)===0?(sh(0),!1):!0}function ab(){if(St!==null){if(Wt===0)var r=St.return;else r=St,Ii=Bl=null,jv(r),Yc=null,Kd=0,r=St;for(;r!==null;)jS(r.alternate,r),r=r.return;St=null}}function nu(r,l){var d=r.timeoutHandle;d!==-1&&(r.timeoutHandle=-1,cL(d)),d=r.cancelPendingCommit,d!==null&&(r.cancelPendingCommit=null,d()),ab(),ln=r,St=d=Pi(r.current,null),Bt=l,Wt=0,Ca=null,Ro=!1,Qc=hs(r,l),Zv=!1,Jc=Qa=Qv=ql=Do=Mn=0,da=th=null,Jv=!1,(l&8)!==0&&(l|=l&32);var m=r.entangledLanes;if(m!==0)for(r=r.entanglements,m&=l;0<m;){var b=31-Ft(m),N=1<<b;l|=r[b],m&=~N}return Hi=l,om(),d}function VS(r,l){yt=null,L.H=Em,l===Bd||l===gm?(l=iN(),Wt=3):l===sN?(l=iN(),Wt=4):Wt=l===oS?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Ca=l,St===null&&(Mn=1,Rm(r,Ka(l,r.current)))}function qS(){var r=L.H;return L.H=Em,r===null?Em:r}function HS(){var r=L.A;return L.A=V5,r}function rb(){Mn=4,Ro||(Bt&4194048)!==Bt&&Za.current!==null||(Qc=!0),(Do&134217727)===0&&(ql&134217727)===0||ln===null||Oo(ln,Bt,Qa,!1)}function ib(r,l,d){var m=Xt;Xt|=2;var b=qS(),N=HS();(ln!==r||Bt!==l)&&(Bm=null,nu(r,l)),l=!1;var D=Mn;e:do try{if(Wt!==0&&St!==null){var I=St,Z=Ca;switch(Wt){case 8:ab(),D=6;break e;case 3:case 2:case 9:case 6:Za.current===null&&(l=!0);var ue=Wt;if(Wt=0,Ca=null,su(r,I,Z,ue),d&&Qc){D=0;break e}break;default:ue=Wt,Wt=0,Ca=null,su(r,I,Z,ue)}}G5(),D=Mn;break}catch(ye){VS(r,ye)}while(!0);return l&&r.shellSuspendCounter++,Ii=Bl=null,Xt=m,L.H=b,L.A=N,St===null&&(ln=null,Bt=0,om()),D}function G5(){for(;St!==null;)GS(St)}function K5(r,l){var d=Xt;Xt|=2;var m=qS(),b=HS();ln!==r||Bt!==l?(Bm=null,Im=Oe()+500,nu(r,l)):Qc=hs(r,l);e:do try{if(Wt!==0&&St!==null){l=St;var N=Ca;t:switch(Wt){case 1:Wt=0,Ca=null,su(r,l,N,1);break;case 2:case 9:if(aN(N)){Wt=0,Ca=null,KS(l);break}l=function(){Wt!==2&&Wt!==9||ln!==r||(Wt=7),oi(r)},N.then(l,l);break e;case 3:Wt=7;break e;case 4:Wt=5;break e;case 7:aN(N)?(Wt=0,Ca=null,KS(l)):(Wt=0,Ca=null,su(r,l,N,7));break;case 5:var D=null;switch(St.tag){case 26:D=St.memoizedState;case 5:case 27:var I=St;if(!D||Ck(D)){Wt=0,Ca=null;var Z=I.sibling;if(Z!==null)St=Z;else{var ue=I.return;ue!==null?(St=ue,Um(ue)):St=null}break t}}Wt=0,Ca=null,su(r,l,N,5);break;case 6:Wt=0,Ca=null,su(r,l,N,6);break;case 8:ab(),Mn=6;break e;default:throw Error(a(462))}}Y5();break}catch(ye){VS(r,ye)}while(!0);return Ii=Bl=null,L.H=m,L.A=b,Xt=d,St!==null?0:(ln=null,Bt=0,om(),Mn)}function Y5(){for(;St!==null&&!De();)GS(St)}function GS(r){var l=bS(r.alternate,r,Hi);r.memoizedProps=r.pendingProps,l===null?Um(r):St=l}function KS(r){var l=r,d=l.alternate;switch(l.tag){case 15:case 0:l=fS(d,l,l.pendingProps,l.type,void 0,Bt);break;case 11:l=fS(d,l,l.pendingProps,l.type.render,l.ref,Bt);break;case 5:jv(l);default:jS(d,l),l=St=Yw(l,Hi),l=bS(d,l,Hi)}r.memoizedProps=r.pendingProps,l===null?Um(r):St=l}function su(r,l,d,m){Ii=Bl=null,jv(l),Yc=null,Kd=0;var b=l.return;try{if(I5(r,b,l,d,Bt)){Mn=1,Rm(r,Ka(d,r.current)),St=null;return}}catch(N){if(b!==null)throw St=b,N;Mn=1,Rm(r,Ka(d,r.current)),St=null;return}l.flags&32768?(Kt||m===1?r=!0:Qc||(Bt&536870912)!==0?r=!1:(Ro=r=!0,(m===2||m===9||m===3||m===6)&&(m=Za.current,m!==null&&m.tag===13&&(m.flags|=16384))),YS(l,r)):Um(l)}function Um(r){var l=r;do{if((l.flags&32768)!==0){YS(l,Ro);return}r=l.return;var d=z5(l.alternate,l,Hi);if(d!==null){St=d;return}if(l=l.sibling,l!==null){St=l;return}St=l=r}while(l!==null);Mn===0&&(Mn=5)}function YS(r,l){do{var d=U5(r.alternate,r);if(d!==null){d.flags&=32767,St=d;return}if(d=r.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(r=r.sibling,r!==null)){St=r;return}St=r=d}while(r!==null);Mn=6,St=null}function XS(r,l,d,m,b,N,D,I,Z){r.cancelPendingCommit=null;do $m();while(As!==0);if((Xt&6)!==0)throw Error(a(327));if(l!==null){if(l===r.current)throw Error(a(177));if(N=l.lanes|l.childLanes,N|=Wx,sn(r,d,N,D,I,Z),r===ln&&(St=ln=null,Bt=0),eu=l,Po=r,tu=d,tb=N,nb=b,zS=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Q5(Re,function(){return ek(),null})):(r.callbackNode=null,r.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=L.T,L.T=null,b=F.p,F.p=2,D=Xt,Xt|=4;try{$5(r,l,d)}finally{Xt=D,F.p=b,L.T=m}}As=1,WS(),ZS(),QS()}}function WS(){if(As===1){As=0;var r=Po,l=eu,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=L.T,L.T=null;var m=F.p;F.p=2;var b=Xt;Xt|=4;try{DS(l,r);var N=vb,D=Bw(r.containerInfo),I=N.focusedElem,Z=N.selectionRange;if(D!==I&&I&&I.ownerDocument&&Iw(I.ownerDocument.documentElement,I)){if(Z!==null&&Hx(I)){var ue=Z.start,ye=Z.end;if(ye===void 0&&(ye=ue),"selectionStart"in I)I.selectionStart=ue,I.selectionEnd=Math.min(ye,I.value.length);else{var ke=I.ownerDocument||document,fe=ke&&ke.defaultView||window;if(fe.getSelection){var me=fe.getSelection(),ft=I.textContent.length,it=Math.min(Z.start,ft),tn=Z.end===void 0?it:Math.min(Z.end,ft);!me.extend&&it>tn&&(D=tn,tn=it,it=D);var oe=Lw(I,it),se=Lw(I,tn);if(oe&&se&&(me.rangeCount!==1||me.anchorNode!==oe.node||me.anchorOffset!==oe.offset||me.focusNode!==se.node||me.focusOffset!==se.offset)){var le=ke.createRange();le.setStart(oe.node,oe.offset),me.removeAllRanges(),it>tn?(me.addRange(le),me.extend(se.node,se.offset)):(le.setEnd(se.node,se.offset),me.addRange(le))}}}}for(ke=[],me=I;me=me.parentNode;)me.nodeType===1&&ke.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ke.length;I++){var je=ke[I];je.element.scrollLeft=je.left,je.element.scrollTop=je.top}}Jm=!!xb,vb=xb=null}finally{Xt=b,F.p=m,L.T=d}}r.current=l,As=2}}function ZS(){if(As===2){As=0;var r=Po,l=eu,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=L.T,L.T=null;var m=F.p;F.p=2;var b=Xt;Xt|=4;try{CS(r,l.alternate,l)}finally{Xt=b,F.p=m,L.T=d}}As=3}}function QS(){if(As===4||As===3){As=0,Te();var r=Po,l=eu,d=tu,m=zS;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?As=5:(As=0,eu=Po=null,JS(r,r.pendingLanes));var b=r.pendingLanes;if(b===0&&(Mo=null),bt(d),l=l.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(ds,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=L.T,b=F.p,F.p=2,L.T=null;try{for(var N=r.onRecoverableError,D=0;D<m.length;D++){var I=m[D];N(I.value,{componentStack:I.stack})}}finally{L.T=l,F.p=b}}(tu&3)!==0&&$m(),oi(r),b=r.pendingLanes,(d&4194090)!==0&&(b&42)!==0?r===sb?nh++:(nh=0,sb=r):nh=0,sh(0)}}function JS(r,l){(r.pooledCacheLanes&=l)===0&&(l=r.pooledCache,l!=null&&(r.pooledCache=null,Ld(l)))}function $m(r){return WS(),ZS(),QS(),ek()}function ek(){if(As!==5)return!1;var r=Po,l=tb;tb=0;var d=bt(tu),m=L.T,b=F.p;try{F.p=32>d?32:d,L.T=null,d=nb,nb=null;var N=Po,D=tu;if(As=0,eu=Po=null,tu=0,(Xt&6)!==0)throw Error(a(331));var I=Xt;if(Xt|=4,IS(N.current),PS(N,N.current,D,d),Xt=I,sh(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(ds,N)}catch{}return!0}finally{F.p=b,L.T=m,JS(r,l)}}function tk(r,l,d){l=Ka(d,l),l=Ov(r.stateNode,l,2),r=So(r,l,2),r!==null&&(Ct(r,2),oi(r))}function rn(r,l,d){if(r.tag===3)tk(r,r,d);else for(;l!==null;){if(l.tag===3){tk(l,r,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Mo===null||!Mo.has(m))){r=Ka(d,r),d=rS(2),m=So(l,d,2),m!==null&&(iS(d,m,l,r),Ct(m,2),oi(m));break}}l=l.return}}function ob(r,l,d){var m=r.pingCache;if(m===null){m=r.pingCache=new q5;var b=new Set;m.set(l,b)}else b=m.get(l),b===void 0&&(b=new Set,m.set(l,b));b.has(d)||(Zv=!0,b.add(d),r=X5.bind(null,r,l,d),l.then(r,r))}function X5(r,l,d){var m=r.pingCache;m!==null&&m.delete(l),r.pingedLanes|=r.suspendedLanes&d,r.warmLanes&=~d,ln===r&&(Bt&d)===d&&(Mn===4||Mn===3&&(Bt&62914560)===Bt&&300>Oe()-eb?(Xt&2)===0&&nu(r,0):Qv|=d,Jc===Bt&&(Jc=0)),oi(r)}function nk(r,l){l===0&&(l=ta()),r=Bc(r,l),r!==null&&(Ct(r,l),oi(r))}function W5(r){var l=r.memoizedState,d=0;l!==null&&(d=l.retryLane),nk(r,d)}function Z5(r,l){var d=0;switch(r.tag){case 13:var m=r.stateNode,b=r.memoizedState;b!==null&&(d=b.retryLane);break;case 19:m=r.stateNode;break;case 22:m=r.stateNode._retryCache;break;default:throw Error(a(314))}m!==null&&m.delete(l),nk(r,d)}function Q5(r,l){return Ee(r,l)}var Fm=null,au=null,lb=!1,Vm=!1,cb=!1,Hl=0;function oi(r){r!==au&&r.next===null&&(au===null?Fm=au=r:au=au.next=r),Vm=!0,lb||(lb=!0,eL())}function sh(r,l){if(!cb&&Vm){cb=!0;do for(var d=!1,m=Fm;m!==null;){if(r!==0){var b=m.pendingLanes;if(b===0)var N=0;else{var D=m.suspendedLanes,I=m.pingedLanes;N=(1<<31-Ft(42|r)+1)-1,N&=b&~(D&~I),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,ik(m,N))}else N=Bt,N=Ss(m,m===ln?N:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(N&3)===0||hs(m,N)||(d=!0,ik(m,N));m=m.next}while(d);cb=!1}}function J5(){sk()}function sk(){Vm=lb=!1;var r=0;Hl!==0&&(lL()&&(r=Hl),Hl=0);for(var l=Oe(),d=null,m=Fm;m!==null;){var b=m.next,N=ak(m,l);N===0?(m.next=null,d===null?Fm=b:d.next=b,b===null&&(au=d)):(d=m,(r!==0||(N&3)!==0)&&(Vm=!0)),m=b}sh(r)}function ak(r,l){for(var d=r.suspendedLanes,m=r.pingedLanes,b=r.expirationTimes,N=r.pendingLanes&-62914561;0<N;){var D=31-Ft(N),I=1<<D,Z=b[D];Z===-1?((I&d)===0||(I&m)!==0)&&(b[D]=fs(I,l)):Z<=l&&(r.expiredLanes|=I),N&=~I}if(l=ln,d=Bt,d=Ss(r,r===l?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m=r.callbackNode,d===0||r===l&&(Wt===2||Wt===9)||r.cancelPendingCommit!==null)return m!==null&&m!==null&&be(m),r.callbackNode=null,r.callbackPriority=0;if((d&3)===0||hs(r,d)){if(l=d&-d,l===r.callbackPriority)return l;switch(m!==null&&be(m),bt(d)){case 2:case 8:d=He;break;case 32:d=Re;break;case 268435456:d=Zt;break;default:d=Re}return m=rk.bind(null,r),d=Ee(d,m),r.callbackPriority=l,r.callbackNode=d,l}return m!==null&&m!==null&&be(m),r.callbackPriority=2,r.callbackNode=null,2}function rk(r,l){if(As!==0&&As!==5)return r.callbackNode=null,r.callbackPriority=0,null;var d=r.callbackNode;if($m()&&r.callbackNode!==d)return null;var m=Bt;return m=Ss(r,r===ln?m:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),m===0?null:($S(r,m,l),ak(r,Oe()),r.callbackNode!=null&&r.callbackNode===d?rk.bind(null,r):null)}function ik(r,l){if($m())return null;$S(r,l,!0)}function eL(){uL(function(){(Xt&6)!==0?Ee(qe,J5):sk()})}function ub(){return Hl===0&&(Hl=Qt()),Hl}function ok(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:mo(""+r)}function lk(r,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,r.id&&d.setAttribute("form",r.id),l.parentNode.insertBefore(d,l),r=new FormData(r),d.parentNode.removeChild(d),r}function tL(r,l,d,m,b){if(l==="submit"&&d&&d.stateNode===b){var N=ok((b[xt]||null).action),D=m.submitter;D&&(l=(l=D[xt]||null)?ok(l.formAction):D.getAttribute("formAction"),l!==null&&(N=l,D=null));var I=new xe("action","action",null,m,b);r.push({event:I,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Hl!==0){var Z=D?lk(b,D):new FormData(b);_v(d,{pending:!0,data:Z,method:b.method,action:N},null,Z)}}else typeof N=="function"&&(I.preventDefault(),Z=D?lk(b,D):new FormData(b),_v(d,{pending:!0,data:Z,method:b.method,action:N},N,Z))},currentTarget:b}]})}}for(var db=0;db<Xx.length;db++){var hb=Xx[db],nL=hb.toLowerCase(),sL=hb[0].toUpperCase()+hb.slice(1);kr(nL,"on"+sL)}kr($w,"onAnimationEnd"),kr(Fw,"onAnimationIteration"),kr(Vw,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(y5,"onTransitionRun"),kr(j5,"onTransitionStart"),kr(w5,"onTransitionCancel"),kr(qw,"onTransitionEnd"),Bn("onMouseEnter",["mouseout","mouseover"]),Bn("onMouseLeave",["mouseout","mouseover"]),Bn("onPointerEnter",["pointerout","pointerover"]),Bn("onPointerLeave",["pointerout","pointerover"]),br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),br("onBeforeInput",["compositionend","keypress","textInput","paste"]),br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ah="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aL=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ah));function ck(r,l){l=(l&4)!==0;for(var d=0;d<r.length;d++){var m=r[d],b=m.event;m=m.listeners;e:{var N=void 0;if(l)for(var D=m.length-1;0<=D;D--){var I=m[D],Z=I.instance,ue=I.currentTarget;if(I=I.listener,Z!==N&&b.isPropagationStopped())break e;N=I,b.currentTarget=ue;try{N(b)}catch(ye){_m(ye)}b.currentTarget=null,N=Z}else for(D=0;D<m.length;D++){if(I=m[D],Z=I.instance,ue=I.currentTarget,I=I.listener,Z!==N&&b.isPropagationStopped())break e;N=I,b.currentTarget=ue;try{N(b)}catch(ye){_m(ye)}b.currentTarget=null,N=Z}}}}function kt(r,l){var d=l[ks];d===void 0&&(d=l[ks]=new Set);var m=r+"__bubble";d.has(m)||(uk(l,r,2,!1),d.add(m))}function fb(r,l,d){var m=0;l&&(m|=4),uk(d,r,m,l)}var qm="_reactListening"+Math.random().toString(36).slice(2);function mb(r){if(!r[qm]){r[qm]=!0,kc.forEach(function(d){d!=="selectionchange"&&(aL.has(d)||fb(d,!1,r),fb(d,!0,r))});var l=r.nodeType===9?r:r.ownerDocument;l===null||l[qm]||(l[qm]=!0,fb("selectionchange",!1,l))}}function uk(r,l,d,m){switch(Pk(l)){case 2:var b=RL;break;case 8:b=DL;break;default:b=Cb}d=b.bind(null,l,d,r),b=void 0,!xo||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),m?b!==void 0?r.addEventListener(l,d,{capture:!0,passive:b}):r.addEventListener(l,d,!0):b!==void 0?r.addEventListener(l,d,{passive:b}):r.addEventListener(l,d,!1)}function pb(r,l,d,m,b){var N=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var D=m.tag;if(D===3||D===4){var I=m.stateNode.containerInfo;if(I===b)break;if(D===4)for(D=m.return;D!==null;){var Z=D.tag;if((Z===3||Z===4)&&D.stateNode.containerInfo===b)return;D=D.return}for(;I!==null;){if(D=Xr(I),D===null)return;if(Z=D.tag,Z===5||Z===6||Z===26||Z===27){m=N=D;continue e}I=I.parentNode}}m=m.return}go(function(){var ue=N,ye=po(d),ke=[];e:{var fe=Hw.get(r);if(fe!==void 0){var me=xe,ft=r;switch(r){case"keypress":if(bo(d)===0)break e;case"keydown":case"keyup":me=Q3;break;case"focusin":ft="focus",me=Un;break;case"focusout":ft="blur",me=Un;break;case"beforeblur":case"afterblur":me=Un;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=ss;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=zn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=t5;break;case $w:case Fw:case Vw:me=Sr;break;case qw:me=s5;break;case"scroll":case"scrollend":me=tt;break;case"wheel":me=r5;break;case"copy":case"cut":case"paste":me=rm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=ww;break;case"toggle":case"beforetoggle":me=o5}var it=(l&4)!==0,tn=!it&&(r==="scroll"||r==="scrollend"),oe=it?fe!==null?fe+"Capture":null:fe;it=[];for(var se=ue,le;se!==null;){var je=se;if(le=je.stateNode,je=je.tag,je!==5&&je!==26&&je!==27||le===null||oe===null||(je=Ga(se,oe),je!=null&&it.push(rh(se,je,le))),tn)break;se=se.return}0<it.length&&(fe=new me(fe,ft,null,d,ye),ke.push({event:fe,listeners:it}))}}if((l&7)===0){e:{if(fe=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",fe&&d!==Cl&&(ft=d.relatedTarget||d.fromElement)&&(Xr(ft)||ft[Vt]))break e;if((me||fe)&&(fe=ye.window===ye?ye:(fe=ye.ownerDocument)?fe.defaultView||fe.parentWindow:window,me?(ft=d.relatedTarget||d.toElement,me=ue,ft=ft?Xr(ft):null,ft!==null&&(tn=o(ft),it=ft.tag,ft!==tn||it!==5&&it!==27&&it!==6)&&(ft=null)):(me=null,ft=ue),me!==ft)){if(it=ss,je="onMouseLeave",oe="onMouseEnter",se="mouse",(r==="pointerout"||r==="pointerover")&&(it=ww,je="onPointerLeave",oe="onPointerEnter",se="pointer"),tn=me==null?fe:Tn(me),le=ft==null?fe:Tn(ft),fe=new it(je,se+"leave",me,d,ye),fe.target=tn,fe.relatedTarget=le,je=null,Xr(ye)===ue&&(it=new it(oe,se+"enter",ft,d,ye),it.target=le,it.relatedTarget=tn,je=it),tn=je,me&&ft)t:{for(it=me,oe=ft,se=0,le=it;le;le=ru(le))se++;for(le=0,je=oe;je;je=ru(je))le++;for(;0<se-le;)it=ru(it),se--;for(;0<le-se;)oe=ru(oe),le--;for(;se--;){if(it===oe||oe!==null&&it===oe.alternate)break t;it=ru(it),oe=ru(oe)}it=null}else it=null;me!==null&&dk(ke,fe,me,it,!1),ft!==null&&tn!==null&&dk(ke,tn,ft,it,!0)}}e:{if(fe=ue?Tn(ue):window,me=fe.nodeName&&fe.nodeName.toLowerCase(),me==="select"||me==="input"&&fe.type==="file")var Ye=_w;else if(Cw(fe))if(Rw)Ye=x5;else{Ye=p5;var wt=m5}else me=fe.nodeName,!me||me.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?ue&&oa(ue.elementType)&&(Ye=_w):Ye=g5;if(Ye&&(Ye=Ye(r,ue))){Tw(ke,Ye,d,ye);break e}wt&&wt(r,fe,ue),r==="focusout"&&ue&&fe.type==="number"&&ue.memoizedProps.value!=null&&Ri(fe,"number",fe.value)}switch(wt=ue?Tn(ue):window,r){case"focusin":(Cw(wt)||wt.contentEditable==="true")&&(Oc=wt,Gx=ue,Rd=null);break;case"focusout":Rd=Gx=Oc=null;break;case"mousedown":Kx=!0;break;case"contextmenu":case"mouseup":case"dragend":Kx=!1,zw(ke,d,ye);break;case"selectionchange":if(b5)break;case"keydown":case"keyup":zw(ke,d,ye)}var nt;if(Fx)e:{switch(r){case"compositionstart":var ot="onCompositionStart";break e;case"compositionend":ot="onCompositionEnd";break e;case"compositionupdate":ot="onCompositionUpdate";break e}ot=void 0}else Pc?Ew(r,d)&&(ot="onCompositionEnd"):r==="keydown"&&d.keyCode===229&&(ot="onCompositionStart");ot&&(Nw&&d.locale!=="ko"&&(Pc||ot!=="onCompositionStart"?ot==="onCompositionEnd"&&Pc&&(nt=vo()):(Na=ye,la="value"in Na?Na.value:Na.textContent,Pc=!0)),wt=Hm(ue,ot),0<wt.length&&(ot=new _l(ot,r,null,d,ye),ke.push({event:ot,listeners:wt}),nt?ot.data=nt:(nt=Aw(d),nt!==null&&(ot.data=nt)))),(nt=c5?u5(r,d):d5(r,d))&&(ot=Hm(ue,"onBeforeInput"),0<ot.length&&(wt=new _l("onBeforeInput","beforeinput",null,d,ye),ke.push({event:wt,listeners:ot}),wt.data=nt)),tL(ke,r,ue,d,ye)}ck(ke,l)})}function rh(r,l,d){return{instance:r,listener:l,currentTarget:d}}function Hm(r,l){for(var d=l+"Capture",m=[];r!==null;){var b=r,N=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||N===null||(b=Ga(r,d),b!=null&&m.unshift(rh(r,b,N)),b=Ga(r,l),b!=null&&m.push(rh(r,b,N))),r.tag===3)return m;r=r.return}return[]}function ru(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function dk(r,l,d,m,b){for(var N=l._reactName,D=[];d!==null&&d!==m;){var I=d,Z=I.alternate,ue=I.stateNode;if(I=I.tag,Z!==null&&Z===m)break;I!==5&&I!==26&&I!==27||ue===null||(Z=ue,b?(ue=Ga(d,N),ue!=null&&D.unshift(rh(d,ue,Z))):b||(ue=Ga(d,N),ue!=null&&D.push(rh(d,ue,Z)))),d=d.return}D.length!==0&&r.push({event:l,listeners:D})}var rL=/\r\n?/g,iL=/\u0000|\uFFFD/g;function hk(r){return(typeof r=="string"?r:""+r).replace(rL,`
`).replace(iL,"")}function fk(r,l){return l=hk(l),hk(r)===l}function Gm(){}function en(r,l,d,m,b,N){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||ms(r,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&ms(r,""+m);break;case"className":yr(r,"class",m);break;case"tabIndex":yr(r,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":yr(r,d,m);break;case"style":Dc(r,m,N);break;case"data":if(l!=="object"){yr(r,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){r.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(d);break}m=mo(""+m),r.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){r.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(l!=="input"&&en(r,l,"name",b.name,b,null),en(r,l,"formEncType",b.formEncType,b,null),en(r,l,"formMethod",b.formMethod,b,null),en(r,l,"formTarget",b.formTarget,b,null)):(en(r,l,"encType",b.encType,b,null),en(r,l,"method",b.method,b,null),en(r,l,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){r.removeAttribute(d);break}m=mo(""+m),r.setAttribute(d,m);break;case"onClick":m!=null&&(r.onclick=Gm);break;case"onScroll":m!=null&&kt("scroll",r);break;case"onScrollEnd":m!=null&&kt("scrollend",r);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(d=m.__html,d!=null){if(b.children!=null)throw Error(a(60));r.innerHTML=d}}break;case"multiple":r.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":r.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){r.removeAttribute("xlink:href");break}d=mo(""+m),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(d,""+m):r.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(d,""):r.removeAttribute(d);break;case"capture":case"download":m===!0?r.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?r.setAttribute(d,m):r.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?r.setAttribute(d,m):r.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?r.removeAttribute(d):r.setAttribute(d,m);break;case"popover":kt("beforetoggle",r),kt("toggle",r),fo(r,"popover",m);break;case"xlinkActuate":ia(r,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":ia(r,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":ia(r,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":ia(r,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":ia(r,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":ia(r,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":ia(r,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":ia(r,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":ia(r,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":fo(r,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=kd.get(d)||d,fo(r,d,m))}}function gb(r,l,d,m,b,N){switch(d){case"style":Dc(r,m,N);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(a(61));if(d=m.__html,d!=null){if(b.children!=null)throw Error(a(60));r.innerHTML=d}}break;case"children":typeof m=="string"?ms(r,m):(typeof m=="number"||typeof m=="bigint")&&ms(r,""+m);break;case"onScroll":m!=null&&kt("scroll",r);break;case"onScrollEnd":m!=null&&kt("scrollend",r);break;case"onClick":m!=null&&(r.onclick=Gm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ec.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),l=d.slice(2,b?d.length-7:void 0),N=r[xt]||null,N=N!=null?N[d]:null,typeof N=="function"&&r.removeEventListener(l,N,b),typeof m=="function")){typeof N!="function"&&N!==null&&(d in r?r[d]=null:r.hasAttribute(d)&&r.removeAttribute(d)),r.addEventListener(l,m,b);break e}d in r?r[d]=m:m===!0?r.setAttribute(d,""):fo(r,d,m)}}}function Cs(r,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",r),kt("load",r);var m=!1,b=!1,N;for(N in d)if(d.hasOwnProperty(N)){var D=d[N];if(D!=null)switch(N){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:en(r,l,N,D,d,null)}}b&&en(r,l,"srcSet",d.srcSet,d,null),m&&en(r,l,"src",d.src,d,null);return;case"input":kt("invalid",r);var I=N=D=b=null,Z=null,ue=null;for(m in d)if(d.hasOwnProperty(m)){var ye=d[m];if(ye!=null)switch(m){case"name":b=ye;break;case"type":D=ye;break;case"checked":Z=ye;break;case"defaultChecked":ue=ye;break;case"value":N=ye;break;case"defaultValue":I=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(a(137,l));break;default:en(r,l,m,ye,d,null)}}_c(r,N,I,Z,ue,D,b,!1),qa(r);return;case"select":kt("invalid",r),m=D=N=null;for(b in d)if(d.hasOwnProperty(b)&&(I=d[b],I!=null))switch(b){case"value":N=I;break;case"defaultValue":D=I;break;case"multiple":m=I;default:en(r,l,b,I,d,null)}l=N,d=D,r.multiple=!!m,l!=null?Jr(r,!!m,l,!1):d!=null&&Jr(r,!!m,d,!0);return;case"textarea":kt("invalid",r),N=b=m=null;for(D in d)if(d.hasOwnProperty(D)&&(I=d[D],I!=null))switch(D){case"value":m=I;break;case"defaultValue":b=I;break;case"children":N=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(91));break;default:en(r,l,D,I,d,null)}ei(r,m,b,N),qa(r);return;case"option":for(Z in d)if(d.hasOwnProperty(Z)&&(m=d[Z],m!=null))switch(Z){case"selected":r.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:en(r,l,Z,m,d,null)}return;case"dialog":kt("beforetoggle",r),kt("toggle",r),kt("cancel",r),kt("close",r);break;case"iframe":case"object":kt("load",r);break;case"video":case"audio":for(m=0;m<ah.length;m++)kt(ah[m],r);break;case"image":kt("error",r),kt("load",r);break;case"details":kt("toggle",r);break;case"embed":case"source":case"link":kt("error",r),kt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in d)if(d.hasOwnProperty(ue)&&(m=d[ue],m!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,l));default:en(r,l,ue,m,d,null)}return;default:if(oa(l)){for(ye in d)d.hasOwnProperty(ye)&&(m=d[ye],m!==void 0&&gb(r,l,ye,m,d,void 0));return}}for(I in d)d.hasOwnProperty(I)&&(m=d[I],m!=null&&en(r,l,I,m,d,null))}function oL(r,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,N=null,D=null,I=null,Z=null,ue=null,ye=null;for(me in d){var ke=d[me];if(d.hasOwnProperty(me)&&ke!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":Z=ke;default:m.hasOwnProperty(me)||en(r,l,me,null,m,ke)}}for(var fe in m){var me=m[fe];if(ke=d[fe],m.hasOwnProperty(fe)&&(me!=null||ke!=null))switch(fe){case"type":N=me;break;case"name":b=me;break;case"checked":ue=me;break;case"defaultChecked":ye=me;break;case"value":D=me;break;case"defaultValue":I=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(a(137,l));break;default:me!==ke&&en(r,l,fe,me,m,ke)}}Al(r,D,I,Z,ue,ye,N,b);return;case"select":me=D=I=fe=null;for(N in d)if(Z=d[N],d.hasOwnProperty(N)&&Z!=null)switch(N){case"value":break;case"multiple":me=Z;default:m.hasOwnProperty(N)||en(r,l,N,null,m,Z)}for(b in m)if(N=m[b],Z=d[b],m.hasOwnProperty(b)&&(N!=null||Z!=null))switch(b){case"value":fe=N;break;case"defaultValue":I=N;break;case"multiple":D=N;default:N!==Z&&en(r,l,b,N,m,Z)}l=I,d=D,m=me,fe!=null?Jr(r,!!d,fe,!1):!!m!=!!d&&(l!=null?Jr(r,!!d,l,!0):Jr(r,!!d,d?[]:"",!1));return;case"textarea":me=fe=null;for(I in d)if(b=d[I],d.hasOwnProperty(I)&&b!=null&&!m.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:en(r,l,I,null,m,b)}for(D in m)if(b=m[D],N=d[D],m.hasOwnProperty(D)&&(b!=null||N!=null))switch(D){case"value":fe=b;break;case"defaultValue":me=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:b!==N&&en(r,l,D,b,m,N)}Rc(r,fe,me);return;case"option":for(var ft in d)if(fe=d[ft],d.hasOwnProperty(ft)&&fe!=null&&!m.hasOwnProperty(ft))switch(ft){case"selected":r.selected=!1;break;default:en(r,l,ft,null,m,fe)}for(Z in m)if(fe=m[Z],me=d[Z],m.hasOwnProperty(Z)&&fe!==me&&(fe!=null||me!=null))switch(Z){case"selected":r.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:en(r,l,Z,fe,m,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var it in d)fe=d[it],d.hasOwnProperty(it)&&fe!=null&&!m.hasOwnProperty(it)&&en(r,l,it,null,m,fe);for(ue in m)if(fe=m[ue],me=d[ue],m.hasOwnProperty(ue)&&fe!==me&&(fe!=null||me!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(a(137,l));break;default:en(r,l,ue,fe,m,me)}return;default:if(oa(l)){for(var tn in d)fe=d[tn],d.hasOwnProperty(tn)&&fe!==void 0&&!m.hasOwnProperty(tn)&&gb(r,l,tn,void 0,m,fe);for(ye in m)fe=m[ye],me=d[ye],!m.hasOwnProperty(ye)||fe===me||fe===void 0&&me===void 0||gb(r,l,ye,fe,m,me);return}}for(var oe in d)fe=d[oe],d.hasOwnProperty(oe)&&fe!=null&&!m.hasOwnProperty(oe)&&en(r,l,oe,null,m,fe);for(ke in m)fe=m[ke],me=d[ke],!m.hasOwnProperty(ke)||fe===me||fe==null&&me==null||en(r,l,ke,fe,m,me)}var xb=null,vb=null;function Km(r){return r.nodeType===9?r:r.ownerDocument}function mk(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function pk(r,l){if(r===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&l==="foreignObject"?0:r}function bb(r,l){return r==="textarea"||r==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var yb=null;function lL(){var r=window.event;return r&&r.type==="popstate"?r===yb?!1:(yb=r,!0):(yb=null,!1)}var gk=typeof setTimeout=="function"?setTimeout:void 0,cL=typeof clearTimeout=="function"?clearTimeout:void 0,xk=typeof Promise=="function"?Promise:void 0,uL=typeof queueMicrotask=="function"?queueMicrotask:typeof xk<"u"?function(r){return xk.resolve(null).then(r).catch(dL)}:gk;function dL(r){setTimeout(function(){throw r})}function Lo(r){return r==="head"}function vk(r,l){var d=l,m=0,b=0;do{var N=d.nextSibling;if(r.removeChild(d),N&&N.nodeType===8)if(d=N.data,d==="/$"){if(0<m&&8>m){d=m;var D=r.ownerDocument;if(d&1&&ih(D.documentElement),d&2&&ih(D.body),d&4)for(d=D.head,ih(d),D=d.firstChild;D;){var I=D.nextSibling,Z=D.nodeName;D[ya]||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&D.rel.toLowerCase()==="stylesheet"||d.removeChild(D),D=I}}if(b===0){r.removeChild(N),mh(l);return}b--}else d==="$"||d==="$?"||d==="$!"?b++:m=d.charCodeAt(0)-48;else m=0;d=N}while(d);mh(l)}function jb(r){var l=r.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":jb(d),wl(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}r.removeChild(d)}}function hL(r,l,d,m){for(;r.nodeType===1;){var b=d;if(r.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(m){if(!r[ya])switch(l){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(N=r.getAttribute("rel"),N==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(N!==b.rel||r.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||r.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||r.getAttribute("title")!==(b.title==null?null:b.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(N=r.getAttribute("src"),(N!==(b.src==null?null:b.src)||r.getAttribute("type")!==(b.type==null?null:b.type)||r.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&N&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(l==="input"&&r.type==="hidden"){var N=b.name==null?null:""+b.name;if(b.type==="hidden"&&r.getAttribute("name")===N)return r}else return r;if(r=Ar(r.nextSibling),r===null)break}return null}function fL(r,l,d){if(l==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!d||(r=Ar(r.nextSibling),r===null))return null;return r}function wb(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function mL(r,l){var d=r.ownerDocument;if(r.data!=="$?"||d.readyState==="complete")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),r._reactRetry=m}}function Ar(r){for(;r!=null;r=r.nextSibling){var l=r.nodeType;if(l===1||l===3)break;if(l===8){if(l=r.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return r}var Nb=null;function bk(r){r=r.previousSibling;for(var l=0;r;){if(r.nodeType===8){var d=r.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return r;l--}else d==="/$"&&l++}r=r.previousSibling}return null}function yk(r,l,d){switch(l=Km(d),r){case"html":if(r=l.documentElement,!r)throw Error(a(452));return r;case"head":if(r=l.head,!r)throw Error(a(453));return r;case"body":if(r=l.body,!r)throw Error(a(454));return r;default:throw Error(a(451))}}function ih(r){for(var l=r.attributes;l.length;)r.removeAttributeNode(l[0]);wl(r)}var Ja=new Map,jk=new Set;function Ym(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Gi=F.d;F.d={f:pL,r:gL,D:xL,C:vL,L:bL,m:yL,X:wL,S:jL,M:NL};function pL(){var r=Gi.f(),l=zm();return r||l}function gL(r){var l=Wr(r);l!==null&&l.tag===5&&l.type==="form"?$N(l):Gi.r(r)}var iu=typeof document>"u"?null:document;function wk(r,l,d){var m=iu;if(m&&typeof l=="string"&&l){var b=Is(l);b='link[rel="'+r+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),jk.has(b)||(jk.add(b),r={rel:r,crossOrigin:d,href:l},m.querySelector(b)===null&&(l=m.createElement("link"),Cs(l,"link",r),_n(l),m.head.appendChild(l)))}}function xL(r){Gi.D(r),wk("dns-prefetch",r,null)}function vL(r,l){Gi.C(r,l),wk("preconnect",r,l)}function bL(r,l,d){Gi.L(r,l,d);var m=iu;if(m&&r&&l){var b='link[rel="preload"][as="'+Is(l)+'"]';l==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+Is(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+Is(d.imageSizes)+'"]')):b+='[href="'+Is(r)+'"]';var N=b;switch(l){case"style":N=ou(r);break;case"script":N=lu(r)}Ja.has(N)||(r=p({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:r,as:l},d),Ja.set(N,r),m.querySelector(b)!==null||l==="style"&&m.querySelector(oh(N))||l==="script"&&m.querySelector(lh(N))||(l=m.createElement("link"),Cs(l,"link",r),_n(l),m.head.appendChild(l)))}}function yL(r,l){Gi.m(r,l);var d=iu;if(d&&r){var m=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Is(m)+'"][href="'+Is(r)+'"]',N=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=lu(r)}if(!Ja.has(N)&&(r=p({rel:"modulepreload",href:r},l),Ja.set(N,r),d.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(lh(N)))return}m=d.createElement("link"),Cs(m,"link",r),_n(m),d.head.appendChild(m)}}}function jL(r,l,d){Gi.S(r,l,d);var m=iu;if(m&&r){var b=Zr(m).hoistableStyles,N=ou(r);l=l||"default";var D=b.get(N);if(!D){var I={loading:0,preload:null};if(D=m.querySelector(oh(N)))I.loading=5;else{r=p({rel:"stylesheet",href:r,"data-precedence":l},d),(d=Ja.get(N))&&Sb(r,d);var Z=D=m.createElement("link");_n(Z),Cs(Z,"link",r),Z._p=new Promise(function(ue,ye){Z.onload=ue,Z.onerror=ye}),Z.addEventListener("load",function(){I.loading|=1}),Z.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Xm(D,l,m)}D={type:"stylesheet",instance:D,count:1,state:I},b.set(N,D)}}}function wL(r,l){Gi.X(r,l);var d=iu;if(d&&r){var m=Zr(d).hoistableScripts,b=lu(r),N=m.get(b);N||(N=d.querySelector(lh(b)),N||(r=p({src:r,async:!0},l),(l=Ja.get(b))&&kb(r,l),N=d.createElement("script"),_n(N),Cs(N,"link",r),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(b,N))}}function NL(r,l){Gi.M(r,l);var d=iu;if(d&&r){var m=Zr(d).hoistableScripts,b=lu(r),N=m.get(b);N||(N=d.querySelector(lh(b)),N||(r=p({src:r,async:!0,type:"module"},l),(l=Ja.get(b))&&kb(r,l),N=d.createElement("script"),_n(N),Cs(N,"link",r),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},m.set(b,N))}}function Nk(r,l,d,m){var b=(b=ee.current)?Ym(b):null;if(!b)throw Error(a(446));switch(r){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=ou(d.href),d=Zr(b).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){r=ou(d.href);var N=Zr(b).hoistableStyles,D=N.get(r);if(D||(b=b.ownerDocument||b,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(r,D),(N=b.querySelector(oh(r)))&&!N._p&&(D.instance=N,D.state.loading=5),Ja.has(r)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Ja.set(r,d),N||SL(b,r,d,D.state))),l&&m===null)throw Error(a(528,""));return D}if(l&&m!==null)throw Error(a(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=lu(d),d=Zr(b).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,r))}}function ou(r){return'href="'+Is(r)+'"'}function oh(r){return'link[rel="stylesheet"]['+r+"]"}function Sk(r){return p({},r,{"data-precedence":r.precedence,precedence:null})}function SL(r,l,d,m){r.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=r.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),Cs(l,"link",d),_n(l),r.head.appendChild(l))}function lu(r){return'[src="'+Is(r)+'"]'}function lh(r){return"script[async]"+r}function kk(r,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=r.querySelector('style[data-href~="'+Is(d.href)+'"]');if(m)return l.instance=m,_n(m),m;var b=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(r.ownerDocument||r).createElement("style"),_n(m),Cs(m,"style",b),Xm(m,d.precedence,r),l.instance=m;case"stylesheet":b=ou(d.href);var N=r.querySelector(oh(b));if(N)return l.state.loading|=4,l.instance=N,_n(N),N;m=Sk(d),(b=Ja.get(b))&&Sb(m,b),N=(r.ownerDocument||r).createElement("link"),_n(N);var D=N;return D._p=new Promise(function(I,Z){D.onload=I,D.onerror=Z}),Cs(N,"link",m),l.state.loading|=4,Xm(N,d.precedence,r),l.instance=N;case"script":return N=lu(d.src),(b=r.querySelector(lh(N)))?(l.instance=b,_n(b),b):(m=d,(b=Ja.get(N))&&(m=p({},d),kb(m,b)),r=r.ownerDocument||r,b=r.createElement("script"),_n(b),Cs(b,"link",m),r.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(a(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Xm(m,d.precedence,r));return l.instance}function Xm(r,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,N=b,D=0;D<m.length;D++){var I=m[D];if(I.dataset.precedence===l)N=I;else if(N!==b)break}N?N.parentNode.insertBefore(r,N.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(r,l.firstChild))}function Sb(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.title==null&&(r.title=l.title)}function kb(r,l){r.crossOrigin==null&&(r.crossOrigin=l.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=l.referrerPolicy),r.integrity==null&&(r.integrity=l.integrity)}var Wm=null;function Ek(r,l,d){if(Wm===null){var m=new Map,b=Wm=new Map;b.set(d,m)}else b=Wm,m=b.get(d),m||(m=new Map,b.set(d,m));if(m.has(r))return m;for(m.set(r,null),d=d.getElementsByTagName(r),b=0;b<d.length;b++){var N=d[b];if(!(N[ya]||N[It]||r==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var D=N.getAttribute(l)||"";D=r+D;var I=m.get(D);I?I.push(N):m.set(D,[N])}}return m}function Ak(r,l,d){r=r.ownerDocument||r,r.head.insertBefore(d,l==="title"?r.querySelector("head > title"):null)}function kL(r,l,d){if(d===1||l.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return r=l.disabled,typeof l.precedence=="string"&&r==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Ck(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ch=null;function EL(){}function AL(r,l,d){if(ch===null)throw Error(a(475));var m=ch;if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var b=ou(d.href),N=r.querySelector(oh(b));if(N){r=N._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(m.count++,m=Zm.bind(m),r.then(m,m)),l.state.loading|=4,l.instance=N,_n(N);return}N=r.ownerDocument||r,d=Sk(d),(b=Ja.get(b))&&Sb(d,b),N=N.createElement("link"),_n(N);var D=N;D._p=new Promise(function(I,Z){D.onload=I,D.onerror=Z}),Cs(N,"link",d),l.instance=N}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=Zm.bind(m),r.addEventListener("load",l),r.addEventListener("error",l))}}function CL(){if(ch===null)throw Error(a(475));var r=ch;return r.stylesheets&&r.count===0&&Eb(r,r.stylesheets),0<r.count?function(l){var d=setTimeout(function(){if(r.stylesheets&&Eb(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(d)}}:null}function Zm(){if(this.count--,this.count===0){if(this.stylesheets)Eb(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Qm=null;function Eb(r,l){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Qm=new Map,l.forEach(TL,r),Qm=null,Zm.call(r))}function TL(r,l){if(!(l.state.loading&4)){var d=Qm.get(r);if(d)var m=d.get(null);else{d=new Map,Qm.set(r,d);for(var b=r.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<b.length;N++){var D=b[N];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(d.set(D.dataset.precedence,D),m=D)}m&&d.set(null,m)}b=l.instance,D=b.getAttribute("data-precedence"),N=d.get(D)||m,N===m&&d.set(null,b),d.set(D,b),this.count++,m=Zm.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),N?N.parentNode.insertBefore(b,N.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(b,r.firstChild)),l.state.loading|=4}}var uh={$$typeof:A,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function _L(r,l,d,m,b,N,D,I){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Os(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Os(0),this.hiddenUpdates=Os(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=N,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function Tk(r,l,d,m,b,N,D,I,Z,ue,ye,ke){return r=new _L(r,l,d,D,I,Z,ue,ke),l=1,N===!0&&(l|=24),N=ka(3,null,null,l),r.current=N,N.stateNode=r,l=ov(),l.refCount++,r.pooledCache=l,l.refCount++,N.memoizedState={element:m,isDehydrated:d,cache:l},dv(N),r}function _k(r){return r?(r=zc,r):zc}function Rk(r,l,d,m,b,N){b=_k(b),m.context===null?m.context=b:m.pendingContext=b,m=No(l),m.payload={element:d},N=N===void 0?null:N,N!==null&&(m.callback=N),d=So(r,m,l),d!==null&&(_a(d,r,l),Ud(d,r,l))}function Dk(r,l){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var d=r.retryLane;r.retryLane=d!==0&&d<l?d:l}}function Ab(r,l){Dk(r,l),(r=r.alternate)&&Dk(r,l)}function Mk(r){if(r.tag===13){var l=Bc(r,67108864);l!==null&&_a(l,r,67108864),Ab(r,67108864)}}var Jm=!0;function RL(r,l,d,m){var b=L.T;L.T=null;var N=F.p;try{F.p=2,Cb(r,l,d,m)}finally{F.p=N,L.T=b}}function DL(r,l,d,m){var b=L.T;L.T=null;var N=F.p;try{F.p=8,Cb(r,l,d,m)}finally{F.p=N,L.T=b}}function Cb(r,l,d,m){if(Jm){var b=Tb(m);if(b===null)pb(r,l,m,ep,d),Ok(r,m);else if(PL(b,r,l,d,m))m.stopPropagation();else if(Ok(r,m),l&4&&-1<ML.indexOf(r)){for(;b!==null;){var N=Wr(b);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var D=jn(N.pendingLanes);if(D!==0){var I=N;for(I.pendingLanes|=2,I.entangledLanes|=2;D;){var Z=1<<31-Ft(D);I.entanglements[1]|=Z,D&=~Z}oi(N),(Xt&6)===0&&(Im=Oe()+500,sh(0))}}break;case 13:I=Bc(N,2),I!==null&&_a(I,N,2),zm(),Ab(N,2)}if(N=Tb(m),N===null&&pb(r,l,m,ep,d),N===b)break;b=N}b!==null&&m.stopPropagation()}else pb(r,l,m,null,d)}}function Tb(r){return r=po(r),_b(r)}var ep=null;function _b(r){if(ep=null,r=Xr(r),r!==null){var l=o(r);if(l===null)r=null;else{var d=l.tag;if(d===13){if(r=c(l),r!==null)return r;r=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;r=null}else l!==r&&(r=null)}}return ep=r,null}function Pk(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ze()){case qe:return 2;case He:return 8;case Re:case Je:return 32;case Zt:return 268435456;default:return 32}default:return 32}}var Rb=!1,Io=null,Bo=null,zo=null,dh=new Map,hh=new Map,Uo=[],ML="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ok(r,l){switch(r){case"focusin":case"focusout":Io=null;break;case"dragenter":case"dragleave":Bo=null;break;case"mouseover":case"mouseout":zo=null;break;case"pointerover":case"pointerout":dh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":hh.delete(l.pointerId)}}function fh(r,l,d,m,b,N){return r===null||r.nativeEvent!==N?(r={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:N,targetContainers:[b]},l!==null&&(l=Wr(l),l!==null&&Mk(l)),r):(r.eventSystemFlags|=m,l=r.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),r)}function PL(r,l,d,m,b){switch(l){case"focusin":return Io=fh(Io,r,l,d,m,b),!0;case"dragenter":return Bo=fh(Bo,r,l,d,m,b),!0;case"mouseover":return zo=fh(zo,r,l,d,m,b),!0;case"pointerover":var N=b.pointerId;return dh.set(N,fh(dh.get(N)||null,r,l,d,m,b)),!0;case"gotpointercapture":return N=b.pointerId,hh.set(N,fh(hh.get(N)||null,r,l,d,m,b)),!0}return!1}function Lk(r){var l=Xr(r.target);if(l!==null){var d=o(l);if(d!==null){if(l=d.tag,l===13){if(l=c(d),l!==null){r.blockedOn=l,Gt(r.priority,function(){if(d.tag===13){var m=Ta();m=gt(m);var b=Bc(d,m);b!==null&&_a(b,d,m),Ab(d,m)}});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){r.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}r.blockedOn=null}function tp(r){if(r.blockedOn!==null)return!1;for(var l=r.targetContainers;0<l.length;){var d=Tb(r.nativeEvent);if(d===null){d=r.nativeEvent;var m=new d.constructor(d.type,d);Cl=m,d.target.dispatchEvent(m),Cl=null}else return l=Wr(d),l!==null&&Mk(l),r.blockedOn=d,!1;l.shift()}return!0}function Ik(r,l,d){tp(r)&&d.delete(l)}function OL(){Rb=!1,Io!==null&&tp(Io)&&(Io=null),Bo!==null&&tp(Bo)&&(Bo=null),zo!==null&&tp(zo)&&(zo=null),dh.forEach(Ik),hh.forEach(Ik)}function np(r,l){r.blockedOn===l&&(r.blockedOn=null,Rb||(Rb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,OL)))}var sp=null;function Bk(r){sp!==r&&(sp=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sp===r&&(sp=null);for(var l=0;l<r.length;l+=3){var d=r[l],m=r[l+1],b=r[l+2];if(typeof m!="function"){if(_b(m||d)===null)continue;break}var N=Wr(d);N!==null&&(r.splice(l,3),l-=3,_v(N,{pending:!0,data:b,method:d.method,action:m},m,b))}}))}function mh(r){function l(Z){return np(Z,r)}Io!==null&&np(Io,r),Bo!==null&&np(Bo,r),zo!==null&&np(zo,r),dh.forEach(l),hh.forEach(l);for(var d=0;d<Uo.length;d++){var m=Uo[d];m.blockedOn===r&&(m.blockedOn=null)}for(;0<Uo.length&&(d=Uo[0],d.blockedOn===null);)Lk(d),d.blockedOn===null&&Uo.shift();if(d=(r.ownerDocument||r).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var b=d[m],N=d[m+1],D=b[xt]||null;if(typeof N=="function")D||Bk(d);else if(D){var I=null;if(N&&N.hasAttribute("formAction")){if(b=N,D=N[xt]||null)I=D.formAction;else if(_b(b)!==null)continue}else I=D.action;typeof I=="function"?d[m+1]=I:(d.splice(m,3),m-=3),Bk(d)}}}function Db(r){this._internalRoot=r}ap.prototype.render=Db.prototype.render=function(r){var l=this._internalRoot;if(l===null)throw Error(a(409));var d=l.current,m=Ta();Rk(d,m,r,l,null,null)},ap.prototype.unmount=Db.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var l=r.containerInfo;Rk(r.current,2,null,r,null,null),zm(),l[Vt]=null}};function ap(r){this._internalRoot=r}ap.prototype.unstable_scheduleHydration=function(r){if(r){var l=an();r={blockedOn:null,target:r,priority:l};for(var d=0;d<Uo.length&&l!==0&&l<Uo[d].priority;d++);Uo.splice(d,0,r),d===0&&Lk(r)}};var zk=e.version;if(zk!=="19.1.0")throw Error(a(527,zk,"19.1.0"));F.findDOMNode=function(r){var l=r._reactInternals;if(l===void 0)throw typeof r.render=="function"?Error(a(188)):(r=Object.keys(r).join(","),Error(a(268,r)));return r=h(l),r=r!==null?f(r):null,r=r===null?null:r.stateNode,r};var LL={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rp.isDisabled&&rp.supportsFiber)try{ds=rp.inject(LL),$t=rp}catch{}}return vh.createRoot=function(r,l){if(!i(r))throw Error(a(299));var d=!1,m="",b=tS,N=nS,D=sS,I=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(D=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(I=l.unstable_transitionCallbacks)),l=Tk(r,1,!1,null,null,d,m,b,N,D,I,null),r[Vt]=l.current,mb(r),new Db(l)},vh.hydrateRoot=function(r,l,d){if(!i(r))throw Error(a(299));var m=!1,b="",N=tS,D=nS,I=sS,Z=null,ue=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(D=d.onCaughtError),d.onRecoverableError!==void 0&&(I=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(Z=d.unstable_transitionCallbacks),d.formState!==void 0&&(ue=d.formState)),l=Tk(r,1,!0,l,d??null,m,b,N,D,I,Z,ue),l.context=_k(null),d=l.current,m=Ta(),m=gt(m),b=No(m),b.callback=null,So(d,b,m),d=m,l.current.lanes=d,Ct(l,d),oi(l),r[Vt]=l.current,mb(r),new ap(l)},vh.version="19.1.0",vh}var Gk;function N6(){if(Gk)return Ob.exports;Gk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ob.exports=w6(),Ob.exports}var S6=N6(),zC=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(zC||{}),Bb={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}};Object.values(zC);var uj={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"};Object.entries(uj).reduce((t,[e,n])=>(t[n]=e,t),{});var ef="data-rh",k6=t=>Array.isArray(t)?t.join(""):t,E6=(t,e)=>{const n=Object.keys(t);for(let a=0;a<n.length;a+=1)if(e[n[a]]&&e[n[a]].includes(t[n[a]]))return!0;return!1},zb=(t,e)=>Array.isArray(t)?t.reduce((n,a)=>(E6(a,e)?n.priority.push(a):n.default.push(a),n),{priority:[],default:[]}):{default:t,priority:[]},A6=["noscript","script","style"],Ly=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),UC=t=>Object.keys(t).reduce((e,n)=>{const a=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${a}`:a},""),C6=(t,e,n,a)=>{const i=UC(n),o=k6(e);return i?`<${t} ${ef}="true" ${i}>${Ly(o,a)}</${t}>`:`<${t} ${ef}="true">${Ly(o,a)}</${t}>`},T6=(t,e,n=!0)=>e.reduce((a,i)=>{const o=i,c=Object.keys(o).filter(f=>!(f==="innerHTML"||f==="cssText")).reduce((f,p)=>{const g=typeof o[p]>"u"?p:`${p}="${Ly(o[p],n)}"`;return f?`${f} ${g}`:g},""),u=o.innerHTML||o.cssText||"",h=A6.indexOf(t)===-1;return`${a}<${t} ${ef}="true" ${c}${h?"/>":`>${u}</${t}>`}`},""),$C=(t,e={})=>Object.keys(t).reduce((n,a)=>{const i=uj[a];return n[i||a]=t[a],n},e),_6=(t,e,n)=>{const a={key:e,[ef]:!0},i=$C(n,a);return[ve.createElement("title",i,e)]},Pp=(t,e)=>e.map((n,a)=>{const i={key:a,[ef]:!0};return Object.keys(n).forEach(o=>{const u=uj[o]||o;if(u==="innerHTML"||u==="cssText"){const h=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:h}}else i[u]=n[o]}),ve.createElement(t,i)}),ar=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>_6(t,e.title,e.titleAttributes),toString:()=>C6(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>$C(e),toString:()=>UC(e)};default:return{toComponent:()=>Pp(t,e),toString:()=>T6(t,e,n)}}},R6=({metaTags:t,linkTags:e,scriptTags:n,encode:a})=>{const i=zb(t,Bb.meta),o=zb(e,Bb.link),c=zb(n,Bb.script);return{priorityMethods:{toComponent:()=>[...Pp("meta",i.priority),...Pp("link",o.priority),...Pp("script",c.priority)],toString:()=>`${ar("meta",i.priority,a)} ${ar("link",o.priority,a)} ${ar("script",c.priority,a)}`},metaTags:i.default,linkTags:o.default,scriptTags:c.default}},D6=t=>{const{baseTag:e,bodyAttributes:n,encode:a=!0,htmlAttributes:i,noscriptTags:o,styleTags:c,title:u="",titleAttributes:h,prioritizeSeoTags:f}=t;let{linkTags:p,metaTags:g,scriptTags:v}=t,y={toComponent:()=>{},toString:()=>""};return f&&({priorityMethods:y,linkTags:p,metaTags:g,scriptTags:v}=R6(t)),{priority:y,base:ar("base",e,a),bodyAttributes:ar("bodyAttributes",n,a),htmlAttributes:ar("htmlAttributes",i,a),link:ar("link",p,a),meta:ar("meta",g,a),noscript:ar("noscript",o,a),script:ar("script",v,a),style:ar("style",c,a),title:ar("title",{title:u,titleAttributes:h},a)}},M6=D6,ip=[],FC=!!(typeof window<"u"&&window.document&&window.document.createElement),P6=class{constructor(t,e){Me(this,"instances",[]);Me(this,"canUseDOM",FC);Me(this,"context");Me(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?ip:this.instances,add:t=>{(this.canUseDOM?ip:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?ip:this.instances).indexOf(t);(this.canUseDOM?ip:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=M6({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},O6={},L6=ve.createContext(O6),Ql,VC=(Ql=class extends x.Component{constructor(n){super(n);Me(this,"helmetData");this.helmetData=new P6(this.props.context||{},Ql.canUseDOM)}render(){return ve.createElement(L6.Provider,{value:this.helmetData.value},this.props.children)}},Me(Ql,"canUseDOM",FC),Ql);function Ce(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Kk(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function yi(...t){return e=>{let n=!1;const a=t.map(i=>{const o=Kk(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<a.length;i++){const o=a[i];typeof o=="function"?o():Kk(t[i],null)}}}}function ht(...t){return x.useCallback(yi(...t),t)}function I6(t,e){const n=x.createContext(e),a=o=>{const{children:c,...u}=o,h=x.useMemo(()=>u,Object.values(u));return s.jsx(n.Provider,{value:h,children:c})};a.displayName=t+"Provider";function i(o){const c=x.useContext(n);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[a,i]}function Zs(t,e=[]){let n=[];function a(o,c){const u=x.createContext(c),h=n.length;n=[...n,c];const f=g=>{var S;const{scope:v,children:y,...w}=g,j=((S=v==null?void 0:v[t])==null?void 0:S[h])||u,k=x.useMemo(()=>w,Object.values(w));return s.jsx(j.Provider,{value:k,children:y})};f.displayName=o+"Provider";function p(g,v){var j;const y=((j=v==null?void 0:v[t])==null?void 0:j[h])||u,w=x.useContext(y);if(w)return w;if(c!==void 0)return c;throw new Error(`\`${g}\` must be used within \`${o}\``)}return[f,p]}const i=()=>{const o=n.map(c=>x.createContext(c));return function(u){const h=(u==null?void 0:u[t])||o;return x.useMemo(()=>({[`__scope${t}`]:{...u,[t]:h}}),[u,h])}};return i.scopeName=t,[a,B6(i,...e)]}function B6(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const a=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const c=a.reduce((u,{useScope:h,scopeName:f})=>{const g=h(o)[`__scope${f}`];return{...u,...g}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return n.scopeName=e.scopeName,n}function tl(t){const e=z6(t),n=x.forwardRef((a,i)=>{const{children:o,...c}=a,u=x.Children.toArray(o),h=u.find(U6);if(h){const f=h.props.children,p=u.map(g=>g===h?x.Children.count(f)>1?x.Children.only(null):x.isValidElement(f)?f.props.children:null:g);return s.jsx(e,{...c,ref:i,children:x.isValidElement(f)?x.cloneElement(f,void 0,p):null})}return s.jsx(e,{...c,ref:i,children:o})});return n.displayName=`${t}.Slot`,n}var dj=tl("Slot");function z6(t){const e=x.forwardRef((n,a)=>{const{children:i,...o}=n;if(x.isValidElement(i)){const c=F6(i),u=$6(o,i.props);return i.type!==x.Fragment&&(u.ref=a?yi(a,c):c),x.cloneElement(i,u)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var qC=Symbol("radix.slottable");function HC(t){const e=({children:n})=>s.jsx(s.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=qC,e}function U6(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===qC}function $6(t,e){const n={...e};for(const a in e){const i=t[a],o=e[a];/^on[A-Z]/.test(a)?i&&o?n[a]=(...u)=>{o(...u),i(...u)}:i&&(n[a]=i):a==="style"?n[a]={...i,...o}:a==="className"&&(n[a]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function F6(t){var a,i;let e=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var V6=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Be=V6.reduce((t,e)=>{const n=tl(`Primitive.${e}`),a=x.forwardRef((i,o)=>{const{asChild:c,...u}=i,h=c?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(h,{...u,ref:o})});return a.displayName=`Primitive.${e}`,{...t,[e]:a}},{});function ng(t,e){t&&Zi.flushSync(()=>t.dispatchEvent(e))}function pn(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...n)=>{var a;return(a=e.current)==null?void 0:a.call(e,...n)},[])}function q6(t,e=globalThis==null?void 0:globalThis.document){const n=pn(t);x.useEffect(()=>{const a=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",a,{capture:!0}),()=>e.removeEventListener("keydown",a,{capture:!0})},[n,e])}var H6="DismissableLayer",Iy="dismissableLayer.update",G6="dismissableLayer.pointerDownOutside",K6="dismissableLayer.focusOutside",Yk,GC=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fc=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:c,onDismiss:u,...h}=t,f=x.useContext(GC),[p,g]=x.useState(null),v=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=x.useState({}),w=ht(e,P=>g(P)),j=Array.from(f.layers),[k]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),S=j.indexOf(k),E=p?j.indexOf(p):-1,A=f.layersWithOutsidePointerEventsDisabled.size>0,T=E>=S,_=W6(P=>{const O=P.target,H=[...f.branches].some(Y=>Y.contains(O));!T||H||(i==null||i(P),c==null||c(P),P.defaultPrevented||u==null||u())},v),M=Z6(P=>{const O=P.target;[...f.branches].some(Y=>Y.contains(O))||(o==null||o(P),c==null||c(P),P.defaultPrevented||u==null||u())},v);return q6(P=>{E===f.layers.size-1&&(a==null||a(P),!P.defaultPrevented&&u&&(P.preventDefault(),u()))},v),x.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Yk=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),Xk(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Yk)}},[p,v,n,f]),x.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),Xk())},[p,f]),x.useEffect(()=>{const P=()=>y({});return document.addEventListener(Iy,P),()=>document.removeEventListener(Iy,P)},[]),s.jsx(Be.div,{...h,ref:w,style:{pointerEvents:A?T?"auto":"none":void 0,...t.style},onFocusCapture:Ce(t.onFocusCapture,M.onFocusCapture),onBlurCapture:Ce(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Ce(t.onPointerDownCapture,_.onPointerDownCapture)})});fc.displayName=H6;var Y6="DismissableLayerBranch",X6=x.forwardRef((t,e)=>{const n=x.useContext(GC),a=x.useRef(null),i=ht(e,a);return x.useEffect(()=>{const o=a.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),s.jsx(Be.div,{...t,ref:i})});X6.displayName=Y6;function W6(t,e=globalThis==null?void 0:globalThis.document){const n=pn(t),a=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const o=u=>{if(u.target&&!a.current){let h=function(){KC(G6,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=h,e.addEventListener("click",i.current,{once:!0})):h()}else e.removeEventListener("click",i.current);a.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>a.current=!0}}function Z6(t,e=globalThis==null?void 0:globalThis.document){const n=pn(t),a=x.useRef(!1);return x.useEffect(()=>{const i=o=>{o.target&&!a.current&&KC(K6,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function Xk(){const t=new CustomEvent(Iy);document.dispatchEvent(t)}function KC(t,e,n,{discrete:a}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),a?ng(i,o):i.dispatchEvent(o)}var bn=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},Q6=DC[" useId ".trim().toString()]||(()=>{}),J6=0;function ls(t){const[e,n]=x.useState(Q6());return bn(()=>{n(a=>a??String(J6++))},[t]),e?`radix-${e}`:""}const eI=["top","right","bottom","left"],nl=Math.min,Ra=Math.max,sg=Math.round,op=Math.floor,mi=t=>({x:t,y:t}),tI={left:"right",right:"left",bottom:"top",top:"bottom"},nI={start:"end",end:"start"};function By(t,e,n){return Ra(t,nl(e,n))}function no(t,e){return typeof t=="function"?t(e):t}function so(t){return t.split("-")[0]}function id(t){return t.split("-")[1]}function hj(t){return t==="x"?"y":"x"}function fj(t){return t==="y"?"height":"width"}function sl(t){return["top","bottom"].includes(so(t))?"y":"x"}function mj(t){return hj(sl(t))}function sI(t,e,n){n===void 0&&(n=!1);const a=id(t),i=mj(t),o=fj(i);let c=i==="x"?a===(n?"end":"start")?"right":"left":a==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(c=ag(c)),[c,ag(c)]}function aI(t){const e=ag(t);return[zy(t),e,zy(e)]}function zy(t){return t.replace(/start|end/g,e=>nI[e])}function rI(t,e,n){const a=["left","right"],i=["right","left"],o=["top","bottom"],c=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:a:e?a:i;case"left":case"right":return e?o:c;default:return[]}}function iI(t,e,n,a){const i=id(t);let o=rI(so(t),n==="start",a);return i&&(o=o.map(c=>c+"-"+i),e&&(o=o.concat(o.map(zy)))),o}function ag(t){return t.replace(/left|right|bottom|top/g,e=>tI[e])}function oI(t){return{top:0,right:0,bottom:0,left:0,...t}}function YC(t){return typeof t!="number"?oI(t):{top:t,right:t,bottom:t,left:t}}function rg(t){const{x:e,y:n,width:a,height:i}=t;return{width:a,height:i,top:n,left:e,right:e+a,bottom:n+i,x:e,y:n}}function Wk(t,e,n){let{reference:a,floating:i}=t;const o=sl(e),c=mj(e),u=fj(c),h=so(e),f=o==="y",p=a.x+a.width/2-i.width/2,g=a.y+a.height/2-i.height/2,v=a[u]/2-i[u]/2;let y;switch(h){case"top":y={x:p,y:a.y-i.height};break;case"bottom":y={x:p,y:a.y+a.height};break;case"right":y={x:a.x+a.width,y:g};break;case"left":y={x:a.x-i.width,y:g};break;default:y={x:a.x,y:a.y}}switch(id(e)){case"start":y[c]-=v*(n&&f?-1:1);break;case"end":y[c]+=v*(n&&f?-1:1);break}return y}const lI=async(t,e,n)=>{const{placement:a="bottom",strategy:i="absolute",middleware:o=[],platform:c}=n,u=o.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(e));let f=await c.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:g}=Wk(f,a,h),v=a,y={},w=0;for(let j=0;j<u.length;j++){const{name:k,fn:S}=u[j],{x:E,y:A,data:T,reset:_}=await S({x:p,y:g,initialPlacement:a,placement:v,strategy:i,middlewareData:y,rects:f,platform:c,elements:{reference:t,floating:e}});p=E??p,g=A??g,y={...y,[k]:{...y[k],...T}},_&&w<=50&&(w++,typeof _=="object"&&(_.placement&&(v=_.placement),_.rects&&(f=_.rects===!0?await c.getElementRects({reference:t,floating:e,strategy:i}):_.rects),{x:p,y:g}=Wk(f,v,h)),j=-1)}return{x:p,y:g,placement:v,strategy:i,middlewareData:y}};async function tf(t,e){var n;e===void 0&&(e={});const{x:a,y:i,platform:o,rects:c,elements:u,strategy:h}=t,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:v=!1,padding:y=0}=no(e,t),w=YC(y),k=u[v?g==="floating"?"reference":"floating":g],S=rg(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(k)))==null||n?k:k.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:p,strategy:h})),E=g==="floating"?{x:a,y:i,width:c.floating.width,height:c.floating.height}:c.reference,A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),T=await(o.isElement==null?void 0:o.isElement(A))?await(o.getScale==null?void 0:o.getScale(A))||{x:1,y:1}:{x:1,y:1},_=rg(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:E,offsetParent:A,strategy:h}):E);return{top:(S.top-_.top+w.top)/T.y,bottom:(_.bottom-S.bottom+w.bottom)/T.y,left:(S.left-_.left+w.left)/T.x,right:(_.right-S.right+w.right)/T.x}}const cI=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:a,placement:i,rects:o,platform:c,elements:u,middlewareData:h}=e,{element:f,padding:p=0}=no(t,e)||{};if(f==null)return{};const g=YC(p),v={x:n,y:a},y=mj(i),w=fj(y),j=await c.getDimensions(f),k=y==="y",S=k?"top":"left",E=k?"bottom":"right",A=k?"clientHeight":"clientWidth",T=o.reference[w]+o.reference[y]-v[y]-o.floating[w],_=v[y]-o.reference[y],M=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let P=M?M[A]:0;(!P||!await(c.isElement==null?void 0:c.isElement(M)))&&(P=u.floating[A]||o.floating[w]);const O=T/2-_/2,H=P/2-j[w]/2-1,Y=nl(g[S],H),R=nl(g[E],H),X=Y,z=P-j[w]-R,Q=P/2-j[w]/2+O,ne=By(X,Q,z),L=!h.arrow&&id(i)!=null&&Q!==ne&&o.reference[w]/2-(Q<X?Y:R)-j[w]/2<0,F=L?Q<X?Q-X:Q-z:0;return{[y]:v[y]+F,data:{[y]:ne,centerOffset:Q-ne-F,...L&&{alignmentOffset:F}},reset:L}}}),uI=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,a;const{placement:i,middlewareData:o,rects:c,initialPlacement:u,platform:h,elements:f}=e,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:j=!0,...k}=no(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const S=so(i),E=sl(u),A=so(u)===u,T=await(h.isRTL==null?void 0:h.isRTL(f.floating)),_=v||(A||!j?[ag(u)]:aI(u)),M=w!=="none";!v&&M&&_.push(...iI(u,j,w,T));const P=[u,..._],O=await tf(e,k),H=[];let Y=((a=o.flip)==null?void 0:a.overflows)||[];if(p&&H.push(O[S]),g){const Q=sI(i,c,T);H.push(O[Q[0]],O[Q[1]])}if(Y=[...Y,{placement:i,overflows:H}],!H.every(Q=>Q<=0)){var R,X;const Q=(((R=o.flip)==null?void 0:R.index)||0)+1,ne=P[Q];if(ne)return{data:{index:Q,overflows:Y},reset:{placement:ne}};let L=(X=Y.filter(F=>F.overflows[0]<=0).sort((F,V)=>F.overflows[1]-V.overflows[1])[0])==null?void 0:X.placement;if(!L)switch(y){case"bestFit":{var z;const F=(z=Y.filter(V=>{if(M){const K=sl(V.placement);return K===E||K==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(K=>K>0).reduce((K,ae)=>K+ae,0)]).sort((V,K)=>V[1]-K[1])[0])==null?void 0:z[0];F&&(L=F);break}case"initialPlacement":L=u;break}if(i!==L)return{reset:{placement:L}}}return{}}}};function Zk(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Qk(t){return eI.some(e=>t[e]>=0)}const dI=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:a="referenceHidden",...i}=no(t,e);switch(a){case"referenceHidden":{const o=await tf(e,{...i,elementContext:"reference"}),c=Zk(o,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Qk(c)}}}case"escaped":{const o=await tf(e,{...i,altBoundary:!0}),c=Zk(o,n.floating);return{data:{escapedOffsets:c,escaped:Qk(c)}}}default:return{}}}}};async function hI(t,e){const{placement:n,platform:a,elements:i}=t,o=await(a.isRTL==null?void 0:a.isRTL(i.floating)),c=so(n),u=id(n),h=sl(n)==="y",f=["left","top"].includes(c)?-1:1,p=o&&h?-1:1,g=no(e,t);let{mainAxis:v,crossAxis:y,alignmentAxis:w}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof w=="number"&&(y=u==="end"?w*-1:w),h?{x:y*p,y:v*f}:{x:v*f,y:y*p}}const fI=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,a;const{x:i,y:o,placement:c,middlewareData:u}=e,h=await hI(e,t);return c===((n=u.offset)==null?void 0:n.placement)&&(a=u.arrow)!=null&&a.alignmentOffset?{}:{x:i+h.x,y:o+h.y,data:{...h,placement:c}}}}},mI=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:a,placement:i}=e,{mainAxis:o=!0,crossAxis:c=!1,limiter:u={fn:k=>{let{x:S,y:E}=k;return{x:S,y:E}}},...h}=no(t,e),f={x:n,y:a},p=await tf(e,h),g=sl(so(i)),v=hj(g);let y=f[v],w=f[g];if(o){const k=v==="y"?"top":"left",S=v==="y"?"bottom":"right",E=y+p[k],A=y-p[S];y=By(E,y,A)}if(c){const k=g==="y"?"top":"left",S=g==="y"?"bottom":"right",E=w+p[k],A=w-p[S];w=By(E,w,A)}const j=u.fn({...e,[v]:y,[g]:w});return{...j,data:{x:j.x-n,y:j.y-a,enabled:{[v]:o,[g]:c}}}}}},pI=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:a,placement:i,rects:o,middlewareData:c}=e,{offset:u=0,mainAxis:h=!0,crossAxis:f=!0}=no(t,e),p={x:n,y:a},g=sl(i),v=hj(g);let y=p[v],w=p[g];const j=no(u,e),k=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(h){const A=v==="y"?"height":"width",T=o.reference[v]-o.floating[A]+k.mainAxis,_=o.reference[v]+o.reference[A]-k.mainAxis;y<T?y=T:y>_&&(y=_)}if(f){var S,E;const A=v==="y"?"width":"height",T=["top","left"].includes(so(i)),_=o.reference[g]-o.floating[A]+(T&&((S=c.offset)==null?void 0:S[g])||0)+(T?0:k.crossAxis),M=o.reference[g]+o.reference[A]+(T?0:((E=c.offset)==null?void 0:E[g])||0)-(T?k.crossAxis:0);w<_?w=_:w>M&&(w=M)}return{[v]:y,[g]:w}}}},gI=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,a;const{placement:i,rects:o,platform:c,elements:u}=e,{apply:h=()=>{},...f}=no(t,e),p=await tf(e,f),g=so(i),v=id(i),y=sl(i)==="y",{width:w,height:j}=o.floating;let k,S;g==="top"||g==="bottom"?(k=g,S=v===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(S=g,k=v==="end"?"top":"bottom");const E=j-p.top-p.bottom,A=w-p.left-p.right,T=nl(j-p[k],E),_=nl(w-p[S],A),M=!e.middlewareData.shift;let P=T,O=_;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=A),(a=e.middlewareData.shift)!=null&&a.enabled.y&&(P=E),M&&!v){const Y=Ra(p.left,0),R=Ra(p.right,0),X=Ra(p.top,0),z=Ra(p.bottom,0);y?O=w-2*(Y!==0||R!==0?Y+R:Ra(p.left,p.right)):P=j-2*(X!==0||z!==0?X+z:Ra(p.top,p.bottom))}await h({...e,availableWidth:O,availableHeight:P});const H=await c.getDimensions(u.floating);return w!==H.width||j!==H.height?{reset:{rects:!0}}:{}}}};function Bg(){return typeof window<"u"}function od(t){return XC(t)?(t.nodeName||"").toLowerCase():"#document"}function Ba(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ei(t){var e;return(e=(XC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function XC(t){return Bg()?t instanceof Node||t instanceof Ba(t).Node:!1}function Ir(t){return Bg()?t instanceof Element||t instanceof Ba(t).Element:!1}function ji(t){return Bg()?t instanceof HTMLElement||t instanceof Ba(t).HTMLElement:!1}function Jk(t){return!Bg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ba(t).ShadowRoot}function Rf(t){const{overflow:e,overflowX:n,overflowY:a,display:i}=Br(t);return/auto|scroll|overlay|hidden|clip/.test(e+a+n)&&!["inline","contents"].includes(i)}function xI(t){return["table","td","th"].includes(od(t))}function zg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function pj(t){const e=gj(),n=Ir(t)?Br(t):t;return["transform","translate","scale","rotate","perspective"].some(a=>n[a]?n[a]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(n.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(n.contain||"").includes(a))}function vI(t){let e=al(t);for(;ji(e)&&!qu(e);){if(pj(e))return e;if(zg(e))return null;e=al(e)}return null}function gj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qu(t){return["html","body","#document"].includes(od(t))}function Br(t){return Ba(t).getComputedStyle(t)}function Ug(t){return Ir(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function al(t){if(od(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Jk(t)&&t.host||Ei(t);return Jk(e)?e.host:e}function WC(t){const e=al(t);return qu(e)?t.ownerDocument?t.ownerDocument.body:t.body:ji(e)&&Rf(e)?e:WC(e)}function nf(t,e,n){var a;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=WC(t),o=i===((a=t.ownerDocument)==null?void 0:a.body),c=Ba(i);if(o){const u=Uy(c);return e.concat(c,c.visualViewport||[],Rf(i)?i:[],u&&n?nf(u):[])}return e.concat(i,nf(i,[],n))}function Uy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ZC(t){const e=Br(t);let n=parseFloat(e.width)||0,a=parseFloat(e.height)||0;const i=ji(t),o=i?t.offsetWidth:n,c=i?t.offsetHeight:a,u=sg(n)!==o||sg(a)!==c;return u&&(n=o,a=c),{width:n,height:a,$:u}}function xj(t){return Ir(t)?t:t.contextElement}function Ou(t){const e=xj(t);if(!ji(e))return mi(1);const n=e.getBoundingClientRect(),{width:a,height:i,$:o}=ZC(e);let c=(o?sg(n.width):n.width)/a,u=(o?sg(n.height):n.height)/i;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const bI=mi(0);function QC(t){const e=Ba(t);return!gj()||!e.visualViewport?bI:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yI(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ba(t)?!1:e}function ec(t,e,n,a){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=xj(t);let c=mi(1);e&&(a?Ir(a)&&(c=Ou(a)):c=Ou(t));const u=yI(o,n,a)?QC(o):mi(0);let h=(i.left+u.x)/c.x,f=(i.top+u.y)/c.y,p=i.width/c.x,g=i.height/c.y;if(o){const v=Ba(o),y=a&&Ir(a)?Ba(a):a;let w=v,j=Uy(w);for(;j&&a&&y!==w;){const k=Ou(j),S=j.getBoundingClientRect(),E=Br(j),A=S.left+(j.clientLeft+parseFloat(E.paddingLeft))*k.x,T=S.top+(j.clientTop+parseFloat(E.paddingTop))*k.y;h*=k.x,f*=k.y,p*=k.x,g*=k.y,h+=A,f+=T,w=Ba(j),j=Uy(w)}}return rg({width:p,height:g,x:h,y:f})}function vj(t,e){const n=Ug(t).scrollLeft;return e?e.left+n:ec(Ei(t)).left+n}function JC(t,e,n){n===void 0&&(n=!1);const a=t.getBoundingClientRect(),i=a.left+e.scrollLeft-(n?0:vj(t,a)),o=a.top+e.scrollTop;return{x:i,y:o}}function jI(t){let{elements:e,rect:n,offsetParent:a,strategy:i}=t;const o=i==="fixed",c=Ei(a),u=e?zg(e.floating):!1;if(a===c||u&&o)return n;let h={scrollLeft:0,scrollTop:0},f=mi(1);const p=mi(0),g=ji(a);if((g||!g&&!o)&&((od(a)!=="body"||Rf(c))&&(h=Ug(a)),ji(a))){const y=ec(a);f=Ou(a),p.x=y.x+a.clientLeft,p.y=y.y+a.clientTop}const v=c&&!g&&!o?JC(c,h,!0):mi(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-h.scrollLeft*f.x+p.x+v.x,y:n.y*f.y-h.scrollTop*f.y+p.y+v.y}}function wI(t){return Array.from(t.getClientRects())}function NI(t){const e=Ei(t),n=Ug(t),a=t.ownerDocument.body,i=Ra(e.scrollWidth,e.clientWidth,a.scrollWidth,a.clientWidth),o=Ra(e.scrollHeight,e.clientHeight,a.scrollHeight,a.clientHeight);let c=-n.scrollLeft+vj(t);const u=-n.scrollTop;return Br(a).direction==="rtl"&&(c+=Ra(e.clientWidth,a.clientWidth)-i),{width:i,height:o,x:c,y:u}}function SI(t,e){const n=Ba(t),a=Ei(t),i=n.visualViewport;let o=a.clientWidth,c=a.clientHeight,u=0,h=0;if(i){o=i.width,c=i.height;const f=gj();(!f||f&&e==="fixed")&&(u=i.offsetLeft,h=i.offsetTop)}return{width:o,height:c,x:u,y:h}}function kI(t,e){const n=ec(t,!0,e==="fixed"),a=n.top+t.clientTop,i=n.left+t.clientLeft,o=ji(t)?Ou(t):mi(1),c=t.clientWidth*o.x,u=t.clientHeight*o.y,h=i*o.x,f=a*o.y;return{width:c,height:u,x:h,y:f}}function eE(t,e,n){let a;if(e==="viewport")a=SI(t,n);else if(e==="document")a=NI(Ei(t));else if(Ir(e))a=kI(e,n);else{const i=QC(t);a={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return rg(a)}function eT(t,e){const n=al(t);return n===e||!Ir(n)||qu(n)?!1:Br(n).position==="fixed"||eT(n,e)}function EI(t,e){const n=e.get(t);if(n)return n;let a=nf(t,[],!1).filter(u=>Ir(u)&&od(u)!=="body"),i=null;const o=Br(t).position==="fixed";let c=o?al(t):t;for(;Ir(c)&&!qu(c);){const u=Br(c),h=pj(c);!h&&u.position==="fixed"&&(i=null),(o?!h&&!i:!h&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Rf(c)&&!h&&eT(t,c))?a=a.filter(p=>p!==c):i=u,c=al(c)}return e.set(t,a),a}function AI(t){let{element:e,boundary:n,rootBoundary:a,strategy:i}=t;const c=[...n==="clippingAncestors"?zg(e)?[]:EI(e,this._c):[].concat(n),a],u=c[0],h=c.reduce((f,p)=>{const g=eE(e,p,i);return f.top=Ra(g.top,f.top),f.right=nl(g.right,f.right),f.bottom=nl(g.bottom,f.bottom),f.left=Ra(g.left,f.left),f},eE(e,u,i));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function CI(t){const{width:e,height:n}=ZC(t);return{width:e,height:n}}function TI(t,e,n){const a=ji(e),i=Ei(e),o=n==="fixed",c=ec(t,!0,o,e);let u={scrollLeft:0,scrollTop:0};const h=mi(0);if(a||!a&&!o)if((od(e)!=="body"||Rf(i))&&(u=Ug(e)),a){const v=ec(e,!0,o,e);h.x=v.x+e.clientLeft,h.y=v.y+e.clientTop}else i&&(h.x=vj(i));const f=i&&!a&&!o?JC(i,u):mi(0),p=c.left+u.scrollLeft-h.x-f.x,g=c.top+u.scrollTop-h.y-f.y;return{x:p,y:g,width:c.width,height:c.height}}function Ub(t){return Br(t).position==="static"}function tE(t,e){if(!ji(t)||Br(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ei(t)===n&&(n=n.ownerDocument.body),n}function tT(t,e){const n=Ba(t);if(zg(t))return n;if(!ji(t)){let i=al(t);for(;i&&!qu(i);){if(Ir(i)&&!Ub(i))return i;i=al(i)}return n}let a=tE(t,e);for(;a&&xI(a)&&Ub(a);)a=tE(a,e);return a&&qu(a)&&Ub(a)&&!pj(a)?n:a||vI(t)||n}const _I=async function(t){const e=this.getOffsetParent||tT,n=this.getDimensions,a=await n(t.floating);return{reference:TI(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function RI(t){return Br(t).direction==="rtl"}const DI={convertOffsetParentRelativeRectToViewportRelativeRect:jI,getDocumentElement:Ei,getClippingRect:AI,getOffsetParent:tT,getElementRects:_I,getClientRects:wI,getDimensions:CI,getScale:Ou,isElement:Ir,isRTL:RI};function nT(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function MI(t,e){let n=null,a;const i=Ei(t);function o(){var u;clearTimeout(a),(u=n)==null||u.disconnect(),n=null}function c(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),o();const f=t.getBoundingClientRect(),{left:p,top:g,width:v,height:y}=f;if(u||e(),!v||!y)return;const w=op(g),j=op(i.clientWidth-(p+v)),k=op(i.clientHeight-(g+y)),S=op(p),A={rootMargin:-w+"px "+-j+"px "+-k+"px "+-S+"px",threshold:Ra(0,nl(1,h))||1};let T=!0;function _(M){const P=M[0].intersectionRatio;if(P!==h){if(!T)return c();P?c(!1,P):a=setTimeout(()=>{c(!1,1e-7)},1e3)}P===1&&!nT(f,t.getBoundingClientRect())&&c(),T=!1}try{n=new IntersectionObserver(_,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(_,A)}n.observe(t)}return c(!0),o}function PI(t,e,n,a){a===void 0&&(a={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=a,f=xj(t),p=i||o?[...f?nf(f):[],...nf(e)]:[];p.forEach(S=>{i&&S.addEventListener("scroll",n,{passive:!0}),o&&S.addEventListener("resize",n)});const g=f&&u?MI(f,n):null;let v=-1,y=null;c&&(y=new ResizeObserver(S=>{let[E]=S;E&&E.target===f&&y&&(y.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var A;(A=y)==null||A.observe(e)})),n()}),f&&!h&&y.observe(f),y.observe(e));let w,j=h?ec(t):null;h&&k();function k(){const S=ec(t);j&&!nT(j,S)&&n(),j=S,w=requestAnimationFrame(k)}return n(),()=>{var S;p.forEach(E=>{i&&E.removeEventListener("scroll",n),o&&E.removeEventListener("resize",n)}),g==null||g(),(S=y)==null||S.disconnect(),y=null,h&&cancelAnimationFrame(w)}}const OI=fI,LI=mI,II=uI,BI=gI,zI=dI,nE=cI,UI=pI,$I=(t,e,n)=>{const a=new Map,i={platform:DI,...n},o={...i.platform,_c:a};return lI(t,e,{...i,platform:o})};var Op=typeof document<"u"?x.useLayoutEffect:x.useEffect;function ig(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,a,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(a=n;a--!==0;)if(!ig(t[a],e[a]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(a=n;a--!==0;)if(!{}.hasOwnProperty.call(e,i[a]))return!1;for(a=n;a--!==0;){const o=i[a];if(!(o==="_owner"&&t.$$typeof)&&!ig(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function sT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function sE(t,e){const n=sT(t);return Math.round(e*n)/n}function $b(t){const e=x.useRef(t);return Op(()=>{e.current=t}),e}function FI(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:a=[],platform:i,elements:{reference:o,floating:c}={},transform:u=!0,whileElementsMounted:h,open:f}=t,[p,g]=x.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,y]=x.useState(a);ig(v,a)||y(a);const[w,j]=x.useState(null),[k,S]=x.useState(null),E=x.useCallback(V=>{V!==M.current&&(M.current=V,j(V))},[]),A=x.useCallback(V=>{V!==P.current&&(P.current=V,S(V))},[]),T=o||w,_=c||k,M=x.useRef(null),P=x.useRef(null),O=x.useRef(p),H=h!=null,Y=$b(h),R=$b(i),X=$b(f),z=x.useCallback(()=>{if(!M.current||!P.current)return;const V={placement:e,strategy:n,middleware:v};R.current&&(V.platform=R.current),$I(M.current,P.current,V).then(K=>{const ae={...K,isPositioned:X.current!==!1};Q.current&&!ig(O.current,ae)&&(O.current=ae,Zi.flushSync(()=>{g(ae)}))})},[v,e,n,R,X]);Op(()=>{f===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,g(V=>({...V,isPositioned:!1})))},[f]);const Q=x.useRef(!1);Op(()=>(Q.current=!0,()=>{Q.current=!1}),[]),Op(()=>{if(T&&(M.current=T),_&&(P.current=_),T&&_){if(Y.current)return Y.current(T,_,z);z()}},[T,_,z,Y,H]);const ne=x.useMemo(()=>({reference:M,floating:P,setReference:E,setFloating:A}),[E,A]),L=x.useMemo(()=>({reference:T,floating:_}),[T,_]),F=x.useMemo(()=>{const V={position:n,left:0,top:0};if(!L.floating)return V;const K=sE(L.floating,p.x),ae=sE(L.floating,p.y);return u?{...V,transform:"translate("+K+"px, "+ae+"px)",...sT(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:ae}},[n,u,L.floating,p.x,p.y]);return x.useMemo(()=>({...p,update:z,refs:ne,elements:L,floatingStyles:F}),[p,z,ne,L,F])}const VI=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:a,padding:i}=typeof t=="function"?t(n):t;return a&&e(a)?a.current!=null?nE({element:a.current,padding:i}).fn(n):{}:a?nE({element:a,padding:i}).fn(n):{}}}},qI=(t,e)=>({...OI(t),options:[t,e]}),HI=(t,e)=>({...LI(t),options:[t,e]}),GI=(t,e)=>({...UI(t),options:[t,e]}),KI=(t,e)=>({...II(t),options:[t,e]}),YI=(t,e)=>({...BI(t),options:[t,e]}),XI=(t,e)=>({...zI(t),options:[t,e]}),WI=(t,e)=>({...VI(t),options:[t,e]});var ZI="Arrow",aT=x.forwardRef((t,e)=>{const{children:n,width:a=10,height:i=5,...o}=t;return s.jsx(Be.svg,{...o,ref:e,width:a,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});aT.displayName=ZI;var QI=aT;function bj(t){const[e,n]=x.useState(void 0);return bn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const a=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let c,u;if("borderBoxSize"in o){const h=o.borderBoxSize,f=Array.isArray(h)?h[0]:h;c=f.inlineSize,u=f.blockSize}else c=t.offsetWidth,u=t.offsetHeight;n({width:c,height:u})});return a.observe(t,{box:"border-box"}),()=>a.unobserve(t)}else n(void 0)},[t]),e}var yj="Popper",[rT,pl]=Zs(yj),[JI,iT]=rT(yj),oT=t=>{const{__scopePopper:e,children:n}=t,[a,i]=x.useState(null);return s.jsx(JI,{scope:e,anchor:a,onAnchorChange:i,children:n})};oT.displayName=yj;var lT="PopperAnchor",cT=x.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:a,...i}=t,o=iT(lT,n),c=x.useRef(null),u=ht(e,c);return x.useEffect(()=>{o.onAnchorChange((a==null?void 0:a.current)||c.current)}),a?null:s.jsx(Be.div,{...i,ref:u})});cT.displayName=lT;var jj="PopperContent",[e8,t8]=rT(jj),uT=x.forwardRef((t,e)=>{var te,ie,de,re,he,ce;const{__scopePopper:n,side:a="bottom",sideOffset:i=0,align:o="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:g="partial",hideWhenDetached:v=!1,updatePositionStrategy:y="optimized",onPlaced:w,...j}=t,k=iT(jj,n),[S,E]=x.useState(null),A=ht(e,Ee=>E(Ee)),[T,_]=x.useState(null),M=bj(T),P=(M==null?void 0:M.width)??0,O=(M==null?void 0:M.height)??0,H=a+(o!=="center"?"-"+o:""),Y=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},R=Array.isArray(f)?f:[f],X=R.length>0,z={padding:Y,boundary:R.filter(s8),altBoundary:X},{refs:Q,floatingStyles:ne,placement:L,isPositioned:F,middlewareData:V}=FI({strategy:"fixed",placement:H,whileElementsMounted:(...Ee)=>PI(...Ee,{animationFrame:y==="always"}),elements:{reference:k.anchor},middleware:[qI({mainAxis:i+O,alignmentAxis:c}),h&&HI({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?GI():void 0,...z}),h&&KI({...z}),YI({...z,apply:({elements:Ee,rects:be,availableWidth:De,availableHeight:Te})=>{const{width:Oe,height:Ze}=be.reference,qe=Ee.floating.style;qe.setProperty("--radix-popper-available-width",`${De}px`),qe.setProperty("--radix-popper-available-height",`${Te}px`),qe.setProperty("--radix-popper-anchor-width",`${Oe}px`),qe.setProperty("--radix-popper-anchor-height",`${Ze}px`)}}),T&&WI({element:T,padding:u}),a8({arrowWidth:P,arrowHeight:O}),v&&XI({strategy:"referenceHidden",...z})]}),[K,ae]=fT(L),G=pn(w);bn(()=>{F&&(G==null||G())},[F,G]);const B=(te=V.arrow)==null?void 0:te.x,W=(ie=V.arrow)==null?void 0:ie.y,$=((de=V.arrow)==null?void 0:de.centerOffset)!==0,[q,ee]=x.useState();return bn(()=>{S&&ee(window.getComputedStyle(S).zIndex)},[S]),s.jsx("div",{ref:Q.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:F?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(re=V.transformOrigin)==null?void 0:re.x,(he=V.transformOrigin)==null?void 0:he.y].join(" "),...((ce=V.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(e8,{scope:n,placedSide:K,onArrowChange:_,arrowX:B,arrowY:W,shouldHideArrow:$,children:s.jsx(Be.div,{"data-side":K,"data-align":ae,...j,ref:A,style:{...j.style,animation:F?void 0:"none"}})})})});uT.displayName=jj;var dT="PopperArrow",n8={top:"bottom",right:"left",bottom:"top",left:"right"},hT=x.forwardRef(function(e,n){const{__scopePopper:a,...i}=e,o=t8(dT,a),c=n8[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(QI,{...i,ref:n,style:{...i.style,display:"block"}})})});hT.displayName=dT;function s8(t){return t!==null}var a8=t=>({name:"transformOrigin",options:t,fn(e){var k,S,E;const{placement:n,rects:a,middlewareData:i}=e,c=((k=i.arrow)==null?void 0:k.centerOffset)!==0,u=c?0:t.arrowWidth,h=c?0:t.arrowHeight,[f,p]=fT(n),g={start:"0%",center:"50%",end:"100%"}[p],v=(((S=i.arrow)==null?void 0:S.x)??0)+u/2,y=(((E=i.arrow)==null?void 0:E.y)??0)+h/2;let w="",j="";return f==="bottom"?(w=c?g:`${v}px`,j=`${-h}px`):f==="top"?(w=c?g:`${v}px`,j=`${a.floating.height+h}px`):f==="right"?(w=`${-h}px`,j=c?g:`${y}px`):f==="left"&&(w=`${a.floating.width+h}px`,j=c?g:`${y}px`),{data:{x:w,y:j}}}});function fT(t){const[e,n="center"]=t.split("-");return[e,n]}var wj=oT,Df=cT,$g=uT,Fg=hT,r8="Portal",ld=x.forwardRef((t,e)=>{var u;const{container:n,...a}=t,[i,o]=x.useState(!1);bn(()=>o(!0),[]);const c=n||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?lj.createPortal(s.jsx(Be.div,{...a,ref:e}),c):null});ld.displayName=r8;function i8(t,e){return x.useReducer((n,a)=>e[n][a]??n,t)}var Ln=t=>{const{present:e,children:n}=t,a=o8(e),i=typeof n=="function"?n({present:a.isPresent}):x.Children.only(n),o=ht(a.ref,l8(i));return typeof n=="function"||a.isPresent?x.cloneElement(i,{ref:o}):null};Ln.displayName="Presence";function o8(t){const[e,n]=x.useState(),a=x.useRef(null),i=x.useRef(t),o=x.useRef("none"),c=t?"mounted":"unmounted",[u,h]=i8(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const f=lp(a.current);o.current=u==="mounted"?f:"none"},[u]),bn(()=>{const f=a.current,p=i.current;if(p!==t){const v=o.current,y=lp(f);t?h("MOUNT"):y==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(p&&v!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,h]),bn(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,g=y=>{const j=lp(a.current).includes(y.animationName);if(y.target===e&&j&&(h("ANIMATION_END"),!i.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},v=y=>{y.target===e&&(o.current=lp(a.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",g),e.addEventListener("animationend",g),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",g),e.removeEventListener("animationend",g)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:x.useCallback(f=>{a.current=f?getComputedStyle(f):null,n(f)},[])}}function lp(t){return(t==null?void 0:t.animationName)||"none"}function l8(t){var a,i;let e=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var c8=DC[" useInsertionEffect ".trim().toString()]||bn;function zr({prop:t,defaultProp:e,onChange:n=()=>{},caller:a}){const[i,o,c]=u8({defaultProp:e,onChange:n}),u=t!==void 0,h=u?t:i;{const p=x.useRef(t!==void 0);x.useEffect(()=>{const g=p.current;g!==u&&console.warn(`${a} is changing from ${g?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,a])}const f=x.useCallback(p=>{var g;if(u){const v=d8(p)?p(t):p;v!==t&&((g=c.current)==null||g.call(c,v))}else o(p)},[u,t,o,c]);return[h,f]}function u8({defaultProp:t,onChange:e}){const[n,a]=x.useState(t),i=x.useRef(n),o=x.useRef(e);return c8(()=>{o.current=e},[e]),x.useEffect(()=>{var c;i.current!==n&&((c=o.current)==null||c.call(o,n),i.current=n)},[n,i]),[n,a,o]}function d8(t){return typeof t=="function"}var mT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),h8="VisuallyHidden",pT=x.forwardRef((t,e)=>s.jsx(Be.span,{...t,ref:e,style:{...mT,...t.style}}));pT.displayName=h8;var gT=pT,[Vg,sle]=Zs("Tooltip",[pl]),Nj=pl(),xT="TooltipProvider",f8=700,aE="tooltip.open",[m8,vT]=Vg(xT),bT=t=>{const{__scopeTooltip:e,delayDuration:n=f8,skipDelayDuration:a=300,disableHoverableContent:i=!1,children:o}=t,c=x.useRef(!0),u=x.useRef(!1),h=x.useRef(0);return x.useEffect(()=>{const f=h.current;return()=>window.clearTimeout(f)},[]),s.jsx(m8,{scope:e,isOpenDelayedRef:c,delayDuration:n,onOpen:x.useCallback(()=>{window.clearTimeout(h.current),c.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>c.current=!0,a)},[a]),isPointerInTransitRef:u,onPointerInTransitChange:x.useCallback(f=>{u.current=f},[]),disableHoverableContent:i,children:o})};bT.displayName=xT;var yT="Tooltip",[ale,Mf]=Vg(yT),$y="TooltipTrigger",p8=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...a}=t,i=Mf($y,n),o=vT($y,n),c=Nj(n),u=x.useRef(null),h=ht(e,u,i.onTriggerChange),f=x.useRef(!1),p=x.useRef(!1),g=x.useCallback(()=>f.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",g),[g]),s.jsx(Df,{asChild:!0,...c,children:s.jsx(Be.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...a,ref:h,onPointerMove:Ce(t.onPointerMove,v=>{v.pointerType!=="touch"&&!p.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:Ce(t.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:Ce(t.onPointerDown,()=>{i.open&&i.onClose(),f.current=!0,document.addEventListener("pointerup",g,{once:!0})}),onFocus:Ce(t.onFocus,()=>{f.current||i.onOpen()}),onBlur:Ce(t.onBlur,i.onClose),onClick:Ce(t.onClick,i.onClose)})})});p8.displayName=$y;var Sj="TooltipPortal",[g8,x8]=Vg(Sj,{forceMount:void 0}),jT=t=>{const{__scopeTooltip:e,forceMount:n,children:a,container:i}=t,o=Mf(Sj,e);return s.jsx(g8,{scope:e,forceMount:n,children:s.jsx(Ln,{present:n||o.open,children:s.jsx(ld,{asChild:!0,container:i,children:a})})})};jT.displayName=Sj;var Hu="TooltipContent",wT=x.forwardRef((t,e)=>{const n=x8(Hu,t.__scopeTooltip),{forceMount:a=n.forceMount,side:i="top",...o}=t,c=Mf(Hu,t.__scopeTooltip);return s.jsx(Ln,{present:a||c.open,children:c.disableHoverableContent?s.jsx(NT,{side:i,...o,ref:e}):s.jsx(v8,{side:i,...o,ref:e})})}),v8=x.forwardRef((t,e)=>{const n=Mf(Hu,t.__scopeTooltip),a=vT(Hu,t.__scopeTooltip),i=x.useRef(null),o=ht(e,i),[c,u]=x.useState(null),{trigger:h,onClose:f}=n,p=i.current,{onPointerInTransitChange:g}=a,v=x.useCallback(()=>{u(null),g(!1)},[g]),y=x.useCallback((w,j)=>{const k=w.currentTarget,S={x:w.clientX,y:w.clientY},E=N8(S,k.getBoundingClientRect()),A=S8(S,E),T=k8(j.getBoundingClientRect()),_=A8([...A,...T]);u(_),g(!0)},[g]);return x.useEffect(()=>()=>v(),[v]),x.useEffect(()=>{if(h&&p){const w=k=>y(k,p),j=k=>y(k,h);return h.addEventListener("pointerleave",w),p.addEventListener("pointerleave",j),()=>{h.removeEventListener("pointerleave",w),p.removeEventListener("pointerleave",j)}}},[h,p,y,v]),x.useEffect(()=>{if(c){const w=j=>{const k=j.target,S={x:j.clientX,y:j.clientY},E=(h==null?void 0:h.contains(k))||(p==null?void 0:p.contains(k)),A=!E8(S,c);E?v():A&&(v(),f())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[h,p,c,f,v]),s.jsx(NT,{...t,ref:o})}),[b8,y8]=Vg(yT,{isInside:!1}),j8=HC("TooltipContent"),NT=x.forwardRef((t,e)=>{const{__scopeTooltip:n,children:a,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:c,...u}=t,h=Mf(Hu,n),f=Nj(n),{onClose:p}=h;return x.useEffect(()=>(document.addEventListener(aE,p),()=>document.removeEventListener(aE,p)),[p]),x.useEffect(()=>{if(h.trigger){const g=v=>{const y=v.target;y!=null&&y.contains(h.trigger)&&p()};return window.addEventListener("scroll",g,{capture:!0}),()=>window.removeEventListener("scroll",g,{capture:!0})}},[h.trigger,p]),s.jsx(fc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:g=>g.preventDefault(),onDismiss:p,children:s.jsxs($g,{"data-state":h.stateAttribute,...f,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(j8,{children:a}),s.jsx(b8,{scope:n,isInside:!0,children:s.jsx(gT,{id:h.contentId,role:"tooltip",children:i||a})})]})})});wT.displayName=Hu;var ST="TooltipArrow",w8=x.forwardRef((t,e)=>{const{__scopeTooltip:n,...a}=t,i=Nj(n);return y8(ST,n).isInside?null:s.jsx(Fg,{...i,...a,ref:e})});w8.displayName=ST;function N8(t,e){const n=Math.abs(e.top-t.y),a=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,a,i,o)){case o:return"left";case i:return"right";case n:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function S8(t,e,n=5){const a=[];switch(e){case"top":a.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":a.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":a.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":a.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return a}function k8(t){const{top:e,right:n,bottom:a,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:a},{x:i,y:a}]}function E8(t,e){const{x:n,y:a}=t;let i=!1;for(let o=0,c=e.length-1;o<e.length;c=o++){const u=e[o],h=e[c],f=u.x,p=u.y,g=h.x,v=h.y;p>a!=v>a&&n<(g-f)*(a-p)/(v-p)+f&&(i=!i)}return i}function A8(t){const e=t.slice();return e.sort((n,a)=>n.x<a.x?-1:n.x>a.x?1:n.y<a.y?-1:n.y>a.y?1:0),C8(e)}function C8(t){if(t.length<=1)return t.slice();const e=[];for(let a=0;a<t.length;a++){const i=t[a];for(;e.length>=2;){const o=e[e.length-1],c=e[e.length-2];if((o.x-c.x)*(i.y-c.y)>=(o.y-c.y)*(i.x-c.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let a=t.length-1;a>=0;a--){const i=t[a];for(;n.length>=2;){const o=n[n.length-1],c=n[n.length-2];if((o.x-c.x)*(i.y-c.y)>=(o.y-c.y)*(i.x-c.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var T8=bT,_8=jT,kT=wT;const kj="-",R8=t=>{const e=M8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:c=>{const u=c.split(kj);return u[0]===""&&u.length!==1&&u.shift(),ET(u,e)||D8(c)},getConflictingClassGroupIds:(c,u)=>{const h=n[c]||[];return u&&a[c]?[...h,...a[c]]:h}}},ET=(t,e)=>{var c;if(t.length===0)return e.classGroupId;const n=t[0],a=e.nextPart.get(n),i=a?ET(t.slice(1),a):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(kj);return(c=e.validators.find(({validator:u})=>u(o)))==null?void 0:c.classGroupId},rE=/^\[(.+)\]$/,D8=t=>{if(rE.test(t)){const e=rE.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},M8=t=>{const{theme:e,classGroups:n}=t,a={nextPart:new Map,validators:[]};for(const i in n)Fy(n[i],a,i,e);return a},Fy=(t,e,n,a)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:iE(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(P8(i)){Fy(i(a),e,n,a);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,c])=>{Fy(c,iE(e,o),n,a)})})},iE=(t,e)=>{let n=t;return e.split(kj).forEach(a=>{n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n},P8=t=>t.isThemeGetter,O8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,a=new Map;const i=(o,c)=>{n.set(o,c),e++,e>t&&(e=0,a=n,n=new Map)};return{get(o){let c=n.get(o);if(c!==void 0)return c;if((c=a.get(o))!==void 0)return i(o,c),c},set(o,c){n.has(o)?n.set(o,c):i(o,c)}}},Vy="!",qy=":",L8=qy.length,I8=t=>{const{prefix:e,experimentalParseClassName:n}=t;let a=i=>{const o=[];let c=0,u=0,h=0,f;for(let w=0;w<i.length;w++){let j=i[w];if(c===0&&u===0){if(j===qy){o.push(i.slice(h,w)),h=w+L8;continue}if(j==="/"){f=w;continue}}j==="["?c++:j==="]"?c--:j==="("?u++:j===")"&&u--}const p=o.length===0?i:i.substring(h),g=B8(p),v=g!==p,y=f&&f>h?f-h:void 0;return{modifiers:o,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:y}};if(e){const i=e+qy,o=a;a=c=>c.startsWith(i)?o(c.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(n){const i=a;a=o=>n({className:o,parseClassName:i})}return a},B8=t=>t.endsWith(Vy)?t.substring(0,t.length-1):t.startsWith(Vy)?t.substring(1):t,z8=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(a=>[a,!0]));return a=>{if(a.length<=1)return a;const i=[];let o=[];return a.forEach(c=>{c[0]==="["||e[c]?(i.push(...o.sort(),c),o=[]):o.push(c)}),i.push(...o.sort()),i}},U8=t=>({cache:O8(t.cacheSize),parseClassName:I8(t),sortModifiers:z8(t),...R8(t)}),$8=/\s+/,F8=(t,e)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:i,sortModifiers:o}=e,c=[],u=t.trim().split($8);let h="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{isExternal:g,modifiers:v,hasImportantModifier:y,baseClassName:w,maybePostfixModifierPosition:j}=n(p);if(g){h=p+(h.length>0?" "+h:h);continue}let k=!!j,S=a(k?w.substring(0,j):w);if(!S){if(!k){h=p+(h.length>0?" "+h:h);continue}if(S=a(w),!S){h=p+(h.length>0?" "+h:h);continue}k=!1}const E=o(v).join(":"),A=y?E+Vy:E,T=A+S;if(c.includes(T))continue;c.push(T);const _=i(S,k);for(let M=0;M<_.length;++M){const P=_[M];c.push(A+P)}h=p+(h.length>0?" "+h:h)}return h};function V8(){let t=0,e,n,a="";for(;t<arguments.length;)(e=arguments[t++])&&(n=AT(e))&&(a&&(a+=" "),a+=n);return a}const AT=t=>{if(typeof t=="string")return t;let e,n="";for(let a=0;a<t.length;a++)t[a]&&(e=AT(t[a]))&&(n&&(n+=" "),n+=e);return n};function q8(t,...e){let n,a,i,o=c;function c(h){const f=e.reduce((p,g)=>g(p),t());return n=U8(f),a=n.cache.get,i=n.cache.set,o=u,u(h)}function u(h){const f=a(h);if(f)return f;const p=F8(h,n);return i(h,p),p}return function(){return o(V8.apply(null,arguments))}}const is=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},CT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,TT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,H8=/^\d+\/\d+$/,G8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,K8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Y8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,X8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,W8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,cu=t=>H8.test(t),jt=t=>!!t&&!Number.isNaN(Number(t)),Fo=t=>!!t&&Number.isInteger(Number(t)),Fb=t=>t.endsWith("%")&&jt(t.slice(0,-1)),Ki=t=>G8.test(t),Z8=()=>!0,Q8=t=>K8.test(t)&&!Y8.test(t),_T=()=>!1,J8=t=>X8.test(t),eB=t=>W8.test(t),tB=t=>!Xe(t)&&!We(t),nB=t=>cd(t,MT,_T),Xe=t=>CT.test(t),Gl=t=>cd(t,PT,Q8),Vb=t=>cd(t,oB,jt),oE=t=>cd(t,RT,_T),sB=t=>cd(t,DT,eB),cp=t=>cd(t,OT,J8),We=t=>TT.test(t),bh=t=>ud(t,PT),aB=t=>ud(t,lB),lE=t=>ud(t,RT),rB=t=>ud(t,MT),iB=t=>ud(t,DT),up=t=>ud(t,OT,!0),cd=(t,e,n)=>{const a=CT.exec(t);return a?a[1]?e(a[1]):n(a[2]):!1},ud=(t,e,n=!1)=>{const a=TT.exec(t);return a?a[1]?e(a[1]):n:!1},RT=t=>t==="position"||t==="percentage",DT=t=>t==="image"||t==="url",MT=t=>t==="length"||t==="size"||t==="bg-size",PT=t=>t==="length",oB=t=>t==="number",lB=t=>t==="family-name",OT=t=>t==="shadow",cB=()=>{const t=is("color"),e=is("font"),n=is("text"),a=is("font-weight"),i=is("tracking"),o=is("leading"),c=is("breakpoint"),u=is("container"),h=is("spacing"),f=is("radius"),p=is("shadow"),g=is("inset-shadow"),v=is("text-shadow"),y=is("drop-shadow"),w=is("blur"),j=is("perspective"),k=is("aspect"),S=is("ease"),E=is("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...T(),We,Xe],M=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],O=()=>[We,Xe,h],H=()=>[cu,"full","auto",...O()],Y=()=>[Fo,"none","subgrid",We,Xe],R=()=>["auto",{span:["full",Fo,We,Xe]},Fo,We,Xe],X=()=>[Fo,"auto",We,Xe],z=()=>["auto","min","max","fr",We,Xe],Q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ne=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...O()],F=()=>[cu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],V=()=>[t,We,Xe],K=()=>[...T(),lE,oE,{position:[We,Xe]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",rB,nB,{size:[We,Xe]}],B=()=>[Fb,bh,Gl],W=()=>["","none","full",f,We,Xe],$=()=>["",jt,bh,Gl],q=()=>["solid","dashed","dotted","double"],ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[jt,Fb,lE,oE],ie=()=>["","none",w,We,Xe],de=()=>["none",jt,We,Xe],re=()=>["none",jt,We,Xe],he=()=>[jt,We,Xe],ce=()=>[cu,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ki],breakpoint:[Ki],color:[Z8],container:[Ki],"drop-shadow":[Ki],ease:["in","out","in-out"],font:[tB],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ki],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ki],shadow:[Ki],spacing:["px",jt],text:[Ki],"text-shadow":[Ki],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",cu,Xe,We,k]}],container:["container"],columns:[{columns:[jt,Xe,We,u]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:H()}],"inset-x":[{"inset-x":H()}],"inset-y":[{"inset-y":H()}],start:[{start:H()}],end:[{end:H()}],top:[{top:H()}],right:[{right:H()}],bottom:[{bottom:H()}],left:[{left:H()}],visibility:["visible","invisible","collapse"],z:[{z:[Fo,"auto",We,Xe]}],basis:[{basis:[cu,"full","auto",u,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[jt,cu,"auto","initial","none",Xe]}],grow:[{grow:["",jt,We,Xe]}],shrink:[{shrink:["",jt,We,Xe]}],order:[{order:[Fo,"first","last","none",We,Xe]}],"grid-cols":[{"grid-cols":Y()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":Y()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":z()}],"auto-rows":[{"auto-rows":z()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...Q(),"normal"]}],"justify-items":[{"justify-items":[...ne(),"normal"]}],"justify-self":[{"justify-self":["auto",...ne()]}],"align-content":[{content:["normal",...Q()]}],"align-items":[{items:[...ne(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ne(),{baseline:["","last"]}]}],"place-content":[{"place-content":Q()}],"place-items":[{"place-items":[...ne(),"baseline"]}],"place-self":[{"place-self":["auto",...ne()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:F()}],w:[{w:[u,"screen",...F()]}],"min-w":[{"min-w":[u,"screen","none",...F()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...F()]}],h:[{h:["screen",...F()]}],"min-h":[{"min-h":["screen","none",...F()]}],"max-h":[{"max-h":["screen",...F()]}],"font-size":[{text:["base",n,bh,Gl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,We,Vb]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Fb,Xe]}],"font-family":[{font:[aB,Xe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,We,Xe]}],"line-clamp":[{"line-clamp":[jt,"none",We,Vb]}],leading:[{leading:[o,...O()]}],"list-image":[{"list-image":["none",We,Xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",We,Xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:[jt,"from-font","auto",We,Gl]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[jt,"auto",We,Xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",We,Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",We,Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Fo,We,Xe],radial:["",We,Xe],conic:[Fo,We,Xe]},iB,sB]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:B()}],"gradient-via-pos":[{via:B()}],"gradient-to-pos":[{to:B()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:$()}],"border-w-x":[{"border-x":$()}],"border-w-y":[{"border-y":$()}],"border-w-s":[{"border-s":$()}],"border-w-e":[{"border-e":$()}],"border-w-t":[{"border-t":$()}],"border-w-r":[{"border-r":$()}],"border-w-b":[{"border-b":$()}],"border-w-l":[{"border-l":$()}],"divide-x":[{"divide-x":$()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":$()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...q(),"hidden","none"]}],"divide-style":[{divide:[...q(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...q(),"none","hidden"]}],"outline-offset":[{"outline-offset":[jt,We,Xe]}],"outline-w":[{outline:["",jt,bh,Gl]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",p,up,cp]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",g,up,cp]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[jt,Gl]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":$()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",v,up,cp]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[jt,We,Xe]}],"mix-blend":[{"mix-blend":[...ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[jt]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[We,Xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[jt]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",We,Xe]}],filter:[{filter:["","none",We,Xe]}],blur:[{blur:ie()}],brightness:[{brightness:[jt,We,Xe]}],contrast:[{contrast:[jt,We,Xe]}],"drop-shadow":[{"drop-shadow":["","none",y,up,cp]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",jt,We,Xe]}],"hue-rotate":[{"hue-rotate":[jt,We,Xe]}],invert:[{invert:["",jt,We,Xe]}],saturate:[{saturate:[jt,We,Xe]}],sepia:[{sepia:["",jt,We,Xe]}],"backdrop-filter":[{"backdrop-filter":["","none",We,Xe]}],"backdrop-blur":[{"backdrop-blur":ie()}],"backdrop-brightness":[{"backdrop-brightness":[jt,We,Xe]}],"backdrop-contrast":[{"backdrop-contrast":[jt,We,Xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",jt,We,Xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[jt,We,Xe]}],"backdrop-invert":[{"backdrop-invert":["",jt,We,Xe]}],"backdrop-opacity":[{"backdrop-opacity":[jt,We,Xe]}],"backdrop-saturate":[{"backdrop-saturate":[jt,We,Xe]}],"backdrop-sepia":[{"backdrop-sepia":["",jt,We,Xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",We,Xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[jt,"initial",We,Xe]}],ease:[{ease:["linear","initial",S,We,Xe]}],delay:[{delay:[jt,We,Xe]}],animate:[{animate:["none",E,We,Xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,We,Xe]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:de()}],"rotate-x":[{"rotate-x":de()}],"rotate-y":[{"rotate-y":de()}],"rotate-z":[{"rotate-z":de()}],scale:[{scale:re()}],"scale-x":[{"scale-x":re()}],"scale-y":[{"scale-y":re()}],"scale-z":[{"scale-z":re()}],"scale-3d":["scale-3d"],skew:[{skew:he()}],"skew-x":[{"skew-x":he()}],"skew-y":[{"skew-y":he()}],transform:[{transform:[We,Xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ce()}],"translate-x":[{"translate-x":ce()}],"translate-y":[{"translate-y":ce()}],"translate-z":[{"translate-z":ce()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",We,Xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",We,Xe]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[jt,bh,Gl,Vb]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},uB=q8(cB);function ge(...t){return uB(OC(t))}const dB=T8,hB=x.forwardRef(({className:t,sideOffset:e=4,...n},a)=>s.jsx(_8,{children:s.jsx(kT,{ref:a,sideOffset:e,className:ge("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n})}));hB.displayName=kT.displayName;function Lp(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lp=function(n){return typeof n}:Lp=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Lp(t)}function fB(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mB(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function pB(t,e,n){return e&&mB(t.prototype,e),t}function gB(t,e){return e&&(Lp(e)==="object"||typeof e=="function")?e:Ip(t)}function Hy(t){return Hy=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Hy(t)}function Ip(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gy(t,e)}function Gy(t,e){return Gy=Object.setPrototypeOf||function(a,i){return a.__proto__=i,a},Gy(t,e)}function Bp(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var LT=function(t){xB(e,t);function e(){var n,a;fB(this,e);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return a=gB(this,(n=Hy(e)).call.apply(n,[this].concat(o))),Bp(Ip(a),"state",{bootstrapped:!1}),Bp(Ip(a),"_unsubscribe",void 0),Bp(Ip(a),"handlePersistorState",function(){var u=a.props.persistor,h=u.getState(),f=h.bootstrapped;f&&(a.props.onBeforeLift?Promise.resolve(a.props.onBeforeLift()).finally(function(){return a.setState({bootstrapped:!0})}):a.setState({bootstrapped:!0}),a._unsubscribe&&a._unsubscribe())}),a}return pB(e,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),e}(x.PureComponent);Bp(LT,"defaultProps",{children:null,loading:null});var yh={},dp={},hp={},cE;function vB(){if(cE)return hp;cE=1,hp.__esModule=!0,hp.default=i;function t(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(u){return typeof u}:t=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},t(o)}function e(){}var n={getItem:e,setItem:e,removeItem:e};function a(o){if((typeof self>"u"?"undefined":t(self))!=="object"||!(o in self))return!1;try{var c=self[o],u="redux-persist ".concat(o," test");c.setItem(u,"test"),c.getItem(u),c.removeItem(u)}catch{return!1}return!0}function i(o){var c="".concat(o,"Storage");return a(c)?self[c]:n}return hp}var uE;function bB(){if(uE)return dp;uE=1,dp.__esModule=!0,dp.default=n;var t=e(vB());function e(a){return a&&a.__esModule?a:{default:a}}function n(a){var i=(0,t.default)(a);return{getItem:function(c){return new Promise(function(u,h){u(i.getItem(c))})},setItem:function(c,u){return new Promise(function(h,f){h(i.setItem(c,u))})},removeItem:function(c){return new Promise(function(u,h){u(i.removeItem(c))})}}}return dp}var dE;function yB(){if(dE)return yh;dE=1,yh.__esModule=!0,yh.default=void 0;var t=e(bB());function e(a){return a&&a.__esModule?a:{default:a}}var n=(0,t.default)("local");return yh.default=n,yh}var jB=yB();const wB=cj(jB),tc="https://api.yayasanbaitulmuslim.my.id",Xi=o6.create({baseURL:tc,withCredentials:!0}),NB=t=>{t.interceptors.request.use(e=>e,e=>Promise.reject(e)),t.interceptors.response.use(e=>e,async e=>{var a,i;const n=e.config;if(!n._retry)if(n._retry=!0,!((a=n.url)!=null&&a.includes("/refresh"))&&!((i=n.url)!=null&&i.includes("/me")))try{return await Uh.dispatch($p()).unwrap(),t.request(n)}catch(o){console.error("Cookie-based token refresh failed:",o),Uh.dispatch(og())}else console.log("Auth failed for critical endpoint, clearing auth"),Uh.dispatch(og());return Promise.reject(e)})};NB(Xi);class Qs{constructor(e){Me(this,"baseEndpoint");this.baseEndpoint=`/api/v1${e}`}async handleRequest(e){var n,a;try{return(await e()).data}catch(i){const o=((a=(n=i.response)==null?void 0:n.data)==null?void 0:a.detail)||i.message||"An error occurred";throw new Error(o)}}async get(e){return this.handleRequest(()=>Xi.get(`${this.baseEndpoint}${e}`))}async post(e,n,a){return this.handleRequest(()=>Xi.post(`${this.baseEndpoint}${e}`,n,a))}async put(e,n,a){return this.handleRequest(()=>Xi.put(`${this.baseEndpoint}${e}`,n,a))}async patch(e,n,a){return this.handleRequest(()=>Xi.patch(`${this.baseEndpoint}${e}`,n,a))}async delete(e,n){return this.handleRequest(()=>n?Xi.delete(`${this.baseEndpoint}${e}`,{data:n}):Xi.delete(`${this.baseEndpoint}${e}`))}}class SB extends Qs{constructor(){super("/auth")}async login(e){return this.post("/login",e)}async logout(){try{return await this.post("/logout",{})}catch(e){return console.error("Logout error:",e),{message:"Logout failed",success:!1}}}async refreshToken(){return this.post("/refresh",{})}async getCurrentUser(){return this.get("/me")}async requestPasswordReset(e){return this.post("/password-reset",e)}async confirmPasswordReset(e){return this.post("/password-reset/confirm",e)}async changePassword(e){return this.post("/change-password",e)}}const mc=new SB;var Lh=(t=>(t.SUPER_ADMIN="SUPER_ADMIN",t.ADMIN="ADMIN",t.GURU="GURU",t.KEPALA_SEKOLAH="KEPALA_SEKOLAH",t))(Lh||{}),Oa=(t=>(t.ACTIVE="active",t.INACTIVE="inactive",t.SUSPENDED="suspended",t))(Oa||{});class kB extends Qs{constructor(){super("/users")}async getCurrentUser(){return this.get("/me")}async updateCurrentUser(e){return this.put("/me",e)}async updateCurrentUserMultipart(e){return this.put("/me/multipart",e,{headers:{"Content-Type":"multipart/form-data"}})}async changePassword(e){return this.post("/auth/change-password",e)}async getUsers(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`?${n.toString()}`:"";return this.get(a)}async createUser(e,n){const a=n?`?organization_id=${n}`:"",i={...e,status:"active"};return this.post(`${a}`,i)}async createUserMultipart(e,n){const a=n?`?organization_id=${n}`:"";return this.post(`/multipart${a}`,e,{headers:{"Content-Type":"multipart/form-data"}})}async getUserById(e){return this.get(`/${e}`)}async updateUser(e,n){return this.put(`/${e}`,n)}async updateUserMultipart(e,n){return this.put(`/${e}/multipart`,n,{headers:{"Content-Type":"multipart/form-data"}})}async deleteUser(e){return this.delete(`/${e}`)}async resetUserPassword(e){return this.post(`/${e}/reset-password`)}async setUserPassword(e,n){return this.post(`/${e}/set-password`,n)}async activateUser(e){return this.post(`/${e}/activate`)}async deactivateUser(e){return this.post(`/${e}/deactivate`)}async suspendUser(e){return this.post(`/${e}/suspend`)}async getAllowedRoles(){return this.get("/allowed-roles")}}const fi=new kB,Ih=ml("auth/updateProfile",async(t,{rejectWithValue:e})=>{try{let n;"formData"in t?n=await fi.updateCurrentUserMultipart(t.formData):n=await fi.updateCurrentUser(t);try{return await fi.getCurrentUser()}catch(a){return console.warn("Failed to refetch user data after profile update:",a),n}}catch(n){const a=(n==null?void 0:n.message)||"Profile update failed";return e(a)}}),kh="tafatur-app",EB={isAuthenticated:!1,isLoading:!1,user:null,error:null,projectId:kh},zp=ml("auth/login",async(t,{rejectWithValue:e})=>{try{return{user:(await mc.login(t)).user}}catch(n){const a=(n==null?void 0:n.message)||"Login failed";return e(a)}}),Up=ml("auth/logout",async(t,{rejectWithValue:e})=>{try{await mc.logout();return}catch(n){const a=(n==null?void 0:n.message)||"Logout failed";return e(a)}}),$p=ml("auth/refreshToken",async(t,{rejectWithValue:e})=>{try{return{user:(await mc.refreshToken()).user}}catch(n){const a=(n==null?void 0:n.message)||"Token refresh failed";return e(a)}}),Fp=ml("auth/getCurrentUser",async(t,{rejectWithValue:e})=>{try{return await mc.getCurrentUser()}catch(n){const a=(n==null?void 0:n.message)||"Failed to get current user";return e(a)}}),Bh=ml("auth/requestPasswordReset",async(t,{rejectWithValue:e})=>{try{return(await mc.requestPasswordReset(t)).message}catch(n){const a=(n==null?void 0:n.message)||"Password reset request failed";return e(a)}}),Vp=ml("auth/confirmPasswordReset",async(t,{rejectWithValue:e})=>{try{return(await mc.confirmPasswordReset(t)).message}catch(n){const a=(n==null?void 0:n.message)||"Password reset confirmation failed";return e(a)}}),zh=ml("auth/changePassword",async(t,{rejectWithValue:e})=>{try{return(await mc.changePassword(t)).message}catch(n){const a=(n==null?void 0:n.message)||"Password change failed";return e(a)}}),IT=LC({name:"auth",initialState:EB,reducers:{clearError:t=>{t.error=null},clearAuth:t=>{t.isAuthenticated=!1,t.user=null,t.error=null,t.projectId=kh},clearPersistAndAuth:t=>{t.isAuthenticated=!1,t.user=null,t.error=null,t.projectId=kh},validateProjectState:t=>{t.projectId!==kh&&(t.isAuthenticated=!1,t.user=null,t.error=null,t.projectId=kh)},setUser:(t,e)=>{t.user=e.payload},updateUser:(t,e)=>{t.user&&(t.user={...t.user,...e.payload})}},extraReducers:t=>{t.addCase(zp.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zp.fulfilled,(e,n)=>{e.isLoading=!1,e.isAuthenticated=!0,e.user=n.payload.user,e.error=null}).addCase(zp.rejected,(e,n)=>{e.isLoading=!1,e.error=n.payload,e.isAuthenticated=!1}).addCase(Up.pending,e=>{e.isLoading=!0}).addCase(Up.fulfilled,e=>{e.isLoading=!1,e.isAuthenticated=!1,e.user=null,e.error=null}).addCase(Up.rejected,(e,n)=>{e.isLoading=!1,e.error=n.payload}).addCase($p.pending,e=>{e.isLoading=!0,e.error=null}).addCase($p.fulfilled,(e,n)=>{e.isLoading=!1,n.payload.user&&(e.user=n.payload.user),e.isAuthenticated=!0,e.error=null}).addCase($p.rejected,(e,n)=>{e.isLoading=!1,e.error=n.payload,e.isAuthenticated=!1,e.user=null}).addCase(Bh.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Bh.fulfilled,e=>{e.isLoading=!1,e.error=null}).addCase(Bh.rejected,(e,n)=>{e.isLoading=!1,e.error=n.payload}).addCase(Vp.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Vp.fulfilled,e=>{e.isLoading=!1,e.error=null}).addCase(Vp.rejected,(e,n)=>{e.isLoading=!1,e.error=n.payload}).addCase(zh.pending,e=>{e.isLoading=!0,e.error=null}).addCase(zh.fulfilled,e=>{e.isLoading=!1,e.error=null}).addCase(zh.rejected,(e,n)=>{e.isLoading=!1,e.error=n.payload}).addCase(Fp.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Fp.fulfilled,(e,n)=>{e.isLoading=!1,e.user=n.payload,e.isAuthenticated=!0,e.error=null}).addCase(Fp.rejected,(e,n)=>{e.isLoading=!1,e.error=n.payload,e.isAuthenticated=!1,e.user=null}).addCase(Ih.pending,e=>{e.isLoading=!0,e.error=null}).addCase(Ih.fulfilled,(e,n)=>{e.isLoading=!1,e.user=n.payload,e.error=null}).addCase(Ih.rejected,(e,n)=>{e.isLoading=!1,e.error=n.payload})}}),{clearError:AB,clearAuth:og,clearPersistAndAuth:rle,setUser:ile,updateUser:ole,validateProjectState:lle}=IT.actions,CB=t=>t.auth.user,TB=t=>t.auth.isLoading,_B=IT.reducer,RB=()=>typeof window>"u"?!1:window.matchMedia("(prefers-color-scheme: dark)").matches,DB={isDarkMode:RB()},BT=LC({name:"theme",initialState:DB,reducers:{setTheme:(t,e)=>{t.isDarkMode=e.payload}}}),{setTheme:qb}=BT.actions,MB=BT.reducer,PB=XL({auth:_B,theme:MB}),OB={key:"tafatur-root",storage:wB,whitelist:["auth","theme"]},LB=a6(OB,PB),Uh=WL({reducer:LB,middleware:t=>t({serializableCheck:{ignoredActions:[ZL,QL,JL,e6,t6,n6]}})}),zT=s6(Uh);var IB=(t,e,n,a,i,o,c,u)=>{let h=document.documentElement,f=["light","dark"];function p(y){(Array.isArray(t)?t:[t]).forEach(w=>{let j=w==="class",k=j&&o?i.map(S=>o[S]||S):i;j?(h.classList.remove(...k),h.classList.add(o&&o[y]?o[y]:y)):h.setAttribute(w,y)}),g(y)}function g(y){u&&f.includes(y)&&(h.style.colorScheme=y)}function v(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(a)p(a);else try{let y=localStorage.getItem(e)||n,w=c&&y==="system"?v():y;p(w)}catch{}},BB=x.createContext(void 0),zB={setTheme:t=>{},themes:[]},UB=()=>{var t;return(t=x.useContext(BB))!=null?t:zB};x.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:a,enableColorScheme:i,defaultTheme:o,value:c,themes:u,nonce:h,scriptProps:f})=>{let p=JSON.stringify([n,e,o,t,u,c,a,i]).slice(1,-1);return x.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?h:"",dangerouslySetInnerHTML:{__html:`(${IB.toString()})(${p})`}})});function $B(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const FB=t=>{switch(t){case"success":return HB;case"info":return KB;case"warning":return GB;case"error":return YB;default:return null}},VB=Array(12).fill(0),qB=({visible:t,className:e})=>ve.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ve.createElement("div",{className:"sonner-spinner"},VB.map((n,a)=>ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${a}`})))),HB=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),GB=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),KB=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),YB=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),XB=ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),WB=()=>{const[t,e]=ve.useState(document.hidden);return ve.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Ky=1;class ZB{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:a,...i}=e,o=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Ky++,c=this.toasts.find(h=>h.id===o),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),c?this.toasts=this.toasts.map(h=>h.id===o?(this.publish({...h,...e,id:o,title:a}),{...h,...e,id:o,dismissible:u,title:a}):h):this.addToast({title:a,...i,dismissible:u,id:o}),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(a=>a({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let a;n.loading!==void 0&&(a=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let o=a!==void 0,c;const u=i.then(async f=>{if(c=["resolve",f],ve.isValidElement(f))o=!1,this.create({id:a,type:"default",message:f});else if(JB(f)&&!f.ok){o=!1;const g=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,v=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,w=typeof g=="object"&&!ve.isValidElement(g)?g:{message:g};this.create({id:a,type:"error",description:v,...w})}else if(f instanceof Error){o=!1;const g=typeof n.error=="function"?await n.error(f):n.error,v=typeof n.description=="function"?await n.description(f):n.description,w=typeof g=="object"&&!ve.isValidElement(g)?g:{message:g};this.create({id:a,type:"error",description:v,...w})}else if(n.success!==void 0){o=!1;const g=typeof n.success=="function"?await n.success(f):n.success,v=typeof n.description=="function"?await n.description(f):n.description,w=typeof g=="object"&&!ve.isValidElement(g)?g:{message:g};this.create({id:a,type:"success",description:v,...w})}}).catch(async f=>{if(c=["reject",f],n.error!==void 0){o=!1;const p=typeof n.error=="function"?await n.error(f):n.error,g=typeof n.description=="function"?await n.description(f):n.description,y=typeof p=="object"&&!ve.isValidElement(p)?p:{message:p};this.create({id:a,type:"error",description:g,...y})}}).finally(()=>{o&&(this.dismiss(a),a=void 0),n.finally==null||n.finally.call(n)}),h=()=>new Promise((f,p)=>u.then(()=>c[0]==="reject"?p(c[1]):f(c[1])).catch(p));return typeof a!="string"&&typeof a!="number"?{unwrap:h}:Object.assign(a,{unwrap:h})},this.custom=(e,n)=>{const a=(n==null?void 0:n.id)||Ky++;return this.create({jsx:e(a),id:a,...n}),a},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const ha=new ZB,QB=(t,e)=>{const n=(e==null?void 0:e.id)||Ky++;return ha.addToast({title:t,...e,id:n}),n},JB=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",ez=QB,tz=()=>ha.toasts,nz=()=>ha.getActiveToasts(),Yl=Object.assign(ez,{success:ha.success,info:ha.info,warning:ha.warning,error:ha.error,custom:ha.custom,message:ha.message,promise:ha.promise,dismiss:ha.dismiss,loading:ha.loading},{getHistory:tz,getToasts:nz});$B("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function fp(t){return t.label!==void 0}const sz=3,az="24px",rz="16px",hE=4e3,iz=356,oz=14,lz=45,cz=200;function li(...t){return t.filter(Boolean).join(" ")}function uz(t){const[e,n]=t.split("-"),a=[];return e&&a.push(e),n&&a.push(n),a}const dz=t=>{var e,n,a,i,o,c,u,h,f;const{invert:p,toast:g,unstyled:v,interacting:y,setHeights:w,visibleToasts:j,heights:k,index:S,toasts:E,expanded:A,removeToast:T,defaultRichColors:_,closeButton:M,style:P,cancelButtonStyle:O,actionButtonStyle:H,className:Y="",descriptionClassName:R="",duration:X,position:z,gap:Q,expandByDefault:ne,classNames:L,icons:F,closeButtonAriaLabel:V="Close toast"}=t,[K,ae]=ve.useState(null),[G,B]=ve.useState(null),[W,$]=ve.useState(!1),[q,ee]=ve.useState(!1),[te,ie]=ve.useState(!1),[de,re]=ve.useState(!1),[he,ce]=ve.useState(!1),[Ee,be]=ve.useState(0),[De,Te]=ve.useState(0),Oe=ve.useRef(g.duration||X||hE),Ze=ve.useRef(null),qe=ve.useRef(null),He=S===0,Re=S+1<=j,Je=g.type,Zt=g.dismissible!==!1,An=g.className||"",ea=g.descriptionClassName||"",ds=ve.useMemo(()=>k.findIndex(Ve=>Ve.toastId===g.id)||0,[k,g.id]),$t=ve.useMemo(()=>{var Ve;return(Ve=g.closeButton)!=null?Ve:M},[g.closeButton,M]),nn=ve.useMemo(()=>g.duration||X||hE,[g.duration,X]),Ft=ve.useRef(0),Ht=ve.useRef(0),Cn=ve.useRef(0),Gn=ve.useRef(null),[Ns,Ps]=z.split("-"),jn=ve.useMemo(()=>k.reduce((Ve,vt,gt)=>gt>=ds?Ve:Ve+vt.height,0),[k,ds]),Ss=WB(),hs=g.invert||p,fs=Je==="loading";Ht.current=ve.useMemo(()=>ds*Q+jn,[ds,jn]),ve.useEffect(()=>{Oe.current=nn},[nn]),ve.useEffect(()=>{$(!0)},[]),ve.useEffect(()=>{const Ve=qe.current;if(Ve){const vt=Ve.getBoundingClientRect().height;return Te(vt),w(gt=>[{toastId:g.id,height:vt,position:g.position},...gt]),()=>w(gt=>gt.filter(bt=>bt.toastId!==g.id))}},[w,g.id]),ve.useLayoutEffect(()=>{if(!W)return;const Ve=qe.current,vt=Ve.style.height;Ve.style.height="auto";const gt=Ve.getBoundingClientRect().height;Ve.style.height=vt,Te(gt),w(bt=>bt.find(Gt=>Gt.toastId===g.id)?bt.map(Gt=>Gt.toastId===g.id?{...Gt,height:gt}:Gt):[{toastId:g.id,height:gt,position:g.position},...bt])},[W,g.title,g.description,w,g.id]);const Qt=ve.useCallback(()=>{ee(!0),be(Ht.current),w(Ve=>Ve.filter(vt=>vt.toastId!==g.id)),setTimeout(()=>{T(g)},cz)},[g,T,w,Ht]);ve.useEffect(()=>{if(g.promise&&Je==="loading"||g.duration===1/0||g.type==="loading")return;let Ve;return A||y||Ss?(()=>{if(Cn.current<Ft.current){const bt=new Date().getTime()-Ft.current;Oe.current=Oe.current-bt}Cn.current=new Date().getTime()})():(()=>{Oe.current!==1/0&&(Ft.current=new Date().getTime(),Ve=setTimeout(()=>{g.onAutoClose==null||g.onAutoClose.call(g,g),Qt()},Oe.current))})(),()=>clearTimeout(Ve)},[A,y,g,Je,Ss,Qt]),ve.useEffect(()=>{g.delete&&Qt()},[Qt,g.delete]);function ta(){var Ve;if(F!=null&&F.loading){var vt;return ve.createElement("div",{className:li(L==null?void 0:L.loader,g==null||(vt=g.classNames)==null?void 0:vt.loader,"sonner-loader"),"data-visible":Je==="loading"},F.loading)}return ve.createElement(qB,{className:li(L==null?void 0:L.loader,g==null||(Ve=g.classNames)==null?void 0:Ve.loader),visible:Je==="loading"})}const Os=g.icon||(F==null?void 0:F[Je])||FB(Je);var Ct,sn;return ve.createElement("li",{tabIndex:0,ref:qe,className:li(Y,An,L==null?void 0:L.toast,g==null||(e=g.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Je],g==null||(n=g.classNames)==null?void 0:n[Je]),"data-sonner-toast":"","data-rich-colors":(Ct=g.richColors)!=null?Ct:_,"data-styled":!(g.jsx||g.unstyled||v),"data-mounted":W,"data-promise":!!g.promise,"data-swiped":he,"data-removed":q,"data-visible":Re,"data-y-position":Ns,"data-x-position":Ps,"data-index":S,"data-front":He,"data-swiping":te,"data-dismissible":Zt,"data-type":Je,"data-invert":hs,"data-swipe-out":de,"data-swipe-direction":G,"data-expanded":!!(A||ne&&W),style:{"--index":S,"--toasts-before":S,"--z-index":E.length-S,"--offset":`${q?Ee:Ht.current}px`,"--initial-height":ne?"auto":`${De}px`,...P,...g.style},onDragEnd:()=>{ie(!1),ae(null),Gn.current=null},onPointerDown:Ve=>{fs||!Zt||(Ze.current=new Date,be(Ht.current),Ve.target.setPointerCapture(Ve.pointerId),Ve.target.tagName!=="BUTTON"&&(ie(!0),Gn.current={x:Ve.clientX,y:Ve.clientY}))},onPointerUp:()=>{var Ve,vt,gt;if(de||!Zt)return;Gn.current=null;const bt=Number(((Ve=qe.current)==null?void 0:Ve.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),an=Number(((vt=qe.current)==null?void 0:vt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Gt=new Date().getTime()-((gt=Ze.current)==null?void 0:gt.getTime()),ut=K==="x"?bt:an,It=Math.abs(ut)/Gt;if(Math.abs(ut)>=lz||It>.11){be(Ht.current),g.onDismiss==null||g.onDismiss.call(g,g),B(K==="x"?bt>0?"right":"left":an>0?"down":"up"),Qt(),re(!0);return}else{var xt,Vt;(xt=qe.current)==null||xt.style.setProperty("--swipe-amount-x","0px"),(Vt=qe.current)==null||Vt.style.setProperty("--swipe-amount-y","0px")}ce(!1),ie(!1),ae(null)},onPointerMove:Ve=>{var vt,gt,bt;if(!Gn.current||!Zt||((vt=window.getSelection())==null?void 0:vt.toString().length)>0)return;const Gt=Ve.clientY-Gn.current.y,ut=Ve.clientX-Gn.current.x;var It;const xt=(It=t.swipeDirections)!=null?It:uz(z);!K&&(Math.abs(ut)>1||Math.abs(Gt)>1)&&ae(Math.abs(ut)>Math.abs(Gt)?"x":"y");let Vt={x:0,y:0};const ks=In=>1/(1.5+Math.abs(In)/20);if(K==="y"){if(xt.includes("top")||xt.includes("bottom"))if(xt.includes("top")&&Gt<0||xt.includes("bottom")&&Gt>0)Vt.y=Gt;else{const In=Gt*ks(Gt);Vt.y=Math.abs(In)<Math.abs(Gt)?In:Gt}}else if(K==="x"&&(xt.includes("left")||xt.includes("right")))if(xt.includes("left")&&ut<0||xt.includes("right")&&ut>0)Vt.x=ut;else{const In=ut*ks(ut);Vt.x=Math.abs(In)<Math.abs(ut)?In:ut}(Math.abs(Vt.x)>0||Math.abs(Vt.y)>0)&&ce(!0),(gt=qe.current)==null||gt.style.setProperty("--swipe-amount-x",`${Vt.x}px`),(bt=qe.current)==null||bt.style.setProperty("--swipe-amount-y",`${Vt.y}px`)}},$t&&!g.jsx&&Je!=="loading"?ve.createElement("button",{"aria-label":V,"data-disabled":fs,"data-close-button":!0,onClick:fs||!Zt?()=>{}:()=>{Qt(),g.onDismiss==null||g.onDismiss.call(g,g)},className:li(L==null?void 0:L.closeButton,g==null||(a=g.classNames)==null?void 0:a.closeButton)},(sn=F==null?void 0:F.close)!=null?sn:XB):null,(Je||g.icon||g.promise)&&g.icon!==null&&((F==null?void 0:F[Je])!==null||g.icon)?ve.createElement("div",{"data-icon":"",className:li(L==null?void 0:L.icon,g==null||(i=g.classNames)==null?void 0:i.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||ta():null,g.type!=="loading"?Os:null):null,ve.createElement("div",{"data-content":"",className:li(L==null?void 0:L.content,g==null||(o=g.classNames)==null?void 0:o.content)},ve.createElement("div",{"data-title":"",className:li(L==null?void 0:L.title,g==null||(c=g.classNames)==null?void 0:c.title)},g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title),g.description?ve.createElement("div",{"data-description":"",className:li(R,ea,L==null?void 0:L.description,g==null||(u=g.classNames)==null?void 0:u.description)},typeof g.description=="function"?g.description():g.description):null),ve.isValidElement(g.cancel)?g.cancel:g.cancel&&fp(g.cancel)?ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||O,onClick:Ve=>{fp(g.cancel)&&Zt&&(g.cancel.onClick==null||g.cancel.onClick.call(g.cancel,Ve),Qt())},className:li(L==null?void 0:L.cancelButton,g==null||(h=g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,ve.isValidElement(g.action)?g.action:g.action&&fp(g.action)?ve.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||H,onClick:Ve=>{fp(g.action)&&(g.action.onClick==null||g.action.onClick.call(g.action,Ve),!Ve.defaultPrevented&&Qt())},className:li(L==null?void 0:L.actionButton,g==null||(f=g.classNames)==null?void 0:f.actionButton)},g.action.label):null)};function fE(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function hz(t,e){const n={};return[t,e].forEach((a,i)=>{const o=i===1,c=o?"--mobile-offset":"--offset",u=o?rz:az;function h(f){["top","right","bottom","left"].forEach(p=>{n[`${c}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof a=="number"||typeof a=="string"?h(a):typeof a=="object"?["top","right","bottom","left"].forEach(f=>{a[f]===void 0?n[`${c}-${f}`]=u:n[`${c}-${f}`]=typeof a[f]=="number"?`${a[f]}px`:a[f]}):h(u)}),n}const fz=ve.forwardRef(function(e,n){const{invert:a,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:u,className:h,offset:f,mobileOffset:p,theme:g="light",richColors:v,duration:y,style:w,visibleToasts:j=sz,toastOptions:k,dir:S=fE(),gap:E=oz,icons:A,containerAriaLabel:T="Notifications"}=e,[_,M]=ve.useState([]),P=ve.useMemo(()=>Array.from(new Set([i].concat(_.filter(G=>G.position).map(G=>G.position)))),[_,i]),[O,H]=ve.useState([]),[Y,R]=ve.useState(!1),[X,z]=ve.useState(!1),[Q,ne]=ve.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=ve.useRef(null),F=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=ve.useRef(null),K=ve.useRef(!1),ae=ve.useCallback(G=>{M(B=>{var W;return(W=B.find($=>$.id===G.id))!=null&&W.delete||ha.dismiss(G.id),B.filter(({id:$})=>$!==G.id)})},[]);return ve.useEffect(()=>ha.subscribe(G=>{if(G.dismiss){requestAnimationFrame(()=>{M(B=>B.map(W=>W.id===G.id?{...W,delete:!0}:W))});return}setTimeout(()=>{lj.flushSync(()=>{M(B=>{const W=B.findIndex($=>$.id===G.id);return W!==-1?[...B.slice(0,W),{...B[W],...G},...B.slice(W+1)]:[G,...B]})})})}),[_]),ve.useEffect(()=>{if(g!=="system"){ne(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;const G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:B})=>{ne(B?"dark":"light")})}catch{G.addListener(({matches:W})=>{try{ne(W?"dark":"light")}catch($){console.error($)}})}},[g]),ve.useEffect(()=>{_.length<=1&&R(!1)},[_]),ve.useEffect(()=>{const G=B=>{var W;if(o.every(ee=>B[ee]||B.code===ee)){var q;R(!0),(q=L.current)==null||q.focus()}B.code==="Escape"&&(document.activeElement===L.current||(W=L.current)!=null&&W.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[o]),ve.useEffect(()=>{if(L.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,K.current=!1)}},[L.current]),ve.createElement("section",{ref:n,"aria-label":`${T} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((G,B)=>{var W;const[$,q]=G.split("-");return _.length?ve.createElement("ol",{key:G,dir:S==="auto"?fE():S,tabIndex:-1,ref:L,className:h,"data-sonner-toaster":!0,"data-sonner-theme":Q,"data-y-position":$,"data-lifted":Y&&_.length>1&&!c,"data-x-position":q,style:{"--front-toast-height":`${((W=O[0])==null?void 0:W.height)||0}px`,"--width":`${iz}px`,"--gap":`${E}px`,...w,...hz(f,p)},onBlur:ee=>{K.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(K.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||K.current||(K.current=!0,V.current=ee.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{X||R(!1)},onDragEnd:()=>R(!1),onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},_.filter(ee=>!ee.position&&B===0||ee.position===G).map((ee,te)=>{var ie,de;return ve.createElement(dz,{key:ee.id,icons:A,index:te,toast:ee,defaultRichColors:v,duration:(ie=k==null?void 0:k.duration)!=null?ie:y,className:k==null?void 0:k.className,descriptionClassName:k==null?void 0:k.descriptionClassName,invert:a,visibleToasts:j,closeButton:(de=k==null?void 0:k.closeButton)!=null?de:u,interacting:X,position:G,style:k==null?void 0:k.style,unstyled:k==null?void 0:k.unstyled,classNames:k==null?void 0:k.classNames,cancelButtonStyle:k==null?void 0:k.cancelButtonStyle,actionButtonStyle:k==null?void 0:k.actionButtonStyle,closeButtonAriaLabel:k==null?void 0:k.closeButtonAriaLabel,removeToast:ae,toasts:_.filter(re=>re.position==ee.position),heights:O.filter(re=>re.position==ee.position),setHeights:H,expandByDefault:c,gap:E,expanded:Y,swipeDirections:e.swipeDirections})})):null}))}),mz=({...t})=>{const{theme:e="system"}=UB();return s.jsx(fz,{theme:e,className:"toaster group",toastOptions:{unstyled:!0,classNames:{toast:"group toast grid w-full grid-cols-[auto_1fr] items-start gap-x-4 rounded-lg border bg-background p-4 text-foreground shadow-lg [&_:is([data-buttons],[data-action])]:col-start-2 [&_:is([data-buttons],[data-action])]:mt-2 [&_:is([data-buttons],[data-action])]:flex [&_:is([data-buttons],[data-action])]:gap-2",title:"text-sm font-semibold",description:"text-sm text-muted-foreground",actionButton:"inline-flex h-8 shrink-0 items-center justify-center rounded-md bg-primary px-3 text-xs font-medium text-primary-foreground",cancelButton:"inline-flex h-8 shrink-0 items-center justify-center rounded-md bg-muted px-3 text-xs font-medium text-muted-foreground",closeButton:"absolute right-2 top-2 rounded-full p-1.5 text-foreground/50 opacity-0 transition-opacity hover:bg-accent hover:text-foreground group-hover:opacity-100 focus:opacity-100 focus:outline-none focus:ring-2",loader:"h-5 w-5 animate-spin rounded-full border-4 border-muted border-t-primary",success:"!border-green-500 !bg-green-50 !text-green-600 [&[data-theme=dark]]:!border-green-800 [&[data-theme=dark]]:!bg-green-950 [&[data-theme=dark]]:!text-green-400 [&_.text-muted-foreground]:!text-green-700 [&[data-theme=dark]_.text-muted-foreground]:!text-green-300",info:"!border-blue-500 !bg-blue-50 !text-blue-600 [&[data-theme=dark]]:!border-blue-800 [&[data-theme=dark]]:!bg-blue-950 [&[data-theme=dark]]:!text-blue-400 [&_.text-muted-foreground]:!text-blue-700 [&[data-theme=dark]_.text-muted-foreground]:!text-blue-300",warning:"!border-yellow-500 !bg-yellow-50 !text-yellow-600 [&[data-theme=dark]]:!border-yellow-800 [&[data-theme=dark]]:!bg-yellow-950 [&[data-theme=dark]]:!text-yellow-400 [&_.text-muted-foreground]:!text-yellow-700 [&[data-theme=dark]_.text-muted-foreground]:!text-yellow-300",error:"!border-red-500 !bg-red-50 !text-red-600 [&[data-theme=dark]]:!border-red-800 [&[data-theme=dark]]:!bg-red-950 [&[data-theme=dark]]:!text-red-400 [&_.text-muted-foreground]:!text-red-700 [&[data-theme=dark]_.text-muted-foreground]:!text-red-300",icon:"h-5 w-5 shrink-0"}},...t})};Yl.dismiss;const mE={duration:5e3,position:"bottom-right"};function Lt(){const t=({title:e,description:n,variant:a="default",...i})=>{const o={description:n,...mE,position:mE.position,...i};switch(a){case"destructive":return Yl.error(e||"",o);case"success":return Yl.success(e||"",o);case"info":return Yl.info(e||"",o);case"warning":return Yl.warning(e||"",o);default:return Yl(e||"",o)}};return{toast:t,dismiss:Yl.dismiss,error:e=>t({...e,variant:"destructive"}),success:e=>t({...e,variant:"success"}),info:e=>t({...e,variant:"info"}),warning:e=>t({...e,variant:"warning"})}}const Ej=()=>_f(),Xo=r6,UT=x.createContext(void 0),pz=({children:t})=>{const e=Ej(),n=Xo(y=>{var w;return((w=y.auth)==null?void 0:w.isAuthenticated)??!1}),a=Xo(y=>{var w;return((w=y.auth)==null?void 0:w.user)??null}),i=Xo(y=>{var w;return((w=y.auth)==null?void 0:w.isLoading)??!1}),o=Xo(y=>{var w;return((w=y.auth)==null?void 0:w.error)??null}),c=async y=>{try{await e(zp(y)).unwrap()}catch(w){throw w}},u=async()=>{try{await e(Up()).unwrap()}catch(y){console.error("Logout error:",y),e(og())}finally{try{await zT.purge(),localStorage.removeItem("persist:tafatur-root"),sessionStorage.clear()}catch(y){console.error("Error clearing persist storage:",y)}}},h=async()=>{try{if(i||a&&n)return;await e(Fp()).unwrap()}catch(y){console.error("Auth check failed:",y),e(og())}},f=async y=>{try{await e(zh(y)).unwrap()}catch(w){throw w}},p=()=>{e(AB())},g=()=>n&&!!a;x.useEffect(()=>{a&&n||!a&&!n&&!i&&h()},[]);const v={isAuthenticated:n,user:a,loading:i,error:o,login:c,logout:u,checkAuth:h,changeUserPassword:f,clearAuthError:p,isSessionValid:g};return s.jsx(UT.Provider,{value:v,children:t})},fr=()=>{const t=x.useContext(UT);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},gz=()=>{const t=Ej(),e=Xo(a=>a.theme.isDarkMode);return x.useEffect(()=>{e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]),x.useEffect(()=>{const a=window.matchMedia("(prefers-color-scheme: dark)"),i=o=>{t(qb(o.matches))};return t(qb(a.matches)),a.addEventListener("change",i),()=>{a.removeEventListener("change",i)}},[t]),{isDarkMode:e,toggleTheme:()=>{t(qb(!e))}}};function xz({children:t}){return gz(),s.jsx(s.Fragment,{children:t})}var Hb="focusScope.autoFocusOnMount",Gb="focusScope.autoFocusOnUnmount",pE={bubbles:!1,cancelable:!0},vz="FocusScope",Pf=x.forwardRef((t,e)=>{const{loop:n=!1,trapped:a=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...c}=t,[u,h]=x.useState(null),f=pn(i),p=pn(o),g=x.useRef(null),v=ht(e,j=>h(j)),y=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(a){let j=function(A){if(y.paused||!u)return;const T=A.target;u.contains(T)?g.current=T:Vo(g.current,{select:!0})},k=function(A){if(y.paused||!u)return;const T=A.relatedTarget;T!==null&&(u.contains(T)||Vo(g.current,{select:!0}))},S=function(A){if(document.activeElement===document.body)for(const _ of A)_.removedNodes.length>0&&Vo(u)};document.addEventListener("focusin",j),document.addEventListener("focusout",k);const E=new MutationObserver(S);return u&&E.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",k),E.disconnect()}}},[a,u,y.paused]),x.useEffect(()=>{if(u){xE.add(y);const j=document.activeElement;if(!u.contains(j)){const S=new CustomEvent(Hb,pE);u.addEventListener(Hb,f),u.dispatchEvent(S),S.defaultPrevented||(bz(Sz($T(u)),{select:!0}),document.activeElement===j&&Vo(u))}return()=>{u.removeEventListener(Hb,f),setTimeout(()=>{const S=new CustomEvent(Gb,pE);u.addEventListener(Gb,p),u.dispatchEvent(S),S.defaultPrevented||Vo(j??document.body,{select:!0}),u.removeEventListener(Gb,p),xE.remove(y)},0)}}},[u,f,p,y]);const w=x.useCallback(j=>{if(!n&&!a||y.paused)return;const k=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,S=document.activeElement;if(k&&S){const E=j.currentTarget,[A,T]=yz(E);A&&T?!j.shiftKey&&S===T?(j.preventDefault(),n&&Vo(A,{select:!0})):j.shiftKey&&S===A&&(j.preventDefault(),n&&Vo(T,{select:!0})):S===E&&j.preventDefault()}},[n,a,y.paused]);return s.jsx(Be.div,{tabIndex:-1,...c,ref:v,onKeyDown:w})});Pf.displayName=vz;function bz(t,{select:e=!1}={}){const n=document.activeElement;for(const a of t)if(Vo(a,{select:e}),document.activeElement!==n)return}function yz(t){const e=$T(t),n=gE(e,t),a=gE(e.reverse(),t);return[n,a]}function $T(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function gE(t,e){for(const n of t)if(!jz(n,{upTo:e}))return n}function jz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function wz(t){return t instanceof HTMLInputElement&&"select"in t}function Vo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&wz(t)&&e&&t.select()}}var xE=Nz();function Nz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=vE(t,e),t.unshift(e)},remove(e){var n;t=vE(t,e),(n=t[0])==null||n.resume()}}}function vE(t,e){const n=[...t],a=n.indexOf(e);return a!==-1&&n.splice(a,1),n}function Sz(t){return t.filter(e=>e.tagName!=="A")}var Kb=0;function qg(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??bE()),document.body.insertAdjacentElement("beforeend",t[1]??bE()),Kb++,()=>{Kb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Kb--}},[])}function bE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var di=function(){return di=Object.assign||function(e){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},di.apply(this,arguments)};function FT(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n}function kz(t,e,n){if(n||arguments.length===2)for(var a=0,i=e.length,o;a<i;a++)(o||!(a in e))&&(o||(o=Array.prototype.slice.call(e,0,a)),o[a]=e[a]);return t.concat(o||Array.prototype.slice.call(e))}var qp="right-scroll-bar-position",Hp="width-before-scroll-bar",Ez="with-scroll-bars-hidden",Az="--removed-body-scroll-bar-size";function Yb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Cz(t,e){var n=x.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(a){var i=n.value;i!==a&&(n.value=a,n.callback(a,i))}}}})[0];return n.callback=e,n.facade}var Tz=typeof window<"u"?x.useLayoutEffect:x.useEffect,yE=new WeakMap;function _z(t,e){var n=Cz(null,function(a){return t.forEach(function(i){return Yb(i,a)})});return Tz(function(){var a=yE.get(n);if(a){var i=new Set(a),o=new Set(t),c=n.current;i.forEach(function(u){o.has(u)||Yb(u,null)}),o.forEach(function(u){i.has(u)||Yb(u,c)})}yE.set(n,t)},[t]),n}function Rz(t){return t}function Dz(t,e){e===void 0&&(e=Rz);var n=[],a=!1,i={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var c=e(o,a);return n.push(c),function(){n=n.filter(function(u){return u!==c})}},assignSyncMedium:function(o){for(a=!0;n.length;){var c=n;n=[],c.forEach(o)}n={push:function(u){return o(u)},filter:function(){return n}}},assignMedium:function(o){a=!0;var c=[];if(n.length){var u=n;n=[],u.forEach(o),c=n}var h=function(){var p=c;c=[],p.forEach(o)},f=function(){return Promise.resolve().then(h)};f(),n={push:function(p){c.push(p),f()},filter:function(p){return c=c.filter(p),n}}}};return i}function Mz(t){t===void 0&&(t={});var e=Dz(null);return e.options=di({async:!0,ssr:!1},t),e}var VT=function(t){var e=t.sideCar,n=FT(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=e.read();if(!a)throw new Error("Sidecar medium not found");return x.createElement(a,di({},n))};VT.isSideCarExport=!0;function Pz(t,e){return t.useMedium(e),VT}var qT=Mz(),Xb=function(){},Hg=x.forwardRef(function(t,e){var n=x.useRef(null),a=x.useState({onScrollCapture:Xb,onWheelCapture:Xb,onTouchMoveCapture:Xb}),i=a[0],o=a[1],c=t.forwardProps,u=t.children,h=t.className,f=t.removeScrollBar,p=t.enabled,g=t.shards,v=t.sideCar,y=t.noIsolation,w=t.inert,j=t.allowPinchZoom,k=t.as,S=k===void 0?"div":k,E=t.gapMode,A=FT(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=v,_=_z([n,e]),M=di(di({},A),i);return x.createElement(x.Fragment,null,p&&x.createElement(T,{sideCar:qT,removeScrollBar:f,shards:g,noIsolation:y,inert:w,setCallbacks:o,allowPinchZoom:!!j,lockRef:n,gapMode:E}),c?x.cloneElement(x.Children.only(u),di(di({},M),{ref:_})):x.createElement(S,di({},M,{className:h,ref:_}),u))});Hg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hg.classNames={fullWidth:Hp,zeroRight:qp};var Oz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Lz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Oz();return e&&t.setAttribute("nonce",e),t}function Iz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Bz(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var zz=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Lz())&&(Iz(e,n),Bz(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Uz=function(){var t=zz();return function(e,n){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},HT=function(){var t=Uz(),e=function(n){var a=n.styles,i=n.dynamic;return t(a,i),null};return e},$z={left:0,top:0,right:0,gap:0},Wb=function(t){return parseInt(t||"",10)||0},Fz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],a=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Wb(n),Wb(a),Wb(i)]},Vz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return $z;var e=Fz(t),n=document.documentElement.clientWidth,a=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,a-n+e[2]-e[0])}},qz=HT(),Lu="data-scroll-locked",Hz=function(t,e,n,a){var i=t.left,o=t.top,c=t.right,u=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Ez,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(u,"px ").concat(a,`;
  }
  body[`).concat(Lu,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(a,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(a,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qp,` {
    right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(Hp,` {
    margin-right: `).concat(u,"px ").concat(a,`;
  }
  
  .`).concat(qp," .").concat(qp,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Hp," .").concat(Hp,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Lu,`] {
    `).concat(Az,": ").concat(u,`px;
  }
`)},jE=function(){var t=parseInt(document.body.getAttribute(Lu)||"0",10);return isFinite(t)?t:0},Gz=function(){x.useEffect(function(){return document.body.setAttribute(Lu,(jE()+1).toString()),function(){var t=jE()-1;t<=0?document.body.removeAttribute(Lu):document.body.setAttribute(Lu,t.toString())}},[])},Kz=function(t){var e=t.noRelative,n=t.noImportant,a=t.gapMode,i=a===void 0?"margin":a;Gz();var o=x.useMemo(function(){return Vz(i)},[i]);return x.createElement(qz,{styles:Hz(o,!e,i,n?"":"!important")})},Yy=!1;if(typeof window<"u")try{var mp=Object.defineProperty({},"passive",{get:function(){return Yy=!0,!0}});window.addEventListener("test",mp,mp),window.removeEventListener("test",mp,mp)}catch{Yy=!1}var uu=Yy?{passive:!1}:!1,Yz=function(t){return t.tagName==="TEXTAREA"},GT=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Yz(t)&&n[e]==="visible")},Xz=function(t){return GT(t,"overflowY")},Wz=function(t){return GT(t,"overflowX")},wE=function(t,e){var n=e.ownerDocument,a=e;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var i=KT(t,a);if(i){var o=YT(t,a),c=o[1],u=o[2];if(c>u)return!0}a=a.parentNode}while(a&&a!==n.body);return!1},Zz=function(t){var e=t.scrollTop,n=t.scrollHeight,a=t.clientHeight;return[e,n,a]},Qz=function(t){var e=t.scrollLeft,n=t.scrollWidth,a=t.clientWidth;return[e,n,a]},KT=function(t,e){return t==="v"?Xz(e):Wz(e)},YT=function(t,e){return t==="v"?Zz(e):Qz(e)},Jz=function(t,e){return t==="h"&&e==="rtl"?-1:1},e9=function(t,e,n,a,i){var o=Jz(t,window.getComputedStyle(e).direction),c=o*a,u=n.target,h=e.contains(u),f=!1,p=c>0,g=0,v=0;do{var y=YT(t,u),w=y[0],j=y[1],k=y[2],S=j-k-o*w;(w||S)&&KT(t,u)&&(g+=S,v+=w),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!h&&u!==document.body||h&&(e.contains(u)||e===u));return(p&&Math.abs(g)<1||!p&&Math.abs(v)<1)&&(f=!0),f},pp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},NE=function(t){return[t.deltaX,t.deltaY]},SE=function(t){return t&&"current"in t?t.current:t},t9=function(t,e){return t[0]===e[0]&&t[1]===e[1]},n9=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},s9=0,du=[];function a9(t){var e=x.useRef([]),n=x.useRef([0,0]),a=x.useRef(),i=x.useState(s9++)[0],o=x.useState(HT)[0],c=x.useRef(t);x.useEffect(function(){c.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var j=kz([t.lockRef.current],(t.shards||[]).map(SE),!0).filter(Boolean);return j.forEach(function(k){return k.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),j.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var u=x.useCallback(function(j,k){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!c.current.allowPinchZoom;var S=pp(j),E=n.current,A="deltaX"in j?j.deltaX:E[0]-S[0],T="deltaY"in j?j.deltaY:E[1]-S[1],_,M=j.target,P=Math.abs(A)>Math.abs(T)?"h":"v";if("touches"in j&&P==="h"&&M.type==="range")return!1;var O=wE(P,M);if(!O)return!0;if(O?_=P:(_=P==="v"?"h":"v",O=wE(P,M)),!O)return!1;if(!a.current&&"changedTouches"in j&&(A||T)&&(a.current=_),!_)return!0;var H=a.current||_;return e9(H,k,j,H==="h"?A:T)},[]),h=x.useCallback(function(j){var k=j;if(!(!du.length||du[du.length-1]!==o)){var S="deltaY"in k?NE(k):pp(k),E=e.current.filter(function(_){return _.name===k.type&&(_.target===k.target||k.target===_.shadowParent)&&t9(_.delta,S)})[0];if(E&&E.should){k.cancelable&&k.preventDefault();return}if(!E){var A=(c.current.shards||[]).map(SE).filter(Boolean).filter(function(_){return _.contains(k.target)}),T=A.length>0?u(k,A[0]):!c.current.noIsolation;T&&k.cancelable&&k.preventDefault()}}},[]),f=x.useCallback(function(j,k,S,E){var A={name:j,delta:k,target:S,should:E,shadowParent:r9(S)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(T){return T!==A})},1)},[]),p=x.useCallback(function(j){n.current=pp(j),a.current=void 0},[]),g=x.useCallback(function(j){f(j.type,NE(j),j.target,u(j,t.lockRef.current))},[]),v=x.useCallback(function(j){f(j.type,pp(j),j.target,u(j,t.lockRef.current))},[]);x.useEffect(function(){return du.push(o),t.setCallbacks({onScrollCapture:g,onWheelCapture:g,onTouchMoveCapture:v}),document.addEventListener("wheel",h,uu),document.addEventListener("touchmove",h,uu),document.addEventListener("touchstart",p,uu),function(){du=du.filter(function(j){return j!==o}),document.removeEventListener("wheel",h,uu),document.removeEventListener("touchmove",h,uu),document.removeEventListener("touchstart",p,uu)}},[]);var y=t.removeScrollBar,w=t.inert;return x.createElement(x.Fragment,null,w?x.createElement(o,{styles:n9(i)}):null,y?x.createElement(Kz,{gapMode:t.gapMode}):null)}function r9(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const i9=Pz(qT,a9);var Of=x.forwardRef(function(t,e){return x.createElement(Hg,di({},t,{ref:e,sideCar:i9}))});Of.classNames=Hg.classNames;var o9=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},hu=new WeakMap,gp=new WeakMap,xp={},Zb=0,XT=function(t){return t&&(t.host||XT(t.parentNode))},l9=function(t,e){return e.map(function(n){if(t.contains(n))return n;var a=XT(n);return a&&t.contains(a)?a:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},c9=function(t,e,n,a){var i=l9(e,Array.isArray(t)?t:[t]);xp[n]||(xp[n]=new WeakMap);var o=xp[n],c=[],u=new Set,h=new Set(i),f=function(g){!g||u.has(g)||(u.add(g),f(g.parentNode))};i.forEach(f);var p=function(g){!g||h.has(g)||Array.prototype.forEach.call(g.children,function(v){if(u.has(v))p(v);else try{var y=v.getAttribute(a),w=y!==null&&y!=="false",j=(hu.get(v)||0)+1,k=(o.get(v)||0)+1;hu.set(v,j),o.set(v,k),c.push(v),j===1&&w&&gp.set(v,!0),k===1&&v.setAttribute(n,"true"),w||v.setAttribute(a,"true")}catch(S){console.error("aria-hidden: cannot operate on ",v,S)}})};return p(e),u.clear(),Zb++,function(){c.forEach(function(g){var v=hu.get(g)-1,y=o.get(g)-1;hu.set(g,v),o.set(g,y),v||(gp.has(g)||g.removeAttribute(a),gp.delete(g)),y||g.removeAttribute(n)}),Zb--,Zb||(hu=new WeakMap,hu=new WeakMap,gp=new WeakMap,xp={})}},Gg=function(t,e,n){n===void 0&&(n="data-aria-hidden");var a=Array.from(Array.isArray(t)?t:[t]),i=o9(t);return i?(a.push.apply(a,Array.from(i.querySelectorAll("[aria-live]"))),c9(a,i,n,"aria-hidden")):function(){return null}},Kg="Dialog",[WT,ZT]=Zs(Kg),[u9,Vr]=WT(Kg),QT=t=>{const{__scopeDialog:e,children:n,open:a,defaultOpen:i,onOpenChange:o,modal:c=!0}=t,u=x.useRef(null),h=x.useRef(null),[f,p]=zr({prop:a,defaultProp:i??!1,onChange:o,caller:Kg});return s.jsx(u9,{scope:e,triggerRef:u,contentRef:h,contentId:ls(),titleId:ls(),descriptionId:ls(),open:f,onOpenChange:p,onOpenToggle:x.useCallback(()=>p(g=>!g),[p]),modal:c,children:n})};QT.displayName=Kg;var JT="DialogTrigger",e_=x.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=Vr(JT,n),o=ht(e,i.triggerRef);return s.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Tj(i.open),...a,ref:o,onClick:Ce(t.onClick,i.onOpenToggle)})});e_.displayName=JT;var Aj="DialogPortal",[d9,t_]=WT(Aj,{forceMount:void 0}),n_=t=>{const{__scopeDialog:e,forceMount:n,children:a,container:i}=t,o=Vr(Aj,e);return s.jsx(d9,{scope:e,forceMount:n,children:x.Children.map(a,c=>s.jsx(Ln,{present:n||o.open,children:s.jsx(ld,{asChild:!0,container:i,children:c})}))})};n_.displayName=Aj;var lg="DialogOverlay",s_=x.forwardRef((t,e)=>{const n=t_(lg,t.__scopeDialog),{forceMount:a=n.forceMount,...i}=t,o=Vr(lg,t.__scopeDialog);return o.modal?s.jsx(Ln,{present:a||o.open,children:s.jsx(f9,{...i,ref:e})}):null});s_.displayName=lg;var h9=tl("DialogOverlay.RemoveScroll"),f9=x.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=Vr(lg,n);return s.jsx(Of,{as:h9,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Be.div,{"data-state":Tj(i.open),...a,ref:e,style:{pointerEvents:"auto",...a.style}})})}),nc="DialogContent",a_=x.forwardRef((t,e)=>{const n=t_(nc,t.__scopeDialog),{forceMount:a=n.forceMount,...i}=t,o=Vr(nc,t.__scopeDialog);return s.jsx(Ln,{present:a||o.open,children:o.modal?s.jsx(m9,{...i,ref:e}):s.jsx(p9,{...i,ref:e})})});a_.displayName=nc;var m9=x.forwardRef((t,e)=>{const n=Vr(nc,t.__scopeDialog),a=x.useRef(null),i=ht(e,n.contentRef,a);return x.useEffect(()=>{const o=a.current;if(o)return Gg(o)},[]),s.jsx(r_,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&o.preventDefault()}),onFocusOutside:Ce(t.onFocusOutside,o=>o.preventDefault())})}),p9=x.forwardRef((t,e)=>{const n=Vr(nc,t.__scopeDialog),a=x.useRef(!1),i=x.useRef(!1);return s.jsx(r_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,u;(c=t.onCloseAutoFocus)==null||c.call(t,o),o.defaultPrevented||(a.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:o=>{var h,f;(h=t.onInteractOutside)==null||h.call(t,o),o.defaultPrevented||(a.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((f=n.triggerRef.current)==null?void 0:f.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),r_=x.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,...c}=t,u=Vr(nc,n),h=x.useRef(null),f=ht(e,h);return qg(),s.jsxs(s.Fragment,{children:[s.jsx(Pf,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:o,children:s.jsx(fc,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Tj(u.open),...c,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(x9,{titleId:u.titleId}),s.jsx(b9,{contentRef:h,descriptionId:u.descriptionId})]})]})}),Cj="DialogTitle",i_=x.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=Vr(Cj,n);return s.jsx(Be.h2,{id:i.titleId,...a,ref:e})});i_.displayName=Cj;var o_="DialogDescription",l_=x.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=Vr(o_,n);return s.jsx(Be.p,{id:i.descriptionId,...a,ref:e})});l_.displayName=o_;var c_="DialogClose",u_=x.forwardRef((t,e)=>{const{__scopeDialog:n,...a}=t,i=Vr(c_,n);return s.jsx(Be.button,{type:"button",...a,ref:e,onClick:Ce(t.onClick,()=>i.onOpenChange(!1))})});u_.displayName=c_;function Tj(t){return t?"open":"closed"}var d_="DialogTitleWarning",[g9,h_]=I6(d_,{contentName:nc,titleName:Cj,docsSlug:"dialog"}),x9=({titleId:t})=>{const e=h_(d_),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},v9="DialogDescriptionWarning",b9=({contentRef:t,descriptionId:e})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${h_(v9).contentName}}.`;return x.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(a))},[a,t,e]),null},Yg=QT,_j=e_,Xg=n_,Wg=s_,Zg=a_,Rj=i_,Dj=l_,Qg=u_;/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),f_=(...t)=>t.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:i="",children:o,iconNode:c,...u},h)=>x.createElement("svg",{ref:h,...j9,width:e,height:e,stroke:t,strokeWidth:a?Number(n)*24/Number(e):n,className:f_("lucide",i),...u},[...c.map(([f,p])=>x.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=(t,e)=>{const n=x.forwardRef(({className:a,...i},o)=>x.createElement(w9,{ref:o,iconNode:e,className:f_(`lucide-${y9(t)}`,a),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],S9=qr("ArrowLeft",N9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],E9=qr("ArrowRight",k9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Jg=qr("Check",A9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],m_=qr("ChevronDown",C9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],p_=qr("ChevronRight",T9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],R9=qr("ChevronUp",_9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],M9=qr("ChevronsUpDown",D9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],O9=qr("Circle",P9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],kE=qr("LoaderCircle",L9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],B9=qr("Search",I9);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],g_=qr("X",z9);function x_({...t}){return s.jsx(Yg,{"data-slot":"sheet",...t})}function U9({...t}){return s.jsx(_j,{"data-slot":"sheet-trigger",...t})}function $9({...t}){return s.jsx(Xg,{"data-slot":"sheet-portal",...t})}function F9({className:t,...e}){return s.jsx(Wg,{"data-slot":"sheet-overlay",className:ge("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function v_({className:t,children:e,side:n="right",...a}){return s.jsxs($9,{children:[s.jsx(F9,{}),s.jsxs(Zg,{"data-slot":"sheet-content",className:ge("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...a,children:[e,s.jsxs(Qg,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[s.jsx(g_,{className:"size-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function b_({className:t,...e}){return s.jsx("div",{"data-slot":"sheet-header",className:ge("flex flex-col gap-1.5 p-4",t),...e})}function y_({className:t,...e}){return s.jsx(Rj,{"data-slot":"sheet-title",className:ge("text-foreground font-semibold",t),...e})}function j_({className:t,...e}){return s.jsx(Dj,{"data-slot":"sheet-description",className:ge("text-muted-foreground text-sm",t),...e})}function Mj(){return x.useCallback(()=>{window.scrollTo({top:0,behavior:"smooth"})},[])}var V9=x.createContext(void 0);function Lf(t){const e=x.useContext(V9);return t||e||"ltr"}function Xy(t,[e,n]){return Math.min(n,Math.max(e,t))}function q9(t,e){return x.useReducer((n,a)=>e[n][a]??n,t)}var Pj="ScrollArea",[w_,cle]=Zs(Pj),[H9,mr]=w_(Pj),N_=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:a="hover",dir:i,scrollHideDelay:o=600,...c}=t,[u,h]=x.useState(null),[f,p]=x.useState(null),[g,v]=x.useState(null),[y,w]=x.useState(null),[j,k]=x.useState(null),[S,E]=x.useState(0),[A,T]=x.useState(0),[_,M]=x.useState(!1),[P,O]=x.useState(!1),H=ht(e,R=>h(R)),Y=Lf(i);return s.jsx(H9,{scope:n,type:a,dir:Y,scrollHideDelay:o,scrollArea:u,viewport:f,onViewportChange:p,content:g,onContentChange:v,scrollbarX:y,onScrollbarXChange:w,scrollbarXEnabled:_,onScrollbarXEnabledChange:M,scrollbarY:j,onScrollbarYChange:k,scrollbarYEnabled:P,onScrollbarYEnabledChange:O,onCornerWidthChange:E,onCornerHeightChange:T,children:s.jsx(Be.div,{dir:Y,...c,ref:H,style:{position:"relative","--radix-scroll-area-corner-width":S+"px","--radix-scroll-area-corner-height":A+"px",...t.style}})})});N_.displayName=Pj;var S_="ScrollAreaViewport",k_=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:a,nonce:i,...o}=t,c=mr(S_,n),u=x.useRef(null),h=ht(e,u,c.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),s.jsx(Be.div,{"data-radix-scroll-area-viewport":"",...o,ref:h,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...t.style},children:s.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});k_.displayName=S_;var Ai="ScrollAreaScrollbar",E_=x.forwardRef((t,e)=>{const{forceMount:n,...a}=t,i=mr(Ai,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:c}=i,u=t.orientation==="horizontal";return x.useEffect(()=>(u?o(!0):c(!0),()=>{u?o(!1):c(!1)}),[u,o,c]),i.type==="hover"?s.jsx(G9,{...a,ref:e,forceMount:n}):i.type==="scroll"?s.jsx(K9,{...a,ref:e,forceMount:n}):i.type==="auto"?s.jsx(A_,{...a,ref:e,forceMount:n}):i.type==="always"?s.jsx(Oj,{...a,ref:e}):null});E_.displayName=Ai;var G9=x.forwardRef((t,e)=>{const{forceMount:n,...a}=t,i=mr(Ai,t.__scopeScrollArea),[o,c]=x.useState(!1);return x.useEffect(()=>{const u=i.scrollArea;let h=0;if(u){const f=()=>{window.clearTimeout(h),c(!0)},p=()=>{h=window.setTimeout(()=>c(!1),i.scrollHideDelay)};return u.addEventListener("pointerenter",f),u.addEventListener("pointerleave",p),()=>{window.clearTimeout(h),u.removeEventListener("pointerenter",f),u.removeEventListener("pointerleave",p)}}},[i.scrollArea,i.scrollHideDelay]),s.jsx(Ln,{present:n||o,children:s.jsx(A_,{"data-state":o?"visible":"hidden",...a,ref:e})})}),K9=x.forwardRef((t,e)=>{const{forceMount:n,...a}=t,i=mr(Ai,t.__scopeScrollArea),o=t.orientation==="horizontal",c=tx(()=>h("SCROLL_END"),100),[u,h]=q9("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(u==="idle"){const f=window.setTimeout(()=>h("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(f)}},[u,i.scrollHideDelay,h]),x.useEffect(()=>{const f=i.viewport,p=o?"scrollLeft":"scrollTop";if(f){let g=f[p];const v=()=>{const y=f[p];g!==y&&(h("SCROLL"),c()),g=y};return f.addEventListener("scroll",v),()=>f.removeEventListener("scroll",v)}},[i.viewport,o,h,c]),s.jsx(Ln,{present:n||u!=="hidden",children:s.jsx(Oj,{"data-state":u==="hidden"?"hidden":"visible",...a,ref:e,onPointerEnter:Ce(t.onPointerEnter,()=>h("POINTER_ENTER")),onPointerLeave:Ce(t.onPointerLeave,()=>h("POINTER_LEAVE"))})})}),A_=x.forwardRef((t,e)=>{const n=mr(Ai,t.__scopeScrollArea),{forceMount:a,...i}=t,[o,c]=x.useState(!1),u=t.orientation==="horizontal",h=tx(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,p=n.viewport.offsetHeight<n.viewport.scrollHeight;c(u?f:p)}},10);return Gu(n.viewport,h),Gu(n.content,h),s.jsx(Ln,{present:a||o,children:s.jsx(Oj,{"data-state":o?"visible":"hidden",...i,ref:e})})}),Oj=x.forwardRef((t,e)=>{const{orientation:n="vertical",...a}=t,i=mr(Ai,t.__scopeScrollArea),o=x.useRef(null),c=x.useRef(0),[u,h]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=D_(u.viewport,u.content),p={...a,sizes:u,onSizesChange:h,hasThumb:f>0&&f<1,onThumbChange:v=>o.current=v,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:v=>c.current=v};function g(v,y){return J9(v,c.current,u,y)}return n==="horizontal"?s.jsx(Y9,{...p,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const v=i.viewport.scrollLeft,y=EE(v,u,i.dir);o.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:v=>{i.viewport&&(i.viewport.scrollLeft=v)},onDragScroll:v=>{i.viewport&&(i.viewport.scrollLeft=g(v,i.dir))}}):n==="vertical"?s.jsx(X9,{...p,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const v=i.viewport.scrollTop,y=EE(v,u);o.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:v=>{i.viewport&&(i.viewport.scrollTop=v)},onDragScroll:v=>{i.viewport&&(i.viewport.scrollTop=g(v))}}):null}),Y9=x.forwardRef((t,e)=>{const{sizes:n,onSizesChange:a,...i}=t,o=mr(Ai,t.__scopeScrollArea),[c,u]=x.useState(),h=x.useRef(null),f=ht(e,h,o.onScrollbarXChange);return x.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),s.jsx(T_,{"data-orientation":"horizontal",...i,ref:f,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ex(n)+"px",...t.style},onThumbPointerDown:p=>t.onThumbPointerDown(p.x),onDragScroll:p=>t.onDragScroll(p.x),onWheelScroll:(p,g)=>{if(o.viewport){const v=o.viewport.scrollLeft+p.deltaX;t.onWheelScroll(v),P_(v,g)&&p.preventDefault()}},onResize:()=>{h.current&&o.viewport&&c&&a({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:ug(c.paddingLeft),paddingEnd:ug(c.paddingRight)}})}})}),X9=x.forwardRef((t,e)=>{const{sizes:n,onSizesChange:a,...i}=t,o=mr(Ai,t.__scopeScrollArea),[c,u]=x.useState(),h=x.useRef(null),f=ht(e,h,o.onScrollbarYChange);return x.useEffect(()=>{h.current&&u(getComputedStyle(h.current))},[h]),s.jsx(T_,{"data-orientation":"vertical",...i,ref:f,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ex(n)+"px",...t.style},onThumbPointerDown:p=>t.onThumbPointerDown(p.y),onDragScroll:p=>t.onDragScroll(p.y),onWheelScroll:(p,g)=>{if(o.viewport){const v=o.viewport.scrollTop+p.deltaY;t.onWheelScroll(v),P_(v,g)&&p.preventDefault()}},onResize:()=>{h.current&&o.viewport&&c&&a({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:ug(c.paddingTop),paddingEnd:ug(c.paddingBottom)}})}})}),[W9,C_]=w_(Ai),T_=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:a,hasThumb:i,onThumbChange:o,onThumbPointerUp:c,onThumbPointerDown:u,onThumbPositionChange:h,onDragScroll:f,onWheelScroll:p,onResize:g,...v}=t,y=mr(Ai,n),[w,j]=x.useState(null),k=ht(e,H=>j(H)),S=x.useRef(null),E=x.useRef(""),A=y.viewport,T=a.content-a.viewport,_=pn(p),M=pn(h),P=tx(g,10);function O(H){if(S.current){const Y=H.clientX-S.current.left,R=H.clientY-S.current.top;f({x:Y,y:R})}}return x.useEffect(()=>{const H=Y=>{const R=Y.target;(w==null?void 0:w.contains(R))&&_(Y,T)};return document.addEventListener("wheel",H,{passive:!1}),()=>document.removeEventListener("wheel",H,{passive:!1})},[A,w,T,_]),x.useEffect(M,[a,M]),Gu(w,P),Gu(y.content,P),s.jsx(W9,{scope:n,scrollbar:w,hasThumb:i,onThumbChange:pn(o),onThumbPointerUp:pn(c),onThumbPositionChange:M,onThumbPointerDown:pn(u),children:s.jsx(Be.div,{...v,ref:k,style:{position:"absolute",...v.style},onPointerDown:Ce(t.onPointerDown,H=>{H.button===0&&(H.target.setPointerCapture(H.pointerId),S.current=w.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),O(H))}),onPointerMove:Ce(t.onPointerMove,O),onPointerUp:Ce(t.onPointerUp,H=>{const Y=H.target;Y.hasPointerCapture(H.pointerId)&&Y.releasePointerCapture(H.pointerId),document.body.style.webkitUserSelect=E.current,y.viewport&&(y.viewport.style.scrollBehavior=""),S.current=null})})})}),cg="ScrollAreaThumb",__=x.forwardRef((t,e)=>{const{forceMount:n,...a}=t,i=C_(cg,t.__scopeScrollArea);return s.jsx(Ln,{present:n||i.hasThumb,children:s.jsx(Z9,{ref:e,...a})})}),Z9=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:a,...i}=t,o=mr(cg,n),c=C_(cg,n),{onThumbPositionChange:u}=c,h=ht(e,g=>c.onThumbChange(g)),f=x.useRef(void 0),p=tx(()=>{f.current&&(f.current(),f.current=void 0)},100);return x.useEffect(()=>{const g=o.viewport;if(g){const v=()=>{if(p(),!f.current){const y=eU(g,u);f.current=y,u()}};return u(),g.addEventListener("scroll",v),()=>g.removeEventListener("scroll",v)}},[o.viewport,p,u]),s.jsx(Be.div,{"data-state":c.hasThumb?"visible":"hidden",...i,ref:h,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:Ce(t.onPointerDownCapture,g=>{const y=g.target.getBoundingClientRect(),w=g.clientX-y.left,j=g.clientY-y.top;c.onThumbPointerDown({x:w,y:j})}),onPointerUp:Ce(t.onPointerUp,c.onThumbPointerUp)})});__.displayName=cg;var Lj="ScrollAreaCorner",R_=x.forwardRef((t,e)=>{const n=mr(Lj,t.__scopeScrollArea),a=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&a?s.jsx(Q9,{...t,ref:e}):null});R_.displayName=Lj;var Q9=x.forwardRef((t,e)=>{const{__scopeScrollArea:n,...a}=t,i=mr(Lj,n),[o,c]=x.useState(0),[u,h]=x.useState(0),f=!!(o&&u);return Gu(i.scrollbarX,()=>{var g;const p=((g=i.scrollbarX)==null?void 0:g.offsetHeight)||0;i.onCornerHeightChange(p),h(p)}),Gu(i.scrollbarY,()=>{var g;const p=((g=i.scrollbarY)==null?void 0:g.offsetWidth)||0;i.onCornerWidthChange(p),c(p)}),f?s.jsx(Be.div,{...a,ref:e,style:{width:o,height:u,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function ug(t){return t?parseInt(t,10):0}function D_(t,e){const n=t/e;return isNaN(n)?0:n}function ex(t){const e=D_(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=(t.scrollbar.size-n)*e;return Math.max(a,18)}function J9(t,e,n,a="ltr"){const i=ex(n),o=i/2,c=e||o,u=i-c,h=n.scrollbar.paddingStart+c,f=n.scrollbar.size-n.scrollbar.paddingEnd-u,p=n.content-n.viewport,g=a==="ltr"?[0,p]:[p*-1,0];return M_([h,f],g)(t)}function EE(t,e,n="ltr"){const a=ex(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,c=e.content-e.viewport,u=o-a,h=n==="ltr"?[0,c]:[c*-1,0],f=Xy(t,h);return M_([0,c],[0,u])(f)}function M_(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const a=(e[1]-e[0])/(t[1]-t[0]);return e[0]+a*(n-t[0])}}function P_(t,e){return t>0&&t<e}var eU=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},a=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},c=n.left!==o.left,u=n.top!==o.top;(c||u)&&e(),n=o,a=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(a)};function tx(t,e){const n=pn(t),a=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(a.current),[]),x.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(n,e)},[n,e])}function Gu(t,e){const n=pn(e);bn(()=>{let a=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(a),i.unobserve(t)}}},[t,n])}var tU=N_,nU=k_,sU=R_;function O_({className:t,children:e,...n}){return s.jsxs(tU,{"data-slot":"scroll-area",className:ge("relative",t),...n,children:[s.jsx(nU,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),s.jsx(Ij,{}),s.jsx(sU,{})]})}function Ij({className:t,orientation:e="vertical",...n}){return s.jsx(E_,{"data-slot":"scroll-area-scrollbar",orientation:e,className:ge("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:s.jsx(__,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const AE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,CE=OC,nx=(t,e)=>n=>{var a;if((e==null?void 0:e.variants)==null)return CE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,c=Object.keys(i).map(f=>{const p=n==null?void 0:n[f],g=o==null?void 0:o[f];if(p===null)return null;const v=AE(p)||AE(g);return i[f][v]}),u=n&&Object.entries(n).reduce((f,p)=>{let[g,v]=p;return v===void 0||(f[g]=v),f},{}),h=e==null||(a=e.compoundVariants)===null||a===void 0?void 0:a.reduce((f,p)=>{let{class:g,className:v,...y}=p;return Object.entries(y).every(w=>{let[j,k]=w;return Array.isArray(k)?k.includes({...o,...u}[j]):{...o,...u}[j]===k})?[...f,g,v]:f},[]);return CE(t,c,h,n==null?void 0:n.class,n==null?void 0:n.className)},Bj=nx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function pe({className:t,variant:e,size:n,asChild:a=!1,...i}){const o=a?dj:"button";return s.jsx(o,{"data-slot":"button",className:ge(Bj({variant:e,size:n,className:t})),...i})}/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rU=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase()),TE=t=>{const e=rU(t);return e.charAt(0).toUpperCase()+e.slice(1)},L_=(...t)=>t.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oU=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:i="",children:o,iconNode:c,...u},h)=>x.createElement("svg",{ref:h,...iU,width:e,height:e,stroke:t,strokeWidth:a?Number(n)*24/Number(e):n,className:L_("lucide",i),...u},[...c.map(([f,p])=>x.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(t,e)=>{const n=x.forwardRef(({className:a,...i},o)=>x.createElement(oU,{ref:o,iconNode:e,className:L_(`lucide-${aU(TE(t))}`,`lucide-${t}`,a),...i}));return n.displayName=TE(t),n};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],cU=st("archive",lU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],rl=st("arrow-left",uU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],sc=st("arrow-right",dU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],il=st("book-open",hU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],ol=st("building",fU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],pr=st("calendar",mU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],gU=st("camera",pU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Iu=st("chart-column",xU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],I_=st("check",vU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],sx=st("chevron-down",bU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zj=st("chevron-left",yU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Uj=st("chevron-right",jU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],NU=st("chevron-up",wU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qi=st("circle-check-big",SU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],B_=st("circle-x",kU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Qb=st("clipboard-check",EU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],$j=st("clock",AU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],sf=st("download",CU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ji=st("eye-off",TU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fs=st("eye",_U);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],pa=st("file-text",RU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],fu=st("file",DU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["rect",{width:"10",height:"8",x:"7",y:"8",rx:"1",key:"vys8me"}]],z_=st("fullscreen",MU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Fj=st("funnel",PU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ku=st("graduation-cap",OU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],U_=st("grip-vertical",LU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],BU=st("house",IU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]],UU=st("id-card",zU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],$_=st("image",$U);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],za=st("loader-circle",FU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],F_=st("lock",VU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],HU=st("log-out",qU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],ac=st("mail",GU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ax=st("map-pin",KU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],V_=st("menu",YU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],q_=st("message-square",XU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"M5 12h14",key:"1ays0h"}]],ZU=st("minus",WU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],JU=st("newspaper",QU);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],H_=st("phone",e7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vs=st("plus",t7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],G_=st("rotate-ccw",n7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Vj=st("search",s7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Wy=st("send",a7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],i7=st("settings",r7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],l7=st("share-2",o7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],u7=st("shield",c7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Wo=st("square-pen",d7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],f7=st("star",h7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Gp=st("target",m7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],dg=st("trash-2",p7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],x7=st("trending-down",g7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],K_=st("trending-up",v7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],af=st("upload",b7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],j7=st("user-check",y7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ll=st("user",w7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Ds=st("users",N7);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],hg=st("x",S7);function Da({children:t,onClick:e,...n}){const a=Mj(),i=o=>{a(),e&&e(o)};return s.jsx(aa,{...n,onClick:i,children:t})}const Hs="/assets/logo-dzuaa3wt.png";function k7({collapsed:t,onToggleCollapse:e}){return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:ge("flex h-14 lg:h-16 items-center flex-shrink-0",t?"px-2 lg:px-3 justify-center":"px-4 lg:px-6 justify-between"),children:[s.jsx(Da,{to:"/dashboard",className:ge("flex items-center",t?"justify-center":"space-x-2"),children:s.jsx("img",{src:Hs,className:ge("transition-all duration-300 object-contain",t?"w-8 h-8":"w-10 h-10 lg:w-12 lg:h-12"),alt:"logo okoce"})}),!t&&s.jsx(pe,{variant:"ghost",size:"sm",className:"hidden lg:flex h-8 w-8 p-0 flex-shrink-0",onClick:e,title:"Collapse sidebar",children:s.jsx(zj,{className:"h-4 w-4"})})]}),t&&s.jsx("div",{className:"flex justify-center px-3 py-2  flex-shrink-0",children:s.jsx(pe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:e,title:"Expand sidebar",children:s.jsx(Uj,{className:"h-4 w-4"})})})]})}var Jb={exports:{}},ey={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function E7(){if(_E)return ey;_E=1;var t=PC();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:e,a=t.useState,i=t.useEffect,o=t.useLayoutEffect,c=t.useDebugValue;function u(g,v){var y=v(),w=a({inst:{value:y,getSnapshot:v}}),j=w[0].inst,k=w[1];return o(function(){j.value=y,j.getSnapshot=v,h(j)&&k({inst:j})},[g,y,v]),i(function(){return h(j)&&k({inst:j}),g(function(){h(j)&&k({inst:j})})},[g]),c(y),y}function h(g){var v=g.getSnapshot;g=g.value;try{var y=v();return!n(g,y)}catch{return!0}}function f(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return ey.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,ey}var RE;function A7(){return RE||(RE=1,Jb.exports=E7()),Jb.exports}var C7=A7();function T7(){return C7.useSyncExternalStore(_7,()=>!0,()=>!1)}function _7(){return()=>{}}var qj="Avatar",[R7,ule]=Zs(qj),[D7,Y_]=R7(qj),X_=x.forwardRef((t,e)=>{const{__scopeAvatar:n,...a}=t,[i,o]=x.useState("idle");return s.jsx(D7,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:s.jsx(Be.span,{...a,ref:e})})});X_.displayName=qj;var W_="AvatarImage",Z_=x.forwardRef((t,e)=>{const{__scopeAvatar:n,src:a,onLoadingStatusChange:i=()=>{},...o}=t,c=Y_(W_,n),u=M7(a,o),h=pn(f=>{i(f),c.onImageLoadingStatusChange(f)});return bn(()=>{u!=="idle"&&h(u)},[u,h]),u==="loaded"?s.jsx(Be.img,{...o,ref:e,src:a}):null});Z_.displayName=W_;var Q_="AvatarFallback",J_=x.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:a,...i}=t,o=Y_(Q_,n),[c,u]=x.useState(a===void 0);return x.useEffect(()=>{if(a!==void 0){const h=window.setTimeout(()=>u(!0),a);return()=>window.clearTimeout(h)}},[a]),c&&o.imageLoadingStatus!=="loaded"?s.jsx(Be.span,{...i,ref:e}):null});J_.displayName=Q_;function DE(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function M7(t,{referrerPolicy:e,crossOrigin:n}){const a=T7(),i=x.useRef(null),o=a?(i.current||(i.current=new window.Image),i.current):null,[c,u]=x.useState(()=>DE(o,t));return bn(()=>{u(DE(o,t))},[o,t]),bn(()=>{const h=g=>()=>{u(g)};if(!o)return;const f=h("loaded"),p=h("error");return o.addEventListener("load",f),o.addEventListener("error",p),e&&(o.referrerPolicy=e),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",f),o.removeEventListener("error",p)}},[o,n,e]),c}var eR=X_,tR=Z_,nR=J_;const If=x.forwardRef(({className:t,...e},n)=>s.jsx(eR,{ref:n,className:ge("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));If.displayName=eR.displayName;const rf=x.forwardRef(({className:t,...e},n)=>s.jsx(tR,{ref:n,className:ge("aspect-square h-full w-full",t),...e}));rf.displayName=tR.displayName;const Bf=x.forwardRef(({className:t,...e},n)=>s.jsx(nR,{ref:n,className:ge("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Bf.displayName=nR.displayName;function zf(t){const e=t+"CollectionProvider",[n,a]=Zs(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),c=j=>{const{scope:k,children:S}=j,E=ve.useRef(null),A=ve.useRef(new Map).current;return s.jsx(i,{scope:k,itemMap:A,collectionRef:E,children:S})};c.displayName=e;const u=t+"CollectionSlot",h=tl(u),f=ve.forwardRef((j,k)=>{const{scope:S,children:E}=j,A=o(u,S),T=ht(k,A.collectionRef);return s.jsx(h,{ref:T,children:E})});f.displayName=u;const p=t+"CollectionItemSlot",g="data-radix-collection-item",v=tl(p),y=ve.forwardRef((j,k)=>{const{scope:S,children:E,...A}=j,T=ve.useRef(null),_=ht(k,T),M=o(p,S);return ve.useEffect(()=>(M.itemMap.set(T,{ref:T,...A}),()=>void M.itemMap.delete(T))),s.jsx(v,{[g]:"",ref:_,children:E})});y.displayName=p;function w(j){const k=o(t+"CollectionConsumer",j);return ve.useCallback(()=>{const E=k.collectionRef.current;if(!E)return[];const A=Array.from(E.querySelectorAll(`[${g}]`));return Array.from(k.itemMap.values()).sort((M,P)=>A.indexOf(M.ref.current)-A.indexOf(P.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:c,Slot:f,ItemSlot:y},w,a]}var ty="rovingFocusGroup.onEntryFocus",P7={bubbles:!1,cancelable:!0},Uf="RovingFocusGroup",[Zy,sR,O7]=zf(Uf),[L7,aR]=Zs(Uf,[O7]),[I7,B7]=L7(Uf),rR=x.forwardRef((t,e)=>s.jsx(Zy.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(Zy.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(z7,{...t,ref:e})})}));rR.displayName=Uf;var z7=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:a,loop:i=!1,dir:o,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...g}=t,v=x.useRef(null),y=ht(e,v),w=Lf(o),[j,k]=zr({prop:c,defaultProp:u??null,onChange:h,caller:Uf}),[S,E]=x.useState(!1),A=pn(f),T=sR(n),_=x.useRef(!1),[M,P]=x.useState(0);return x.useEffect(()=>{const O=v.current;if(O)return O.addEventListener(ty,A),()=>O.removeEventListener(ty,A)},[A]),s.jsx(I7,{scope:n,orientation:a,dir:w,loop:i,currentTabStopId:j,onItemFocus:x.useCallback(O=>k(O),[k]),onItemShiftTab:x.useCallback(()=>E(!0),[]),onFocusableItemAdd:x.useCallback(()=>P(O=>O+1),[]),onFocusableItemRemove:x.useCallback(()=>P(O=>O-1),[]),children:s.jsx(Be.div,{tabIndex:S||M===0?-1:0,"data-orientation":a,...g,ref:y,style:{outline:"none",...t.style},onMouseDown:Ce(t.onMouseDown,()=>{_.current=!0}),onFocus:Ce(t.onFocus,O=>{const H=!_.current;if(O.target===O.currentTarget&&H&&!S){const Y=new CustomEvent(ty,P7);if(O.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const R=T().filter(L=>L.focusable),X=R.find(L=>L.active),z=R.find(L=>L.id===j),ne=[X,z,...R].filter(Boolean).map(L=>L.ref.current);lR(ne,p)}}_.current=!1}),onBlur:Ce(t.onBlur,()=>E(!1))})})}),iR="RovingFocusGroupItem",oR=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:a=!0,active:i=!1,tabStopId:o,children:c,...u}=t,h=ls(),f=o||h,p=B7(iR,n),g=p.currentTabStopId===f,v=sR(n),{onFocusableItemAdd:y,onFocusableItemRemove:w,currentTabStopId:j}=p;return x.useEffect(()=>{if(a)return y(),()=>w()},[a,y,w]),s.jsx(Zy.ItemSlot,{scope:n,id:f,focusable:a,active:i,children:s.jsx(Be.span,{tabIndex:g?0:-1,"data-orientation":p.orientation,...u,ref:e,onMouseDown:Ce(t.onMouseDown,k=>{a?p.onItemFocus(f):k.preventDefault()}),onFocus:Ce(t.onFocus,()=>p.onItemFocus(f)),onKeyDown:Ce(t.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){p.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const S=F7(k,p.orientation,p.dir);if(S!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let A=v().filter(T=>T.focusable).map(T=>T.ref.current);if(S==="last")A.reverse();else if(S==="prev"||S==="next"){S==="prev"&&A.reverse();const T=A.indexOf(k.currentTarget);A=p.loop?V7(A,T+1):A.slice(T+1)}setTimeout(()=>lR(A))}}),children:typeof c=="function"?c({isCurrentTabStop:g,hasTabStop:j!=null}):c})})});oR.displayName=iR;var U7={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $7(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function F7(t,e,n){const a=$7(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return U7[a]}function lR(t,e=!1){const n=document.activeElement;for(const a of t)if(a===n||(a.focus({preventScroll:e}),document.activeElement!==n))return}function V7(t,e){return t.map((n,a)=>t[(e+a)%t.length])}var q7=rR,H7=oR,Qy=["Enter"," "],G7=["ArrowDown","PageUp","Home"],cR=["ArrowUp","PageDown","End"],K7=[...G7,...cR],Y7={ltr:[...Qy,"ArrowRight"],rtl:[...Qy,"ArrowLeft"]},X7={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$f="Menu",[of,W7,Z7]=zf($f),[pc,uR]=Zs($f,[Z7,pl,aR]),rx=pl(),dR=aR(),[Q7,gc]=pc($f),[J7,Ff]=pc($f),hR=t=>{const{__scopeMenu:e,open:n=!1,children:a,dir:i,onOpenChange:o,modal:c=!0}=t,u=rx(e),[h,f]=x.useState(null),p=x.useRef(!1),g=pn(o),v=Lf(i);return x.useEffect(()=>{const y=()=>{p.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>p.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),s.jsx(wj,{...u,children:s.jsx(Q7,{scope:e,open:n,onOpenChange:g,content:h,onContentChange:f,children:s.jsx(J7,{scope:e,onClose:x.useCallback(()=>g(!1),[g]),isUsingKeyboardRef:p,dir:v,modal:c,children:a})})})};hR.displayName=$f;var e$="MenuAnchor",Hj=x.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,i=rx(n);return s.jsx(Df,{...i,...a,ref:e})});Hj.displayName=e$;var Gj="MenuPortal",[t$,fR]=pc(Gj,{forceMount:void 0}),mR=t=>{const{__scopeMenu:e,forceMount:n,children:a,container:i}=t,o=gc(Gj,e);return s.jsx(t$,{scope:e,forceMount:n,children:s.jsx(Ln,{present:n||o.open,children:s.jsx(ld,{asChild:!0,container:i,children:a})})})};mR.displayName=Gj;var ur="MenuContent",[n$,Kj]=pc(ur),pR=x.forwardRef((t,e)=>{const n=fR(ur,t.__scopeMenu),{forceMount:a=n.forceMount,...i}=t,o=gc(ur,t.__scopeMenu),c=Ff(ur,t.__scopeMenu);return s.jsx(of.Provider,{scope:t.__scopeMenu,children:s.jsx(Ln,{present:a||o.open,children:s.jsx(of.Slot,{scope:t.__scopeMenu,children:c.modal?s.jsx(s$,{...i,ref:e}):s.jsx(a$,{...i,ref:e})})})})}),s$=x.forwardRef((t,e)=>{const n=gc(ur,t.__scopeMenu),a=x.useRef(null),i=ht(e,a);return x.useEffect(()=>{const o=a.current;if(o)return Gg(o)},[]),s.jsx(Yj,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ce(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),a$=x.forwardRef((t,e)=>{const n=gc(ur,t.__scopeMenu);return s.jsx(Yj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),r$=tl("MenuContent.ScrollLock"),Yj=x.forwardRef((t,e)=>{const{__scopeMenu:n,loop:a=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:c,disableOutsidePointerEvents:u,onEntryFocus:h,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:y,disableOutsideScroll:w,...j}=t,k=gc(ur,n),S=Ff(ur,n),E=rx(n),A=dR(n),T=W7(n),[_,M]=x.useState(null),P=x.useRef(null),O=ht(e,P,k.onContentChange),H=x.useRef(0),Y=x.useRef(""),R=x.useRef(0),X=x.useRef(null),z=x.useRef("right"),Q=x.useRef(0),ne=w?Of:x.Fragment,L=w?{as:r$,allowPinchZoom:!0}:void 0,F=K=>{var te,ie;const ae=Y.current+K,G=T().filter(de=>!de.disabled),B=document.activeElement,W=(te=G.find(de=>de.ref.current===B))==null?void 0:te.textValue,$=G.map(de=>de.textValue),q=x$($,ae,W),ee=(ie=G.find(de=>de.textValue===q))==null?void 0:ie.ref.current;(function de(re){Y.current=re,window.clearTimeout(H.current),re!==""&&(H.current=window.setTimeout(()=>de(""),1e3))})(ae),ee&&setTimeout(()=>ee.focus())};x.useEffect(()=>()=>window.clearTimeout(H.current),[]),qg();const V=x.useCallback(K=>{var G,B;return z.current===((G=X.current)==null?void 0:G.side)&&b$(K,(B=X.current)==null?void 0:B.area)},[]);return s.jsx(n$,{scope:n,searchRef:Y,onItemEnter:x.useCallback(K=>{V(K)&&K.preventDefault()},[V]),onItemLeave:x.useCallback(K=>{var ae;V(K)||((ae=P.current)==null||ae.focus(),M(null))},[V]),onTriggerLeave:x.useCallback(K=>{V(K)&&K.preventDefault()},[V]),pointerGraceTimerRef:R,onPointerGraceIntentChange:x.useCallback(K=>{X.current=K},[]),children:s.jsx(ne,{...L,children:s.jsx(Pf,{asChild:!0,trapped:i,onMountAutoFocus:Ce(o,K=>{var ae;K.preventDefault(),(ae=P.current)==null||ae.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:s.jsx(fc,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:g,onInteractOutside:v,onDismiss:y,children:s.jsx(q7,{asChild:!0,...A,dir:S.dir,orientation:"vertical",loop:a,currentTabStopId:_,onCurrentTabStopIdChange:M,onEntryFocus:Ce(h,K=>{S.isUsingKeyboardRef.current||K.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx($g,{role:"menu","aria-orientation":"vertical","data-state":RR(k.open),"data-radix-menu-content":"",dir:S.dir,...E,...j,ref:O,style:{outline:"none",...j.style},onKeyDown:Ce(j.onKeyDown,K=>{const G=K.target.closest("[data-radix-menu-content]")===K.currentTarget,B=K.ctrlKey||K.altKey||K.metaKey,W=K.key.length===1;G&&(K.key==="Tab"&&K.preventDefault(),!B&&W&&F(K.key));const $=P.current;if(K.target!==$||!K7.includes(K.key))return;K.preventDefault();const ee=T().filter(te=>!te.disabled).map(te=>te.ref.current);cR.includes(K.key)&&ee.reverse(),p$(ee)}),onBlur:Ce(t.onBlur,K=>{K.currentTarget.contains(K.target)||(window.clearTimeout(H.current),Y.current="")}),onPointerMove:Ce(t.onPointerMove,lf(K=>{const ae=K.target,G=Q.current!==K.clientX;if(K.currentTarget.contains(ae)&&G){const B=K.clientX>Q.current?"right":"left";z.current=B,Q.current=K.clientX}}))})})})})})})});pR.displayName=ur;var i$="MenuGroup",Xj=x.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return s.jsx(Be.div,{role:"group",...a,ref:e})});Xj.displayName=i$;var o$="MenuLabel",gR=x.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return s.jsx(Be.div,{...a,ref:e})});gR.displayName=o$;var fg="MenuItem",ME="menu.itemSelect",ix=x.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:a,...i}=t,o=x.useRef(null),c=Ff(fg,t.__scopeMenu),u=Kj(fg,t.__scopeMenu),h=ht(e,o),f=x.useRef(!1),p=()=>{const g=o.current;if(!n&&g){const v=new CustomEvent(ME,{bubbles:!0,cancelable:!0});g.addEventListener(ME,y=>a==null?void 0:a(y),{once:!0}),ng(g,v),v.defaultPrevented?f.current=!1:c.onClose()}};return s.jsx(xR,{...i,ref:h,disabled:n,onClick:Ce(t.onClick,p),onPointerDown:g=>{var v;(v=t.onPointerDown)==null||v.call(t,g),f.current=!0},onPointerUp:Ce(t.onPointerUp,g=>{var v;f.current||(v=g.currentTarget)==null||v.click()}),onKeyDown:Ce(t.onKeyDown,g=>{const v=u.searchRef.current!=="";n||v&&g.key===" "||Qy.includes(g.key)&&(g.currentTarget.click(),g.preventDefault())})})});ix.displayName=fg;var xR=x.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:a=!1,textValue:i,...o}=t,c=Kj(fg,n),u=dR(n),h=x.useRef(null),f=ht(e,h),[p,g]=x.useState(!1),[v,y]=x.useState("");return x.useEffect(()=>{const w=h.current;w&&y((w.textContent??"").trim())},[o.children]),s.jsx(of.ItemSlot,{scope:n,disabled:a,textValue:i??v,children:s.jsx(H7,{asChild:!0,...u,focusable:!a,children:s.jsx(Be.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...o,ref:f,onPointerMove:Ce(t.onPointerMove,lf(w=>{a?c.onItemLeave(w):(c.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ce(t.onPointerLeave,lf(w=>c.onItemLeave(w))),onFocus:Ce(t.onFocus,()=>g(!0)),onBlur:Ce(t.onBlur,()=>g(!1))})})})}),l$="MenuCheckboxItem",vR=x.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:a,...i}=t;return s.jsx(NR,{scope:t.__scopeMenu,checked:n,children:s.jsx(ix,{role:"menuitemcheckbox","aria-checked":mg(n)?"mixed":n,...i,ref:e,"data-state":Zj(n),onSelect:Ce(i.onSelect,()=>a==null?void 0:a(mg(n)?!0:!n),{checkForDefaultPrevented:!1})})})});vR.displayName=l$;var bR="MenuRadioGroup",[c$,u$]=pc(bR,{value:void 0,onValueChange:()=>{}}),yR=x.forwardRef((t,e)=>{const{value:n,onValueChange:a,...i}=t,o=pn(a);return s.jsx(c$,{scope:t.__scopeMenu,value:n,onValueChange:o,children:s.jsx(Xj,{...i,ref:e})})});yR.displayName=bR;var jR="MenuRadioItem",wR=x.forwardRef((t,e)=>{const{value:n,...a}=t,i=u$(jR,t.__scopeMenu),o=n===i.value;return s.jsx(NR,{scope:t.__scopeMenu,checked:o,children:s.jsx(ix,{role:"menuitemradio","aria-checked":o,...a,ref:e,"data-state":Zj(o),onSelect:Ce(a.onSelect,()=>{var c;return(c=i.onValueChange)==null?void 0:c.call(i,n)},{checkForDefaultPrevented:!1})})})});wR.displayName=jR;var Wj="MenuItemIndicator",[NR,d$]=pc(Wj,{checked:!1}),SR=x.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:a,...i}=t,o=d$(Wj,n);return s.jsx(Ln,{present:a||mg(o.checked)||o.checked===!0,children:s.jsx(Be.span,{...i,ref:e,"data-state":Zj(o.checked)})})});SR.displayName=Wj;var h$="MenuSeparator",kR=x.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t;return s.jsx(Be.div,{role:"separator","aria-orientation":"horizontal",...a,ref:e})});kR.displayName=h$;var f$="MenuArrow",ER=x.forwardRef((t,e)=>{const{__scopeMenu:n,...a}=t,i=rx(n);return s.jsx(Fg,{...i,...a,ref:e})});ER.displayName=f$;var m$="MenuSub",[dle,AR]=pc(m$),Eh="MenuSubTrigger",CR=x.forwardRef((t,e)=>{const n=gc(Eh,t.__scopeMenu),a=Ff(Eh,t.__scopeMenu),i=AR(Eh,t.__scopeMenu),o=Kj(Eh,t.__scopeMenu),c=x.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:h}=o,f={__scopeMenu:t.__scopeMenu},p=x.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return x.useEffect(()=>p,[p]),x.useEffect(()=>{const g=u.current;return()=>{window.clearTimeout(g),h(null)}},[u,h]),s.jsx(Hj,{asChild:!0,...f,children:s.jsx(xR,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":RR(n.open),...t,ref:yi(e,i.onTriggerChange),onClick:g=>{var v;(v=t.onClick)==null||v.call(t,g),!(t.disabled||g.defaultPrevented)&&(g.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ce(t.onPointerMove,lf(g=>{o.onItemEnter(g),!g.defaultPrevented&&!t.disabled&&!n.open&&!c.current&&(o.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:Ce(t.onPointerLeave,lf(g=>{var y,w;p();const v=(y=n.content)==null?void 0:y.getBoundingClientRect();if(v){const j=(w=n.content)==null?void 0:w.dataset.side,k=j==="right",S=k?-5:5,E=v[k?"left":"right"],A=v[k?"right":"left"];o.onPointerGraceIntentChange({area:[{x:g.clientX+S,y:g.clientY},{x:E,y:v.top},{x:A,y:v.top},{x:A,y:v.bottom},{x:E,y:v.bottom}],side:j}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(g),g.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ce(t.onKeyDown,g=>{var y;const v=o.searchRef.current!=="";t.disabled||v&&g.key===" "||Y7[a.dir].includes(g.key)&&(n.onOpenChange(!0),(y=n.content)==null||y.focus(),g.preventDefault())})})})});CR.displayName=Eh;var TR="MenuSubContent",_R=x.forwardRef((t,e)=>{const n=fR(ur,t.__scopeMenu),{forceMount:a=n.forceMount,...i}=t,o=gc(ur,t.__scopeMenu),c=Ff(ur,t.__scopeMenu),u=AR(TR,t.__scopeMenu),h=x.useRef(null),f=ht(e,h);return s.jsx(of.Provider,{scope:t.__scopeMenu,children:s.jsx(Ln,{present:a||o.open,children:s.jsx(of.Slot,{scope:t.__scopeMenu,children:s.jsx(Yj,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:f,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var g;c.isUsingKeyboardRef.current&&((g=h.current)==null||g.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:Ce(t.onFocusOutside,p=>{p.target!==u.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ce(t.onEscapeKeyDown,p=>{c.onClose(),p.preventDefault()}),onKeyDown:Ce(t.onKeyDown,p=>{var y;const g=p.currentTarget.contains(p.target),v=X7[c.dir].includes(p.key);g&&v&&(o.onOpenChange(!1),(y=u.trigger)==null||y.focus(),p.preventDefault())})})})})})});_R.displayName=TR;function RR(t){return t?"open":"closed"}function mg(t){return t==="indeterminate"}function Zj(t){return mg(t)?"indeterminate":t?"checked":"unchecked"}function p$(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function g$(t,e){return t.map((n,a)=>t[(e+a)%t.length])}function x$(t,e,n){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let c=g$(t,Math.max(o,0));i.length===1&&(c=c.filter(f=>f!==n));const h=c.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return h!==n?h:void 0}function v$(t,e){const{x:n,y:a}=t;let i=!1;for(let o=0,c=e.length-1;o<e.length;c=o++){const u=e[o],h=e[c],f=u.x,p=u.y,g=h.x,v=h.y;p>a!=v>a&&n<(g-f)*(a-p)/(v-p)+f&&(i=!i)}return i}function b$(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return v$(n,e)}function lf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var y$=hR,j$=Hj,w$=mR,N$=pR,S$=Xj,k$=gR,E$=ix,A$=vR,C$=yR,T$=wR,_$=SR,R$=kR,D$=ER,M$=CR,P$=_R,ox="DropdownMenu",[O$,hle]=Zs(ox,[uR]),ra=uR(),[L$,DR]=O$(ox),MR=t=>{const{__scopeDropdownMenu:e,children:n,dir:a,open:i,defaultOpen:o,onOpenChange:c,modal:u=!0}=t,h=ra(e),f=x.useRef(null),[p,g]=zr({prop:i,defaultProp:o??!1,onChange:c,caller:ox});return s.jsx(L$,{scope:e,triggerId:ls(),triggerRef:f,contentId:ls(),open:p,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(v=>!v),[g]),modal:u,children:s.jsx(y$,{...h,open:p,onOpenChange:g,dir:a,modal:u,children:n})})};MR.displayName=ox;var PR="DropdownMenuTrigger",OR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:a=!1,...i}=t,o=DR(PR,n),c=ra(n);return s.jsx(j$,{asChild:!0,...c,children:s.jsx(Be.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...i,ref:yi(e,o.triggerRef),onPointerDown:Ce(t.onPointerDown,u=>{!a&&u.button===0&&u.ctrlKey===!1&&(o.onOpenToggle(),o.open||u.preventDefault())}),onKeyDown:Ce(t.onKeyDown,u=>{a||(["Enter"," "].includes(u.key)&&o.onOpenToggle(),u.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});OR.displayName=PR;var I$="DropdownMenuPortal",LR=t=>{const{__scopeDropdownMenu:e,...n}=t,a=ra(e);return s.jsx(w$,{...a,...n})};LR.displayName=I$;var IR="DropdownMenuContent",BR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=DR(IR,n),o=ra(n),c=x.useRef(!1);return s.jsx(N$,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...a,ref:e,onCloseAutoFocus:Ce(t.onCloseAutoFocus,u=>{var h;c.current||(h=i.triggerRef.current)==null||h.focus(),c.current=!1,u.preventDefault()}),onInteractOutside:Ce(t.onInteractOutside,u=>{const h=u.detail.originalEvent,f=h.button===0&&h.ctrlKey===!0,p=h.button===2||f;(!i.modal||p)&&(c.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});BR.displayName=IR;var B$="DropdownMenuGroup",z$=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ra(n);return s.jsx(S$,{...i,...a,ref:e})});z$.displayName=B$;var U$="DropdownMenuLabel",zR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ra(n);return s.jsx(k$,{...i,...a,ref:e})});zR.displayName=U$;var $$="DropdownMenuItem",UR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ra(n);return s.jsx(E$,{...i,...a,ref:e})});UR.displayName=$$;var F$="DropdownMenuCheckboxItem",$R=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ra(n);return s.jsx(A$,{...i,...a,ref:e})});$R.displayName=F$;var V$="DropdownMenuRadioGroup",q$=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ra(n);return s.jsx(C$,{...i,...a,ref:e})});q$.displayName=V$;var H$="DropdownMenuRadioItem",FR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ra(n);return s.jsx(T$,{...i,...a,ref:e})});FR.displayName=H$;var G$="DropdownMenuItemIndicator",VR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ra(n);return s.jsx(_$,{...i,...a,ref:e})});VR.displayName=G$;var K$="DropdownMenuSeparator",qR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ra(n);return s.jsx(R$,{...i,...a,ref:e})});qR.displayName=K$;var Y$="DropdownMenuArrow",X$=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ra(n);return s.jsx(D$,{...i,...a,ref:e})});X$.displayName=Y$;var W$="DropdownMenuSubTrigger",HR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ra(n);return s.jsx(M$,{...i,...a,ref:e})});HR.displayName=W$;var Z$="DropdownMenuSubContent",GR=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...a}=t,i=ra(n);return s.jsx(P$,{...i,...a,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GR.displayName=Z$;var Q$=MR,J$=OR,eF=LR,KR=BR,YR=zR,XR=UR,WR=$R,ZR=FR,QR=VR,JR=qR,eD=HR,tD=GR;const nD=Q$,sD=J$,tF=x.forwardRef(({className:t,inset:e,children:n,...a},i)=>s.jsxs(eD,{ref:i,className:ge("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...a,children:[n,s.jsx(p_,{className:"ml-auto"})]}));tF.displayName=eD.displayName;const nF=x.forwardRef(({className:t,...e},n)=>s.jsx(tD,{ref:n,className:ge("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));nF.displayName=tD.displayName;const Qj=x.forwardRef(({className:t,sideOffset:e=4,...n},a)=>s.jsx(eF,{children:s.jsx(KR,{ref:a,sideOffset:e,className:ge("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));Qj.displayName=KR.displayName;const Wi=x.forwardRef(({className:t,inset:e,...n},a)=>s.jsx(XR,{ref:a,className:ge("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...n}));Wi.displayName=XR.displayName;const sF=x.forwardRef(({className:t,children:e,checked:n,...a},i)=>s.jsxs(WR,{ref:i,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(QR,{children:s.jsx(Jg,{className:"h-4 w-4"})})}),e]}));sF.displayName=WR.displayName;const aF=x.forwardRef(({className:t,children:e,...n},a)=>s.jsxs(ZR,{ref:a,className:ge("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(QR,{children:s.jsx(O9,{className:"h-2 w-2 fill-current"})})}),e]}));aF.displayName=ZR.displayName;const aD=x.forwardRef(({className:t,inset:e,...n},a)=>s.jsx(YR,{ref:a,className:ge("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));aD.displayName=YR.displayName;const Jy=x.forwardRef(({className:t,...e},n)=>s.jsx(JR,{ref:n,className:ge("-mx-1 my-1 h-px bg-muted",t),...e}));Jy.displayName=JR.displayName;const On={SUPER_ADMIN:"SUPER_ADMIN",ADMIN:"ADMIN",GURU:"GURU",KEPALA_SEKOLAH:"KEPALA_SEKOLAH"},Eu={[On.SUPER_ADMIN]:"Super Administrator",[On.ADMIN]:"Administrator",[On.GURU]:"Guru",[On.KEPALA_SEKOLAH]:"Kepala Sekolah"},rF={ACTIVE:"active"},PE=[{value:"A",label:"A",description:"Sangat Baik",score:4},{value:"B",label:"B",description:"Baik",score:3},{value:"C",label:"C",description:"Cukup",score:2},{value:"D",label:"D",description:"Perlu Perbaikan",score:1}],us=()=>{const t=Xo(j=>{var k;return((k=j.auth)==null?void 0:k.user)??null}),e=(t==null?void 0:t.role)||On.GURU,n=x.useCallback(j=>e===j,[e]),a=x.useCallback(()=>e===On.SUPER_ADMIN,[e]),i=x.useCallback(()=>e===On.ADMIN||e===On.SUPER_ADMIN,[e]),o=x.useCallback(()=>e===On.GURU,[e]),c=x.useCallback(()=>e===On.KEPALA_SEKOLAH,[e]),u=x.useCallback(j=>j.includes(e),[e]),h=x.useCallback(j=>j.includes(e),[e]),f=x.useCallback(j=>j.length===1&&j.includes(e),[e]),p=x.useCallback(()=>i(),[i]),g=x.useCallback(()=>i()||c(),[i,c]),v=x.useCallback(()=>i()||c(),[i,c]),y=x.useCallback(()=>o(),[o]),w=x.useCallback(()=>c(),[c]);return{currentRole:e,user:t,isRole:n,isSuperAdmin:a,isAdmin:i,isGuru:o,isKepalaSekolah:c,hasPermission:u,hasAnyRole:h,hasAllRoles:f,canManageUsers:p,canManageOrganization:g,canEvaluateTeachers:v,canSubmitRPP:y,canReviewRPP:w}},gr=(t,e)=>t?t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:")?t:t.startsWith("/")?`${tc}${t}`:`${tc}/${t}`:e||"/placeholder-image.jpg",rc=t=>gr(t,"/placeholder-news.jpg"),pg=t=>gr(t,"/placeholder-gallery.jpg"),gg=t=>gr(t,"/placeholder-organization.jpg"),rD=t=>gr(t,"/placeholder-article.jpg"),OE=t=>gr(t,"/placeholder-avatar.jpg"),iF=(t,e,n,a=80)=>{const i=gr(t);if(!i.includes(tc))return i;const o=new URLSearchParams;e&&o.append("w",e.toString()),n&&o.append("h",n.toString()),a!==80&&o.append("q",a.toString());const c=o.toString();return c?`${i}?${c}`:i},dd=(t,e=300)=>iF(t,e,e,70);function iD({collapsed:t=!1,className:e}){const{user:n,logout:a,loading:i}=fr(),{currentRole:o}=us(),[c,u]=x.useState(!1),h=ki(),f=()=>{var j;const y=((j=n==null?void 0:n.profile)==null?void 0:j.name)||(n==null?void 0:n.display_name)||(n==null?void 0:n.full_name);if(!y)return"U";const w=y.split(" ");return w.length>=2?`${w[0].charAt(0)}${w[1].charAt(0)}`.toUpperCase():y.charAt(0).toUpperCase()},p=()=>{var y;return((y=n==null?void 0:n.profile)==null?void 0:y.name)||(n==null?void 0:n.display_name)||(n==null?void 0:n.full_name)||"User"},g=()=>{switch(o){case"SUPER_ADMIN":return"Super Administrator";case"ADMIN":return"Administrator";case"GURU":return"Guru";case"KEPALA_SEKOLAH":return"Kepala Sekolah";default:return o}},v=async()=>{try{u(!0),await a(),h("/login",{replace:!0})}catch(y){console.error("Logout error:",y)}finally{u(!1)}};return!n||i?s.jsx("div",{className:ge("flex",t?"justify-center":"justify-start",e),children:s.jsx("div",{className:"animate-pulse",children:s.jsx("div",{className:"h-8 w-8 bg-muted rounded-full"})})}):s.jsx("div",{className:ge("flex",t?"justify-center":"justify-start",e),children:s.jsxs(nD,{children:[s.jsx(sD,{asChild:!0,children:s.jsxs(pe,{variant:"ghost",className:ge("hover:bg-transparent",t?"p-1.5 flex items-center justify-center h-auto":"p-2 flex items-center space-x-2 w-full"),disabled:c,children:[s.jsxs("div",{className:"relative",children:[s.jsx(If,{className:ge("flex-shrink-0",t?"h-5 w-5":"h-6 w-6"),children:n.img_url?s.jsx(rf,{src:gr(n.img_url),alt:p()}):s.jsx(Bf,{className:ge(t?"text-[10px]":"text-xs"),children:f()})}),n.status==="active"&&s.jsx("div",{className:ge("absolute bg-green-500 rounded-full border border-background",t?"-top-0.5 -right-0.5 h-2 w-2":"-top-1 -right-1 h-3 w-3")})]}),!t&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col items-start flex-1 min-w-0",children:[s.jsx("span",{className:"text-sm font-medium text-sidebar-foreground truncate w-full",children:p()}),s.jsx("div",{className:"flex items-center gap-1 w-full",children:s.jsx("span",{className:"text-xs text-muted-foreground truncate",children:g()})})]}),s.jsx(sx,{className:"h-4 w-4 flex-shrink-0"})]})]})}),s.jsxs(Qj,{align:t?"start":"end",className:"w-56",side:t?"right":"bottom",children:[s.jsx(aD,{children:s.jsxs("div",{className:"flex flex-col space-y-1",children:[s.jsx("span",{className:"font-medium truncate",title:p(),children:p()}),n.email&&s.jsx("span",{className:"text-xs text-muted-foreground truncate",title:n.email,children:n.email}),s.jsx("span",{className:"text-xs text-muted-foreground truncate",title:g(),children:g()})]})}),s.jsx(Jy,{}),s.jsx(Wi,{asChild:!0,children:s.jsxs(Da,{to:"/profile",className:"flex items-center",children:[s.jsx(ll,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Profile"})]})}),s.jsx(Jy,{}),s.jsx(Wi,{onClick:v,disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(za,{className:"mr-2 h-4 w-4 animate-spin"}),s.jsx("span",{children:"Signing out..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(HU,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Sign out"})]})})]})]})})}function oF({collapsed:t}){return s.jsx(s.Fragment,{children:s.jsx("div",{className:ge("flex-shrink-0 mt-auto",t?"p-2":"p-4 pt-3"),children:s.jsx(iD,{collapsed:t})})})}function lF({item:t,collapsed:e,expandedMenus:n,onMenuClick:a,onLinkClick:i}){const o=rd(),c=g=>n.includes(g),u=g=>g.href&&o.pathname===g.href?!0:g.children?g.children.some(v=>o.pathname===v.href):!1,h=t.children&&t.children.length>0,f=h&&c(t.title),p=u(t);return h?s.jsxs("div",{className:"mb-2",children:[s.jsxs("button",{onClick:()=>a(t),className:ge("flex items-center w-full rounded-lg px-3 py-2.5 text-sm font-medium transition-colors",e?"justify-center":"justify-between",p?"bg-sidebar-primary text-sidebar-primary-foreground":"text-sidebar-foreground hover:bg-sidebar-accent/50 hover:text-sidebar-accent-foreground"),title:e?t.title:void 0,children:[s.jsxs("div",{className:ge("flex items-center",e?"justify-center":"space-x-3"),children:[s.jsx(t.icon,{className:ge("flex-shrink-0",e?"h-4 w-4":"h-5 w-5")}),!e&&s.jsx("span",{children:t.title})]}),!e&&h&&s.jsx(sx,{className:ge("h-4 w-4 transition-transform flex-shrink-0",f&&"rotate-180")})]}),!e&&h&&f&&s.jsx("div",{className:"ml-6 mt-1 space-y-1",children:t.children.map(g=>s.jsxs(Da,{to:g.href,className:ge("flex items-center space-x-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors",o.pathname===g.href?"bg-sidebar-primary/80 text-sidebar-primary-foreground":"text-sidebar-foreground hover:bg-sidebar-accent/30 hover:text-sidebar-accent-foreground"),onClick:i,children:[s.jsx(g.icon,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{children:g.title})]},g.href))})]}):s.jsx("div",{className:"mb-2",children:s.jsxs(Da,{to:t.href,className:ge("flex items-center rounded-lg px-3 py-2.5 text-sm font-medium transition-colors",e?"justify-center":"space-x-3",p?"bg-sidebar-primary text-sidebar-primary-foreground":"text-sidebar-foreground hover:bg-sidebar-accent/50 hover:text-sidebar-accent-foreground"),onClick:i,title:e?t.title:void 0,children:[s.jsx(t.icon,{className:ge("flex-shrink-0",e?"h-4 w-4":"h-5 w-5")}),!e&&s.jsx("span",{children:t.title})]})})}const cF=[{title:"Dashboard",href:"/dashboard",icon:Iu,allowedRoles:["SUPER_ADMIN","ADMIN","GURU","KEPALA_SEKOLAH"]},{title:"RPP Guru",icon:pa,allowedRoles:["SUPER_ADMIN","KEPALA_SEKOLAH","ADMIN","GURU"],children:[{title:"Daftar RPP",href:"/rpp-submissions",icon:Qb,allowedRoles:["SUPER_ADMIN","KEPALA_SEKOLAH","ADMIN"]},{title:"RPP Saya",href:"/my-rpp-submissions",icon:af,allowedRoles:["GURU","KEPALA_SEKOLAH"]}]},{title:"Evaluasi Guru",icon:Ku,allowedRoles:["SUPER_ADMIN","KEPALA_SEKOLAH","ADMIN","GURU"],children:[{title:"Daftar Evaluasi",href:"/teacher-evaluations",icon:Qb,allowedRoles:["SUPER_ADMIN","KEPALA_SEKOLAH","ADMIN"]},{title:"Evaluasi Saya",href:"/my-evaluations",icon:Qb,allowedRoles:["GURU","KEPALA_SEKOLAH"]},{title:"Laporan Evaluasi",href:"/evaluations/reports",icon:Iu,allowedRoles:["SUPER_ADMIN","ADMIN"]}]},{title:"Manajemen Sistem",icon:i7,allowedRoles:["SUPER_ADMIN","ADMIN"],children:[{title:"Aspek Evaluasi",href:"/evaluation-aspects",icon:il,allowedRoles:["SUPER_ADMIN","ADMIN"]},{title:"Periode",href:"/periods",icon:pr,allowedRoles:["SUPER_ADMIN","ADMIN"]},{title:"Pengguna",href:"/users",icon:Ds,allowedRoles:["SUPER_ADMIN","ADMIN"]}]},{title:"Manajemen Konten",icon:ol,allowedRoles:["SUPER_ADMIN","ADMIN"],children:[{title:"Pengurus",href:"/cms/board-members",icon:j7,allowedRoles:["SUPER_ADMIN","ADMIN"]},{title:"Sekolah",href:"/cms/organizations",icon:ol,allowedRoles:["SUPER_ADMIN","ADMIN"]},{title:"Artikel",href:"/cms/articles",icon:JU,allowedRoles:["SUPER_ADMIN","ADMIN"]},{title:"Galeri",href:"/cms/galleries",icon:$_,allowedRoles:["SUPER_ADMIN","ADMIN"]},{title:"Pesan",href:"/cms/messages",icon:q_,allowedRoles:["SUPER_ADMIN","ADMIN"]},{title:"Program",href:"/cms/program",icon:Gp,allowedRoles:["SUPER_ADMIN","ADMIN"]},{title:"Statistik",href:"/cms/statistik",icon:Iu,allowedRoles:["SUPER_ADMIN","ADMIN"]}]}],uF=t=>[...oD(cF,t)],oD=(t,e)=>t.filter(n=>n.allowedRoles.length===0?!0:n.allowedRoles.includes(e)).map(n=>{if(n.children){const a=oD(n.children,e);return{...n,children:a}}return n}).filter(n=>n.children?n.children.length>0:!0);function LE({collapsed:t=!1,expandedMenus:e,onToggleCollapse:n,onToggleSubmenu:a,onMenuClick:i,onLinkClick:o}){const{currentRole:c}=us(),u=x.useMemo(()=>uF(c),[c]);return s.jsxs("div",{className:"flex h-full flex-col",children:[s.jsx(k7,{collapsed:t,onToggleCollapse:n}),s.jsx("div",{className:"flex-1 overflow-hidden min-h-0",children:s.jsxs(O_,{className:"h-full",children:[s.jsx("div",{className:ge("p-3 pb-2",t&&"px-2"),children:s.jsx("nav",{className:"space-y-1",children:u.map(h=>s.jsx(lF,{item:h,collapsed:t,expandedMenus:e,onToggleSubmenu:a,onMenuClick:i,onLinkClick:o},h.title))})}),s.jsx(Ij,{orientation:"vertical"})]})}),s.jsx(oF,{collapsed:t})]})}function dF({onOpenSidebar:t}){return s.jsx(s.Fragment,{children:s.jsxs("header",{className:"sticky top-0 z-40 flex h-12 sm:h-14 shrink-0 items-center justify-between border-b border-border bg-background px-3 sm:px-4 shadow-sm lg:hidden",children:[s.jsx(pe,{variant:"ghost",size:"sm",onClick:t,className:"h-8 w-8 sm:h-9 sm:w-9 p-0",children:s.jsx(V_,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),s.jsx("div",{className:"flex items-center gap-x-2",children:s.jsx(iD,{collapsed:!0,className:"h-8 w-8 sm:h-9 sm:w-9 flex items-center justify-center"})})]})})}function hF(){return s.jsx("footer",{className:"border-t border-border bg-background",children:s.jsx("div",{className:"mx-auto max-w-7xl px-3 py-4 sm:px-4 sm:py-5 lg:px-6 lg:py-6",children:s.jsx("div",{className:"flex flex-col items-center justify-between space-y-3 md:flex-row md:space-y-0",children:s.jsx("div",{className:"flex items-center space-x-3 sm:space-x-4",children:s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:" 2025 Yayasan. All rights reserved."})})})})})}function fF({children:t}){const[e,n]=x.useState(!1),[a,i]=x.useState(!1),[o,c]=x.useState([]),u=Mj(),h=v=>{c(y=>y.includes(v)?y.filter(w=>w!==v):[...y,v])},f=v=>{v.children&&v.children.length>0&&(a&&i(!1),h(v.title))},p=()=>{i(!a)},g=()=>{n(!1),u()};return s.jsxs("div",{className:"min-h-screen bg-muted/5",children:[s.jsx("div",{className:ge("hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:flex-col transition-all duration-300",a?"lg:w-[5rem]":"lg:w-[16rem]"),children:s.jsx("div",{className:"flex grow flex-col gap-y-0 border-r border-sidebar-border bg-sidebar min-h-full",children:s.jsx(LE,{collapsed:a,expandedMenus:o,onToggleCollapse:p,onToggleSubmenu:h,onMenuClick:f,onLinkClick:g})})}),s.jsx(x_,{open:e,onOpenChange:n,children:s.jsxs(v_,{side:"left",className:"p-0 w-[16rem] max-w-[80vw]",children:[s.jsxs(b_,{className:"sr-only",children:[s.jsx(y_,{children:"Navigation Menu"}),s.jsx(j_,{children:"Application navigation and menu options"})]}),s.jsx(LE,{collapsed:!1,expandedMenus:o,onToggleCollapse:p,onToggleSubmenu:h,onMenuClick:f,onLinkClick:g})]})}),s.jsxs("div",{className:ge("min-h-screen flex flex-col transition-all duration-300",a?"lg:pl-[5rem]":"lg:pl-[16rem]"),children:[s.jsx(dF,{onOpenSidebar:()=>n(!0)}),s.jsx("main",{className:"flex-1 min-h-0",children:s.jsx("div",{className:"py-3 lg:py-6 px-3 sm:px-4 lg:px-6 xl:px-8",children:t||s.jsx(MC,{})})}),s.jsx("div",{className:"mt-auto flex-shrink-0",children:s.jsx(hF,{})})]})]})}function mF(t,e){for(var n={};t.length;){var a=t[0],i=a.code,o=a.message,c=a.path.join(".");if(!n[c])if("unionErrors"in a){var u=a.unionErrors[0].errors[0];n[c]={message:u.message,type:u.code}}else n[c]={message:o,type:i};if("unionErrors"in a&&a.unionErrors.forEach(function(p){return p.errors.forEach(function(g){return t.push(g)})}),e){var h=n[c].types,f=h&&h[a.code];n[c]=d6(c,e,n,i,f?[].concat(f,a.message):a.message)}t.shift()}return n}function ws(t,e,n){return n===void 0&&(n={}),function(a,i,o){try{return Promise.resolve(function(c,u){try{var h=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](a,e)).then(function(f){return o.shouldUseNativeValidation&&c6({},o),{errors:{},values:n.raw?Object.assign({},a):f}})}catch(f){return u(f)}return h&&h.then?h.then(void 0,u):h}(0,function(c){if(function(u){return Array.isArray(u==null?void 0:u.errors)}(c))return{values:{},errors:u6(mF(c.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw c}))}catch(c){return Promise.reject(c)}}}const at=x.forwardRef(({className:t,type:e,...n},a)=>s.jsx("input",{type:e,className:ge("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...n}));at.displayName="Input";function Ne({className:t,...e}){return s.jsx("div",{"data-slot":"card",className:ge("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...e})}function lt({className:t,...e}){return s.jsx("div",{"data-slot":"card-header",className:ge("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function pt({className:t,...e}){return s.jsx("div",{"data-slot":"card-title",className:ge("leading-none font-semibold",t),...e})}function cl({className:t,...e}){return s.jsx("div",{"data-slot":"card-description",className:ge("text-muted-foreground text-sm",t),...e})}function Se({className:t,...e}){return s.jsx("div",{"data-slot":"card-content",className:ge("px-6",t),...e})}function ga({className:t,...e}){return s.jsx("div",{"data-slot":"card-footer",className:ge("flex items-center px-6 [.border-t]:pt-6",t),...e})}const pF=nx("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ma=x.forwardRef(({className:t,variant:e,...n},a)=>s.jsx("div",{ref:a,role:"alert",className:ge(pF({variant:e}),t),...n}));Ma.displayName="Alert";const lD=x.forwardRef(({className:t,...e},n)=>s.jsx("h5",{ref:n,className:ge("mb-1 font-medium leading-none tracking-tight",t),...e}));lD.displayName="AlertTitle";const Pa=x.forwardRef(({className:t,...e},n)=>s.jsx("div",{ref:n,className:ge("text-sm [&_p]:leading-relaxed",t),...e}));Pa.displayName="AlertDescription";var gF="Label",cD=x.forwardRef((t,e)=>s.jsx(Be.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));cD.displayName=gF;var uD=cD;const xF=nx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pe=x.forwardRef(({className:t,...e},n)=>s.jsx(uD,{ref:n,className:ge(xF(),t),...e}));Pe.displayName=uD.displayName;const Hn=h6,dD=x.createContext({}),Ue=({...t})=>s.jsx(dD.Provider,{value:{name:t.name},children:s.jsx(IC,{...t})}),lx=()=>{const t=x.useContext(dD),e=x.useContext(hD),{getFieldState:n}=f6(),a=m6({name:t.name}),i=n(t.name,a);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:o}=e;return{id:o,name:t.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...i}},hD=x.createContext({});function $e({className:t,...e}){const n=x.useId();return s.jsx(hD.Provider,{value:{id:n},children:s.jsx("div",{"data-slot":"form-item",className:ge("grid gap-2",t),...e})})}function Fe({className:t,...e}){const{error:n,formItemId:a}=lx();return s.jsx(Pe,{"data-slot":"form-label","data-error":!!n,className:ge("data-[error=true]:text-destructive",t),htmlFor:a,...e})}function ze({...t}){const{error:e,formItemId:n,formDescriptionId:a,formMessageId:i}=lx();return s.jsx(dj,{"data-slot":"form-control",id:n,"aria-describedby":e?`${a} ${i}`:`${a}`,"aria-invalid":!!e,...t})}function fa({className:t,...e}){const{formDescriptionId:n}=lx();return s.jsx("p",{"data-slot":"form-description",id:n,className:ge("text-muted-foreground text-sm",t),...e})}function Ke({className:t,...e}){const{error:n,formMessageId:a}=lx(),i=n?String((n==null?void 0:n.message)??""):e.children;return i?s.jsx("p",{"data-slot":"form-message",id:a,className:ge("text-destructive text-sm",t),...e,children:i}):null}function cx(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var ux="Checkbox",[vF,fle]=Zs(ux),[bF,yF]=vF(ux),fD=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:a,checked:i,defaultChecked:o,required:c,disabled:u,value:h="on",onCheckedChange:f,form:p,...g}=t,[v,y]=x.useState(null),w=ht(e,T=>y(T)),j=x.useRef(!1),k=v?p||!!v.closest("form"):!0,[S,E]=zr({prop:i,defaultProp:o??!1,onChange:f,caller:ux}),A=x.useRef(S);return x.useEffect(()=>{const T=v==null?void 0:v.form;if(T){const _=()=>E(A.current);return T.addEventListener("reset",_),()=>T.removeEventListener("reset",_)}},[v,E]),s.jsxs(bF,{scope:n,state:S,disabled:u,children:[s.jsx(Be.button,{type:"button",role:"checkbox","aria-checked":Jo(S)?"mixed":S,"aria-required":c,"data-state":xD(S),"data-disabled":u?"":void 0,disabled:u,value:h,...g,ref:w,onKeyDown:Ce(t.onKeyDown,T=>{T.key==="Enter"&&T.preventDefault()}),onClick:Ce(t.onClick,T=>{E(_=>Jo(_)?!0:!_),k&&(j.current=T.isPropagationStopped(),j.current||T.stopPropagation())})}),k&&s.jsx(gD,{control:v,bubbles:!j.current,name:a,value:h,checked:S,required:c,disabled:u,form:p,style:{transform:"translateX(-100%)"},defaultChecked:Jo(o)?!1:o})]})});fD.displayName=ux;var mD="CheckboxIndicator",pD=x.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:a,...i}=t,o=yF(mD,n);return s.jsx(Ln,{present:a||Jo(o.state)||o.state===!0,children:s.jsx(Be.span,{"data-state":xD(o.state),"data-disabled":o.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});pD.displayName=mD;var jF="CheckboxBubbleInput",gD=x.forwardRef(({__scopeCheckbox:t,control:e,checked:n,bubbles:a=!0,defaultChecked:i,...o},c)=>{const u=x.useRef(null),h=ht(u,c),f=cx(n),p=bj(e);x.useEffect(()=>{const v=u.current;if(!v)return;const y=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(y,"checked").set;if(f!==n&&j){const k=new Event("click",{bubbles:a});v.indeterminate=Jo(n),j.call(v,Jo(n)?!1:n),v.dispatchEvent(k)}},[f,n,a]);const g=x.useRef(Jo(n)?!1:n);return s.jsx(Be.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??g.current,...o,tabIndex:-1,ref:h,style:{...o.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});gD.displayName=jF;function Jo(t){return t==="indeterminate"}function xD(t){return Jo(t)?"indeterminate":t?"checked":"unchecked"}var wF=fD,NF=pD;function IE({className:t,...e}){return s.jsx(wF,{"data-slot":"checkbox",className:ge("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:s.jsx(NF,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:s.jsx(Jg,{className:"size-3.5"})})})}const dx="/assets/bg--vdInIah.webp",SF=Ws({email:ct().email("Valid email is required").min(1,"Email is required"),password:ct().min(1,"Password is required"),rememberMe:Ig().default(!1)});function kF(){var T,_;const{login:t,isAuthenticated:e,loading:n,error:a,clearAuthError:i}=fr(),[o,c]=x.useState(!1),[u,h]=x.useState(""),[f,p]=x.useState(""),{toast:g}=Lt(),v=ki(),y=rd(),w=((T=y.state)==null?void 0:T.from)||"/",j=((_=y.state)==null?void 0:_.message)||"";x.useEffect(()=>{e&&v(w,{replace:!0})},[e,v,w]),x.useEffect(()=>{a&&h(a)},[a]),x.useEffect(()=>{j&&(p(j),g({title:"Informasi",description:j,variant:"default"}))},[j,g]);const k=js({resolver:ws(SF),defaultValues:{email:"",password:"",rememberMe:!1}}),S=()=>{u&&(h(""),i()),f&&p("")},E=async M=>{h(""),i();try{await t({email:M.email,password:M.password}),M.rememberMe&&localStorage.setItem("rememberMe","true")}catch(P){console.error("Login failed:",P);const O=typeof P=="string"?P:(P==null?void 0:P.message)||"Terjadi kesalahan saat login";g({title:"Login Gagal",description:O,variant:"destructive"})}},A=()=>{v("/forgot-password",{state:{email:k.getValues("email")}})};return s.jsxs("div",{className:"min-h-screen",children:[s.jsxs("div",{className:"hidden lg:flex h-screen",children:[s.jsxs("div",{className:"w-[70%] relative bg-gray-100 dark:bg-gray-900",children:[s.jsx("img",{src:dx,alt:"Background",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/10"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 via-transparent to-transparent"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-black/20"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/30"}),s.jsxs("div",{className:"absolute top-8 left-8 text-white flex items-center space-x-4",children:[s.jsx("img",{src:Hs,alt:"Logo",className:"w-16 h-16 object-contain"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sistem Informasi Yayasan Baitul Muslim Lampung Timur"}),s.jsx("p",{className:"text-white/90 max-w-md",children:"Yayasan pendidikan dan dakwah Islam yang menyelenggarakan pendidikan terpadu berkualitas sejak 1993"})]})]})]}),s.jsx("div",{className:"w-[30%] flex items-center justify-center bg-background p-8",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:Hs,alt:"Logo",className:"w-16 h-16 object-contain"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Selamat Datang"}),s.jsx("p",{className:"text-muted-foreground",children:"Login dengan Email yang terdaftar untuk masuk ke Sistem Informasi Yayasan"})]})]}),s.jsxs(Ne,{className:"shadow-lg",children:[s.jsxs(lt,{className:"space-y-1",children:[s.jsx(pt,{className:"text-xl",children:"Login"}),s.jsx(cl,{children:"Masukan email dan password untuk akses akun"})]}),s.jsx(Hn,{...k,children:s.jsxs("form",{onSubmit:k.handleSubmit(E),children:[s.jsxs(Se,{className:"space-y-4",children:[s.jsx(Ue,{control:k.control,name:"email",render:({field:M})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Email"}),s.jsx(ze,{children:s.jsx(at,{type:"email",placeholder:"Masukkan email",disabled:n,...M,onChange:P=>{M.onChange(P),S()}})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:k.control,name:"password",render:({field:M})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Password"}),s.jsx(ze,{children:s.jsxs("div",{className:"relative",children:[s.jsx(at,{type:o?"text":"password",placeholder:"Masukkan password",disabled:n,...M,onChange:P=>{M.onChange(P),S()}}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>c(!o),disabled:n,children:o?s.jsx(Ji,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(Fs,{className:"h-4 w-4 text-muted-foreground"})})]})}),s.jsx(Ke,{})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ue,{control:k.control,name:"rememberMe",render:({field:M})=>s.jsxs($e,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(ze,{children:s.jsx(IE,{checked:M.value,onCheckedChange:M.onChange,disabled:n})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(Fe,{className:"text-sm font-normal",children:"Ingat saya"})})]})}),s.jsx(pe,{type:"button",variant:"link",size:"sm",className:"px-0 h-auto font-normal",onClick:A,disabled:n,children:"Lupa password?"})]})]}),s.jsx(ga,{className:"flex flex-col space-y-4 mt-4",children:s.jsx(pe,{type:"submit",className:"w-full",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(za,{className:"mr-2 h-4 w-4 animate-spin"}),"Masuk..."]}):"Masuk"})})]})})]})]})})]}),s.jsx("div",{className:"lg:hidden min-h-screen flex items-center justify-center p-4 bg-background",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:Hs,alt:"Logo",className:"w-16 h-16 object-contain"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Selamat Datang"}),s.jsx("p",{className:"text-muted-foreground",children:"Login dengan Email yang terdaftar untuk masuk ke Sistem Informasi Yayasan"})]})]}),s.jsxs(Ne,{className:"shadow-lg",children:[s.jsxs(lt,{className:"space-y-1",children:[s.jsx(pt,{className:"text-xl",children:"Login"}),s.jsx(cl,{children:"Masukan email dan password untuk akses akun"})]}),s.jsx(Hn,{...k,children:s.jsxs("form",{onSubmit:k.handleSubmit(E),children:[s.jsxs(Se,{className:"space-y-4",children:[f&&s.jsx(Ma,{children:s.jsx(Pa,{children:f})}),s.jsx(Ue,{control:k.control,name:"email",render:({field:M})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Email"}),s.jsx(ze,{children:s.jsx(at,{type:"email",placeholder:"Masukkan email",disabled:n,...M,onChange:P=>{M.onChange(P),S()}})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:k.control,name:"password",render:({field:M})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Password"}),s.jsx(ze,{children:s.jsxs("div",{className:"relative",children:[s.jsx(at,{type:o?"text":"password",placeholder:"Masukkan password",disabled:n,...M,onChange:P=>{M.onChange(P),S()}}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>c(!o),disabled:n,children:o?s.jsx(Ji,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(Fs,{className:"h-4 w-4 text-muted-foreground"})})]})}),s.jsx(Ke,{})]})}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ue,{control:k.control,name:"rememberMe",render:({field:M})=>s.jsxs($e,{className:"flex flex-row items-start space-x-3 space-y-0",children:[s.jsx(ze,{children:s.jsx(IE,{checked:M.value,onCheckedChange:M.onChange,disabled:n})}),s.jsx("div",{className:"space-y-1 leading-none",children:s.jsx(Fe,{className:"text-sm font-normal",children:"Ingat saya"})})]})}),s.jsx(pe,{type:"button",variant:"link",size:"sm",className:"px-0 h-auto font-normal",onClick:A,disabled:n,children:"Lupa password?"})]})]}),s.jsx(ga,{className:"flex flex-col space-y-4 mt-4",children:s.jsx(pe,{type:"submit",className:"w-full",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(za,{className:"mr-2 h-4 w-4 animate-spin"}),"Masuk..."]}):"Masuk"})})]})})]})]})})]})}var xc="NavigationMenu",[Jj,vD,EF]=zf(xc),[e0,AF,CF]=zf(xc),[e1,mle]=Zs(xc,[EF,CF]),[TF,xr]=e1(xc),[_F,RF]=e1(xc),bD=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:a,onValueChange:i,defaultValue:o,delayDuration:c=200,skipDelayDuration:u=300,orientation:h="horizontal",dir:f,...p}=t,[g,v]=x.useState(null),y=ht(e,H=>v(H)),w=Lf(f),j=x.useRef(0),k=x.useRef(0),S=x.useRef(0),[E,A]=x.useState(!0),[T,_]=zr({prop:a,onChange:H=>{const Y=H!=="",R=u>0;Y?(window.clearTimeout(S.current),R&&A(!1)):(window.clearTimeout(S.current),S.current=window.setTimeout(()=>A(!0),u)),i==null||i(H)},defaultProp:o??"",caller:xc}),M=x.useCallback(()=>{window.clearTimeout(k.current),k.current=window.setTimeout(()=>_(""),150)},[_]),P=x.useCallback(H=>{window.clearTimeout(k.current),_(H)},[_]),O=x.useCallback(H=>{T===H?window.clearTimeout(k.current):j.current=window.setTimeout(()=>{window.clearTimeout(k.current),_(H)},c)},[T,_,c]);return x.useEffect(()=>()=>{window.clearTimeout(j.current),window.clearTimeout(k.current),window.clearTimeout(S.current)},[]),s.jsx(yD,{scope:n,isRootMenu:!0,value:T,dir:w,orientation:h,rootNavigationMenu:g,onTriggerEnter:H=>{window.clearTimeout(j.current),E?O(H):P(H)},onTriggerLeave:()=>{window.clearTimeout(j.current),M()},onContentEnter:()=>window.clearTimeout(k.current),onContentLeave:M,onItemSelect:H=>{_(Y=>Y===H?"":H)},onItemDismiss:()=>_(""),children:s.jsx(Be.nav,{"aria-label":"Main","data-orientation":h,dir:w,...p,ref:y})})});bD.displayName=xc;var t0="NavigationMenuSub",DF=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:a,onValueChange:i,defaultValue:o,orientation:c="horizontal",...u}=t,h=xr(t0,n),[f,p]=zr({prop:a,onChange:i,defaultProp:o??"",caller:t0});return s.jsx(yD,{scope:n,isRootMenu:!1,value:f,dir:h.dir,orientation:c,rootNavigationMenu:h.rootNavigationMenu,onTriggerEnter:g=>p(g),onItemSelect:g=>p(g),onItemDismiss:()=>p(""),children:s.jsx(Be.div,{"data-orientation":c,...u,ref:e})})});DF.displayName=t0;var yD=t=>{const{scope:e,isRootMenu:n,rootNavigationMenu:a,dir:i,orientation:o,children:c,value:u,onItemSelect:h,onItemDismiss:f,onTriggerEnter:p,onTriggerLeave:g,onContentEnter:v,onContentLeave:y}=t,[w,j]=x.useState(null),[k,S]=x.useState(new Map),[E,A]=x.useState(null);return s.jsx(TF,{scope:e,isRootMenu:n,rootNavigationMenu:a,value:u,previousValue:cx(u),baseId:ls(),dir:i,orientation:o,viewport:w,onViewportChange:j,indicatorTrack:E,onIndicatorTrackChange:A,onTriggerEnter:pn(p),onTriggerLeave:pn(g),onContentEnter:pn(v),onContentLeave:pn(y),onItemSelect:pn(h),onItemDismiss:pn(f),onViewportContentChange:x.useCallback((T,_)=>{S(M=>(M.set(T,_),new Map(M)))},[]),onViewportContentRemove:x.useCallback(T=>{S(_=>_.has(T)?(_.delete(T),new Map(_)):_)},[]),children:s.jsx(Jj.Provider,{scope:e,children:s.jsx(_F,{scope:e,items:k,children:c})})})},jD="NavigationMenuList",wD=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...a}=t,i=xr(jD,n),o=s.jsx(Be.ul,{"data-orientation":i.orientation,...a,ref:e});return s.jsx(Be.div,{style:{position:"relative"},ref:i.onIndicatorTrackChange,children:s.jsx(Jj.Slot,{scope:n,children:i.isRootMenu?s.jsx(TD,{asChild:!0,children:o}):o})})});wD.displayName=jD;var ND="NavigationMenuItem",[MF,SD]=e1(ND),kD=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:a,...i}=t,o=ls(),c=a||o||"LEGACY_REACT_AUTO_VALUE",u=x.useRef(null),h=x.useRef(null),f=x.useRef(null),p=x.useRef(()=>{}),g=x.useRef(!1),v=x.useCallback((w="start")=>{if(u.current){p.current();const j=s0(u.current);j.length&&s1(w==="start"?j:j.reverse())}},[]),y=x.useCallback(()=>{if(u.current){const w=s0(u.current);w.length&&(p.current=VF(w))}},[]);return s.jsx(MF,{scope:n,value:c,triggerRef:h,contentRef:u,focusProxyRef:f,wasEscapeCloseRef:g,onEntryKeyDown:v,onFocusProxyEnter:v,onRootContentClose:y,onContentFocusOutside:y,children:s.jsx(Be.li,{...i,ref:e})})});kD.displayName=ND;var n0="NavigationMenuTrigger",PF=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,disabled:a,...i}=t,o=xr(n0,t.__scopeNavigationMenu),c=SD(n0,t.__scopeNavigationMenu),u=x.useRef(null),h=ht(u,c.triggerRef,e),f=RD(o.baseId,c.value),p=DD(o.baseId,c.value),g=x.useRef(!1),v=x.useRef(!1),y=c.value===o.value;return s.jsxs(s.Fragment,{children:[s.jsx(Jj.ItemSlot,{scope:n,value:c.value,children:s.jsx(_D,{asChild:!0,children:s.jsx(Be.button,{id:f,disabled:a,"data-disabled":a?"":void 0,"data-state":a1(y),"aria-expanded":y,"aria-controls":p,...i,ref:h,onPointerEnter:Ce(t.onPointerEnter,()=>{v.current=!1,c.wasEscapeCloseRef.current=!1}),onPointerMove:Ce(t.onPointerMove,xg(()=>{a||v.current||c.wasEscapeCloseRef.current||g.current||(o.onTriggerEnter(c.value),g.current=!0)})),onPointerLeave:Ce(t.onPointerLeave,xg(()=>{a||(o.onTriggerLeave(),g.current=!1)})),onClick:Ce(t.onClick,()=>{o.onItemSelect(c.value),v.current=y}),onKeyDown:Ce(t.onKeyDown,w=>{const k={horizontal:"ArrowDown",vertical:o.dir==="rtl"?"ArrowLeft":"ArrowRight"}[o.orientation];y&&w.key===k&&(c.onEntryKeyDown(),w.preventDefault())})})})}),y&&s.jsxs(s.Fragment,{children:[s.jsx(gT,{"aria-hidden":!0,tabIndex:0,ref:c.focusProxyRef,onFocus:w=>{const j=c.contentRef.current,k=w.relatedTarget,S=k===u.current,E=j==null?void 0:j.contains(k);(S||!E)&&c.onFocusProxyEnter(S?"start":"end")}}),o.viewport&&s.jsx("span",{"aria-owns":p})]})]})});PF.displayName=n0;var OF="NavigationMenuLink",BE="navigationMenu.linkSelect",ED=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,active:a,onSelect:i,...o}=t;return s.jsx(_D,{asChild:!0,children:s.jsx(Be.a,{"data-active":a?"":void 0,"aria-current":a?"page":void 0,...o,ref:e,onClick:Ce(t.onClick,c=>{const u=c.target,h=new CustomEvent(BE,{bubbles:!0,cancelable:!0});if(u.addEventListener(BE,f=>i==null?void 0:i(f),{once:!0}),ng(u,h),!h.defaultPrevented&&!c.metaKey){const f=new CustomEvent(Kp,{bubbles:!0,cancelable:!0});ng(u,f)}},{checkForDefaultPrevented:!1})})})});ED.displayName=OF;var t1="NavigationMenuIndicator",LF=x.forwardRef((t,e)=>{const{forceMount:n,...a}=t,i=xr(t1,t.__scopeNavigationMenu),o=!!i.value;return i.indicatorTrack?lj.createPortal(s.jsx(Ln,{present:n||o,children:s.jsx(IF,{...a,ref:e})}),i.indicatorTrack):null});LF.displayName=t1;var IF=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...a}=t,i=xr(t1,n),o=vD(n),[c,u]=x.useState(null),[h,f]=x.useState(null),p=i.orientation==="horizontal",g=!!i.value;x.useEffect(()=>{var j;const w=(j=o().find(k=>k.value===i.value))==null?void 0:j.ref.current;w&&u(w)},[o,i.value]);const v=()=>{c&&f({size:p?c.offsetWidth:c.offsetHeight,offset:p?c.offsetLeft:c.offsetTop})};return a0(c,v),a0(i.indicatorTrack,v),h?s.jsx(Be.div,{"aria-hidden":!0,"data-state":g?"visible":"hidden","data-orientation":i.orientation,...a,ref:e,style:{position:"absolute",...p?{left:0,width:h.size+"px",transform:`translateX(${h.offset}px)`}:{top:0,height:h.size+"px",transform:`translateY(${h.offset}px)`},...a.style}}):null}),Yu="NavigationMenuContent",BF=x.forwardRef((t,e)=>{const{forceMount:n,...a}=t,i=xr(Yu,t.__scopeNavigationMenu),o=SD(Yu,t.__scopeNavigationMenu),c=ht(o.contentRef,e),u=o.value===i.value,h={value:o.value,triggerRef:o.triggerRef,focusProxyRef:o.focusProxyRef,wasEscapeCloseRef:o.wasEscapeCloseRef,onContentFocusOutside:o.onContentFocusOutside,onRootContentClose:o.onRootContentClose,...a};return i.viewport?s.jsx(zF,{forceMount:n,...h,ref:c}):s.jsx(Ln,{present:n||u,children:s.jsx(AD,{"data-state":a1(u),...h,ref:c,onPointerEnter:Ce(t.onPointerEnter,i.onContentEnter),onPointerLeave:Ce(t.onPointerLeave,xg(i.onContentLeave)),style:{pointerEvents:!u&&i.isRootMenu?"none":void 0,...h.style}})})});BF.displayName=Yu;var zF=x.forwardRef((t,e)=>{const n=xr(Yu,t.__scopeNavigationMenu),{onViewportContentChange:a,onViewportContentRemove:i}=n;return bn(()=>{a(t.value,{ref:e,...t})},[t,e,a]),bn(()=>()=>i(t.value),[t.value,i]),null}),Kp="navigationMenu.rootContentDismiss",AD=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:a,triggerRef:i,focusProxyRef:o,wasEscapeCloseRef:c,onRootContentClose:u,onContentFocusOutside:h,...f}=t,p=xr(Yu,n),g=x.useRef(null),v=ht(g,e),y=RD(p.baseId,a),w=DD(p.baseId,a),j=vD(n),k=x.useRef(null),{onItemDismiss:S}=p;x.useEffect(()=>{const A=g.current;if(p.isRootMenu&&A){const T=()=>{var _;S(),u(),A.contains(document.activeElement)&&((_=i.current)==null||_.focus())};return A.addEventListener(Kp,T),()=>A.removeEventListener(Kp,T)}},[p.isRootMenu,t.value,i,S,u]);const E=x.useMemo(()=>{const T=j().map(Y=>Y.value);p.dir==="rtl"&&T.reverse();const _=T.indexOf(p.value),M=T.indexOf(p.previousValue),P=a===p.value,O=M===T.indexOf(a);if(!P&&!O)return k.current;const H=(()=>{if(_!==M){if(P&&M!==-1)return _>M?"from-end":"from-start";if(O&&_!==-1)return _>M?"to-start":"to-end"}return null})();return k.current=H,H},[p.previousValue,p.value,p.dir,j,a]);return s.jsx(TD,{asChild:!0,children:s.jsx(fc,{id:w,"aria-labelledby":y,"data-motion":E,"data-orientation":p.orientation,...f,ref:v,disableOutsidePointerEvents:!1,onDismiss:()=>{var T;const A=new Event(Kp,{bubbles:!0,cancelable:!0});(T=g.current)==null||T.dispatchEvent(A)},onFocusOutside:Ce(t.onFocusOutside,A=>{var _;h();const T=A.target;(_=p.rootNavigationMenu)!=null&&_.contains(T)&&A.preventDefault()}),onPointerDownOutside:Ce(t.onPointerDownOutside,A=>{var P;const T=A.target,_=j().some(O=>{var H;return(H=O.ref.current)==null?void 0:H.contains(T)}),M=p.isRootMenu&&((P=p.viewport)==null?void 0:P.contains(T));(_||M||!p.isRootMenu)&&A.preventDefault()}),onKeyDown:Ce(t.onKeyDown,A=>{var M;const T=A.altKey||A.ctrlKey||A.metaKey;if(A.key==="Tab"&&!T){const P=s0(A.currentTarget),O=document.activeElement,H=P.findIndex(X=>X===O),R=A.shiftKey?P.slice(0,H).reverse():P.slice(H+1,P.length);s1(R)?A.preventDefault():(M=o.current)==null||M.focus()}}),onEscapeKeyDown:Ce(t.onEscapeKeyDown,A=>{c.current=!0})})})}),n1="NavigationMenuViewport",CD=x.forwardRef((t,e)=>{const{forceMount:n,...a}=t,o=!!xr(n1,t.__scopeNavigationMenu).value;return s.jsx(Ln,{present:n||o,children:s.jsx(UF,{...a,ref:e})})});CD.displayName=n1;var UF=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,children:a,...i}=t,o=xr(n1,n),c=ht(e,o.onViewportChange),u=RF(Yu,t.__scopeNavigationMenu),[h,f]=x.useState(null),[p,g]=x.useState(null),v=h?(h==null?void 0:h.width)+"px":void 0,y=h?(h==null?void 0:h.height)+"px":void 0,w=!!o.value,j=w?o.value:o.previousValue;return a0(p,()=>{p&&f({width:p.offsetWidth,height:p.offsetHeight})}),s.jsx(Be.div,{"data-state":a1(w),"data-orientation":o.orientation,...i,ref:c,style:{pointerEvents:!w&&o.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":v,"--radix-navigation-menu-viewport-height":y,...i.style},onPointerEnter:Ce(t.onPointerEnter,o.onContentEnter),onPointerLeave:Ce(t.onPointerLeave,xg(o.onContentLeave)),children:Array.from(u.items).map(([S,{ref:E,forceMount:A,...T}])=>{const _=j===S;return s.jsx(Ln,{present:A||_,children:s.jsx(AD,{...T,ref:yi(E,M=>{_&&M&&g(M)})})},S)})})}),$F="FocusGroup",TD=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...a}=t,i=xr($F,n);return s.jsx(e0.Provider,{scope:n,children:s.jsx(e0.Slot,{scope:n,children:s.jsx(Be.div,{dir:i.dir,...a,ref:e})})})}),zE=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],FF="FocusGroupItem",_D=x.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...a}=t,i=AF(n),o=xr(FF,n);return s.jsx(e0.ItemSlot,{scope:n,children:s.jsx(Be.button,{...a,ref:e,onKeyDown:Ce(t.onKeyDown,c=>{if(["Home","End",...zE].includes(c.key)){let h=i().map(g=>g.ref.current);if([o.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(c.key)&&h.reverse(),zE.includes(c.key)){const g=h.indexOf(c.currentTarget);h=h.slice(g+1)}setTimeout(()=>s1(h)),c.preventDefault()}})})})});function s0(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const i=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||i?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function s1(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}function VF(t){return t.forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}),()=>{t.forEach(e=>{const n=e.dataset.tabindex;e.setAttribute("tabindex",n)})}}function a0(t,e){const n=pn(e);bn(()=>{let a=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(a),i.unobserve(t)}}},[t,n])}function a1(t){return t?"open":"closed"}function RD(t,e){return`${t}-trigger-${e}`}function DD(t,e){return`${t}-content-${e}`}function xg(t){return e=>e.pointerType==="mouse"?t(e):void 0}var qF=bD,HF=wD,GF=kD,KF=ED,YF=CD;function XF({className:t,children:e,viewport:n=!0,...a}){return s.jsxs(qF,{"data-slot":"navigation-menu","data-viewport":n,className:ge("group/navigation-menu relative flex max-w-max flex-1 items-center justify-center",t),...a,children:[e,n&&s.jsx(ZF,{})]})}function WF({className:t,...e}){return s.jsx(HF,{"data-slot":"navigation-menu-list",className:ge("group flex flex-1 list-none items-center justify-center gap-1",t),...e})}function mu({className:t,...e}){return s.jsx(GF,{"data-slot":"navigation-menu-item",className:ge("relative",t),...e})}function ZF({className:t,...e}){return s.jsx("div",{className:ge("absolute top-full left-0 isolate z-50 flex justify-center"),children:s.jsx(YF,{"data-slot":"navigation-menu-viewport",className:ge("origin-top-center bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border shadow md:w-[var(--radix-navigation-menu-viewport-width)]",t),...e})})}function pu({className:t,...e}){return s.jsx(KF,{"data-slot":"navigation-menu-link",className:ge("data-[active=true]:focus:bg-accent data-[active=true]:hover:bg-accent data-[active=true]:bg-accent/50 data-[active=true]:text-accent-foreground hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus-visible:ring-ring/50 [&_svg:not([class*='text-'])]:text-muted-foreground flex flex-col gap-1 rounded-sm p-2 text-sm transition-all outline-none focus-visible:ring-[3px] focus-visible:outline-1 [&_svg:not([class*='size-'])]:size-4",t),...e})}const QF=t=>s.jsx(XF,{...t,children:s.jsxs(WF,{className:"gap-6 space-x-0 data-[orientation=vertical]:flex-col data-[orientation=vertical]:items-start",children:[s.jsx(mu,{children:s.jsx(pu,{asChild:!0,children:s.jsx(Da,{to:"/",className:"text-foreground hover:text-primary transition-colors",children:"Beranda"})})}),s.jsx(mu,{children:s.jsx(pu,{asChild:!0,children:s.jsx(Da,{to:"/about",className:"text-foreground hover:text-primary transition-colors",children:"Tentang"})})}),s.jsx(mu,{children:s.jsx(pu,{asChild:!0,children:s.jsx(Da,{to:"/articles",className:"text-foreground hover:text-primary transition-colors",children:"Artikel"})})}),s.jsx(mu,{children:s.jsx(pu,{asChild:!0,children:s.jsx(Da,{to:"/galleries",className:"text-foreground hover:text-primary transition-colors",children:"Galeri"})})}),s.jsx(mu,{children:s.jsx(pu,{asChild:!0,children:s.jsx(Da,{to:"/schools",className:"text-foreground hover:text-primary transition-colors",children:"Sekolah"})})}),s.jsx(mu,{children:s.jsx(pu,{asChild:!0,children:s.jsx(Da,{to:"/contact",className:"text-foreground hover:text-primary transition-colors",children:"Kontak"})})})]})});function gu({children:t,onClick:e,onNavigate:n,...a}){const i=Mj(),o=c=>{i(),n&&n(),e&&e(c)};return s.jsx(aa,{...a,onClick:o,children:t})}const JF=()=>{const[t,e]=x.useState(!1),n=()=>e(!1);return s.jsxs(x_,{open:t,onOpenChange:e,children:[s.jsx(U9,{asChild:!0,children:s.jsx(pe,{variant:"outline",size:"icon",className:"rounded-full border-border hover:bg-accent hover:text-accent-foreground",children:s.jsx(V_,{className:"text-foreground"})})}),s.jsxs(v_,{side:"left",className:"p-0 w-[16rem] max-w-[80vw]",children:[s.jsxs(b_,{className:"sr-only",children:[s.jsx(y_,{children:"Navigation Menu"}),s.jsx(j_,{children:"Main navigation menu for the application"})]}),s.jsxs("div",{className:"flex h-full flex-col",children:[s.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-border",children:[s.jsx("img",{src:Hs,alt:"Yayasan Baitul Muslim",className:"h-8 w-auto flex-shrink-0"}),s.jsx("span",{className:"text-foreground font-medium",children:"Menu"})]}),s.jsx("div",{className:"flex-1 overflow-hidden min-h-0",children:s.jsxs(O_,{className:"h-full",children:[s.jsx("div",{className:"p-4 pb-2",children:s.jsxs("nav",{className:"space-y-1",children:[s.jsx(gu,{to:"/",className:"flex items-center px-3 py-2 text-sm font-medium rounded-md text-foreground hover:bg-accent hover:text-accent-foreground transition-colors",onNavigate:n,children:"Beranda"}),s.jsx(gu,{to:"/about",className:"flex items-center px-3 py-2 text-sm font-medium rounded-md text-foreground hover:bg-accent hover:text-accent-foreground transition-colors",onNavigate:n,children:"Tentang"}),s.jsx(gu,{to:"/articles",className:"flex items-center px-3 py-2 text-sm font-medium rounded-md text-foreground hover:bg-accent hover:text-accent-foreground transition-colors",onNavigate:n,children:"Artikel"}),s.jsx(gu,{to:"/galleries",className:"flex items-center px-3 py-2 text-sm font-medium rounded-md text-foreground hover:bg-accent hover:text-accent-foreground transition-colors",onNavigate:n,children:"Galeri"}),s.jsx(gu,{to:"/schools",className:"flex items-center px-3 py-2 text-sm font-medium rounded-md text-foreground hover:bg-accent hover:text-accent-foreground transition-colors",onNavigate:n,children:"Sekolah"}),s.jsx(gu,{to:"/contact",className:"flex items-center px-3 py-2 text-sm font-medium rounded-md text-foreground hover:bg-accent hover:text-accent-foreground transition-colors",onNavigate:n,children:"Kontak"})]})}),s.jsx(Ij,{orientation:"vertical"})]})})]})]})]})},eV=()=>s.jsx("nav",{className:"fixed top-6 inset-x-4 h-16 bg-card/95 backdrop-blur-sm border border-border shadow-lg max-w-screen-xl mx-auto rounded-full z-50",children:s.jsxs("div",{className:"h-full flex items-center justify-between mx-auto px-6",children:[s.jsx(Da,{to:"/",children:s.jsx("img",{src:Hs,alt:"Yayasan Baitul Muslim",className:"h-8 w-auto"})}),s.jsx(QF,{className:"hidden md:block"}),s.jsx("div",{className:"flex items-center gap-3",children:s.jsx("div",{className:"md:hidden",children:s.jsx(JF,{})})})]})});var tV="Separator",UE="horizontal",nV=["horizontal","vertical"],MD=x.forwardRef((t,e)=>{const{decorative:n,orientation:a=UE,...i}=t,o=sV(a)?a:UE,u=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return s.jsx(Be.div,{"data-orientation":o,...u,...i,ref:e})});MD.displayName=tV;function sV(t){return nV.includes(t)}var PD=MD;const OD=x.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...a},i)=>s.jsx(PD,{ref:i,decorative:n,orientation:e,className:ge("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...a}));OD.displayName=PD.displayName;const aV=()=>s.jsx("footer",{className:"bg-sidebar border-t border-border",children:s.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-12",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:Hs,alt:"Yayasan Baitul Muslim",className:"h-10 w-auto"}),s.jsx("h3",{className:"font-semibold text-foreground text-lg",children:"Yayasan Baitul Muslim"})]}),s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"Yayasan pendidikan dan dakwah Islam yang menyelenggarakan pendidikan terpadu berkualitas sejak 1993."}),s.jsxs("div",{className:"space-y-3 mt-6",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"Kontak Kami"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(ax,{className:"w-4 h-4 text-primary mt-0.5 flex-shrink-0"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Lokasi: Jalan Batin Kyai, Labuhan Ratu 1",s.jsx("br",{}),"Way Jepara, Lampung Timur, Lampung"]})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(H_,{className:"w-4 h-4 text-primary flex-shrink-0"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Telp: 0852-1972-0205"})]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(ac,{className:"w-4 h-4 text-primary flex-shrink-0"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Email: humasbaitulmuslim.official@gmail.com"})]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"Lokasi Kami"}),s.jsx("div",{className:"aspect-video w-full rounded-lg overflow-hidden border",children:s.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3058.5982747005614!2d105.69910082151554!3d5.165405647055576!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e408b02872137bf%3A0xc56ae07f86b61515!2sYayasan%20Baitul%20Muslim%20Lampung%20Timur!5e1!3m2!1sid!2sid!4v1755648097208!5m2!1sid!2sid",width:"600",height:"450",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Klik peta untuk membuka di Google Maps"})]})]}),s.jsx(OD,{className:"my-8 bg-border"}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," Yayasan Baitul Muslim Lampung Timur. Hak cipta dilindungi."]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(Da,{to:"/contact",className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:"Kontak"})})]})]})});function rV({children:t}){return s.jsxs("div",{className:"min-h-screen flex flex-col",children:[s.jsx(eV,{}),s.jsx("main",{className:"flex-1",children:t||s.jsx(MC,{})}),s.jsx(aV,{})]})}const iV=Ws({email:ct().email("Please enter a valid email address").min(1,"Email is required")});function oV(){var p;const[t,e]=x.useState(!1),[n,a]=x.useState(""),i=_f(),o=ki(),c=rd(),u=js({resolver:ws(iV),defaultValues:{email:((p=c.state)==null?void 0:p.username)||""}});ve.useEffect(()=>{n&&a("")},[u.watch()]);const h=async g=>{e(!0),a("");try{await i(Bh({email:g.email})).unwrap(),o("/callback",{state:{email:g.email}})}catch(v){const y=(v==null?void 0:v.message)||"Terjadi kesalahan saat mengirim email reset password";a(y)}finally{e(!1)}},f=()=>{o("/login")};return s.jsxs("div",{className:"min-h-screen",children:[s.jsxs("div",{className:"hidden lg:flex h-screen",children:[s.jsxs("div",{className:"w-[70%] relative bg-gray-100 dark:bg-gray-900",children:[s.jsx("img",{src:dx,alt:"Background",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/10"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 via-transparent to-transparent"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-black/20"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/30"}),s.jsxs("div",{className:"absolute top-8 left-8 text-white flex items-center space-x-4",children:[s.jsx("img",{src:Hs,alt:"Logo",className:"w-16 h-16 object-contain"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sistem Informasi Yayasan Baitul Muslim Lampung Timur"}),s.jsx("p",{className:"text-white/90 max-w-md",children:"Yayasan pendidikan dan dakwah Islam yang menyelenggarakan pendidikan terpadu berkualitas sejak 1993"})]})]})]}),s.jsx("div",{className:"w-[30%] flex items-center justify-center bg-background p-8",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:Hs,alt:"Logo",className:"w-16 h-16 object-contain"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Lupa Password"}),s.jsx("p",{className:"text-muted-foreground",children:"Masukkan email Anda untuk mendapatkan link reset password"})]})]}),s.jsxs(Ne,{className:"shadow-lg",children:[s.jsxs(lt,{className:"space-y-1",children:[s.jsx(pt,{className:"text-xl",children:"Reset Password"}),s.jsx(cl,{children:"Kami akan mengirimkan link reset password ke email Anda"})]}),s.jsx(Hn,{...u,children:s.jsxs("form",{onSubmit:u.handleSubmit(h),children:[s.jsxs(Se,{className:"space-y-4",children:[n&&s.jsx(Ma,{variant:"destructive",children:s.jsx(Pa,{children:n})}),s.jsx(Ue,{control:u.control,name:"email",render:({field:g})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Email"}),s.jsx(ze,{children:s.jsx(at,{type:"email",placeholder:"Masukkan email",disabled:t,...g})}),s.jsx(Ke,{})]})})]}),s.jsxs(ga,{className:"flex flex-col space-y-4 mt-4",children:[s.jsx(pe,{type:"submit",className:"w-full",disabled:t,children:t?s.jsxs(s.Fragment,{children:[s.jsx(za,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengirim..."]}):"Kirim Link Reset Password"}),s.jsxs(pe,{type:"button",variant:"outline",className:"w-full",onClick:f,disabled:t,children:[s.jsx(rl,{className:"mr-2 h-4 w-4"}),"Kembali ke Login"]})]})]})})]})]})})]}),s.jsx("div",{className:"lg:hidden min-h-screen flex items-center justify-center p-4 bg-background",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:Hs,alt:"Logo",className:"w-16 h-16 object-contain"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Lupa Password"}),s.jsx("p",{className:"text-muted-foreground",children:"Masukkan email Anda untuk mendapatkan link reset password"})]})]}),s.jsxs(Ne,{className:"shadow-lg",children:[s.jsxs(lt,{className:"space-y-1",children:[s.jsx(pt,{className:"text-xl",children:"Reset Password"}),s.jsx(cl,{children:"Kami akan mengirimkan link reset password ke email Anda"})]}),s.jsx(Hn,{...u,children:s.jsxs("form",{onSubmit:u.handleSubmit(h),children:[s.jsxs(Se,{className:"space-y-4",children:[n&&s.jsx(Ma,{variant:"destructive",children:s.jsx(Pa,{children:n})}),s.jsx(Ue,{control:u.control,name:"email",render:({field:g})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Email"}),s.jsx(ze,{children:s.jsx(at,{type:"email",placeholder:"Masukkan email",disabled:t,...g})}),s.jsx(Ke,{})]})})]}),s.jsxs(ga,{className:"flex flex-col space-y-4 mt-4",children:[s.jsx(pe,{type:"submit",className:"w-full",disabled:t,children:t?s.jsxs(s.Fragment,{children:[s.jsx(za,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengirim..."]}):"Kirim Link Reset Password"}),s.jsxs(pe,{type:"button",variant:"outline",className:"w-full",onClick:f,disabled:t,children:[s.jsx(rl,{className:"mr-2 h-4 w-4"}),"Kembali ke Login"]})]})]})})]})]})})]})}function lV(){var v;const t=ki(),e=rd(),n=_f(),[a,i]=x.useState(!1),[o,c]=x.useState(""),[u,h]=x.useState(""),f=((v=e.state)==null?void 0:v.email)||"",p=()=>{t("/login")},g=async()=>{if(!f){t("/forgot-password");return}i(!0),c(""),h("");try{await n(Bh({email:f})).unwrap(),h("Email telah dikirim ulang!")}catch(y){c(y||"Terjadi kesalahan saat mengirim ulang email")}finally{i(!1)}};return s.jsxs("div",{className:"min-h-screen",children:[s.jsxs("div",{className:"hidden lg:flex h-screen",children:[s.jsxs("div",{className:"w-[70%] relative bg-gray-100 dark:bg-gray-900",children:[s.jsx("img",{src:dx,alt:"Background",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/10"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 via-transparent to-transparent"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-black/20"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/30"}),s.jsxs("div",{className:"absolute top-8 left-8 text-white flex items-center space-x-4",children:[s.jsx("img",{src:Hs,alt:"Logo",className:"w-16 h-16 object-contain"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sistem Informasi Yayasan Baitul Muslim Lampung Timur"}),s.jsx("p",{className:"text-white/90 max-w-md",children:"Yayasan pendidikan dan dakwah Islam yang menyelenggarakan pendidikan terpadu berkualitas sejak 1993"})]})]})]}),s.jsx("div",{className:"w-[30%] flex items-center justify-center bg-background p-8",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:Hs,alt:"Logo",className:"w-16 h-16 object-contain"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Email Terkirim!"}),s.jsx("p",{className:"text-muted-foreground",children:"Link reset password telah dikirim ke email Anda"})]})]}),s.jsxs(Ne,{className:"shadow-lg",children:[s.jsxs(lt,{className:"space-y-1",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"rounded-full bg-green-100 p-3",children:s.jsx(Qi,{className:"h-8 w-8 text-green-600"})})}),s.jsx(pt,{className:"text-xl text-center",children:"Email Berhasil Dikirim"}),s.jsx(cl,{className:"text-center",children:"Kami telah mengirimkan link reset password ke email Anda"})]}),s.jsxs(Se,{className:"space-y-4",children:[s.jsxs(Ma,{children:[s.jsx(ac,{className:"h-4 w-4"}),s.jsxs(Pa,{children:["Link reset password telah dikirim ke"," ",s.jsx("span",{className:"font-semibold",children:f})]})]}),o&&s.jsx(Ma,{variant:"destructive",children:s.jsx(Pa,{children:o})}),u&&s.jsxs(Ma,{children:[s.jsx(Qi,{className:"h-4 w-4"}),s.jsx(Pa,{children:u})]}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[s.jsx("p",{children:"Silakan cek email Anda dan klik link yang diberikan untuk reset password."}),s.jsx("p",{children:"Jika Anda tidak menerima email dalam beberapa menit, cek folder spam atau junk mail."})]})]}),s.jsxs(ga,{className:"flex flex-col space-y-4 mt-4",children:[s.jsxs(pe,{type:"button",className:"w-full",onClick:p,children:[s.jsx(rl,{className:"mr-2 h-4 w-4"}),"Kembali ke Login"]}),s.jsx(pe,{type:"button",variant:"outline",className:"w-full",onClick:g,disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(za,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengirim..."]}):"Kirim Ulang Email"})]})]})]})})]}),s.jsx("div",{className:"lg:hidden min-h-screen flex items-center justify-center p-4 bg-background",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:Hs,alt:"Logo",className:"w-16 h-16 object-contain"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Email Terkirim!"}),s.jsx("p",{className:"text-muted-foreground",children:"Link reset password telah dikirim ke email Anda"})]})]}),s.jsxs(Ne,{className:"shadow-lg",children:[s.jsxs(lt,{className:"space-y-1",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"rounded-full bg-green-100 p-3",children:s.jsx(Qi,{className:"h-8 w-8 text-green-600"})})}),s.jsx(pt,{className:"text-xl text-center",children:"Email Berhasil Dikirim"}),s.jsx(cl,{className:"text-center",children:"Kami telah mengirimkan link reset password ke email Anda"})]}),s.jsxs(Se,{className:"space-y-4",children:[s.jsxs(Ma,{children:[s.jsx(ac,{className:"h-4 w-4"}),s.jsxs(Pa,{children:["Link reset password telah dikirim ke"," ",s.jsx("span",{className:"font-semibold",children:f})]})]}),o&&s.jsx(Ma,{variant:"destructive",children:s.jsx(Pa,{children:o})}),u&&s.jsxs(Ma,{children:[s.jsx(Qi,{className:"h-4 w-4"}),s.jsx(Pa,{children:u})]}),s.jsxs("div",{className:"text-sm text-muted-foreground space-y-2",children:[s.jsx("p",{children:"Silakan cek email Anda dan klik link yang diberikan untuk reset password."}),s.jsx("p",{children:"Jika Anda tidak menerima email dalam beberapa menit, cek folder spam atau junk mail."})]})]}),s.jsxs(ga,{className:"flex flex-col space-y-4 mt-4",children:[s.jsxs(pe,{type:"button",className:"w-full",onClick:p,children:[s.jsx(rl,{className:"mr-2 h-4 w-4"}),"Kembali ke Login"]}),s.jsx(pe,{type:"button",variant:"outline",className:"w-full",onClick:g,disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(za,{className:"mr-2 h-4 w-4 animate-spin"}),"Mengirim..."]}):"Kirim Ulang Email"})]})]})]})})]})}const cV=Ws({new_password:ct().min(6,"Password minimal 6 karakter").max(128,"Password maksimal 128 karakter"),confirm_password:ct()}).refine(t=>t.new_password===t.confirm_password,{message:"Password tidak cocok",path:["confirm_password"]});function uV(){const[t,e]=x.useState(!1),[n,a]=x.useState(""),[i,o]=x.useState(!1),[c,u]=x.useState(!1),h=_f(),f=ki(),[p]=Og(),g=p.get("token"),v=js({resolver:ws(cV),defaultValues:{new_password:"",confirm_password:""}});x.useEffect(()=>{g||f("/forgot-password")},[g,f]),ve.useEffect(()=>{n&&a("")},[v.watch()]);const y=async j=>{if(!g){a("Token reset password tidak valid");return}e(!0),a("");try{await h(Vp({token:g,new_password:j.new_password})).unwrap(),f("/login",{state:{message:"Password berhasil direset. Silakan login dengan password baru."}})}catch(k){const S=(k==null?void 0:k.message)||"Terjadi kesalahan saat reset password";a(S)}finally{e(!1)}},w=()=>{f("/login")};return g?s.jsxs("div",{className:"min-h-screen",children:[s.jsxs("div",{className:"hidden lg:flex h-screen",children:[s.jsxs("div",{className:"w-[70%] relative bg-gray-100 dark:bg-gray-900",children:[s.jsx("img",{src:dx,alt:"Background",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/10"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 via-transparent to-transparent"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-black/20"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/30"}),s.jsxs("div",{className:"absolute top-8 left-8 text-white flex items-center space-x-4",children:[s.jsx("img",{src:Hs,alt:"Logo",className:"w-16 h-16 object-contain"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Sistem Informasi Yayasan Baitul Muslim Lampung Timur"}),s.jsx("p",{className:"text-white/90 max-w-md",children:"Yayasan pendidikan dan dakwah Islam yang menyelenggarakan pendidikan terpadu berkualitas sejak 1993"})]})]})]}),s.jsx("div",{className:"w-[30%] flex items-center justify-center bg-background p-8",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:Hs,alt:"Logo",className:"w-16 h-16 object-contain"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Reset Password"}),s.jsx("p",{className:"text-muted-foreground",children:"Masukkan password baru Anda"})]})]}),s.jsxs(Ne,{className:"shadow-lg",children:[s.jsxs(lt,{className:"space-y-1",children:[s.jsx(pt,{className:"text-xl",children:"Password Baru"}),s.jsx(cl,{children:"Masukkan password baru yang aman untuk akun Anda"})]}),s.jsx(Hn,{...v,children:s.jsxs("form",{onSubmit:v.handleSubmit(y),children:[s.jsxs(Se,{className:"space-y-4",children:[n&&s.jsx(Ma,{variant:"destructive",children:s.jsx(Pa,{children:n})}),s.jsx(Ue,{control:v.control,name:"new_password",render:({field:j})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Password Baru"}),s.jsx(ze,{children:s.jsxs("div",{className:"relative",children:[s.jsx(at,{type:i?"text":"password",placeholder:"Masukkan password baru",disabled:t,...j}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>o(!i),disabled:t,children:i?s.jsx(Ji,{className:"h-4 w-4"}):s.jsx(Fs,{className:"h-4 w-4"})})]})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:v.control,name:"confirm_password",render:({field:j})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Konfirmasi Password"}),s.jsx(ze,{children:s.jsxs("div",{className:"relative",children:[s.jsx(at,{type:c?"text":"password",placeholder:"Konfirmasi password baru",disabled:t,...j}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!c),disabled:t,children:c?s.jsx(Ji,{className:"h-4 w-4"}):s.jsx(Fs,{className:"h-4 w-4"})})]})}),s.jsx(Ke,{})]})})]}),s.jsxs(ga,{className:"flex flex-col space-y-4 mt-4",children:[s.jsx(pe,{type:"submit",className:"w-full",disabled:t,children:t?s.jsxs(s.Fragment,{children:[s.jsx(za,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):"Reset Password"}),s.jsxs(pe,{type:"button",variant:"outline",className:"w-full",onClick:w,disabled:t,children:[s.jsx(rl,{className:"mr-2 h-4 w-4"}),"Kembali ke Login"]})]})]})})]})]})})]}),s.jsx("div",{className:"lg:hidden min-h-screen flex items-center justify-center p-4 bg-background",children:s.jsxs("div",{className:"w-full max-w-md space-y-6",children:[s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("img",{src:Hs,alt:"Logo",className:"w-16 h-16 object-contain"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Reset Password"}),s.jsx("p",{className:"text-muted-foreground",children:"Masukkan password baru Anda"})]})]}),s.jsxs(Ne,{className:"shadow-lg",children:[s.jsxs(lt,{className:"space-y-1",children:[s.jsx(pt,{className:"text-xl",children:"Password Baru"}),s.jsx(cl,{children:"Masukkan password baru yang aman untuk akun Anda"})]}),s.jsx(Hn,{...v,children:s.jsxs("form",{onSubmit:v.handleSubmit(y),children:[s.jsxs(Se,{className:"space-y-4",children:[n&&s.jsx(Ma,{variant:"destructive",children:s.jsx(Pa,{children:n})}),s.jsx(Ue,{control:v.control,name:"new_password",render:({field:j})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Password Baru"}),s.jsx(ze,{children:s.jsxs("div",{className:"relative",children:[s.jsx(at,{type:i?"text":"password",placeholder:"Masukkan password baru",disabled:t,...j}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>o(!i),disabled:t,children:i?s.jsx(Ji,{className:"h-4 w-4"}):s.jsx(Fs,{className:"h-4 w-4"})})]})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:v.control,name:"confirm_password",render:({field:j})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Konfirmasi Password"}),s.jsx(ze,{children:s.jsxs("div",{className:"relative",children:[s.jsx(at,{type:c?"text":"password",placeholder:"Konfirmasi password baru",disabled:t,...j}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>u(!c),disabled:t,children:c?s.jsx(Ji,{className:"h-4 w-4"}):s.jsx(Fs,{className:"h-4 w-4"})})]})}),s.jsx(Ke,{})]})})]}),s.jsxs(ga,{className:"flex flex-col space-y-4 mt-4",children:[s.jsx(pe,{type:"submit",className:"w-full",disabled:t,children:t?s.jsxs(s.Fragment,{children:[s.jsx(za,{className:"mr-2 h-4 w-4 animate-spin"}),"Menyimpan..."]}):"Reset Password"}),s.jsxs(pe,{type:"button",variant:"outline",className:"w-full",onClick:w,disabled:t,children:[s.jsx(rl,{className:"mr-2 h-4 w-4"}),"Kembali ke Login"]})]})]})})]})]})})]}):null}function dV({...t}){return s.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...t})}function hV({className:t,...e}){return s.jsx("ol",{"data-slot":"breadcrumb-list",className:ge("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",t),...e})}function fV({className:t,...e}){return s.jsx("li",{"data-slot":"breadcrumb-item",className:ge("inline-flex items-center gap-1.5",t),...e})}function mV({asChild:t,className:e,...n}){const a=t?dj:"a";return s.jsx(a,{"data-slot":"breadcrumb-link",className:ge("hover:text-foreground transition-colors",e),...n})}function pV({className:t,...e}){return s.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:ge("text-foreground font-normal",t),...e})}function gV({children:t,className:e,...n}){return s.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:ge("[&>svg]:size-3.5",e),...n,children:t??s.jsx(p_,{})})}function Ms({title:t,description:e,breadcrumbs:n=[],actions:a,className:i=""}){return s.jsxs("div",{className:`space-y-4 ${i}`,children:[n.length>0&&s.jsx(dV,{children:s.jsx(hV,{children:n.map((o,c)=>s.jsxs(ve.Fragment,{children:[s.jsx(fV,{children:o.current||!o.href?s.jsx(pV,{children:o.label}):s.jsx(mV,{asChild:!0,children:s.jsx(aa,{to:o.href,children:o.label})})}),c<n.length-1&&s.jsx(gV,{})]},c))})}),s.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-start lg:justify-between",children:[s.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[s.jsx("h1",{className:"break-words text-xl font-bold tracking-tight sm:text-2xl lg:text-3xl",children:t}),e&&s.jsx("div",{className:"break-words text-sm text-muted-foreground sm:text-base",children:e})]}),a&&s.jsx("div",{className:"flex w-full flex-wrap items-center gap-2 sm:w-auto [&>div]:flex [&>div]:flex-wrap [&>div]:gap-2",children:a})]})]})}function un({...t}){return s.jsx(Yg,{"data-slot":"dialog",...t})}function LD({...t}){return s.jsx(_j,{"data-slot":"dialog-trigger",...t})}function xV({...t}){return s.jsx(Xg,{"data-slot":"dialog-portal",...t})}function vV({className:t,...e}){return s.jsx(Wg,{"data-slot":"dialog-overlay",className:ge("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function dn({className:t,children:e,...n}){return s.jsxs(xV,{"data-slot":"dialog-portal",children:[s.jsx(vV,{}),s.jsxs(Zg,{"data-slot":"dialog-content",className:ge("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,s.jsxs(Qg,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[s.jsx(g_,{}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function hn({className:t,...e}){return s.jsx("div",{"data-slot":"dialog-header",className:ge("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Js({className:t,...e}){return s.jsx("div",{"data-slot":"dialog-footer",className:ge("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function fn({className:t,...e}){return s.jsx(Rj,{"data-slot":"dialog-title",className:ge("text-lg leading-none font-semibold",t),...e})}function Vf({className:t,...e}){return s.jsx(Dj,{"data-slot":"dialog-description",className:ge("text-muted-foreground text-sm",t),...e})}const bV=Ws({email:ct().email("Format email tidak valid").min(1,"Email wajib diisi"),name:ct().min(1,"Nama wajib diisi").min(2,"Nama minimal 2 karakter"),phone:ct().optional().or(ys("")),address:ct().optional().or(ys("")),position:ct().optional().or(ys(""))}),yV=({open:t,onOpenChange:e,user:n,onSave:a,loading:i=!1})=>{var y,w,j,k;const[o,c]=x.useState(null),[u,h]=x.useState(null),f=js({resolver:ws(bV),defaultValues:{email:n.email||"",name:((y=n.profile)==null?void 0:y.name)||n.display_name||"",phone:((w=n.profile)==null?void 0:w.phone)||"",address:((j=n.profile)==null?void 0:j.address)||"",position:((k=n.profile)==null?void 0:k.position)||""}});x.useEffect(()=>{var S,E,A,T;t&&n&&(f.reset({email:n.email||"",name:((S=n.profile)==null?void 0:S.name)||n.display_name||"",phone:((E=n.profile)==null?void 0:E.phone)||"",address:((A=n.profile)==null?void 0:A.address)||"",position:((T=n.profile)==null?void 0:T.position)||""}),c(null),h(null))},[t,n,f]);const p=S=>{if(S&&S.length>0){const E=S[0];c(E);const A=new FileReader;A.onload=T=>{var _;h((_=T.target)==null?void 0:_.result)},A.readAsDataURL(E)}},g=S=>{const E={email:S.email,profile:{...n.profile,name:S.name,phone:S.phone||void 0,address:S.address||void 0,position:S.position||void 0}};a(E,o||void 0)},v=()=>{var A;const E=(((A=n.profile)==null?void 0:A.name)||n.display_name||"N").split(" ");return E.length>=2?E[0][0]+E[1][0]:E[0][0]};return s.jsx(un,{open:t,onOpenChange:e,children:s.jsxs(dn,{className:"w-[95vw] max-w-2xl max-h-[90vh] flex flex-col",children:[s.jsx(hn,{className:"flex-shrink-0 border-b pb-4",children:s.jsx(fn,{children:"Edit Profil"})}),s.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:s.jsx(Hn,{...f,children:s.jsxs("form",{onSubmit:f.handleSubmit(g),className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col items-center gap-4 mb-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx(If,{className:"w-24 h-24",children:u?s.jsx(rf,{src:u,alt:"Preview"}):n.img_url?s.jsx(rf,{src:gr(n.img_url),alt:n.display_name}):s.jsx(Bf,{className:"text-2xl",children:v()})}),s.jsx(pe,{type:"button",size:"sm",variant:"secondary",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full p-0",onClick:()=>{var S;return(S=document.getElementById("profile-image-upload"))==null?void 0:S.click()},disabled:i,children:s.jsx(gU,{className:"h-4 w-4"})})]}),s.jsx("input",{id:"profile-image-upload",type:"file",accept:"image/*",className:"hidden",onChange:S=>p(S.target.files)}),o&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Foto baru dipilih: ",o.name]})]}),s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx(Ue,{control:f.control,name:"email",render:({field:S})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Email"}),s.jsx(ze,{children:s.jsx(at,{type:"email",placeholder:"Masukkan email",disabled:i,...S})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:f.control,name:"name",render:({field:S})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Nama Lengkap"}),s.jsx(ze,{children:s.jsx(at,{placeholder:"Masukkan nama lengkap",disabled:i,...S})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:f.control,name:"position",render:({field:S})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Posisi/Jabatan"}),s.jsx(ze,{children:s.jsx(at,{placeholder:"Masukkan posisi atau jabatan",disabled:i,...S})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:f.control,name:"phone",render:({field:S})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Nomor Telepon"}),s.jsx(ze,{children:s.jsx(at,{placeholder:"Masukkan nomor telepon",disabled:i,...S})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:f.control,name:"address",render:({field:S})=>s.jsxs($e,{className:"md:col-span-2",children:[s.jsx(Fe,{children:"Alamat"}),s.jsx(ze,{children:s.jsx(at,{placeholder:"Masukkan alamat lengkap",disabled:i,...S})}),s.jsx(Ke,{})]})})]})]})})}),s.jsxs(Js,{className:"flex-shrink-0 border-t pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:i,children:"Batal"}),s.jsx(pe,{onClick:f.handleSubmit(g),disabled:i,children:i?"Menyimpan...":"Simpan Perubahan"})]})]})})},ID=({seconds:t=5,onStart:e,onComplete:n}={})=>{const{logout:a}=fr(),i=x.useRef(null),o=()=>{i.current&&clearTimeout(i.current),e==null||e(),i.current=setTimeout(async()=>{try{await a(),n==null||n()}catch(u){console.error("Auto logout error:",u)}},t*1e3)},c=()=>{i.current&&clearTimeout(i.current)};return x.useEffect(()=>()=>{c()},[]),{startCountdown:o,cancelCountdown:c}},jV=Ws({current_password:ct().min(1,"Password saat ini wajib diisi"),new_password:ct().min(6,"Password baru minimal 6 karakter").max(128,"Password baru maksimal 128 karakter"),confirm_password:ct().min(1,"Konfirmasi password wajib diisi")}).refine(t=>t.new_password===t.confirm_password,{message:"Konfirmasi password tidak cocok",path:["confirm_password"]}),wV=({open:t,onOpenChange:e,onSave:n,loading:a})=>{const{toast:i}=Lt(),[o,c]=x.useState(!1),u=_f(),h=o||a,{startCountdown:f}=ID({seconds:5,reason:"Password telah berubah, sistem akan logout untuk keamanan."}),[p,g]=x.useState(!1),[v,y]=x.useState(!1),[w,j]=x.useState(!1),k=js({resolver:ws(jV),defaultValues:{current_password:"",new_password:"",confirm_password:""}}),S=k.watch("new_password"),E=M=>[{regex:/.{6,}/,label:"Minimal 6 karakter"},{regex:/^.{1,128}$/,label:"Maksimal 128 karakter"}].map(O=>({...O,met:O.regex.test(M)})),A=async M=>{c(!0);try{await u(zh({current_password:M.current_password,new_password:M.new_password})).unwrap(),n(),i({title:"Password berhasil diubah",description:"Anda akan logout otomatis dalam 5 detik untuk keamanan.",variant:"default"}),k.reset(),e(!1),f()}catch(P){console.error("Error changing password:",P),i({title:"Gagal mengubah password",description:P||"Terjadi kesalahan saat mengubah password",variant:"destructive"})}finally{c(!1)}},T=()=>{h||(k.reset(),e(!1))},_=E(S||"");return s.jsx(un,{open:t,onOpenChange:e,children:s.jsxs(dn,{className:"max-w-md",children:[s.jsx(hn,{children:s.jsxs(fn,{className:"flex items-center gap-2",children:[s.jsx(F_,{className:"w-5 h-5"}),"Ganti Password"]})}),s.jsx(Hn,{...k,children:s.jsxs("form",{onSubmit:k.handleSubmit(A),className:"space-y-4",children:[s.jsx(Ue,{control:k.control,name:"current_password",render:({field:M})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Password Saat Ini"}),s.jsx(ze,{children:s.jsxs("div",{className:"relative",children:[s.jsx(at,{type:p?"text":"password",placeholder:"Masukkan password saat ini",disabled:h,...M}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>g(!p),disabled:h,children:p?s.jsx(Ji,{className:"h-4 w-4"}):s.jsx(Fs,{className:"h-4 w-4"})})]})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:k.control,name:"new_password",render:({field:M})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Password Baru"}),s.jsx(ze,{children:s.jsxs("div",{className:"relative",children:[s.jsx(at,{type:v?"text":"password",placeholder:"Masukkan password baru",disabled:h,...M}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>y(!v),disabled:h,children:v?s.jsx(Ji,{className:"h-4 w-4"}):s.jsx(Fs,{className:"h-4 w-4"})})]})}),s.jsx(Ke,{})]})}),S&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Syarat Password:"}),s.jsx("div",{className:"space-y-1",children:_.map((M,P)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Qi,{className:`w-3 h-3 ${M.met?"text-green-500":"text-gray-300"}`}),s.jsx("span",{className:`text-xs ${M.met?"text-green-600":"text-gray-500"}`,children:M.label})]},P))})]}),s.jsx(Ue,{control:k.control,name:"confirm_password",render:({field:M})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Konfirmasi Password Baru"}),s.jsx(ze,{children:s.jsxs("div",{className:"relative",children:[s.jsx(at,{type:w?"text":"password",placeholder:"Konfirmasi password baru",disabled:h,...M}),s.jsx(pe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>j(!w),disabled:h,children:w?s.jsx(Ji,{className:"h-4 w-4"}):s.jsx(Fs,{className:"h-4 w-4"})})]})}),s.jsx(Ke,{})]})}),s.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-sm text-blue-800 font-medium mb-1",children:"Tips Keamanan:"}),s.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[s.jsx("li",{children:" Gunakan password yang sulit ditebak"}),s.jsx("li",{children:" Jangan gunakan informasi pribadi yang mudah ditebak"}),s.jsx("li",{children:" Ganti password secara berkala"}),s.jsx("li",{children:" Jangan bagikan password kepada siapa pun"})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:T,disabled:h,children:"Batal"}),s.jsx(pe,{type:"submit",disabled:h,children:h?"Mengubah...":"Ubah Password"})]})]})})]})})},NV={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},SV=(t,e,n)=>{let a;const i=NV[t];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dalam waktu "+a:a+" yang lalu":a},kV={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},EV={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},AV={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},CV={date:Mb({formats:kV,defaultWidth:"full"}),time:Mb({formats:EV,defaultWidth:"full"}),dateTime:Mb({formats:AV,defaultWidth:"full"})},TV={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},_V=(t,e,n,a)=>TV[t],RV={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},DV={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},MV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},PV={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},OV={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},LV={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},IV=(t,e)=>"ke-"+Number(t),BV={ordinalNumber:IV,era:ph({values:RV,defaultWidth:"wide"}),quarter:ph({values:DV,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ph({values:MV,defaultWidth:"wide"}),day:ph({values:PV,defaultWidth:"wide"}),dayPeriod:ph({values:OV,defaultWidth:"wide",formattingValues:LV,defaultFormattingWidth:"wide"})},zV=/^ke-(\d+)?/i,UV=/\d+/i,$V={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},FV={any:[/^s/i,/^(m|e)/i]},VV={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},qV={any:[/1/i,/2/i,/3/i,/4/i]},HV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},GV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},KV={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},YV={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},XV={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},WV={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},ZV={ordinalNumber:l6({matchPattern:zV,parsePattern:UV,valueCallback:t=>parseInt(t,10)}),era:gh({matchPatterns:$V,defaultMatchWidth:"wide",parsePatterns:FV,defaultParseWidth:"any"}),quarter:gh({matchPatterns:VV,defaultMatchWidth:"wide",parsePatterns:qV,defaultParseWidth:"any",valueCallback:t=>t+1}),month:gh({matchPatterns:HV,defaultMatchWidth:"wide",parsePatterns:GV,defaultParseWidth:"any"}),day:gh({matchPatterns:KV,defaultMatchWidth:"wide",parsePatterns:YV,defaultParseWidth:"any"}),dayPeriod:gh({matchPatterns:XV,defaultMatchWidth:"any",parsePatterns:WV,defaultParseWidth:"any"})},yn={code:"id",formatDistance:SV,formatLong:CV,formatRelative:_V,localize:BV,match:ZV,options:{weekStartsOn:1,firstWeekContainsDate:1}},QV=()=>{var E,A,T;const t=Ej(),e=Xo(CB),n=Xo(TB),{toast:a}=Lt(),[i,o]=x.useState(!1),[c,u]=x.useState(!1),{startCountdown:h}=ID({seconds:5,reason:"Email telah berubah, sistem akan logout untuk keamanan."});if(!e)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Data pengguna tidak ditemukan"}),s.jsx("p",{className:"text-muted-foreground",children:"Silakan login kembali."})]})});const f=()=>{var _;return((_=e.profile)==null?void 0:_.name)||e.display_name||e.full_name||"N/A"},p=()=>Eu[e.role]||e.role||"N/A",g=()=>{const M=f().split(" ");return M.length>=2?M[0][0]+M[1][0]:M[0][0]},v=_=>vn(new Date(_),"dd MMMM yyyy",{locale:yn}),y=_=>vn(new Date(_),"dd MMMM yyyy, HH:mm",{locale:yn}),w=()=>{o(!0)},j=()=>{u(!0)},k=async(_,M)=>{var O;if(!e)return;const P=_.email&&_.email.trim()!==((O=e.email)==null?void 0:O.trim());try{if(M){const H=new FormData;H.append("data",JSON.stringify(_)),H.append("image",M),await t(Ih({formData:H})).unwrap()}else await t(Ih(_)).unwrap();P?(a({title:"Email berhasil diperbarui",description:"Anda akan logout otomatis dalam 5 detik untuk keamanan.",variant:"default"}),o(!1),h()):(a({title:"Profil berhasil diperbarui",description:"Data profil Anda telah diperbarui.",variant:"default"}),o(!1))}catch(H){const Y=(H==null?void 0:H.message)||"Terjadi kesalahan saat memperbarui profil.";a({title:"Gagal memperbarui profil",description:Y,variant:"destructive"})}},S=()=>{u(!1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ms,{title:"Profil Saya",description:"Kelola informasi profil dan keamanan akun Anda",actions:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(pe,{variant:"outline",onClick:w,children:[s.jsx(Wo,{className:"w-4 h-4 mr-2"}),"Edit Profil"]}),s.jsxs(pe,{onClick:j,children:[s.jsx(F_,{className:"w-4 h-4 mr-2"}),"Ganti Password"]})]})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(Ne,{className:"lg:col-span-1",children:[s.jsxs(lt,{className:"text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(If,{className:"w-24 h-24",children:e.img_url?s.jsx(rf,{src:gr(e.img_url),alt:e.display_name}):s.jsx(Bf,{className:"text-2xl",children:g()})})}),s.jsx(pt,{className:"text-xl",children:f()})]}),s.jsx(Se,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ac,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:e.email||"Tidak ada email"})]}),((E=e.profile)==null?void 0:E.phone)&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(UU,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:e.profile.phone})]}),((A=e.profile)==null?void 0:A.position)&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ll,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:e.profile.position})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(u7,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:p()})]}),e.organization_name&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ol,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm",children:e.organization_name})]})]})})]}),s.jsxs(Ne,{className:"lg:col-span-2",children:[s.jsx(lt,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(ll,{className:"w-5 h-5"}),"Informasi Detail"]})}),s.jsx(Se,{children:s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wider",children:"Informasi Personal"}),s.jsxs("div",{className:"space-y-3",children:[((T=e.profile)==null?void 0:T.address)&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Alamat"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.profile.address})]}),e.organization_name&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Organisasi"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.organization_name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Tanggal Akun dibuat"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:v(e.created_at)})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-medium text-sm text-muted-foreground uppercase tracking-wider",children:"Informasi Sistem"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Peran"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:p()})]}),e.last_login_at&&s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Login Terakhir"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:y(e.last_login_at)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Data Terakhir Diupdate"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.updated_at?y(e.updated_at):y(e.created_at)})]})]})]})]})})]})]}),s.jsx(yV,{open:i,onOpenChange:o,user:e,onSave:k,loading:n}),s.jsx(wV,{open:c,onOpenChange:u,onSave:S,loading:n})]})};var JV=[" ","Enter","ArrowUp","ArrowDown"],eq=[" ","Enter"],ic="Select",[hx,fx,tq]=zf(ic),[hd,ple]=Zs(ic,[tq,pl]),mx=pl(),[nq,gl]=hd(ic),[sq,aq]=hd(ic),BD=t=>{const{__scopeSelect:e,children:n,open:a,defaultOpen:i,onOpenChange:o,value:c,defaultValue:u,onValueChange:h,dir:f,name:p,autoComplete:g,disabled:v,required:y,form:w}=t,j=mx(e),[k,S]=x.useState(null),[E,A]=x.useState(null),[T,_]=x.useState(!1),M=Lf(f),[P,O]=zr({prop:a,defaultProp:i??!1,onChange:o,caller:ic}),[H,Y]=zr({prop:c,defaultProp:u,onChange:h,caller:ic}),R=x.useRef(null),X=k?w||!!k.closest("form"):!0,[z,Q]=x.useState(new Set),ne=Array.from(z).map(L=>L.props.value).join(";");return s.jsx(wj,{...j,children:s.jsxs(nq,{required:y,scope:e,trigger:k,onTriggerChange:S,valueNode:E,onValueNodeChange:A,valueNodeHasChildren:T,onValueNodeHasChildrenChange:_,contentId:ls(),value:H,onValueChange:Y,open:P,onOpenChange:O,dir:M,triggerPointerDownPosRef:R,disabled:v,children:[s.jsx(hx.Provider,{scope:e,children:s.jsx(sq,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(L=>{Q(F=>new Set(F).add(L))},[]),onNativeOptionRemove:x.useCallback(L=>{Q(F=>{const V=new Set(F);return V.delete(L),V})},[]),children:n})}),X?s.jsxs(l4,{"aria-hidden":!0,required:y,tabIndex:-1,name:p,autoComplete:g,value:H,onChange:L=>Y(L.target.value),disabled:v,form:w,children:[H===void 0?s.jsx("option",{value:""}):null,Array.from(z)]},ne):null]})})};BD.displayName=ic;var zD="SelectTrigger",UD=x.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:a=!1,...i}=t,o=mx(n),c=gl(zD,n),u=c.disabled||a,h=ht(e,c.onTriggerChange),f=fx(n),p=x.useRef("touch"),[g,v,y]=u4(j=>{const k=f().filter(A=>!A.disabled),S=k.find(A=>A.value===c.value),E=d4(k,j,S);E!==void 0&&c.onValueChange(E.value)}),w=j=>{u||(c.onOpenChange(!0),y()),j&&(c.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return s.jsx(Df,{asChild:!0,...o,children:s.jsx(Be.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":c4(c.value)?"":void 0,...i,ref:h,onClick:Ce(i.onClick,j=>{j.currentTarget.focus(),p.current!=="mouse"&&w(j)}),onPointerDown:Ce(i.onPointerDown,j=>{p.current=j.pointerType;const k=j.target;k.hasPointerCapture(j.pointerId)&&k.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(w(j),j.preventDefault())}),onKeyDown:Ce(i.onKeyDown,j=>{const k=g.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&v(j.key),!(k&&j.key===" ")&&JV.includes(j.key)&&(w(),j.preventDefault())})})})});UD.displayName=zD;var $D="SelectValue",FD=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:a,style:i,children:o,placeholder:c="",...u}=t,h=gl($D,n),{onValueNodeHasChildrenChange:f}=h,p=o!==void 0,g=ht(e,h.onValueNodeChange);return bn(()=>{f(p)},[f,p]),s.jsx(Be.span,{...u,ref:g,style:{pointerEvents:"none"},children:c4(h.value)?s.jsx(s.Fragment,{children:c}):o})});FD.displayName=$D;var rq="SelectIcon",VD=x.forwardRef((t,e)=>{const{__scopeSelect:n,children:a,...i}=t;return s.jsx(Be.span,{"aria-hidden":!0,...i,ref:e,children:a||""})});VD.displayName=rq;var iq="SelectPortal",qD=t=>s.jsx(ld,{asChild:!0,...t});qD.displayName=iq;var oc="SelectContent",HD=x.forwardRef((t,e)=>{const n=gl(oc,t.__scopeSelect),[a,i]=x.useState();if(bn(()=>{i(new DocumentFragment)},[]),!n.open){const o=a;return o?Zi.createPortal(s.jsx(GD,{scope:t.__scopeSelect,children:s.jsx(hx.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),o):null}return s.jsx(KD,{...t,ref:e})});HD.displayName=oc;var Tr=10,[GD,xl]=hd(oc),oq="SelectContentImpl",lq=tl("SelectContent.RemoveScroll"),KD=x.forwardRef((t,e)=>{const{__scopeSelect:n,position:a="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:c,side:u,sideOffset:h,align:f,alignOffset:p,arrowPadding:g,collisionBoundary:v,collisionPadding:y,sticky:w,hideWhenDetached:j,avoidCollisions:k,...S}=t,E=gl(oc,n),[A,T]=x.useState(null),[_,M]=x.useState(null),P=ht(e,te=>T(te)),[O,H]=x.useState(null),[Y,R]=x.useState(null),X=fx(n),[z,Q]=x.useState(!1),ne=x.useRef(!1);x.useEffect(()=>{if(A)return Gg(A)},[A]),qg();const L=x.useCallback(te=>{const[ie,...de]=X().map(ce=>ce.ref.current),[re]=de.slice(-1),he=document.activeElement;for(const ce of te)if(ce===he||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===ie&&_&&(_.scrollTop=0),ce===re&&_&&(_.scrollTop=_.scrollHeight),ce==null||ce.focus(),document.activeElement!==he))return},[X,_]),F=x.useCallback(()=>L([O,A]),[L,O,A]);x.useEffect(()=>{z&&F()},[z,F]);const{onOpenChange:V,triggerPointerDownPosRef:K}=E;x.useEffect(()=>{if(A){let te={x:0,y:0};const ie=re=>{var he,ce;te={x:Math.abs(Math.round(re.pageX)-(((he=K.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(re.pageY)-(((ce=K.current)==null?void 0:ce.y)??0))}},de=re=>{te.x<=10&&te.y<=10?re.preventDefault():A.contains(re.target)||V(!1),document.removeEventListener("pointermove",ie),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",ie),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ie),document.removeEventListener("pointerup",de,{capture:!0})}}},[A,V,K]),x.useEffect(()=>{const te=()=>V(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[V]);const[ae,G]=u4(te=>{const ie=X().filter(he=>!he.disabled),de=ie.find(he=>he.ref.current===document.activeElement),re=d4(ie,te,de);re&&setTimeout(()=>re.ref.current.focus())}),B=x.useCallback((te,ie,de)=>{const re=!ne.current&&!de;(E.value!==void 0&&E.value===ie||re)&&(H(te),re&&(ne.current=!0))},[E.value]),W=x.useCallback(()=>A==null?void 0:A.focus(),[A]),$=x.useCallback((te,ie,de)=>{const re=!ne.current&&!de;(E.value!==void 0&&E.value===ie||re)&&R(te)},[E.value]),q=a==="popper"?r0:YD,ee=q===r0?{side:u,sideOffset:h,align:f,alignOffset:p,arrowPadding:g,collisionBoundary:v,collisionPadding:y,sticky:w,hideWhenDetached:j,avoidCollisions:k}:{};return s.jsx(GD,{scope:n,content:A,viewport:_,onViewportChange:M,itemRefCallback:B,selectedItem:O,onItemLeave:W,itemTextRefCallback:$,focusSelectedItem:F,selectedItemText:Y,position:a,isPositioned:z,searchRef:ae,children:s.jsx(Of,{as:lq,allowPinchZoom:!0,children:s.jsx(Pf,{asChild:!0,trapped:E.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:Ce(i,te=>{var ie;(ie=E.trigger)==null||ie.focus({preventScroll:!0}),te.preventDefault()}),children:s.jsx(fc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:s.jsx(q,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:te=>te.preventDefault(),...S,...ee,onPlaced:()=>Q(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Ce(S.onKeyDown,te=>{const ie=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!ie&&te.key.length===1&&G(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let re=X().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(te.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const he=te.target,ce=re.indexOf(he);re=re.slice(ce+1)}setTimeout(()=>L(re)),te.preventDefault()}})})})})})})});KD.displayName=oq;var cq="SelectItemAlignedPosition",YD=x.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:a,...i}=t,o=gl(oc,n),c=xl(oc,n),[u,h]=x.useState(null),[f,p]=x.useState(null),g=ht(e,P=>p(P)),v=fx(n),y=x.useRef(!1),w=x.useRef(!0),{viewport:j,selectedItem:k,selectedItemText:S,focusSelectedItem:E}=c,A=x.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&f&&j&&k&&S){const P=o.trigger.getBoundingClientRect(),O=f.getBoundingClientRect(),H=o.valueNode.getBoundingClientRect(),Y=S.getBoundingClientRect();if(o.dir!=="rtl"){const he=Y.left-O.left,ce=H.left-he,Ee=P.left-ce,be=P.width+Ee,De=Math.max(be,O.width),Te=window.innerWidth-Tr,Oe=Xy(ce,[Tr,Math.max(Tr,Te-De)]);u.style.minWidth=be+"px",u.style.left=Oe+"px"}else{const he=O.right-Y.right,ce=window.innerWidth-H.right-he,Ee=window.innerWidth-P.right-ce,be=P.width+Ee,De=Math.max(be,O.width),Te=window.innerWidth-Tr,Oe=Xy(ce,[Tr,Math.max(Tr,Te-De)]);u.style.minWidth=be+"px",u.style.right=Oe+"px"}const R=v(),X=window.innerHeight-Tr*2,z=j.scrollHeight,Q=window.getComputedStyle(f),ne=parseInt(Q.borderTopWidth,10),L=parseInt(Q.paddingTop,10),F=parseInt(Q.borderBottomWidth,10),V=parseInt(Q.paddingBottom,10),K=ne+L+z+V+F,ae=Math.min(k.offsetHeight*5,K),G=window.getComputedStyle(j),B=parseInt(G.paddingTop,10),W=parseInt(G.paddingBottom,10),$=P.top+P.height/2-Tr,q=X-$,ee=k.offsetHeight/2,te=k.offsetTop+ee,ie=ne+L+te,de=K-ie;if(ie<=$){const he=R.length>0&&k===R[R.length-1].ref.current;u.style.bottom="0px";const ce=f.clientHeight-j.offsetTop-j.offsetHeight,Ee=Math.max(q,ee+(he?W:0)+ce+F),be=ie+Ee;u.style.height=be+"px"}else{const he=R.length>0&&k===R[0].ref.current;u.style.top="0px";const Ee=Math.max($,ne+j.offsetTop+(he?B:0)+ee)+de;u.style.height=Ee+"px",j.scrollTop=ie-$+j.offsetTop}u.style.margin=`${Tr}px 0`,u.style.minHeight=ae+"px",u.style.maxHeight=X+"px",a==null||a(),requestAnimationFrame(()=>y.current=!0)}},[v,o.trigger,o.valueNode,u,f,j,k,S,o.dir,a]);bn(()=>A(),[A]);const[T,_]=x.useState();bn(()=>{f&&_(window.getComputedStyle(f).zIndex)},[f]);const M=x.useCallback(P=>{P&&w.current===!0&&(A(),E==null||E(),w.current=!1)},[A,E]);return s.jsx(dq,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:y,onScrollButtonChange:M,children:s.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:s.jsx(Be.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});YD.displayName=cq;var uq="SelectPopperPosition",r0=x.forwardRef((t,e)=>{const{__scopeSelect:n,align:a="start",collisionPadding:i=Tr,...o}=t,c=mx(n);return s.jsx($g,{...c,...o,ref:e,align:a,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});r0.displayName=uq;var[dq,r1]=hd(oc,{}),i0="SelectViewport",XD=x.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:a,...i}=t,o=xl(i0,n),c=r1(i0,n),u=ht(e,o.onViewportChange),h=x.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(hx.Slot,{scope:n,children:s.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ce(i.onScroll,f=>{const p=f.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:v}=c;if(v!=null&&v.current&&g){const y=Math.abs(h.current-p.scrollTop);if(y>0){const w=window.innerHeight-Tr*2,j=parseFloat(g.style.minHeight),k=parseFloat(g.style.height),S=Math.max(j,k);if(S<w){const E=S+y,A=Math.min(w,E),T=E-A;g.style.height=A+"px",g.style.bottom==="0px"&&(p.scrollTop=T>0?T:0,g.style.justifyContent="flex-end")}}}h.current=p.scrollTop})})})]})});XD.displayName=i0;var WD="SelectGroup",[hq,fq]=hd(WD),mq=x.forwardRef((t,e)=>{const{__scopeSelect:n,...a}=t,i=ls();return s.jsx(hq,{scope:n,id:i,children:s.jsx(Be.div,{role:"group","aria-labelledby":i,...a,ref:e})})});mq.displayName=WD;var ZD="SelectLabel",QD=x.forwardRef((t,e)=>{const{__scopeSelect:n,...a}=t,i=fq(ZD,n);return s.jsx(Be.div,{id:i.id,...a,ref:e})});QD.displayName=ZD;var vg="SelectItem",[pq,JD]=hd(vg),e4=x.forwardRef((t,e)=>{const{__scopeSelect:n,value:a,disabled:i=!1,textValue:o,...c}=t,u=gl(vg,n),h=xl(vg,n),f=u.value===a,[p,g]=x.useState(o??""),[v,y]=x.useState(!1),w=ht(e,E=>{var A;return(A=h.itemRefCallback)==null?void 0:A.call(h,E,a,i)}),j=ls(),k=x.useRef("touch"),S=()=>{i||(u.onValueChange(a),u.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(pq,{scope:n,value:a,disabled:i,textId:j,isSelected:f,onItemTextChange:x.useCallback(E=>{g(A=>A||((E==null?void 0:E.textContent)??"").trim())},[]),children:s.jsx(hx.ItemSlot,{scope:n,value:a,disabled:i,textValue:p,children:s.jsx(Be.div,{role:"option","aria-labelledby":j,"data-highlighted":v?"":void 0,"aria-selected":f&&v,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...c,ref:w,onFocus:Ce(c.onFocus,()=>y(!0)),onBlur:Ce(c.onBlur,()=>y(!1)),onClick:Ce(c.onClick,()=>{k.current!=="mouse"&&S()}),onPointerUp:Ce(c.onPointerUp,()=>{k.current==="mouse"&&S()}),onPointerDown:Ce(c.onPointerDown,E=>{k.current=E.pointerType}),onPointerMove:Ce(c.onPointerMove,E=>{var A;k.current=E.pointerType,i?(A=h.onItemLeave)==null||A.call(h):k.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ce(c.onPointerLeave,E=>{var A;E.currentTarget===document.activeElement&&((A=h.onItemLeave)==null||A.call(h))}),onKeyDown:Ce(c.onKeyDown,E=>{var T;((T=h.searchRef)==null?void 0:T.current)!==""&&E.key===" "||(eq.includes(E.key)&&S(),E.key===" "&&E.preventDefault())})})})})});e4.displayName=vg;var Ah="SelectItemText",t4=x.forwardRef((t,e)=>{const{__scopeSelect:n,className:a,style:i,...o}=t,c=gl(Ah,n),u=xl(Ah,n),h=JD(Ah,n),f=aq(Ah,n),[p,g]=x.useState(null),v=ht(e,S=>g(S),h.onItemTextChange,S=>{var E;return(E=u.itemTextRefCallback)==null?void 0:E.call(u,S,h.value,h.disabled)}),y=p==null?void 0:p.textContent,w=x.useMemo(()=>s.jsx("option",{value:h.value,disabled:h.disabled,children:y},h.value),[h.disabled,h.value,y]),{onNativeOptionAdd:j,onNativeOptionRemove:k}=f;return bn(()=>(j(w),()=>k(w)),[j,k,w]),s.jsxs(s.Fragment,{children:[s.jsx(Be.span,{id:h.textId,...o,ref:v}),h.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Zi.createPortal(o.children,c.valueNode):null]})});t4.displayName=Ah;var n4="SelectItemIndicator",s4=x.forwardRef((t,e)=>{const{__scopeSelect:n,...a}=t;return JD(n4,n).isSelected?s.jsx(Be.span,{"aria-hidden":!0,...a,ref:e}):null});s4.displayName=n4;var o0="SelectScrollUpButton",a4=x.forwardRef((t,e)=>{const n=xl(o0,t.__scopeSelect),a=r1(o0,t.__scopeSelect),[i,o]=x.useState(!1),c=ht(e,a.onScrollButtonChange);return bn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=h.scrollTop>0;o(f)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?s.jsx(i4,{...t,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});a4.displayName=o0;var l0="SelectScrollDownButton",r4=x.forwardRef((t,e)=>{const n=xl(l0,t.__scopeSelect),a=r1(l0,t.__scopeSelect),[i,o]=x.useState(!1),c=ht(e,a.onScrollButtonChange);return bn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=h.scrollHeight-h.clientHeight,p=Math.ceil(h.scrollTop)<f;o(p)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?s.jsx(i4,{...t,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});r4.displayName=l0;var i4=x.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:a,...i}=t,o=xl("SelectScrollButton",n),c=x.useRef(null),u=fx(n),h=x.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return x.useEffect(()=>()=>h(),[h]),bn(()=>{var p;const f=u().find(g=>g.ref.current===document.activeElement);(p=f==null?void 0:f.ref.current)==null||p.scrollIntoView({block:"nearest"})},[u]),s.jsx(Be.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ce(i.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(a,50))}),onPointerMove:Ce(i.onPointerMove,()=>{var f;(f=o.onItemLeave)==null||f.call(o),c.current===null&&(c.current=window.setInterval(a,50))}),onPointerLeave:Ce(i.onPointerLeave,()=>{h()})})}),gq="SelectSeparator",o4=x.forwardRef((t,e)=>{const{__scopeSelect:n,...a}=t;return s.jsx(Be.div,{"aria-hidden":!0,...a,ref:e})});o4.displayName=gq;var c0="SelectArrow",xq=x.forwardRef((t,e)=>{const{__scopeSelect:n,...a}=t,i=mx(n),o=gl(c0,n),c=xl(c0,n);return o.open&&c.position==="popper"?s.jsx(Fg,{...i,...a,ref:e}):null});xq.displayName=c0;var vq="SelectBubbleInput",l4=x.forwardRef(({__scopeSelect:t,value:e,...n},a)=>{const i=x.useRef(null),o=ht(a,i),c=cx(e);return x.useEffect(()=>{const u=i.current;if(!u)return;const h=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==e&&p){const g=new Event("change",{bubbles:!0});p.call(u,e),u.dispatchEvent(g)}},[c,e]),s.jsx(Be.select,{...n,style:{...mT,...n.style},ref:o,defaultValue:e})});l4.displayName=vq;function c4(t){return t===""||t===void 0}function u4(t){const e=pn(t),n=x.useRef(""),a=x.useRef(0),i=x.useCallback(c=>{const u=n.current+c;e(u),function h(f){n.current=f,window.clearTimeout(a.current),f!==""&&(a.current=window.setTimeout(()=>h(""),1e3))}(u)},[e]),o=x.useCallback(()=>{n.current="",window.clearTimeout(a.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(a.current),[]),[n,i,o]}function d4(t,e,n){const i=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let c=bq(t,Math.max(o,0));i.length===1&&(c=c.filter(f=>f!==n));const h=c.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return h!==n?h:void 0}function bq(t,e){return t.map((n,a)=>t[(e+a)%t.length])}var yq=BD,h4=UD,jq=FD,wq=VD,Nq=qD,f4=HD,Sq=XD,m4=QD,p4=e4,kq=t4,Eq=s4,g4=a4,x4=r4,v4=o4;const zt=yq,Ut=jq,Pt=x.forwardRef(({className:t,children:e,...n},a)=>s.jsxs(h4,{ref:a,className:ge("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,s.jsx(wq,{asChild:!0,children:s.jsx(m_,{className:"h-4 w-4 opacity-50"})})]}));Pt.displayName=h4.displayName;const b4=x.forwardRef(({className:t,...e},n)=>s.jsx(g4,{ref:n,className:ge("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(R9,{className:"h-4 w-4"})}));b4.displayName=g4.displayName;const y4=x.forwardRef(({className:t,...e},n)=>s.jsx(x4,{ref:n,className:ge("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(m_,{className:"h-4 w-4"})}));y4.displayName=x4.displayName;const Ot=x.forwardRef(({className:t,children:e,position:n="popper",...a},i)=>s.jsx(Nq,{children:s.jsxs(f4,{ref:i,className:ge("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...a,children:[s.jsx(b4,{}),s.jsx(Sq,{className:ge("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(y4,{})]})}));Ot.displayName=f4.displayName;const Aq=x.forwardRef(({className:t,...e},n)=>s.jsx(m4,{ref:n,className:ge("px-2 py-1.5 text-sm font-semibold",t),...e}));Aq.displayName=m4.displayName;const Ie=x.forwardRef(({className:t,children:e,...n},a)=>s.jsxs(p4,{ref:a,className:ge("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Eq,{children:s.jsx(Jg,{className:"h-4 w-4"})})}),s.jsx(kq,{children:e})]}));Ie.displayName=p4.displayName;const Cq=x.forwardRef(({className:t,...e},n)=>s.jsx(v4,{ref:n,className:ge("-mx-1 my-1 h-px bg-muted",t),...e}));Cq.displayName=v4.displayName;const Tq=nx("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Mt({className:t,variant:e,...n}){return s.jsx("div",{className:ge(Tq({variant:e}),t),...n})}class _q extends Qs{constructor(){super("/organizations")}async getOrganizations(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/?${n.toString()}`:"/";return this.get(a)}async createOrganization(e,n){const a=new FormData;return a.append("data",JSON.stringify(e)),n&&a.append("image",n),this.post("/",a,{headers:{"Content-Type":"multipart/form-data"}})}async getOrganizationById(e){return this.get(`/${e}`)}async updateOrganization(e,n,a){const i=new FormData;return i.append("data",JSON.stringify(n)),a&&i.append("image",a),this.put(`/${e}`,i,{headers:{"Content-Type":"multipart/form-data"}})}async deleteOrganization(e){return this.delete(`/${e}`)}}const Pr=new _q;class Rq extends Qs{constructor(){super("/periods")}async getPeriods(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/?${n.toString()}`:"/";return this.get(a)}async createPeriod(e){return this.post("/",e)}async getPeriodById(e){return this.get(`/${e}`)}async getPeriodStats(e){return this.get(`/${e}/stats`)}async updatePeriod(e,n){return this.put(`/${e}`,n)}async activatePeriod(e){return this.patch(`/${e}/activate`)}async deactivatePeriod(e){return this.patch(`/${e}/deactivate`)}async deletePeriod(e){return this.delete(`/${e}`)}async getCurrentPeriods(){return this.get("/current")}async getActivePeriod(){return this.get("/active")}}const Nn=new Rq;class Dq extends Qs{constructor(){super("/evaluation-aspects")}async getEvaluationAspects(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`?${n.toString()}`:"";return this.get(a)}async getComprehensiveAnalytics(){return this.get("/analytics")}async createCategory(e){return this.post("/categories",e)}async updateCategory(e,n){return this.put(`/categories/${e}`,n)}async deleteCategory(e){return this.delete(`/categories/${e}`)}async getCategories(e=!1){const n=e?"?include_inactive=true":"";return this.get(`/categories${n}`)}async getAspectsByCategoryOrdered(e){return this.get(`/categories/${e}/aspects`)}async getCategoryWithAspects(e){return this.get(`/categories/${e}/with-aspects`)}async getEvaluationAspect(e){return this.get(`/${e}`)}async createEvaluationAspect(e){return this.post("/",e)}async updateEvaluationAspect(e,n){return this.put(`/${e}`,n)}async deleteEvaluationAspect(e){return this.delete(`/${e}`)}async activateAspect(e){return this.patch(`/${e}/activate`,{})}async deactivateAspect(e){return this.patch(`/${e}/deactivate`,{})}async updateCategoryOrder(e){return this.put("/ordering/category",e)}async updateAspectOrder(e){return this.put("/ordering/aspect",e)}async reorderAspectsInCategory(e){return this.put("/ordering/category/reorder",e)}async autoAssignOrders(){return this.post("/ordering/auto-assign",{})}async bulkCreateAspects(e){return this.post("/bulk/create",e)}async bulkUpdateAspects(e){return this.patch("/bulk/update",e)}async bulkDeleteAspects(e){return this.delete("/bulk/delete",e)}async manualSyncAspects(){return this.post("/sync/manual",{})}}const tr=new Dq;class Mq extends Qs{constructor(){super("/teacher-evaluations")}async createTeacherEvaluation(e){return this.post("/",e)}async createEvaluationWithItems(e){return this.post("/with-items",e)}async getTeacherEvaluation(e){return this.get(`/${e}`)}async updateEvaluationFinalNotes(e,n){return this.put(`/${e}/final-notes`,n)}async deleteTeacherEvaluation(e){return this.delete(`/${e}`)}async createEvaluationItem(e,n){return this.post(`/${e}/items`,n)}async updateEvaluationItem(e,n,a){return this.put(`/${e}/items/${n}`,a)}async deleteEvaluationItem(e,n){return this.delete(`/${e}/items/${n}`)}async bulkUpdateEvaluationItems(e,n){return this.patch(`/${e}/bulk-items`,n)}async getTeacherEvaluationsFiltered(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/?${n.toString()}`:"/";return this.get(a)}async getTeacherEvaluationByPeriod(e,n){return this.get(`/teacher/${e}/period/${n}`)}async getEvaluationsByPeriod(e){return this.get(`/period/${e}`)}async assignTeachersToPeriod(e){return this.post("/assign-teachers-to-period",e)}async getPeriodEvaluationStats(e){return this.get(`/period/${e}/stats`)}async getTeacherEvaluationSummary(e,n){return this.get(`/teacher/${e}/period/${n}/summary`)}async getEvaluationsByTeacher(e,n){return this.getTeacherEvaluationsFiltered({...n,teacher_id:e})}async getEvaluationsByEvaluator(e,n){return this.getTeacherEvaluationsFiltered({...n,evaluator_id:e})}calculateCompletionPercentage(e,n){var i;const a=((i=e.items)==null?void 0:i.length)||0;return n>0?a/n*100:0}getFinalGradeDescription(e){return e>=87.5?"Excellent (A)":e>=62.5?"Good (B)":e>=37.5?"Satisfactory (C)":"Needs Improvement (D)"}groupItemsByAspect(e){const n=e.reduce((a,i)=>{const o=i.aspect_id;a[o]||(a[o]={aspect_id:o,aspect:i.aspect,items:[],average_score:0,grade_distribution:{A:0,B:0,C:0,D:0}}),a[o].items.push(i),i.grade&&a[o].grade_distribution[i.grade]++;const c=a[o].items.reduce((u,h)=>u+((h==null?void 0:h.score)||0),0);return a[o].average_score=c/a[o].items.length,a},{});return Object.values(n)}}const Bu=new Mq;var At=(t=>(t.DRAFT="DRAFT",t.PENDING="PENDING",t.APPROVED="APPROVED",t.REJECTED="REJECTED",t))(At||{});class Pq extends Qs{constructor(){super("/rpp-submissions")}async generateSubmissionsForPeriod(e){return this.post("/admin/generate-for-period",e)}async getMySubmissions(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/my-submissions?${n.toString()}`:"/my-submissions";return this.get(a)}async getMySubmissionForPeriod(e){return this.get(`/my-submission/${e}`)}async uploadRPPFile(e,n){return this.put(`/my-submission/${e}/upload`,n)}async createRPPSubmissionItem(e,n){return this.post(`/my-submission/${e}/create-item`,n)}async uploadFileToRPPItem(e,n){return this.put(`/my-submission-item/${e}/upload`,n)}async updateRPPSubmissionItemDetails(e,n){return this.put(`/my-submission-item/${e}/details`,n)}async deleteRPPSubmissionItem(e){return this.delete(`/my-submission-item/${e}`)}async submitForApproval(e,n={}){return this.post(`/my-submission/${e}/submit`,n)}async getPendingReviews(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/pending-reviews?${n.toString()}`:"/pending-reviews";return this.get(a)}async reviewSubmission(e,n){return this.post(`/review/${e}`,n)}async getSubmissions(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/?${n.toString()}`:"/";return this.get(a)}async getSubmission(e){return this.get(`/${e}`)}async getSubmissionStatistics(e){const n=new URLSearchParams;e&&n.append("period_id",e.toString());const a=n.toString()?`/statistics/overview?${n.toString()}`:"/statistics/overview";return this.get(a)}async getDashboardOverview(){return this.get("/dashboard/overview")}async getSubmissionItems(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/items/?${n.toString()}`:"/items/";return this.get(a)}async getSubmissionsByTeacher(e,n){return this.getSubmissions({...n,teacher_id:e})}async getSubmissionsByPeriod(e,n){return this.getSubmissions({...n,period_id:e})}async getSubmissionsByStatus(e,n){return this.getSubmissions({...n,status:e})}isSubmissionReady(e){return e.can_be_submitted&&e.items.length>0}getStatusDisplayName(e){return{[At.DRAFT]:"Draft",[At.PENDING]:"Menunggu Review",[At.APPROVED]:"Disetujui",[At.REJECTED]:"Ditolak"}[e]||e}getStatusColor(e){return{[At.DRAFT]:"gray",[At.PENDING]:"yellow",[At.APPROVED]:"green",[At.REJECTED]:"red"}[e]||"gray"}groupSubmissionsByTeacher(e){const n=e.reduce((a,i)=>{const o=i.teacher_id;a[o]||(a[o]={teacher:{id:i.teacher_id,name:i.teacher_name||"Unknown"},submissions:[],totalSubmissions:0,completedSubmissions:0,averageCompletion:0,statusDistribution:{draft:0,pending:0,approved:0,rejected:0}}),a[o].submissions.push(i),a[o].totalSubmissions++,i.items.length>0&&a[o].completedSubmissions++,a[o].statusDistribution[i.status]++;const c=a[o].submissions.reduce((u,h)=>u+h.completion_percentage,0);return a[o].averageCompletion=c/a[o].submissions.length,a},{});return Object.values(n)}groupSubmissionsByPeriod(e){const n=e.reduce((a,i)=>{const o=i.period_id;a[o]||(a[o]={period:{id:i.period_id,name:i.period_name||"Unknown"},submissions:[],totalSubmissions:0,completedSubmissions:0,averageCompletion:0,statusDistribution:{draft:0,pending:0,approved:0,rejected:0}}),a[o].submissions.push(i),a[o].totalSubmissions++,i.items.length>0&&a[o].completedSubmissions++,a[o].statusDistribution[i.status]++;const c=a[o].submissions.reduce((u,h)=>u+h.completion_percentage,0);return a[o].averageCompletion=c/a[o].submissions.length,a},{});return Object.values(n)}calculateCompletionStats(e){const n=e.length;if(n===0)return{total:0,completed:0,inProgress:0,notStarted:0,completionRate:0,averageCompletion:0};const a=e.filter(f=>f.items.length>0).length,i=0,o=e.filter(f=>f.items.length===0).length,u=e.reduce((f,p)=>f+p.completion_percentage,0)/n,h=a/n*100;return{total:n,completed:a,inProgress:i,notStarted:o,completionRate:h,averageCompletion:u}}}const Xn=new Pq;class Oq extends Qs{constructor(){super("/media-files")}async uploadFile(e){const n=new FormData;return n.append("file",e.file),this.handleRequest(async()=>Xi.post(`${this.baseEndpoint}/upload`,n,{headers:{"Content-Type":"multipart/form-data"}}))}async getMediaFiles(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/?${n.toString()}`:"/";return this.get(a)}async getMediaFile(e){return this.get(`/${e}`)}async getFileViewInfo(e){return this.get(`/${e}/view`)}async getFilesByUploader(e,n){const a=new URLSearchParams;n&&Object.entries(n).forEach(([o,c])=>{c!=null&&a.append(o,c.toString())});const i=a.toString()?`/uploader/${e}?${a.toString()}`:`/uploader/${e}`;return this.get(i)}async getPublicFiles(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/public/list?${n.toString()}`:"/public/list";return this.get(a)}async downloadFile(e){return this.handleRequest(async()=>Xi.get(`${this.baseEndpoint}/${e}/download`,{responseType:"blob"}))}async updateMediaFile(e,n){return this.put(`/${e}`,n)}async deleteMediaFile(e){return this.delete(`/${e}`)}async bulkUpdateFiles(e){return this.put("/bulk",e)}async getFilesByOrganization(e,n){return this.getMediaFiles({...n,organization_id:e})}}const u0=new Oq;class Lq extends Qs{constructor(){super("/dashboard")}async getDashboard(e){const n=new URLSearchParams({period_id:e.period_id.toString(),...e.organization_id&&{organization_id:e.organization_id.toString()},...e.include_inactive!==void 0&&{include_inactive:e.include_inactive.toString()}}).toString();return this.get(`/?${n}`)}async getTeacherDashboard(e){const n=new URLSearchParams({period_id:e.period_id.toString()}).toString();return this.get(`/teacher?${n}`)}async getPrincipalDashboard(e){const n=new URLSearchParams({period_id:e.period_id.toString()}).toString();return this.get(`/principal?${n}`)}async getAdminDashboard(e){const n=new URLSearchParams({period_id:e.period_id.toString(),...e.organization_id&&{organization_id:e.organization_id.toString()}}).toString();return this.get(`/admin?${n}`)}async getQuickStats(e){const n=new URLSearchParams({period_id:e.period_id.toString()}).toString();return this.get(`/quick-stats?${n}`)}}const i1=new Lq;class Iq extends Qs{constructor(){super("/mitra")}async getMitras(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`?${n.toString()}`:"";return this.get(a)}async createMitra(e,n){const a=new FormData;return a.append("data",JSON.stringify(e)),n&&a.append("image",n),this.post("",a,{headers:{"Content-Type":"multipart/form-data"}})}async getMitraById(e){return this.get(`/${e}`)}async updateMitra(e,n,a){const i=new FormData;return i.append("data",JSON.stringify(n)),a&&i.append("image",a),this.put(`/${e}`,i,{headers:{"Content-Type":"multipart/form-data"}})}async deleteMitra(e){return this.delete(`/${e}`)}}new Iq;class Bq extends Qs{constructor(){super("/programs")}async getPrograms(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`?${n.toString()}`:"";return this.get(a)}async createProgram(e,n){const a=new FormData;return a.append("data",JSON.stringify(e)),n&&a.append("image",n),this.post("",a,{headers:{"Content-Type":"multipart/form-data"}})}async getProgramById(e){return this.get(`/${e}`)}async updateProgram(e,n,a){const i=new FormData;return i.append("data",JSON.stringify(n)),a&&i.append("image",a),this.put(`/${e}`,i,{headers:{"Content-Type":"multipart/form-data"}})}async deleteProgram(e){return this.delete(`/${e}`)}}const Ch=new Bq;class zq extends Qs{constructor(){super("/statistics")}async getStatistics(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/?${n.toString()}`:"/";return this.get(a)}async getAllStatistics(){return(await this.getStatistics({size:100})).items}async createStatistic(e,n){const a=new FormData;return a.append("data",JSON.stringify(e)),n&&a.append("image",n),this.post("/",a,{headers:{"Content-Type":"multipart/form-data"}})}async getStatisticById(e){return this.get(`/${e}`)}async updateStatistic(e,n,a){const i=new FormData;return i.append("data",JSON.stringify(n)),a&&i.append("image",a),this.put(`/${e}`,i,{headers:{"Content-Type":"multipart/form-data"}})}async deleteStatistic(e,n=!1){const a=new URLSearchParams;n&&a.append("hard_delete","true");const i=a.toString()?`/${e}?${a.toString()}`:`/${e}`;return this.delete(i)}async softDeleteStatistic(e){return this.deleteStatistic(e,!1)}async hardDeleteStatistic(e){return this.deleteStatistic(e,!0)}async getPublicStatistics(){return this.getAllStatistics()}async searchStatistics(e,n){const a={search:e,...n};return this.getStatistics(a)}async getStatisticsPaginated(e=1,n=10,a,i,o){const c={page:e,size:n,search:a,sort_by:i,sort_order:o};return this.getStatistics(c)}}const Th=new zq;function _t({title:t,value:e,subtitle:n,trend:a,trendValue:i,formatter:o=c=>c.toString()}){const c=()=>{switch(a){case"up":return s.jsx(K_,{className:"h-4 w-4 text-green-500"});case"down":return s.jsx(x7,{className:"h-4 w-4 text-red-500"});default:return s.jsx(ZU,{className:"h-4 w-4 text-muted-foreground"})}},u=()=>{switch(a){case"up":return"text-green-500";case"down":return"text-red-500";default:return"text-muted-foreground"}};return s.jsxs(Ne,{children:[s.jsx(lt,{className:"pb-2",children:s.jsx(pt,{className:"text-sm font-medium text-muted-foreground",children:t})}),s.jsxs(Se,{children:[s.jsx("div",{className:"text-2xl font-bold",children:o(e)}),n&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:n}),a&&i&&s.jsxs("div",{className:`flex items-center gap-1 text-xs mt-2 ${u()}`,children:[c(),s.jsx("span",{children:i})]})]})]})}function bg({distribution:t}){const e=Object.values(t).reduce((c,u)=>c+u,0),n=c=>e>0?Math.round(c/e*100):0,a={A:"#22c55e",B:"#3b82f6",C:"#eab308",D:"#ef4444"},i=Object.entries(t).filter(([c,u])=>u>0).map(([c,u])=>({name:`Grade ${c}`,value:u,percentage:n(u),color:a[c]||"#6b7280"})),o=({active:c,payload:u})=>{if(c&&u&&u.length){const h=u[0].payload;return s.jsxs("div",{className:"bg-background border border-border rounded-lg p-2 shadow-md",children:[s.jsx("p",{className:"font-medium",children:h.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[h.value," (",h.percentage,"%)"]})]})}return null};return s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsx(pt,{className:"text-sm font-medium",children:"Distribusi Grade"})}),s.jsxs(Se,{children:[e===0?s.jsx("div",{className:"flex items-center justify-center h-48 text-muted-foreground",children:s.jsx("p",{children:"Belum ada data grade"})}):s.jsx("div",{className:"h-48",children:s.jsx(qL,{width:"100%",height:"100%",children:s.jsxs(HL,{children:[s.jsx(GL,{data:i,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:2,dataKey:"value",children:i.map((c,u)=>s.jsx(KL,{fill:c.color},`cell-${u}`))}),s.jsx(YL,{content:s.jsx(o,{})})]})})}),i.length>0&&s.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2",children:i.map(c=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:c.color}}),s.jsx("span",{className:"text-xs font-medium",children:c.name}),s.jsxs("span",{className:"text-xs text-muted-foreground ml-auto",children:[c.value," (",c.percentage,"%)"]})]},c.name))})]})]})}function Uq({periodId:t}){const[e,n]=x.useState(null),[a,i]=x.useState(!0),[o,c]=x.useState(null);return x.useEffect(()=>{(async()=>{try{i(!0),c(null);const h=await i1.getTeacherDashboard({period_id:t});n(h)}catch(h){c(h instanceof Error?h.message:"Failed to fetch dashboard data")}finally{i(!1)}})()},[t]),a?s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(u=>s.jsx(Ne,{className:"animate-pulse",children:s.jsx(Se,{className:"p-6",children:s.jsx("div",{className:"h-20 bg-muted rounded"})})},u))})}):o?s.jsx(Ne,{children:s.jsxs(Se,{className:"p-6",children:[s.jsxs("p",{className:"text-red-500",children:["Error: ",o]}),s.jsx(pe,{onClick:()=>window.location.reload(),className:"mt-4",variant:"outline",children:"Coba Lagi"})]})}):e?s.jsxs("div",{className:"space-y-6",children:[e.period&&s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsxs(pt,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Periode Aktif"}),s.jsx(Mt,{variant:e.period.is_active?"default":"secondary",children:e.period.is_active?"Aktif":"Tidak Aktif"})]})}),s.jsx(Se,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Periode"}),s.jsx("p",{className:"font-medium",children:e.period.period_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Sekolah"}),s.jsx("p",{className:"font-medium",children:e.organization_name||"N/A"})]})]})})]}),s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(pa,{className:"h-5 w-5"}),"Statistik RPP Saya"]})}),s.jsx(Se,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(_t,{title:"Total RPP",value:e.my_rpp_stats.total_submissions}),s.jsx(_t,{title:"Disetujui",value:e.my_rpp_stats.approved_submissions,subtitle:"RPP approved"}),s.jsx(_t,{title:"Pending",value:e.my_rpp_stats.pending_submissions,subtitle:"Menunggu review"}),s.jsx(_t,{title:"Tingkat Completion",value:Math.round(e.my_rpp_stats.submission_rate),formatter:u=>`${u}%`})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(Ku,{className:"h-5 w-5"}),"Statistik Evaluasi Saya"]})}),s.jsx(Se,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(_t,{title:"Total Evaluasi",value:e.my_evaluation_stats.total_evaluations}),s.jsx(_t,{title:"Rata-rata Skor",value:e.my_evaluation_stats.avg_score||0,formatter:u=>u.toFixed(1)}),e.my_evaluation_stats.avg_total_score!==null&&s.jsx(_t,{title:"Rata-rata Total",value:e.my_evaluation_stats.avg_total_score,formatter:u=>u.toFixed(1)}),e.my_evaluation_stats.avg_final_score!==null&&s.jsx(_t,{title:"Rata-rata Final",value:e.my_evaluation_stats.avg_final_score,formatter:u=>u.toFixed(1)})]})})]}),e.my_evaluation_stats.grade_distribution&&Object.keys(e.my_evaluation_stats.grade_distribution).length>0&&s.jsx(bg,{distribution:e.my_evaluation_stats.grade_distribution})]})]}):s.jsx(Ne,{children:s.jsx(Se,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"No data available"})})})}function $q({periodId:t}){const[e,n]=x.useState(null),[a,i]=x.useState(!0),[o,c]=x.useState(null);return x.useEffect(()=>{(async()=>{try{i(!0),c(null);const h=await i1.getPrincipalDashboard({period_id:t});n(h)}catch(h){c(h instanceof Error?h.message:"Failed to fetch dashboard data")}finally{i(!1)}})()},[t]),a?s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(u=>s.jsx(Ne,{className:"animate-pulse",children:s.jsx(Se,{className:"p-6",children:s.jsx("div",{className:"h-20 bg-muted rounded"})})},u))})}):o?s.jsx(Ne,{children:s.jsxs(Se,{className:"p-6",children:[s.jsxs("p",{className:"text-red-500",children:["Error: ",o]}),s.jsx(pe,{onClick:()=>window.location.reload(),className:"mt-4",variant:"outline",children:"Coba Lagi"})]})}):e?s.jsxs("div",{className:"space-y-6",children:[e.period&&s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsxs(pt,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Periode Aktif"}),s.jsx(Mt,{variant:e.period.is_active?"default":"secondary",children:e.period.is_active?"Aktif":"Tidak Aktif"})]})}),s.jsx(Se,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Periode"}),s.jsx("p",{className:"font-medium",children:e.period.period_name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Sekolah"}),s.jsx("p",{className:"font-medium",children:e.organization_name||"N/A"})]})]})})]}),s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(pa,{className:"h-5 w-5"}),"Statistik RPP Saya"]})}),s.jsx(Se,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(_t,{title:"Total RPP",value:e.my_rpp_stats.total_submissions}),s.jsx(_t,{title:"Disetujui",value:e.my_rpp_stats.approved_submissions,subtitle:"RPP approved"}),s.jsx(_t,{title:"Pending",value:e.my_rpp_stats.pending_submissions,subtitle:"Menunggu review"}),s.jsx(_t,{title:"Tingkat Completion",value:Math.round(e.my_rpp_stats.submission_rate),formatter:u=>`${u}%`})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(Ku,{className:"h-5 w-5"}),"Statistik Evaluasi Saya"]})}),s.jsx(Se,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(_t,{title:"Total Evaluasi",value:e.my_evaluation_stats.total_evaluations}),s.jsx(_t,{title:"Rata-rata Skor",value:e.my_evaluation_stats.avg_score||0,formatter:u=>u.toFixed(1)}),e.my_evaluation_stats.avg_total_score!==null&&s.jsx(_t,{title:"Rata-rata Total",value:e.my_evaluation_stats.avg_total_score,formatter:u=>u.toFixed(1)}),e.my_evaluation_stats.avg_final_score!==null&&s.jsx(_t,{title:"Rata-rata Final",value:e.my_evaluation_stats.avg_final_score,formatter:u=>u.toFixed(1)})]})})]}),e.my_evaluation_stats.grade_distribution&&Object.keys(e.my_evaluation_stats.grade_distribution).length>0&&s.jsx(bg,{distribution:e.my_evaluation_stats.grade_distribution})]}),s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(ol,{className:"h-5 w-5"}),"Ringkasan Sekolah"]})}),s.jsx(Se,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(_t,{title:"Total Guru",value:e.organization_overview.total_teachers||0}),e.organization_overview.active_teachers!==void 0&&s.jsx(_t,{title:"Guru Aktif",value:e.organization_overview.active_teachers})]})})]}),s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(pa,{className:"h-5 w-5"}),"Statistik RPP Sekolah"]})}),s.jsx(Se,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(_t,{title:"Total RPP",value:e.rpp_stats.total_submissions}),s.jsx(_t,{title:"Pending Review",value:e.rpp_stats.pending_submissions,subtitle:"Menunggu review"}),s.jsx(_t,{title:"Disetujui",value:e.rpp_stats.approved_submissions}),s.jsx(_t,{title:"Tingkat Completion",value:Math.round(e.rpp_stats.submission_rate),formatter:u=>`${u}%`})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(Ku,{className:"h-5 w-5"}),"Statistik Evaluasi Sekolah"]})}),s.jsx(Se,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(_t,{title:"Total Evaluasi",value:e.evaluation_stats.total_evaluations}),s.jsx(_t,{title:"Rata-rata Skor",value:e.evaluation_stats.avg_score||0,formatter:u=>u.toFixed(1)}),e.evaluation_stats.avg_total_score!==null&&s.jsx(_t,{title:"Rata-rata Total",value:e.evaluation_stats.avg_total_score,formatter:u=>u.toFixed(1)}),e.evaluation_stats.avg_final_score!==null&&s.jsx(_t,{title:"Rata-rata Final",value:e.evaluation_stats.avg_final_score,formatter:u=>u.toFixed(1)})]})})]}),e.evaluation_stats.grade_distribution&&Object.keys(e.evaluation_stats.grade_distribution).length>0&&s.jsx(bg,{distribution:e.evaluation_stats.grade_distribution})]}),s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"h-5 w-5"}),"Ringkasan Guru"]})}),s.jsx(Se,{children:s.jsx("div",{className:"space-y-4",children:e.teacher_summaries.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Belum ada data guru tersedia"}):s.jsx("div",{className:"grid gap-4",children:e.teacher_summaries.map((u,h)=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:u.teacher_name||"Unknown Teacher"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[u.total_rpps||0," RPP total, ",u.approved_rpps||0," disetujui"]})]}),u.completion_rate!==void 0&&s.jsxs(Mt,{variant:u.completion_rate>=80?"default":u.completion_rate>=60?"secondary":"destructive",children:[Math.round(u.completion_rate),"%"]})]},u.teacher_id||h))})})})]})]}):s.jsx(Ne,{children:s.jsx(Se,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"No data available"})})})}function Fq({periodId:t,organizationId:e}){const[n,a]=x.useState(null),[i,o]=x.useState(!0),[c,u]=x.useState(null);return x.useEffect(()=>{(async()=>{try{o(!0),u(null);const f=await i1.getAdminDashboard({period_id:t,...e&&{organization_id:e}});a(f)}catch(f){u(f instanceof Error?f.message:"Failed to fetch dashboard data")}finally{o(!1)}})()},[t,e]),i?s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[1,2,3,4].map(h=>s.jsx(Ne,{className:"animate-pulse",children:s.jsx(Se,{className:"p-6",children:s.jsx("div",{className:"h-20 bg-muted rounded"})})},h))})}):c?s.jsx(Ne,{children:s.jsxs(Se,{className:"p-6",children:[s.jsxs("p",{className:"text-red-500",children:["Error: ",c]}),s.jsx(pe,{onClick:()=>window.location.reload(),className:"mt-4",variant:"outline",children:"Coba Lagi"})]})}):n?s.jsxs("div",{className:"space-y-6",children:[n.period&&s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsxs(pt,{className:"flex items-center justify-between",children:[s.jsx("span",{children:"Periode Aktif"}),s.jsx(Mt,{variant:n.period.is_active?"default":"secondary",children:n.period.is_active?"Aktif":"Tidak Aktif"})]})}),s.jsx(Se,{children:s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Periode"}),s.jsx("p",{className:"font-medium",children:n.period.period_name})]})})})]}),s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(BU,{className:"h-5 w-5"}),"Ringkasan Sistem"]})}),s.jsx(Se,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(_t,{title:"Total Pengguna",value:n.system_overview.total_users||0}),s.jsx(_t,{title:"Total Sekolah",value:n.system_overview.total_organizations||0})]})})]}),s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(pa,{className:"h-5 w-5"}),"Statistik RPP Sistem"]})}),s.jsx(Se,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(_t,{title:"Total RPP",value:n.rpp_stats.total_submissions}),s.jsx(_t,{title:"Pending Review",value:n.rpp_stats.pending_submissions,subtitle:"Menunggu review"}),s.jsx(_t,{title:"Disetujui",value:n.rpp_stats.approved_submissions}),s.jsx(_t,{title:"Tingkat Completion",value:Math.round(n.rpp_stats.submission_rate),formatter:h=>`${h}%`})]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(Ku,{className:"h-5 w-5"}),e?"Statistik Evaluasi Sekolah":"Statistik Evaluasi Sistem"]})}),s.jsx(Se,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(_t,{title:"Total Evaluasi",value:n.evaluation_stats.total_evaluations}),s.jsx(_t,{title:"Rata-rata Skor",value:n.evaluation_stats.avg_score||0,formatter:h=>h.toFixed(1)}),n.evaluation_stats.avg_total_score!==null&&s.jsx(_t,{title:"Rata-rata Total",value:n.evaluation_stats.avg_total_score,formatter:h=>h.toFixed(1)}),n.evaluation_stats.avg_final_score!==null&&s.jsx(_t,{title:"Rata-rata Final",value:n.evaluation_stats.avg_final_score,formatter:h=>h.toFixed(1)})]})})]}),n.evaluation_stats.grade_distribution&&Object.keys(n.evaluation_stats.grade_distribution).length>0&&s.jsx(bg,{distribution:n.evaluation_stats.grade_distribution})]}),s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(ol,{className:"h-5 w-5"}),"Ringkasan Sekolah"]})}),s.jsx(Se,{children:s.jsx("div",{className:"space-y-4",children:n.organization_summaries.length===0?s.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Belum ada data Sekolah tersedia"}):s.jsx("div",{className:"grid gap-4",children:n.organization_summaries.map(h=>{var f,p,g,v;return s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-medium",children:h.organization_name}),s.jsxs(Mt,{variant:"outline",children:[h.total_teachers||0," Guru"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-muted-foreground",children:[s.jsxs("div",{children:["RPP: ",((f=h.rpp_stats)==null?void 0:f.total_submissions)||0]}),s.jsxs("div",{children:["Approved: ",((p=h.rpp_stats)==null?void 0:p.approved_submissions)||0]}),s.jsxs("div",{children:["Evaluasi: ",((g=h.evaluation_stats)==null?void 0:g.total_evaluations)||0]}),s.jsxs("div",{children:["Avg Score: ",(((v=h.evaluation_stats)==null?void 0:v.avg_score)||0).toFixed(1)]})]})]},h.organization_id)})})})})]})]}):s.jsx(Ne,{children:s.jsx(Se,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"No data available"})})})}function $E(){var j;const{user:t,logout:e}=fr(),{currentRole:n,isAdmin:a,isGuru:i,isKepalaSekolah:o}=us(),[c,u]=x.useState(null),[h,f]=x.useState([]),[p,g]=x.useState(!0);x.useEffect(()=>{(async()=>{try{g(!0);const S=await Nn.getPeriods({page:1,limit:50}),E=S.items.filter(A=>A.is_active);f(S.items),E.length>0?u(E[0].id):S.items.length>0&&u(S.items[0].id)}catch(S){console.error("Failed to fetch periods:",S)}finally{g(!1)}})()},[]);const v=async()=>{try{await e()}catch(k){console.error("Logout failed:",k)}},y=k=>{switch(k){case"SUPER_ADMIN":return"Super Administrator";case"ADMIN":return"Administrator";case"GURU":return"Guru";case"KEPALA_SEKOLAH":return"Kepala Sekolah";default:return k}},w=()=>c?i()?s.jsx(Uq,{periodId:c}):o()?s.jsx($q,{periodId:c}):a()?s.jsx(Fq,{periodId:c}):s.jsx(Ne,{children:s.jsx(Se,{className:"p-6 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:"Role tidak dikenali"})})}):s.jsx(Ne,{children:s.jsx(Se,{className:"p-6 text-center",children:s.jsx("p",{className:"text-muted-foreground",children:p?"Loading periods...":"Silakan pilih periode untuk melihat dashboard"})})});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Dashboard"}),s.jsxs("p",{className:"text-muted-foreground",children:["Selamat datang, ",(j=t==null?void 0:t.profile)==null?void 0:j.name]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pr,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs(zt,{value:(c==null?void 0:c.toString())||"",onValueChange:k=>u(parseInt(k)),disabled:p,children:[s.jsx(Pt,{className:"w-[200px]",children:s.jsx(Ut,{placeholder:"Pilih Periode"})}),s.jsx(Ot,{children:h.map(k=>s.jsx(Ie,{value:k.id.toString(),children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{children:[k.academic_year," - ",k.semester]})})},k.id))})]})]}),s.jsx(pe,{asChild:!0,variant:"default",children:s.jsxs(aa,{to:"/profile",children:[s.jsx(ll,{className:"h-4 w-4 mr-2"}),"Profil"]})}),s.jsx(pe,{variant:"destructive",onClick:v,children:"Keluar"})]})]}),s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"h-5 w-5"}),"Informasi Pengguna"]})}),s.jsx(Se,{className:"space-y-4",children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),s.jsx("p",{className:"text-lg",children:(t==null?void 0:t.email)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Peran"}),y(n)]})]})})]}),w()]})}const xa=t=>{const e=ki(),n=rd(),{defaults:a,cleanDefaults:i=!0}=t,o=x.useRef(!1),c=x.useRef(null),u=x.useRef(null);x.useEffect(()=>{o.current&&(u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{c.current=null,o.current=!1,u.current=null},50))},[n.search]);const h=x.useCallback(()=>{const j=new URLSearchParams(n.search),k={...a};return Object.keys(a).forEach(S=>{const E=j.get(S);if(E!==null){const A=a[S];if(typeof A=="number"){const T=parseInt(E);isNaN(T)||(k[S]=T)}else typeof A=="boolean"?k[S]=E==="true":k[S]=E}}),k},[n.search,a]),f=x.useCallback((j,k)=>{if(o.current)return;const{replace:S=!0,preserveOthers:E=!0}=k||{};let A;E?A=new URLSearchParams(n.search):A=new URLSearchParams,Object.entries(j).forEach(([M,P])=>{if(P!=null){const O=a[M];i&&P===O?A.delete(M):A.set(M,P.toString())}else A.delete(M)});const T=A.toString(),_=`${n.pathname}${T?`?${T}`:""}`;_!==`${n.pathname}${n.search}`&&(o.current=!0,e(_,{replace:S}))},[e,n.pathname,n.search,a,i]),p=x.useCallback(j=>{const k=h();return!(n.search.length>0)&&j&&Object.keys(j).length>0?(f(j,{replace:!0,preserveOthers:!1}),{...a,...j}):k},[h,f,n.search,a]),g=x.useCallback(()=>{i?e(n.pathname,{replace:!0}):f(a,{replace:!0,preserveOthers:!1})},[e,n.pathname,f,a,i]),v=x.useCallback(()=>h(),[h]),y=x.useCallback(()=>{const j=h();return Object.keys(a).some(k=>j[k]!==a[k])},[h,a]),w=x.useCallback(()=>`${window.location.origin}${n.pathname}${n.search}`,[n.pathname,n.search]);return{getFiltersFromURL:h,updateURL:f,buildInitialURL:p,resetFilters:g,getCurrentFilters:v,hasActiveFilters:y,getShareableURL:w}};function o1(t){return t?Eu[t]||t:"Tidak ada role"}function j4(){return[{value:On.SUPER_ADMIN,label:Eu[On.SUPER_ADMIN]},{value:On.ADMIN,label:Eu[On.ADMIN]},{value:On.GURU,label:Eu[On.GURU]},{value:On.KEPALA_SEKOLAH,label:Eu[On.KEPALA_SEKOLAH]}]}function Vq(t){switch(t){case On.SUPER_ADMIN:return"destructive";case On.ADMIN:return"destructive";case On.KEPALA_SEKOLAH:return"default";case On.GURU:return"secondary";default:return"outline"}}const Gs=x.forwardRef(({className:t,...e},n)=>s.jsx("div",{className:"w-full overflow-auto rounded-md",children:s.jsx("table",{ref:n,className:ge("w-full border-collapse",t),...e})}));Gs.displayName="Table";const Ks=x.forwardRef(({className:t,...e},n)=>s.jsx("thead",{ref:n,className:ge("bg-primary",t),...e}));Ks.displayName="TableHeader";const Xs=x.forwardRef(({className:t,...e},n)=>s.jsx("tbody",{ref:n,className:ge("",t),...e}));Xs.displayName="TableBody";const qq=x.forwardRef(({className:t,...e},n)=>s.jsx("tfoot",{ref:n,className:ge("border-t bg-muted/50 font-medium",t),...e}));qq.displayName="TableFooter";const rt=x.forwardRef(({className:t,...e},n)=>s.jsx("tr",{ref:n,className:ge("border-b",t),...e}));rt.displayName="TableRow";const _e=x.forwardRef(({className:t,...e},n)=>s.jsx("th",{ref:n,className:ge("p-4 text-left align-middle font-medium text-popover hover:cursor-default",t),...e}));_e.displayName="TableHead";const Ae=x.forwardRef(({className:t,...e},n)=>s.jsx("td",{ref:n,className:ge("p-4 align-middle",t),...e}));Ae.displayName="TableCell";const Hq=x.forwardRef(({className:t,...e},n)=>s.jsx("caption",{ref:n,className:ge("mt-4 text-sm text-muted-foreground",t),...e}));Hq.displayName="TableCaption";const gn=({onView:t,onEdit:e,onDelete:n,onComposeEmail:a,onExport:i,showView:o=!0,showEdit:c=!0,showDelete:u=!0,showComposeEmail:h=!1,showExport:f=!1,disableEdit:p=!1,editDisabledTooltip:g="Edit tidak tersedia",customActions:v=[]})=>{const y=w=>({Users:Ds,Edit:Wo,Eye:Fs,Trash2:dg,Mail:ac,Download:sf,Upload:af,Archive:cU})[w]||Wo;return s.jsxs(nD,{children:[s.jsx(sD,{asChild:!0,children:s.jsx(pe,{variant:"ghost",className:"h-8 w-8 p-0",children:s.jsx(Wo,{className:"h-4 w-4"})})}),s.jsxs(Qj,{align:"end",children:[o&&s.jsxs(Wi,{onClick:t,children:[s.jsx(Fs,{className:"mr-2 h-4 w-4"}),"Lihat"]}),c&&s.jsxs(Wi,{onClick:p?void 0:e,disabled:p,title:p?g:void 0,className:p?"opacity-50 cursor-not-allowed":"",children:[s.jsx(Wo,{className:"mr-2 h-4 w-4"}),"Edit"]}),h&&s.jsxs(Wi,{onClick:a,children:[s.jsx(ac,{className:"mr-2 h-4 w-4"}),"Kirim Email"]}),f&&s.jsxs(Wi,{onClick:i,children:[s.jsx(sf,{className:"mr-2 h-4 w-4"}),"Export Excel"]}),v.map((w,j)=>{const k=y(w.icon);return s.jsxs(Wi,{onClick:w.onClick,className:w.className,children:[s.jsx(k,{className:"mr-2 h-4 w-4"}),w.label]},j)}),u&&s.jsxs(Wi,{onClick:n,className:"text-red-600",children:[s.jsx(dg,{className:"mr-2 h-4 w-4"}),"Hapus"]})]})]})},Gq=({users:t,loading:e=!1,onEdit:n,onDelete:a,onView:i,disableEdit:o=!1,canModifyUser:c,canDeleteUser:u})=>s.jsx("div",{className:"rounded-md border",children:s.jsxs(Gs,{children:[s.jsx(Ks,{children:s.jsxs(rt,{children:[s.jsx(_e,{children:"Nama"}),s.jsx(_e,{children:"Posisi"}),s.jsx(_e,{children:"Email"}),s.jsx(_e,{children:"Organisasi"}),s.jsx(_e,{children:"Role"}),s.jsx(_e,{children:"Telepon"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{className:"text-right",children:"Aksi"})]})}),s.jsx(Xs,{children:e?s.jsx(rt,{children:s.jsx(Ae,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"Memuat pengguna..."})}):t.length===0?s.jsx(rt,{children:s.jsx(Ae,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"Tidak ada user ditemukan"})}):t.map(h=>{var f,p,g;return s.jsxs(rt,{children:[s.jsx(Ae,{children:((f=h.profile)==null?void 0:f.name)||h.display_name}),s.jsx(Ae,{children:((p=h.profile)==null?void 0:p.position)||"-"}),s.jsx(Ae,{children:h.email}),s.jsx(Ae,{children:h.organization_name||"-"}),s.jsx(Ae,{children:o1(h.role)}),s.jsx(Ae,{children:((g=h.profile)==null?void 0:g.phone)||"-"}),s.jsx(Ae,{children:h.status===Oa.ACTIVE?"Aktif":"Tidak Aktif"}),s.jsx(Ae,{className:"text-right",children:s.jsx(gn,{onView:()=>i(h),onEdit:()=>n(h),onDelete:()=>a(h),showEdit:!o&&(!c||c(h)),showDelete:!u||u(h)})})]},h.id)})})]})}),Kq=({users:t,loading:e=!1,onEdit:n,onDelete:a,onView:i,disableEdit:o=!1,canModifyUser:c,canDeleteUser:u})=>{const h=p=>s.jsx(Mt,{variant:p===Oa.ACTIVE?"default":"destructive",className:"text-xs",children:p===Oa.ACTIVE?"Aktif":"Tidak Aktif"}),f=p=>p.split(" ").map(g=>g[0]).join("").toUpperCase();return e?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Memuat pengguna..."}):t.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Tidak ada user ditemukan"}):s.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(p=>{var g,v,y,w,j;return s.jsx(Ne,{className:"hover:shadow-md transition-shadow",children:s.jsxs(Se,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(If,{className:"w-10 h-10",children:s.jsx(Bf,{className:"text-sm",children:f(((g=p.profile)==null?void 0:g.name)||p.display_name||"N")})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm",children:((v=p.profile)==null?void 0:v.name)||p.display_name}),s.jsx("div",{className:"flex items-center space-x-2 mt-1",children:h(p.status)})]})]}),s.jsx(gn,{onView:()=>i(p),onEdit:()=>n(p),onDelete:()=>a(p),showEdit:!o&&(!c||c(p)),showDelete:!u||u(p)})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground mb-2",children:[s.jsx(ac,{className:"w-4 h-4"}),s.jsx("span",{className:"truncate",children:p.email})]}),((y=p.profile)==null?void 0:y.position)&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground mb-2",children:[s.jsx(ll,{className:"w-4 h-4"}),s.jsx("span",{children:p.profile.position})]}),((w=p.profile)==null?void 0:w.phone)&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground mb-2",children:[s.jsx(H_,{className:"w-4 h-4"}),s.jsx("span",{children:p.profile.phone})]}),p.organization_name&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground mb-2",children:[s.jsx(ol,{className:"w-4 h-4"}),s.jsx("span",{children:p.organization_name})]}),((j=p.profile)==null?void 0:j.address)&&s.jsxs("div",{className:"flex items-start space-x-2 text-sm text-muted-foreground mb-2",children:[s.jsx(ax,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"line-clamp-2",children:p.profile.address})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Role:"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:s.jsx(Mt,{variant:Vq(p.role),className:"text-xs",children:o1(p.role)})})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground pt-2 border-t",children:[s.jsx(pr,{className:"w-3 h-3"}),s.jsxs("span",{children:["Dibuat: ",vn(new Date(p.created_at),"dd MMM yyyy",{locale:yn})]}),p.last_login_at&&s.jsxs("span",{className:"ml-auto",children:["Login: ",vn(new Date(p.last_login_at),"dd MMM",{locale:yn})]})]})]})},p.id)})})},Yq=Ws({email:ct().email("Email tidak valid").min(1,"Email wajib diisi"),name:ct().min(1,"Nama wajib diisi").min(2,"Nama minimal 2 karakter"),phone:ct().optional().or(ys("")),address:ct().optional().or(ys("")),position:ct().optional().or(ys("")),role:Uk(Lh,{required_error:"Role wajib dipilih"}),status:Uk(Oa).optional(),organization_id:to().optional().nullable(),password:ct().optional()}),Xq=({open:t,onOpenChange:e,editingUser:n,onSave:a})=>{const[i,o]=x.useState(!1),[c,u]=x.useState([]),[h,f]=x.useState(!1),[p,g]=x.useState([]),[v,y]=x.useState(!1),w=!!n,j=js({resolver:ws(Yq),defaultValues:{email:"",name:"",phone:"",address:"",position:"",role:Lh.GURU,status:Oa.ACTIVE,organization_id:void 0,password:""}});x.useEffect(()=>{var E,A,T,_;if(t){const M=async()=>{f(!0);try{const O=await Pr.getOrganizations({size:100,sort_by:"name",sort_order:"asc"});u(O.items)}catch(O){console.error("Error loading organizations:",O),u([])}finally{f(!1)}},P=async()=>{y(!0);try{const O=await fi.getAllowedRoles();g(O)}catch(O){console.error("Error loading allowed roles:",O),g([])}finally{y(!1)}};M(),P(),n?j.reset({email:n.email,name:((E=n.profile)==null?void 0:E.name)||"",phone:((A=n.profile)==null?void 0:A.phone)||"",address:((T=n.profile)==null?void 0:T.address)||"",position:((_=n.profile)==null?void 0:_.position)||"",role:n.role||Lh.GURU,status:n.status,organization_id:n.organization_id,password:""}):j.reset({email:"",name:"",phone:"",address:"",position:"",role:Lh.GURU,status:Oa.ACTIVE,organization_id:void 0,password:""})}},[t,n,j]);const k=async E=>{o(!0);try{if(w){const A={email:E.email,profile:{name:E.name,phone:E.phone||void 0,address:E.address||void 0,position:E.position||void 0},role:E.role,status:E.status,organization_id:E.organization_id||void 0,password:E.password||void 0};a(A)}else{const A={email:E.email,profile:{name:E.name,phone:E.phone||void 0,address:E.address||void 0,position:E.position||void 0},role:E.role,password:E.password,organization_id:E.organization_id||void 0,status:Oa.ACTIVE};a(A)}e(!1)}catch(A){console.error("Error saving user:",A)}finally{o(!1)}},S=()=>{i||(j.reset(),e(!1))};return s.jsx(un,{open:t,onOpenChange:e,children:s.jsxs(dn,{className:"w-[95vw] max-w-2xl max-h-[90vh] flex flex-col",children:[s.jsx(hn,{className:"flex-shrink-0 border-b pb-4",children:s.jsx(fn,{children:w?"Edit Pengguna":"Tambah Pengguna Baru"})}),s.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:s.jsx(Hn,{...j,children:s.jsx("form",{onSubmit:j.handleSubmit(k),className:"space-y-6",children:s.jsxs("div",{className:"flex  flex-col gap-6",children:[s.jsx(Ue,{control:j.control,name:"email",render:({field:E})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Email"}),s.jsx(ze,{children:s.jsx(at,{placeholder:"email@example.com",disabled:i,...E})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:j.control,name:"name",render:({field:E})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Nama Lengkap"}),s.jsx(ze,{children:s.jsx(at,{placeholder:"Masukkan nama lengkap",disabled:i,...E})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:j.control,name:"role",render:({field:E})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Role"}),s.jsxs(zt,{onValueChange:E.onChange,value:E.value,disabled:i||v,children:[s.jsx(ze,{children:s.jsx(Pt,{children:s.jsx(Ut,{placeholder:"Pilih role"})})}),s.jsx(Ot,{children:v?s.jsx(Ie,{value:"loading",disabled:!0,children:"Memuat roles..."}):p.map(A=>{const T=j4().find(_=>_.value===A);return T?s.jsx(Ie,{value:A,children:T.label},A):null})})]}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:j.control,name:"status",render:({field:E})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Status"}),s.jsxs(zt,{onValueChange:E.onChange,value:E.value,disabled:i,children:[s.jsx(ze,{children:s.jsx(Pt,{children:s.jsx(Ut,{placeholder:"Pilih status"})})}),s.jsxs(Ot,{children:[s.jsx(Ie,{value:Oa.ACTIVE,children:"Aktif"}),s.jsx(Ie,{value:Oa.INACTIVE,children:"Tidak Aktif"})]})]}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:j.control,name:"organization_id",render:({field:E})=>{var A;return s.jsxs($e,{children:[s.jsx(Fe,{children:"Sekolah/Organisasi"}),s.jsxs(zt,{onValueChange:T=>E.onChange(T?parseInt(T):void 0),value:((A=E.value)==null?void 0:A.toString())||"",disabled:i||h,children:[s.jsx(ze,{children:s.jsx(Pt,{children:s.jsx(Ut,{placeholder:h?"Memuat...":"Pilih sekolah/organisasi"})})}),s.jsx(Ot,{children:c.map(T=>s.jsx(Ie,{value:T.id.toString(),children:T.name},T.id))})]}),s.jsx(Ke,{})]})}}),s.jsx(Ue,{control:j.control,name:"position",render:({field:E})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Posisi/Jabatan"}),s.jsx(ze,{children:s.jsx(at,{placeholder:"Masukkan posisi atau jabatan",disabled:i,...E})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:j.control,name:"phone",render:({field:E})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Nomor Telepon"}),s.jsx(ze,{children:s.jsx(at,{placeholder:"Masukkan nomor telepon",disabled:i,...E})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:j.control,name:"password",render:({field:E})=>s.jsxs($e,{children:[s.jsxs(Fe,{children:["Password ",w&&"(Biarkan kosong jika tidak ingin mengubah)"]}),s.jsx(ze,{children:s.jsx(at,{type:"password",placeholder:w?"Masukkan password baru":"Masukkan password",disabled:i,...E})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:j.control,name:"address",render:({field:E})=>s.jsxs($e,{className:"md:col-span-2",children:[s.jsx(Fe,{children:"Alamat"}),s.jsx(ze,{children:s.jsx(at,{placeholder:"Masukkan alamat lengkap",disabled:i,...E})}),s.jsx(Ke,{})]})})]})})})}),s.jsxs(Js,{className:"flex-shrink-0 border-t pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:S,disabled:i||h,children:"Batal"}),s.jsx(pe,{onClick:j.handleSubmit(k),disabled:i||h,children:i?"Menyimpan...":h?"Memuat...":w?"Perbarui Pengguna":"Tambah Pengguna"})]})]})})},hr=({title:t,subtitle:e,className:n=""})=>s.jsx("div",{className:`mb-4 ${n}`,children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold text-foreground",children:t}),e&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e})]})})}),Wq=(t,e)=>{const[n,a]=x.useState(t);return x.useEffect(()=>{const i=setTimeout(()=>{a(t)},e);return()=>{clearTimeout(i)}},[t,e]),n},Hr=({searchQuery:t,onSearchChange:e,placeholder:n="Cari...",className:a,debounceDelay:i=500})=>{const[o,c]=x.useState(t),u=Wq(o,i);return x.useEffect(()=>{u!==t&&e(u)},[u,e,t]),x.useEffect(()=>{c(t)},[t]),s.jsxs("div",{className:ge("relative",a),children:[s.jsx(Vj,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(at,{placeholder:n,value:o,onChange:h=>c(h.target.value),className:"pl-9"})]})};function Ur({children:t}){const[e,n]=x.useState(!0),a=()=>{n(!e)};return s.jsxs(Ne,{className:"shadow-md",children:[s.jsxs(lt,{className:"text-primary flex flex-row justify-between items-center",children:[s.jsxs(pt,{className:"font-semibold flex items-center",children:[s.jsx(Fj,{className:"primary w-5 h-5 mr-2"}),"Opsi Filter"]}),s.jsx("button",{onClick:a,className:"flex items-center space-x-2 p-2 rounded-md hover:text-accent",children:e?s.jsxs(s.Fragment,{children:[s.jsx(NU,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Sembunyikan Filter"})]}):s.jsxs(s.Fragment,{children:[s.jsx(sx,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Tampilkan Filter"})]})})]}),e&&s.jsx(Se,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6",children:t})})]})}const Ua=({currentPage:t,totalPages:e,itemsPerPage:n,totalItems:a,hasNext:i=!1,onPageChange:o,onItemsPerPageChange:c})=>{const u=e!==void 0&&e>0,h=()=>{if(!u)return[];const v=[];if(e<=5)for(let w=1;w<=e;w++)v.push(w);else{v.push(1);let w=Math.max(2,t-1),j=Math.min(e-1,t+1);t<=2?j=4:t>=e-1&&(w=e-3),w>2&&v.push("...");for(let k=w;k<=j;k++)v.push(k);j<e-1&&v.push("..."),v.push(e)}return v},f=a&&a>0?(t-1)*n+1:0,p=a?Math.min(t*n,a):t*n,g=u?t>=e:!i;return s.jsx("div",{className:"w-full pt-8",children:s.jsx("div",{className:"p-4 border border-secondary rounded-md bg-primary text-popover",children:s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 sm:mb-0",children:[s.jsx("span",{className:"text-sm text-popover",children:a!==void 0?`Menampilkan ${f} - ${p} dari ${a} entri`:`Menampilkan ${f} - ${p} entri`}),s.jsxs(zt,{value:n.toString(),onValueChange:c,children:[s.jsx(Pt,{className:"w-20 h-8",children:s.jsx(Ut,{})}),s.jsx(Ot,{children:[10,25,50,100].map(v=>s.jsx(Ie,{value:v.toString(),children:v},v))})]})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[s.jsx(pe,{variant:"outline",size:"sm",onClick:()=>o(t-1),disabled:t===1,className:"h-8 w-8 p-0",children:s.jsx(zj,{className:"h-4 w-4 text-primary"})}),u?h().map((v,y)=>typeof v=="number"?s.jsx(pe,{variant:t===v?"default":"outline",size:"sm",onClick:()=>o(v),className:`h-8 w-8 p-0 ${t===v?"text-popover":"text-primary"}`,children:v},y):s.jsx("span",{className:"mx-1 text-primary",children:"..."},y)):s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("span",{className:"text-sm text-primary px-2",children:["Halaman ",t]})}),s.jsx(pe,{variant:"outline",size:"sm",onClick:()=>o(t+1),disabled:g,className:"h-8 w-8 p-0",children:s.jsx(Uj,{className:"h-4 w-4 text-primary"})})]})]})})})};var w4="AlertDialog",[Zq,gle]=Zs(w4,[ZT]),co=ZT(),N4=t=>{const{__scopeAlertDialog:e,...n}=t,a=co(e);return s.jsx(Yg,{...a,...n,modal:!0})};N4.displayName=w4;var Qq="AlertDialogTrigger",S4=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=co(n);return s.jsx(_j,{...i,...a,ref:e})});S4.displayName=Qq;var Jq="AlertDialogPortal",k4=t=>{const{__scopeAlertDialog:e,...n}=t,a=co(e);return s.jsx(Xg,{...a,...n})};k4.displayName=Jq;var eH="AlertDialogOverlay",E4=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=co(n);return s.jsx(Wg,{...i,...a,ref:e})});E4.displayName=eH;var zu="AlertDialogContent",[tH,nH]=Zq(zu),sH=HC("AlertDialogContent"),A4=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:a,...i}=t,o=co(n),c=x.useRef(null),u=ht(e,c),h=x.useRef(null);return s.jsx(g9,{contentName:zu,titleName:C4,docsSlug:"alert-dialog",children:s.jsx(tH,{scope:n,cancelRef:h,children:s.jsxs(Zg,{role:"alertdialog",...o,...i,ref:u,onOpenAutoFocus:Ce(i.onOpenAutoFocus,f=>{var p;f.preventDefault(),(p=h.current)==null||p.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[s.jsx(sH,{children:a}),s.jsx(rH,{contentRef:c})]})})})});A4.displayName=zu;var C4="AlertDialogTitle",T4=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=co(n);return s.jsx(Rj,{...i,...a,ref:e})});T4.displayName=C4;var _4="AlertDialogDescription",R4=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=co(n);return s.jsx(Dj,{...i,...a,ref:e})});R4.displayName=_4;var aH="AlertDialogAction",D4=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,i=co(n);return s.jsx(Qg,{...i,...a,ref:e})});D4.displayName=aH;var M4="AlertDialogCancel",P4=x.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...a}=t,{cancelRef:i}=nH(M4,n),o=co(n),c=ht(e,i);return s.jsx(Qg,{...o,...a,ref:c})});P4.displayName=M4;var rH=({contentRef:t})=>{const e=`\`${zu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${zu}\` by passing a \`${_4}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${zu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{var a;document.getElementById((a=t.current)==null?void 0:a.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},iH=N4,oH=S4,lH=k4,O4=E4,L4=A4,I4=D4,B4=P4,z4=T4,U4=R4;const cs=iH,Xu=oH,cH=lH,$4=x.forwardRef(({className:t,...e},n)=>s.jsx(O4,{className:ge("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));$4.displayName=O4.displayName;const Wn=x.forwardRef(({className:t,...e},n)=>s.jsxs(cH,{children:[s.jsx($4,{}),s.jsx(L4,{ref:n,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Wn.displayName=L4.displayName;const Zn=({className:t,...e})=>s.jsx("div",{className:ge("flex flex-col space-y-2 text-center sm:text-left",t),...e});Zn.displayName="AlertDialogHeader";const Qn=({className:t,...e})=>s.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Qn.displayName="AlertDialogFooter";const Jn=x.forwardRef(({className:t,...e},n)=>s.jsx(z4,{ref:n,className:ge("text-lg font-semibold",t),...e}));Jn.displayName=z4.displayName;const es=x.forwardRef(({className:t,...e},n)=>s.jsx(U4,{ref:n,className:ge("text-sm text-muted-foreground",t),...e}));es.displayName=U4.displayName;const ts=x.forwardRef(({className:t,...e},n)=>s.jsx(I4,{ref:n,className:ge(Bj(),t),...e}));ts.displayName=I4.displayName;const ns=x.forwardRef(({className:t,...e},n)=>s.jsx(B4,{ref:n,className:ge(Bj({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));ns.displayName=B4.displayName;const uH=()=>{var q,ee,te,ie,de;const{isAdmin:t,isSuperAdmin:e}=us(),{toast:n}=Lt(),{updateURL:a,getCurrentFilters:i}=xa({defaults:{search:"",role:"all",status:"all",page:1,size:10},cleanDefaults:!0}),o=i(),[c,u]=x.useState([]),[h,f]=x.useState(!0),[p,g]=x.useState(0),[v,y]=x.useState(0),[w,j]=x.useState(!1),[k,S]=x.useState(!1),[E,A]=x.useState(null),[T,_]=x.useState(null),[M,P]=x.useState(null),O=t()||e(),H=async()=>{f(!0);try{const re={page:o.page,size:o.size,search:o.search||void 0,role:o.role!=="all"?o.role:void 0,status:o.status!=="all"?o.status:void 0},he=await fi.getUsers(re);u(he.items),g(he.total),y(he.pages)}catch(re){console.error("Failed to fetch users:",re);const he=(re==null?void 0:re.message)||"Gagal memuat data pengguna. Silakan coba lagi.";n({title:"Error",description:he,variant:"destructive"})}finally{f(!1)}};x.useEffect(()=>{O&&H()},[o.page,o.size,o.search,o.role,o.status,O]);const Y=re=>{_(re),S(!0)},R=re=>{if(!z()){const he=re.role==="SUPER_ADMIN"?"Super Admin tidak dapat diubah untuk keamanan sistem.":"Anda tidak memiliki akses untuk mengedit user ini.";n({title:"Akses Ditolak",description:he,variant:"destructive"});return}A(re),j(!0)},X=re=>{if(!Q()){const he=re.role==="SUPER_ADMIN"?"Super Admin tidak dapat dihapus untuk keamanan sistem.":"Anda tidak memiliki akses untuk menghapus user ini.";n({title:"Akses Ditolak",description:he,variant:"destructive"});return}P(re)},z=()=>!!(e()||t()),Q=()=>e()?!1:z(),ne=async()=>{var re;if(M)try{await fi.deleteUser(M.id),P(null),H(),n({title:"User berhasil dihapus",description:`User ${((re=M.profile)==null?void 0:re.name)||M.display_name} telah dihapus dari sistem.`,variant:"default"})}catch(he){console.error("Failed to delete user:",he);const ce=(he==null?void 0:he.message)||"Gagal menghapus pengguna. Silakan coba lagi.";n({title:"Error",description:ce,variant:"destructive"})}},L=()=>{A(null),j(!0)},F=async re=>{var he,ce;try{E?(await fi.updateUser(E.id,re),n({title:"User berhasil diperbarui",description:`Data user ${((he=re.profile)==null?void 0:he.name)||"pengguna"} telah diperbarui.`,variant:"default"})):(await fi.createUser(re),n({title:"User berhasil dibuat",description:`User ${((ce=re.profile)==null?void 0:ce.name)||"pengguna"} telah ditambahkan ke sistem.`,variant:"default"})),j(!1),A(null),H()}catch(Ee){console.error("Failed to save user:",Ee);const be=(Ee==null?void 0:Ee.message)||"Gagal menyimpan pengguna. Silakan coba lagi.";n({title:"Error",description:be,variant:"destructive"})}},V=re=>{a({size:parseInt(re),page:1})},K=x.useCallback(re=>{re!==o.search&&a({search:re,page:1})},[a,o.search]),ae=x.useCallback(re=>{re!==o.role&&a({role:re,page:1})},[a,o.role]),G=x.useCallback(re=>{re!==o.status&&a({status:re,page:1})},[a,o.status]),B=re=>{a({page:re})},W=j4(),$=()=>{let re="Daftar Pengguna";const he=[];if(o.role!=="all"){const ce=W.find(Ee=>Ee.value===o.role);ce&&he.push(ce.label)}return o.status!=="all"&&he.push(o.status===Oa.ACTIVE?"Aktif":"Tidak Aktif"),he.length>0&&(re+=" - "+he.join(" - ")),re};return O?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ms,{title:"Manajemen Pengguna",description:"Kelola pengguna sistem, peran, dan hak akses",actions:s.jsxs(pe,{onClick:L,children:[s.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Tambah User"]})}),s.jsxs(Ur,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"role-filter",children:"Role"}),s.jsxs(zt,{value:o.role,onValueChange:ae,children:[s.jsx(Pt,{id:"role-filter",children:s.jsx(Ut,{placeholder:"Pilih role"})}),s.jsxs(Ot,{children:[s.jsx(Ie,{value:"all",children:"Semua Role"}),W.map(re=>s.jsx(Ie,{value:re.value,children:re.label},re.value))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"status-filter",children:"Status"}),s.jsxs(zt,{value:o.status,onValueChange:G,children:[s.jsx(Pt,{id:"status-filter",children:s.jsx(Ut,{placeholder:"Pilih status"})}),s.jsxs(Ot,{children:[s.jsx(Ie,{value:"all",children:"Semua Status"}),s.jsx(Ie,{value:Oa.ACTIVE,children:"Aktif"}),s.jsx(Ie,{value:Oa.INACTIVE,children:"Tidak Aktif"})]})]})]})]}),s.jsx(Ne,{children:s.jsx(Se,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(hr,{title:$(),subtitle:"Kelola pengguna sistem, peran, dan hak akses"}),s.jsx(Hr,{searchQuery:o.search,onSearchChange:K,placeholder:"Cari nama, email, NIP, atau telepon..."}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(Gq,{users:c,loading:h,onView:Y,onEdit:R,onDelete:X,canModifyUser:z,canDeleteUser:Q})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(Kq,{users:c,loading:h,onView:Y,onEdit:R,onDelete:X,canModifyUser:z,canDeleteUser:Q})}),v>1&&s.jsx(Ua,{currentPage:o.page,totalPages:v,itemsPerPage:o.size,totalItems:p,onPageChange:B,onItemsPerPageChange:V})]})})}),s.jsx(Xq,{open:w,onOpenChange:j,editingUser:E,onSave:F}),T&&s.jsx(un,{open:k,onOpenChange:S,children:s.jsxs(dn,{className:"max-w-2xl",children:[s.jsx(hn,{children:s.jsx(fn,{children:"Detail User"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Pe,{children:"Nama"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:((q=T.profile)==null?void 0:q.name)||T.display_name})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Email"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:T.email})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Status"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:T.status})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Role"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:o1(T.role)})]}),((ee=T.profile)==null?void 0:ee.phone)&&s.jsxs("div",{children:[s.jsx(Pe,{children:"Telepon"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:T.profile.phone})]}),((te=T.profile)==null?void 0:te.position)&&s.jsxs("div",{children:[s.jsx(Pe,{children:"Posisi"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:T.profile.position})]}),((ie=T.profile)==null?void 0:ie.address)&&s.jsxs("div",{children:[s.jsx(Pe,{children:"Alamat"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:T.profile.address})]})]})]})}),s.jsx(cs,{open:!!M,onOpenChange:()=>P(null),children:s.jsxs(Wn,{children:[s.jsxs(Zn,{children:[s.jsx(Jn,{children:"Konfirmasi Hapus"}),s.jsxs(es,{children:["Tindakan ini tidak dapat dibatalkan. User"," ",s.jsx("span",{className:"font-semibold",children:((de=M==null?void 0:M.profile)==null?void 0:de.name)||(M==null?void 0:M.display_name)})," akan dihapus secara permanen dari sistem."]})]}),s.jsxs(Qn,{children:[s.jsx(ns,{children:"Batal"}),s.jsx(ts,{onClick:ne,className:"bg-red-600 hover:bg-red-700",children:"Hapus User"})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki akses untuk melihat halaman ini."})]})})},F4=t=>{if(typeof window>"u")return t.replace(/<[^>]*>/g,"");const e=document.createElement("DIV");return e.innerHTML=t,e.textContent||e.innerText||""},FE=t=>F4(t).trim().length===0,dH=(t,e)=>{const n=F4(t);return e&&n.length>e?n.substring(0,e)+"...":n},hH=(t,e={})=>{const{isDetailView:n=!1,maxLength:a=150,className:i=""}=e;return t?n?{content:t,isEmpty:FE(t),isHtml:!0,className:`rich-text-content ${i}`}:{content:dH(t,a),isEmpty:FE(t),isHtml:!1,className:i}:{content:"",isEmpty:!0,isHtml:!1}};function qn({content:t="",isDetailView:e=!1,maxLength:n=150,className:a="",fallback:i="No description available"}){const o=hH(t,{isDetailView:e,maxLength:n,className:a});return o.isEmpty?s.jsx("span",{className:ge("text-muted-foreground italic",a),children:i}):o.isHtml&&e?s.jsx("div",{className:ge("prose prose-sm max-w-none","prose-headings:font-semibold prose-headings:text-foreground","prose-p:text-foreground prose-p:leading-relaxed","prose-strong:text-foreground prose-strong:font-semibold","prose-ul:text-foreground prose-ol:text-foreground","prose-li:text-foreground","prose-blockquote:text-muted-foreground prose-blockquote:border-l-border","prose-code:text-foreground prose-code:bg-muted prose-code:px-1 prose-code:py-0.5 prose-code:rounded",o.className),dangerouslySetInnerHTML:{__html:o.content}}):s.jsx("span",{className:ge("leading-relaxed",o.className),children:o.content})}const fH=({organizations:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>s.jsx("div",{className:"rounded-md border",children:s.jsxs(Gs,{children:[s.jsx(Ks,{children:s.jsxs(rt,{children:[s.jsx(_e,{children:"Sekolah"}),s.jsx(_e,{children:"Deskripsi"}),s.jsx(_e,{children:"Pengguna"}),s.jsx(_e,{children:"Dibuat"}),s.jsx(_e,{className:"text-right",children:"Aksi"})]})}),s.jsx(Xs,{children:e?s.jsx(rt,{children:s.jsx(Ae,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Memuat Sekolah..."})}):t.length===0?s.jsx(rt,{children:s.jsx(Ae,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Tidak ada Sekolah ditemukan"})}):t.map(o=>s.jsxs(rt,{children:[s.jsx(Ae,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[o.img_url?s.jsx("img",{src:dd(o.img_url,48),alt:o.name,className:"w-8 h-8 rounded object-cover"}):s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-muted rounded",children:s.jsx(Ds,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:o.name}),o.head_name&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:["Kepala: ",o.head_name]})]})]})}),s.jsx(Ae,{children:s.jsx(qn,{content:o.excerpt||o.description,isDetailView:!1,maxLength:80,fallback:"Tidak ada deskripsi"})}),s.jsxs(Ae,{className:"text-center flex",children:[s.jsx(Ds,{className:"w-4"}),s.jsxs("span",{children:["  ",o.user_count]})]}),s.jsx(Ae,{children:vn(new Date(o.created_at),"dd MMM yyyy",{locale:yn})}),s.jsx(Ae,{className:"text-right",children:s.jsx(gn,{onView:()=>i(o),onEdit:()=>n(o),onDelete:()=>a(o)})})]},o.id))})]})}),mH=({organizations:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>{const o=u=>s.jsxs(Mt,{variant:u>0?"default":"secondary",className:"text-xs",children:[u," pengguna"]}),c=u=>s.jsx(Mt,{variant:u?"default":"outline",className:"text-xs",children:u||"Belum ada kepala"});return e?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Memuat Sekolah..."}):t.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Tidak ada Sekolah ditemukan"}):s.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(u=>s.jsx(Ne,{className:"hover:shadow-md transition-shadow",children:s.jsxs(Se,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[u.img_url?s.jsx("img",{src:dd(u.img_url,64),alt:u.name,className:"w-10 h-10 rounded-full object-cover"}):s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-muted rounded-full",children:s.jsx(ol,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm",children:u.name}),s.jsx("div",{className:"flex items-center space-x-2 mt-1",children:o(u.user_count)})]})]}),s.jsx(gn,{onView:()=>i(u),onEdit:()=>n(u),onDelete:()=>a(u)})]}),(u.description||u.excerpt)&&s.jsxs("div",{className:"flex items-start space-x-2 text-sm text-muted-foreground mb-2",children:[s.jsx(pa,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),s.jsx("div",{className:"line-clamp-2",children:s.jsx(qn,{content:u.excerpt||u.description,isDetailView:!1,maxLength:100,fallback:"Tidak ada deskripsi"})})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground mb-2",children:[s.jsx(ll,{className:"w-4 h-4"}),s.jsx("span",{children:u.head_name||"Belum ada kepala"})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground mb-3",children:[s.jsx(Ds,{className:"w-4 h-4"}),s.jsxs("span",{children:[u.user_count," pengguna"]})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Status Kepala:"}),c(u.head_name)]}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground pt-2 border-t",children:[s.jsx(pr,{className:"w-3 h-3"}),s.jsxs("span",{children:["Dibuat: ",vn(new Date(u.created_at),"dd MMM yyyy",{locale:yn})]}),u.updated_at&&s.jsxs("span",{className:"ml-auto",children:["Diperbarui: ",vn(new Date(u.updated_at),"dd MMM",{locale:yn})]})]})]})},u.id))})},vr=x.forwardRef(({className:t,...e},n)=>s.jsx("textarea",{className:ge("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));vr.displayName="Textarea";var V4=typeof global=="object"&&global&&global.Object===Object&&global,pH=typeof self=="object"&&self&&self.Object===Object&&self,Ci=V4||pH||Function("return this")(),ul=Ci.Symbol,q4=Object.prototype,gH=q4.hasOwnProperty,xH=q4.toString,jh=ul?ul.toStringTag:void 0;function vH(t){var e=gH.call(t,jh),n=t[jh];try{t[jh]=void 0;var a=!0}catch{}var i=xH.call(t);return a&&(e?t[jh]=n:delete t[jh]),i}var bH=Object.prototype,yH=bH.toString;function jH(t){return yH.call(t)}var wH="[object Null]",NH="[object Undefined]",VE=ul?ul.toStringTag:void 0;function fd(t){return t==null?t===void 0?NH:wH:VE&&VE in Object(t)?vH(t):jH(t)}function ao(t){return t!=null&&typeof t=="object"}var lc=Array.isArray;function vl(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}function H4(t){return t}var SH="[object AsyncFunction]",kH="[object Function]",EH="[object GeneratorFunction]",AH="[object Proxy]";function l1(t){if(!vl(t))return!1;var e=fd(t);return e==kH||e==EH||e==SH||e==AH}var ny=Ci["__core-js_shared__"],qE=function(){var t=/[^.]+$/.exec(ny&&ny.keys&&ny.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function CH(t){return!!qE&&qE in t}var TH=Function.prototype,_H=TH.toString;function vc(t){if(t!=null){try{return _H.call(t)}catch{}try{return t+""}catch{}}return""}var RH=/[\\^$.*+?()[\]{}|]/g,DH=/^\[object .+?Constructor\]$/,MH=Function.prototype,PH=Object.prototype,OH=MH.toString,LH=PH.hasOwnProperty,IH=RegExp("^"+OH.call(LH).replace(RH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function BH(t){if(!vl(t)||CH(t))return!1;var e=l1(t)?IH:DH;return e.test(vc(t))}function zH(t,e){return t==null?void 0:t[e]}function bc(t,e){var n=zH(t,e);return BH(n)?n:void 0}var d0=bc(Ci,"WeakMap"),HE=Object.create,UH=function(){function t(){}return function(e){if(!vl(e))return{};if(HE)return HE(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function $H(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function FH(t,e){var n=-1,a=t.length;for(e||(e=Array(a));++n<a;)e[n]=t[n];return e}var VH=800,qH=16,HH=Date.now;function GH(t){var e=0,n=0;return function(){var a=HH(),i=qH-(a-n);if(n=a,i>0){if(++e>=VH)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function KH(t){return function(){return t}}var yg=function(){try{var t=bc(Object,"defineProperty");return t({},"",{}),t}catch{}}(),YH=yg?function(t,e){return yg(t,"toString",{configurable:!0,enumerable:!1,value:KH(e),writable:!0})}:H4,XH=GH(YH);function WH(t,e){for(var n=-1,a=t==null?0:t.length;++n<a&&e(t[n],n,t)!==!1;);return t}var ZH=9007199254740991,QH=/^(?:0|[1-9]\d*)$/;function G4(t,e){var n=typeof t;return e=e??ZH,!!e&&(n=="number"||n!="symbol"&&QH.test(t))&&t>-1&&t%1==0&&t<e}function c1(t,e,n){e=="__proto__"&&yg?yg(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function qf(t,e){return t===e||t!==t&&e!==e}var JH=Object.prototype,eG=JH.hasOwnProperty;function K4(t,e,n){var a=t[e];(!(eG.call(t,e)&&qf(a,n))||n===void 0&&!(e in t))&&c1(t,e,n)}function tG(t,e,n,a){var i=!n;n||(n={});for(var o=-1,c=e.length;++o<c;){var u=e[o],h=void 0;h===void 0&&(h=t[u]),i?c1(n,u,h):K4(n,u,h)}return n}var GE=Math.max;function nG(t,e,n){return e=GE(e===void 0?t.length-1:e,0),function(){for(var a=arguments,i=-1,o=GE(a.length-e,0),c=Array(o);++i<o;)c[i]=a[e+i];i=-1;for(var u=Array(e+1);++i<e;)u[i]=a[i];return u[e]=n(c),$H(t,this,u)}}function sG(t,e){return XH(nG(t,e,H4),t+"")}var aG=9007199254740991;function Y4(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=aG}function px(t){return t!=null&&Y4(t.length)&&!l1(t)}function rG(t,e,n){if(!vl(n))return!1;var a=typeof e;return(a=="number"?px(n)&&G4(e,n.length):a=="string"&&e in n)?qf(n[e],t):!1}function iG(t){return sG(function(e,n){var a=-1,i=n.length,o=i>1?n[i-1]:void 0,c=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,c&&rG(n[0],n[1],c)&&(o=i<3?void 0:o,i=1),e=Object(e);++a<i;){var u=n[a];u&&t(e,u,a,o)}return e})}var oG=Object.prototype;function u1(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||oG;return t===n}function lG(t,e){for(var n=-1,a=Array(t);++n<t;)a[n]=e(n);return a}var cG="[object Arguments]";function KE(t){return ao(t)&&fd(t)==cG}var X4=Object.prototype,uG=X4.hasOwnProperty,dG=X4.propertyIsEnumerable,h0=KE(function(){return arguments}())?KE:function(t){return ao(t)&&uG.call(t,"callee")&&!dG.call(t,"callee")};function hG(){return!1}var W4=typeof La=="object"&&La&&!La.nodeType&&La,YE=W4&&typeof Ia=="object"&&Ia&&!Ia.nodeType&&Ia,fG=YE&&YE.exports===W4,XE=fG?Ci.Buffer:void 0,mG=XE?XE.isBuffer:void 0,cf=mG||hG,pG="[object Arguments]",gG="[object Array]",xG="[object Boolean]",vG="[object Date]",bG="[object Error]",yG="[object Function]",jG="[object Map]",wG="[object Number]",NG="[object Object]",SG="[object RegExp]",kG="[object Set]",EG="[object String]",AG="[object WeakMap]",CG="[object ArrayBuffer]",TG="[object DataView]",_G="[object Float32Array]",RG="[object Float64Array]",DG="[object Int8Array]",MG="[object Int16Array]",PG="[object Int32Array]",OG="[object Uint8Array]",LG="[object Uint8ClampedArray]",IG="[object Uint16Array]",BG="[object Uint32Array]",mn={};mn[_G]=mn[RG]=mn[DG]=mn[MG]=mn[PG]=mn[OG]=mn[LG]=mn[IG]=mn[BG]=!0;mn[pG]=mn[gG]=mn[CG]=mn[xG]=mn[TG]=mn[vG]=mn[bG]=mn[yG]=mn[jG]=mn[wG]=mn[NG]=mn[SG]=mn[kG]=mn[EG]=mn[AG]=!1;function zG(t){return ao(t)&&Y4(t.length)&&!!mn[fd(t)]}function d1(t){return function(e){return t(e)}}var Z4=typeof La=="object"&&La&&!La.nodeType&&La,$h=Z4&&typeof Ia=="object"&&Ia&&!Ia.nodeType&&Ia,UG=$h&&$h.exports===Z4,sy=UG&&V4.process,Wu=function(){try{var t=$h&&$h.require&&$h.require("util").types;return t||sy&&sy.binding&&sy.binding("util")}catch{}}(),WE=Wu&&Wu.isTypedArray,h1=WE?d1(WE):zG,$G=Object.prototype,FG=$G.hasOwnProperty;function Q4(t,e){var n=lc(t),a=!n&&h0(t),i=!n&&!a&&cf(t),o=!n&&!a&&!i&&h1(t),c=n||a||i||o,u=c?lG(t.length,String):[],h=u.length;for(var f in t)(e||FG.call(t,f))&&!(c&&(f=="length"||i&&(f=="offset"||f=="parent")||o&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||G4(f,h)))&&u.push(f);return u}function J4(t,e){return function(n){return t(e(n))}}var VG=J4(Object.keys,Object),qG=Object.prototype,HG=qG.hasOwnProperty;function GG(t){if(!u1(t))return VG(t);var e=[];for(var n in Object(t))HG.call(t,n)&&n!="constructor"&&e.push(n);return e}function KG(t){return px(t)?Q4(t):GG(t)}function YG(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var XG=Object.prototype,WG=XG.hasOwnProperty;function ZG(t){if(!vl(t))return YG(t);var e=u1(t),n=[];for(var a in t)a=="constructor"&&(e||!WG.call(t,a))||n.push(a);return n}function eM(t){return px(t)?Q4(t,!0):ZG(t)}var uf=bc(Object,"create");function QG(){this.__data__=uf?uf(null):{},this.size=0}function JG(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var eK="__lodash_hash_undefined__",tK=Object.prototype,nK=tK.hasOwnProperty;function sK(t){var e=this.__data__;if(uf){var n=e[t];return n===eK?void 0:n}return nK.call(e,t)?e[t]:void 0}var aK=Object.prototype,rK=aK.hasOwnProperty;function iK(t){var e=this.__data__;return uf?e[t]!==void 0:rK.call(e,t)}var oK="__lodash_hash_undefined__";function lK(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=uf&&e===void 0?oK:e,this}function cc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var a=t[e];this.set(a[0],a[1])}}cc.prototype.clear=QG;cc.prototype.delete=JG;cc.prototype.get=sK;cc.prototype.has=iK;cc.prototype.set=lK;function cK(){this.__data__=[],this.size=0}function gx(t,e){for(var n=t.length;n--;)if(qf(t[n][0],e))return n;return-1}var uK=Array.prototype,dK=uK.splice;function hK(t){var e=this.__data__,n=gx(e,t);if(n<0)return!1;var a=e.length-1;return n==a?e.pop():dK.call(e,n,1),--this.size,!0}function fK(t){var e=this.__data__,n=gx(e,t);return n<0?void 0:e[n][1]}function mK(t){return gx(this.__data__,t)>-1}function pK(t,e){var n=this.__data__,a=gx(n,t);return a<0?(++this.size,n.push([t,e])):n[a][1]=e,this}function uo(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var a=t[e];this.set(a[0],a[1])}}uo.prototype.clear=cK;uo.prototype.delete=hK;uo.prototype.get=fK;uo.prototype.has=mK;uo.prototype.set=pK;var df=bc(Ci,"Map");function gK(){this.size=0,this.__data__={hash:new cc,map:new(df||uo),string:new cc}}function xK(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function xx(t,e){var n=t.__data__;return xK(e)?n[typeof e=="string"?"string":"hash"]:n.map}function vK(t){var e=xx(this,t).delete(t);return this.size-=e?1:0,e}function bK(t){return xx(this,t).get(t)}function yK(t){return xx(this,t).has(t)}function jK(t,e){var n=xx(this,t),a=n.size;return n.set(t,e),this.size+=n.size==a?0:1,this}function yc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var a=t[e];this.set(a[0],a[1])}}yc.prototype.clear=gK;yc.prototype.delete=vK;yc.prototype.get=bK;yc.prototype.has=yK;yc.prototype.set=jK;function wK(t,e){for(var n=-1,a=e.length,i=t.length;++n<a;)t[i+n]=e[n];return t}var tM=J4(Object.getPrototypeOf,Object),NK="[object Object]",SK=Function.prototype,kK=Object.prototype,nM=SK.toString,EK=kK.hasOwnProperty,AK=nM.call(Object);function CK(t){if(!ao(t)||fd(t)!=NK)return!1;var e=tM(t);if(e===null)return!0;var n=EK.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&nM.call(n)==AK}function TK(){this.__data__=new uo,this.size=0}function _K(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function RK(t){return this.__data__.get(t)}function DK(t){return this.__data__.has(t)}var MK=200;function PK(t,e){var n=this.__data__;if(n instanceof uo){var a=n.__data__;if(!df||a.length<MK-1)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new yc(a)}return n.set(t,e),this.size=n.size,this}function pi(t){var e=this.__data__=new uo(t);this.size=e.size}pi.prototype.clear=TK;pi.prototype.delete=_K;pi.prototype.get=RK;pi.prototype.has=DK;pi.prototype.set=PK;var sM=typeof La=="object"&&La&&!La.nodeType&&La,ZE=sM&&typeof Ia=="object"&&Ia&&!Ia.nodeType&&Ia,OK=ZE&&ZE.exports===sM,QE=OK?Ci.Buffer:void 0,JE=QE?QE.allocUnsafe:void 0;function aM(t,e){if(e)return t.slice();var n=t.length,a=JE?JE(n):new t.constructor(n);return t.copy(a),a}function LK(t,e){for(var n=-1,a=t==null?0:t.length,i=0,o=[];++n<a;){var c=t[n];e(c,n,t)&&(o[i++]=c)}return o}function IK(){return[]}var BK=Object.prototype,zK=BK.propertyIsEnumerable,e2=Object.getOwnPropertySymbols,UK=e2?function(t){return t==null?[]:(t=Object(t),LK(e2(t),function(e){return zK.call(t,e)}))}:IK;function $K(t,e,n){var a=e(t);return lc(t)?a:wK(a,n(t))}function f0(t){return $K(t,KG,UK)}var m0=bc(Ci,"DataView"),p0=bc(Ci,"Promise"),g0=bc(Ci,"Set"),t2="[object Map]",FK="[object Object]",n2="[object Promise]",s2="[object Set]",a2="[object WeakMap]",r2="[object DataView]",VK=vc(m0),qK=vc(df),HK=vc(p0),GK=vc(g0),KK=vc(d0),Dr=fd;(m0&&Dr(new m0(new ArrayBuffer(1)))!=r2||df&&Dr(new df)!=t2||p0&&Dr(p0.resolve())!=n2||g0&&Dr(new g0)!=s2||d0&&Dr(new d0)!=a2)&&(Dr=function(t){var e=fd(t),n=e==FK?t.constructor:void 0,a=n?vc(n):"";if(a)switch(a){case VK:return r2;case qK:return t2;case HK:return n2;case GK:return s2;case KK:return a2}return e});var YK=Object.prototype,XK=YK.hasOwnProperty;function WK(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&XK.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var jg=Ci.Uint8Array;function f1(t){var e=new t.constructor(t.byteLength);return new jg(e).set(new jg(t)),e}function ZK(t,e){var n=f1(t.buffer);return new t.constructor(n,t.byteOffset,t.byteLength)}var QK=/\w*$/;function JK(t){var e=new t.constructor(t.source,QK.exec(t));return e.lastIndex=t.lastIndex,e}var i2=ul?ul.prototype:void 0,o2=i2?i2.valueOf:void 0;function eY(t){return o2?Object(o2.call(t)):{}}function rM(t,e){var n=e?f1(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var tY="[object Boolean]",nY="[object Date]",sY="[object Map]",aY="[object Number]",rY="[object RegExp]",iY="[object Set]",oY="[object String]",lY="[object Symbol]",cY="[object ArrayBuffer]",uY="[object DataView]",dY="[object Float32Array]",hY="[object Float64Array]",fY="[object Int8Array]",mY="[object Int16Array]",pY="[object Int32Array]",gY="[object Uint8Array]",xY="[object Uint8ClampedArray]",vY="[object Uint16Array]",bY="[object Uint32Array]";function yY(t,e,n){var a=t.constructor;switch(e){case cY:return f1(t);case tY:case nY:return new a(+t);case uY:return ZK(t);case dY:case hY:case fY:case mY:case pY:case gY:case xY:case vY:case bY:return rM(t,n);case sY:return new a;case aY:case oY:return new a(t);case rY:return JK(t);case iY:return new a;case lY:return eY(t)}}function iM(t){return typeof t.constructor=="function"&&!u1(t)?UH(tM(t)):{}}var jY="[object Map]";function wY(t){return ao(t)&&Dr(t)==jY}var l2=Wu&&Wu.isMap,NY=l2?d1(l2):wY,SY="[object Set]";function kY(t){return ao(t)&&Dr(t)==SY}var c2=Wu&&Wu.isSet,EY=c2?d1(c2):kY,AY=1,oM="[object Arguments]",CY="[object Array]",TY="[object Boolean]",_Y="[object Date]",RY="[object Error]",lM="[object Function]",DY="[object GeneratorFunction]",MY="[object Map]",PY="[object Number]",cM="[object Object]",OY="[object RegExp]",LY="[object Set]",IY="[object String]",BY="[object Symbol]",zY="[object WeakMap]",UY="[object ArrayBuffer]",$Y="[object DataView]",FY="[object Float32Array]",VY="[object Float64Array]",qY="[object Int8Array]",HY="[object Int16Array]",GY="[object Int32Array]",KY="[object Uint8Array]",YY="[object Uint8ClampedArray]",XY="[object Uint16Array]",WY="[object Uint32Array]",cn={};cn[oM]=cn[CY]=cn[UY]=cn[$Y]=cn[TY]=cn[_Y]=cn[FY]=cn[VY]=cn[qY]=cn[HY]=cn[GY]=cn[MY]=cn[PY]=cn[cM]=cn[OY]=cn[LY]=cn[IY]=cn[BY]=cn[KY]=cn[YY]=cn[XY]=cn[WY]=!0;cn[RY]=cn[lM]=cn[zY]=!1;function Yp(t,e,n,a,i,o){var c,u=e&AY;if(c!==void 0)return c;if(!vl(t))return t;var h=lc(t);if(h)c=WK(t);else{var f=Dr(t),p=f==lM||f==DY;if(cf(t))return aM(t,u);if(f==cM||f==oM||p&&!i)c=p?{}:iM(t);else{if(!cn[f])return i?t:{};c=yY(t,f,u)}}o||(o=new pi);var g=o.get(t);if(g)return g;o.set(t,c),EY(t)?t.forEach(function(w){c.add(Yp(w,e,n,w,t,o))}):NY(t)&&t.forEach(function(w,j){c.set(j,Yp(w,e,n,j,t,o))});var v=f0,y=h?void 0:v(t);return WH(y||t,function(w,j){y&&(j=w,w=t[j]),K4(c,j,Yp(w,e,n,j,t,o))}),c}var ZY=1,QY=4;function Uu(t){return Yp(t,ZY|QY)}var JY="__lodash_hash_undefined__";function eX(t){return this.__data__.set(t,JY),this}function tX(t){return this.__data__.has(t)}function wg(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new yc;++e<n;)this.add(t[e])}wg.prototype.add=wg.prototype.push=eX;wg.prototype.has=tX;function nX(t,e){for(var n=-1,a=t==null?0:t.length;++n<a;)if(e(t[n],n,t))return!0;return!1}function sX(t,e){return t.has(e)}var aX=1,rX=2;function uM(t,e,n,a,i,o){var c=n&aX,u=t.length,h=e.length;if(u!=h&&!(c&&h>u))return!1;var f=o.get(t),p=o.get(e);if(f&&p)return f==e&&p==t;var g=-1,v=!0,y=n&rX?new wg:void 0;for(o.set(t,e),o.set(e,t);++g<u;){var w=t[g],j=e[g];if(a)var k=c?a(j,w,g,e,t,o):a(w,j,g,t,e,o);if(k!==void 0){if(k)continue;v=!1;break}if(y){if(!nX(e,function(S,E){if(!sX(y,E)&&(w===S||i(w,S,n,a,o)))return y.push(E)})){v=!1;break}}else if(!(w===j||i(w,j,n,a,o))){v=!1;break}}return o.delete(t),o.delete(e),v}function iX(t){var e=-1,n=Array(t.size);return t.forEach(function(a,i){n[++e]=[i,a]}),n}function oX(t){var e=-1,n=Array(t.size);return t.forEach(function(a){n[++e]=a}),n}var lX=1,cX=2,uX="[object Boolean]",dX="[object Date]",hX="[object Error]",fX="[object Map]",mX="[object Number]",pX="[object RegExp]",gX="[object Set]",xX="[object String]",vX="[object Symbol]",bX="[object ArrayBuffer]",yX="[object DataView]",u2=ul?ul.prototype:void 0,ay=u2?u2.valueOf:void 0;function jX(t,e,n,a,i,o,c){switch(n){case yX:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case bX:return!(t.byteLength!=e.byteLength||!o(new jg(t),new jg(e)));case uX:case dX:case mX:return qf(+t,+e);case hX:return t.name==e.name&&t.message==e.message;case pX:case xX:return t==e+"";case fX:var u=iX;case gX:var h=a&lX;if(u||(u=oX),t.size!=e.size&&!h)return!1;var f=c.get(t);if(f)return f==e;a|=cX,c.set(t,e);var p=uM(u(t),u(e),a,i,o,c);return c.delete(t),p;case vX:if(ay)return ay.call(t)==ay.call(e)}return!1}var wX=1,NX=Object.prototype,SX=NX.hasOwnProperty;function kX(t,e,n,a,i,o){var c=n&wX,u=f0(t),h=u.length,f=f0(e),p=f.length;if(h!=p&&!c)return!1;for(var g=h;g--;){var v=u[g];if(!(c?v in e:SX.call(e,v)))return!1}var y=o.get(t),w=o.get(e);if(y&&w)return y==e&&w==t;var j=!0;o.set(t,e),o.set(e,t);for(var k=c;++g<h;){v=u[g];var S=t[v],E=e[v];if(a)var A=c?a(E,S,v,e,t,o):a(S,E,v,t,e,o);if(!(A===void 0?S===E||i(S,E,n,a,o):A)){j=!1;break}k||(k=v=="constructor")}if(j&&!k){var T=t.constructor,_=e.constructor;T!=_&&"constructor"in t&&"constructor"in e&&!(typeof T=="function"&&T instanceof T&&typeof _=="function"&&_ instanceof _)&&(j=!1)}return o.delete(t),o.delete(e),j}var EX=1,d2="[object Arguments]",h2="[object Array]",vp="[object Object]",AX=Object.prototype,f2=AX.hasOwnProperty;function CX(t,e,n,a,i,o){var c=lc(t),u=lc(e),h=c?h2:Dr(t),f=u?h2:Dr(e);h=h==d2?vp:h,f=f==d2?vp:f;var p=h==vp,g=f==vp,v=h==f;if(v&&cf(t)){if(!cf(e))return!1;c=!0,p=!1}if(v&&!p)return o||(o=new pi),c||h1(t)?uM(t,e,n,a,i,o):jX(t,e,h,n,a,i,o);if(!(n&EX)){var y=p&&f2.call(t,"__wrapped__"),w=g&&f2.call(e,"__wrapped__");if(y||w){var j=y?t.value():t,k=w?e.value():e;return o||(o=new pi),i(j,k,n,a,o)}}return v?(o||(o=new pi),kX(t,e,n,a,i,o)):!1}function dM(t,e,n,a,i){return t===e?!0:t==null||e==null||!ao(t)&&!ao(e)?t!==t&&e!==e:CX(t,e,n,a,dM,i)}function TX(t){return function(e,n,a){for(var i=-1,o=Object(e),c=a(e),u=c.length;u--;){var h=c[++i];if(n(o[h],h,o)===!1)break}return e}}var _X=TX();function x0(t,e,n){(n!==void 0&&!qf(t[e],n)||n===void 0&&!(e in t))&&c1(t,e,n)}function RX(t){return ao(t)&&px(t)}function v0(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function DX(t){return tG(t,eM(t))}function MX(t,e,n,a,i,o,c){var u=v0(t,n),h=v0(e,n),f=c.get(h);if(f){x0(t,n,f);return}var p=o?o(u,h,n+"",t,e,c):void 0,g=p===void 0;if(g){var v=lc(h),y=!v&&cf(h),w=!v&&!y&&h1(h);p=h,v||y||w?lc(u)?p=u:RX(u)?p=FH(u):y?(g=!1,p=aM(h,!0)):w?(g=!1,p=rM(h,!0)):p=[]:CK(h)||h0(h)?(p=u,h0(u)?p=DX(u):(!vl(u)||l1(u))&&(p=iM(h))):g=!1}g&&(c.set(h,p),i(p,h,a,o,c),c.delete(h)),x0(t,n,p)}function hM(t,e,n,a,i){t!==e&&_X(e,function(o,c){if(i||(i=new pi),vl(o))MX(t,e,c,n,hM,a,i);else{var u=a?a(v0(t,c),o,c+"",t,e,i):void 0;u===void 0&&(u=o),x0(t,c,u)}},eM)}function Ko(t,e){return dM(t,e)}var el=iG(function(t,e,n){hM(t,e,n)}),et=(t=>(t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY",t))(et||{});class wi{constructor(e,n,a={}){this.attrName=e,this.keyName=n;const i=et.TYPE&et.ATTRIBUTE;this.scope=a.scope!=null?a.scope&et.LEVEL|i:et.ATTRIBUTE,a.whitelist!=null&&(this.whitelist=a.whitelist)}static keys(e){return Array.from(e.attributes).map(n=>n.name)}add(e,n){return this.canAdd(e,n)?(e.setAttribute(this.keyName,n),!0):!1}canAdd(e,n){return this.whitelist==null?!0:typeof n=="string"?this.whitelist.indexOf(n.replace(/["']/g,""))>-1:this.whitelist.indexOf(n)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const n=e.getAttribute(this.keyName);return this.canAdd(e,n)&&n?n:""}}class $u extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const fM=class b0{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,n=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(n){let a=null;try{a=e.parentNode}catch{return null}return this.find(a,n)}return null}create(e,n,a){const i=this.query(n);if(i==null)throw new $u(`Unable to create ${n} blot`);const o=i,c=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:o.create(a),u=new o(e,c,a);return b0.blots.set(u.domNode,u),u}find(e,n=!1){return b0.find(e,n)}query(e,n=et.ANY){let a;return typeof e=="string"?a=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?a=this.types.text:typeof e=="number"?e&et.LEVEL&et.BLOCK?a=this.types.block:e&et.LEVEL&et.INLINE&&(a=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(i=>(a=this.classes[i],!!a)),a=a||this.tags[e.tagName]),a==null?null:"scope"in a&&n&et.LEVEL&a.scope&&n&et.TYPE&a.scope?a:null}register(...e){return e.map(n=>{const a="blotName"in n,i="attrName"in n;if(!a&&!i)throw new $u("Invalid definition");if(a&&n.blotName==="abstract")throw new $u("Cannot register abstract class");const o=a?n.blotName:i?n.attrName:void 0;return this.types[o]=n,i?typeof n.keyName=="string"&&(this.attributes[n.keyName]=n):a&&(n.className&&(this.classes[n.className]=n),n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map(c=>c.toUpperCase()):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach(c=>{(this.tags[c]==null||n.className==null)&&(this.tags[c]=n)}))),n})}};fM.blots=new WeakMap;let Zu=fM;function m2(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter(n=>n.indexOf(`${e}-`)===0)}class PX extends wi{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(n=>n.split("-").slice(0,-1).join("-"))}add(e,n){return this.canAdd(e,n)?(this.remove(e),e.classList.add(`${this.keyName}-${n}`),!0):!1}remove(e){m2(e,this.keyName).forEach(n=>{e.classList.remove(n)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const n=(m2(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,n)?n:""}}const Gr=PX;function ry(t){const e=t.split("-"),n=e.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("");return e[0]+n}class OX extends wi{static keys(e){return(e.getAttribute("style")||"").split(";").map(n=>n.split(":")[0].trim())}add(e,n){return this.canAdd(e,n)?(e.style[ry(this.keyName)]=n,!0):!1}remove(e){e.style[ry(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const n=e.style[ry(this.keyName)];return this.canAdd(e,n)?n:""}}const bl=OX;class LX{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,n){n?e.add(this.domNode,n)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Zu.find(this.domNode);if(e==null)return;const n=wi.keys(this.domNode),a=Gr.keys(this.domNode),i=bl.keys(this.domNode);n.concat(a).concat(i).forEach(o=>{const c=e.scroll.query(o,et.ATTRIBUTE);c instanceof wi&&(this.attributes[c.attrName]=c)})}copy(e){Object.keys(this.attributes).forEach(n=>{const a=this.attributes[n].value(this.domNode);e.format(n,a)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(n=>{this.attributes[n].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,n)=>(e[n]=this.attributes[n].value(this.domNode),e),{})}}const vx=LX,mM=class{constructor(e,n){this.scroll=e,this.domNode=n,Zu.blots.set(n,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new $u("Blot definition missing tagName");let n,a;return Array.isArray(this.tagName)?(typeof e=="string"?(a=e.toUpperCase(),parseInt(a,10).toString()===a&&(a=parseInt(a,10))):typeof e=="number"&&(a=e),typeof a=="number"?n=document.createElement(this.tagName[a-1]):a&&this.tagName.indexOf(a)>-1?n=document.createElement(a):n=document.createElement(this.tagName[0])):n=document.createElement(this.tagName),this.className&&n.classList.add(this.className),n}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),Zu.blots.delete(this.domNode)}deleteAt(e,n){this.isolate(e,n).remove()}formatAt(e,n,a,i){const o=this.isolate(e,n);if(this.scroll.query(a,et.BLOT)!=null&&i)o.wrap(a,i);else if(this.scroll.query(a,et.ATTRIBUTE)!=null){const c=this.scroll.create(this.statics.scope);o.wrap(c),c.format(a,i)}}insertAt(e,n,a){const i=a==null?this.scroll.create("text",n):this.scroll.create(n,a),o=this.split(e);this.parent.insertBefore(i,o||void 0)}isolate(e,n){const a=this.split(e);if(a==null)throw new Error("Attempt to isolate at end");return a.split(n),a}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,n){const a=typeof e=="string"?this.scroll.create(e,n):e;return this.parent!=null&&(this.parent.insertBefore(a,this.next||void 0),this.remove()),a}split(e,n){return e===0?this:this.next}update(e,n){}wrap(e,n){const a=typeof e=="string"?this.scroll.create(e,n):e;if(this.parent!=null&&this.parent.insertBefore(a,this.next||void 0),typeof a.appendChild!="function")throw new $u(`Cannot wrap ${e}`);return a.appendChild(this),a}};mM.blotName="abstract";let pM=mM;const gM=class extends pM{static value(e){return!0}index(e,n){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1}position(e,n){let a=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(a+=1),[this.parent.domNode,a]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};gM.scope=et.INLINE_BLOT;let IX=gM;const $s=IX;class BX{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const n=e.slice(1);this.append(...n)}}at(e){const n=this.iterator();let a=n();for(;a&&e>0;)e-=1,a=n();return a}contains(e){const n=this.iterator();let a=n();for(;a;){if(a===e)return!0;a=n()}return!1}indexOf(e){const n=this.iterator();let a=n(),i=0;for(;a;){if(a===e)return i;i+=1,a=n()}return-1}insertBefore(e,n){e!=null&&(this.remove(e),e.next=n,n!=null?(e.prev=n.prev,n.prev!=null&&(n.prev.next=e),n.prev=e,n===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let n=0,a=this.head;for(;a!=null;){if(a===e)return n;n+=a.length(),a=a.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const n=e;return e!=null&&(e=e.next),n}}find(e,n=!1){const a=this.iterator();let i=a();for(;i;){const o=i.length();if(e<o||n&&e===o&&(i.next==null||i.next.length()!==0))return[i,e];e-=o,i=a()}return[null,0]}forEach(e){const n=this.iterator();let a=n();for(;a;)e(a),a=n()}forEachAt(e,n,a){if(n<=0)return;const[i,o]=this.find(e);let c=e-o;const u=this.iterator(i);let h=u();for(;h&&c<e+n;){const f=h.length();e>c?a(h,e-c,Math.min(n,c+f-e)):a(h,0,Math.min(f,e+n-c)),c+=f,h=u()}}map(e){return this.reduce((n,a)=>(n.push(e(a)),n),[])}reduce(e,n){const a=this.iterator();let i=a();for(;i;)n=e(n,i),i=a();return n}}function p2(t,e){const n=e.find(t);if(n)return n;try{return e.create(t)}catch{const a=e.create(et.INLINE);return Array.from(t.childNodes).forEach(i=>{a.domNode.appendChild(i)}),t.parentNode&&t.parentNode.replaceChild(a.domNode,t),a.attach(),a}}const xM=class qo extends pM{constructor(e,n){super(e,n),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,qo.uiClass&&this.uiNode.classList.add(qo.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new BX,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const n=p2(e,this.scroll);this.insertBefore(n,this.children.head||void 0)}catch(n){if(n instanceof $u)return;throw n}})}deleteAt(e,n){if(e===0&&n===this.length())return this.remove();this.children.forEachAt(e,n,(a,i,o)=>{a.deleteAt(i,o)})}descendant(e,n=0){const[a,i]=this.children.find(n);return e.blotName==null&&e(a)||e.blotName!=null&&a instanceof e?[a,i]:a instanceof qo?a.descendant(e,i):[null,-1]}descendants(e,n=0,a=Number.MAX_VALUE){let i=[],o=a;return this.children.forEachAt(n,a,(c,u,h)=>{(e.blotName==null&&e(c)||e.blotName!=null&&c instanceof e)&&i.push(c),c instanceof qo&&(i=i.concat(c.descendants(e,u,o))),o-=h}),i}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(n=>{e||this.statics.allowedChildren.some(a=>n instanceof a)||(n.statics.scope===et.BLOCK_BLOT?(n.next!=null&&this.splitAfter(n),n.prev!=null&&this.splitAfter(n.prev),n.parent.unwrap(),e=!0):n instanceof qo?n.unwrap():n.remove())})}formatAt(e,n,a,i){this.children.forEachAt(e,n,(o,c,u)=>{o.formatAt(c,u,a,i)})}insertAt(e,n,a){const[i,o]=this.children.find(e);if(i)i.insertAt(o,n,a);else{const c=a==null?this.scroll.create("text",n):this.scroll.create(n,a);this.appendChild(c)}}insertBefore(e,n){e.parent!=null&&e.parent.children.remove(e);let a=null;this.children.insertBefore(e,n||null),e.parent=this,n!=null&&(a=n.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==a)&&this.domNode.insertBefore(e.domNode,a),e.attach()}length(){return this.children.reduce((e,n)=>e+n.length(),0)}moveChildren(e,n){this.children.forEach(a=>{e.insertBefore(a,n)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()}path(e,n=!1){const[a,i]=this.children.find(e,n),o=[[this,e]];return a instanceof qo?o.concat(a.path(i,n)):(a!=null&&o.push([a,i]),o)}removeChild(e){this.children.remove(e)}replaceWith(e,n){const a=typeof e=="string"?this.scroll.create(e,n):e;return a instanceof qo&&this.moveChildren(a),super.replaceWith(a)}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const a=this.clone();return this.parent&&this.parent.insertBefore(a,this.next||void 0),this.children.forEachAt(e,this.length(),(i,o,c)=>{const u=i.split(o,n);u!=null&&a.appendChild(u)}),a}splitAfter(e){const n=this.clone();for(;e.next!=null;)n.appendChild(e.next);return this.parent&&this.parent.insertBefore(n,this.next||void 0),n}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,n){const a=[],i=[];e.forEach(o=>{o.target===this.domNode&&o.type==="childList"&&(a.push(...o.addedNodes),i.push(...o.removedNodes))}),i.forEach(o=>{if(o.parentNode!=null&&o.tagName!=="IFRAME"&&document.body.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const c=this.scroll.find(o);c!=null&&(c.domNode.parentNode==null||c.domNode.parentNode===this.domNode)&&c.detach()}),a.filter(o=>o.parentNode===this.domNode&&o!==this.uiNode).sort((o,c)=>o===c?0:o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(o=>{let c=null;o.nextSibling!=null&&(c=this.scroll.find(o.nextSibling));const u=p2(o,this.scroll);(u.next!==c||u.next==null)&&(u.parent!=null&&u.parent.removeChild(this),this.insertBefore(u,c||void 0))}),this.enforceAllowedChildren()}};xM.uiClass="";let zX=xM;const Or=zX;function UX(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}const xu=class vu extends Or{static create(e){return super.create(e)}static formats(e,n){const a=n.query(vu.blotName);if(!(a!=null&&e.tagName===a.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new vx(this.domNode)}format(e,n){if(e===this.statics.blotName&&!n)this.children.forEach(a=>{a instanceof vu||(a=a.wrap(vu.blotName,!0)),this.attributes.copy(a)}),this.unwrap();else{const a=this.scroll.query(e,et.INLINE);if(a==null)return;a instanceof wi?this.attributes.attribute(a,n):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n)}}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,a,i){this.formats()[a]!=null||this.scroll.query(a,et.ATTRIBUTE)?this.isolate(e,n).format(a,i):super.formatAt(e,n,a,i)}optimize(e){super.optimize(e);const n=this.formats();if(Object.keys(n).length===0)return this.unwrap();const a=this.next;a instanceof vu&&a.prev===this&&UX(n,a.formats())&&(a.moveChildren(this),a.remove())}replaceWith(e,n){const a=super.replaceWith(e,n);return this.attributes.copy(a),a}update(e,n){super.update(e,n),e.some(a=>a.target===this.domNode&&a.type==="attributes")&&this.attributes.build()}wrap(e,n){const a=super.wrap(e,n);return a instanceof vu&&this.attributes.move(a),a}};xu.allowedChildren=[xu,$s],xu.blotName="inline",xu.scope=et.INLINE_BLOT,xu.tagName="SPAN";let $X=xu;const m1=$X,bu=class y0 extends Or{static create(e){return super.create(e)}static formats(e,n){const a=n.query(y0.blotName);if(!(a!=null&&e.tagName===a.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,n){super(e,n),this.attributes=new vx(this.domNode)}format(e,n){const a=this.scroll.query(e,et.BLOCK);a!=null&&(a instanceof wi?this.attributes.attribute(a,n):e===this.statics.blotName&&!n?this.replaceWith(y0.blotName):n&&(e!==this.statics.blotName||this.formats()[e]!==n)&&this.replaceWith(e,n))}formats(){const e=this.attributes.values(),n=this.statics.formats(this.domNode,this.scroll);return n!=null&&(e[this.statics.blotName]=n),e}formatAt(e,n,a,i){this.scroll.query(a,et.BLOCK)!=null?this.format(a,i):super.formatAt(e,n,a,i)}insertAt(e,n,a){if(a==null||this.scroll.query(n,et.INLINE)!=null)super.insertAt(e,n,a);else{const i=this.split(e);if(i!=null){const o=this.scroll.create(n,a);i.parent.insertBefore(o,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,n){const a=super.replaceWith(e,n);return this.attributes.copy(a),a}update(e,n){super.update(e,n),e.some(a=>a.target===this.domNode&&a.type==="attributes")&&this.attributes.build()}};bu.blotName="block",bu.scope=et.BLOCK_BLOT,bu.tagName="P",bu.allowedChildren=[m1,bu,$s];let FX=bu;const hf=FX,j0=class extends Or{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,n){super.deleteAt(e,n),this.enforceAllowedChildren()}formatAt(e,n,a,i){super.formatAt(e,n,a,i),this.enforceAllowedChildren()}insertAt(e,n,a){super.insertAt(e,n,a),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};j0.blotName="container",j0.scope=et.BLOCK_BLOT;let VX=j0;const bx=VX;class qX extends $s{static formats(e,n){}format(e,n){super.formatAt(0,this.length(),e,n)}formatAt(e,n,a,i){e===0&&n===this.length()?this.format(a,i):super.formatAt(e,n,a,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const $a=qX,HX={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},GX=100,yu=class extends Or{constructor(e,n){super(null,n),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(a=>{this.update(a)}),this.observer.observe(this.domNode,HX),this.attach()}create(e,n){return this.registry.create(this,e,n)}find(e,n=!1){const a=this.registry.find(e,n);return a?a.scroll===this?a:n?this.find(a.scroll.domNode.parentNode,!0):null:null}query(e,n=et.ANY){return this.registry.query(e,n)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,n){this.update(),e===0&&n===this.length()?this.children.forEach(a=>{a.remove()}):super.deleteAt(e,n)}formatAt(e,n,a,i){this.update(),super.formatAt(e,n,a,i)}insertAt(e,n,a){this.update(),super.insertAt(e,n,a)}optimize(e=[],n={}){super.optimize(n);const a=n.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)e.push(i.pop());const o=(h,f=!0)=>{h==null||h===this||h.domNode.parentNode!=null&&(a.has(h.domNode)||a.set(h.domNode,[]),f&&o(h.parent))},c=h=>{a.has(h.domNode)&&(h instanceof Or&&h.children.forEach(c),a.delete(h.domNode),h.optimize(n))};let u=e;for(let h=0;u.length>0;h+=1){if(h>=GX)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach(f=>{const p=this.find(f.target,!0);p!=null&&(p.domNode===f.target&&(f.type==="childList"?(o(this.find(f.previousSibling,!1)),Array.from(f.addedNodes).forEach(g=>{const v=this.find(g,!1);o(v,!1),v instanceof Or&&v.children.forEach(y=>{o(y,!1)})})):f.type==="attributes"&&o(p.prev)),o(p))}),this.children.forEach(c),u=Array.from(this.observer.takeRecords()),i=u.slice();i.length>0;)e.push(i.pop())}}update(e,n={}){e=e||this.observer.takeRecords();const a=new WeakMap;e.map(i=>{const o=this.find(i.target,!0);return o==null?null:a.has(o.domNode)?(a.get(o.domNode).push(i),null):(a.set(o.domNode,[i]),o)}).forEach(i=>{i!=null&&i!==this&&a.has(i.domNode)&&i.update(a.get(i.domNode)||[],n)}),n.mutationsMap=a,a.has(this.domNode)&&super.update(a.get(this.domNode),n),this.optimize(e,n)}};yu.blotName="scroll",yu.defaultChild=hf,yu.allowedChildren=[hf,bx],yu.scope=et.BLOCK_BLOT,yu.tagName="DIV";let KX=yu;const p1=KX,w0=class vM extends $s{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,n){super(e,n),this.text=this.statics.value(this.domNode)}deleteAt(e,n){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+n)}index(e,n){return this.domNode===e?n:-1}insertAt(e,n,a){a==null?(this.text=this.text.slice(0,e)+n+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,n,a)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof vM&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,n=!1){return[this.domNode,e]}split(e,n=!1){if(!n){if(e===0)return this;if(e===this.length())return this.next}const a=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(a,this.next||void 0),this.text=this.statics.value(this.domNode),a}update(e,n){e.some(a=>a.type==="characterData"&&a.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};w0.blotName="text",w0.scope=et.INLINE_BLOT;let YX=w0;const Ng=YX,XX=Object.freeze(Object.defineProperty({__proto__:null,Attributor:wi,AttributorStore:vx,BlockBlot:hf,ClassAttributor:Gr,ContainerBlot:bx,EmbedBlot:$a,InlineBlot:m1,LeafBlot:$s,ParentBlot:Or,Registry:Zu,Scope:et,ScrollBlot:p1,StyleAttributor:bl,TextBlot:Ng},Symbol.toStringTag,{value:"Module"}));var bp={exports:{}},iy,g2;function WX(){if(g2)return iy;g2=1;var t=-1,e=1,n=0;function a(R,X,z,Q,ne){if(R===X)return R?[[n,R]]:[];if(z!=null){var L=H(R,X,z);if(L)return L}var F=u(R,X),V=R.substring(0,F);R=R.substring(F),X=X.substring(F),F=f(R,X);var K=R.substring(R.length-F);R=R.substring(0,R.length-F),X=X.substring(0,X.length-F);var ae=i(R,X);return V&&ae.unshift([n,V]),K&&ae.push([n,K]),E(ae,ne),Q&&g(ae),ae}function i(R,X){var z;if(!R)return[[e,X]];if(!X)return[[t,R]];var Q=R.length>X.length?R:X,ne=R.length>X.length?X:R,L=Q.indexOf(ne);if(L!==-1)return z=[[e,Q.substring(0,L)],[n,ne],[e,Q.substring(L+ne.length)]],R.length>X.length&&(z[0][0]=z[2][0]=t),z;if(ne.length===1)return[[t,R],[e,X]];var F=p(R,X);if(F){var V=F[0],K=F[1],ae=F[2],G=F[3],B=F[4],W=a(V,ae),$=a(K,G);return W.concat([[n,B]],$)}return o(R,X)}function o(R,X){for(var z=R.length,Q=X.length,ne=Math.ceil((z+Q)/2),L=ne,F=2*ne,V=new Array(F),K=new Array(F),ae=0;ae<F;ae++)V[ae]=-1,K[ae]=-1;V[L+1]=0,K[L+1]=0;for(var G=z-Q,B=G%2!==0,W=0,$=0,q=0,ee=0,te=0;te<ne;te++){for(var ie=-te+W;ie<=te-$;ie+=2){var de=L+ie,re;ie===-te||ie!==te&&V[de-1]<V[de+1]?re=V[de+1]:re=V[de-1]+1;for(var he=re-ie;re<z&&he<Q&&R.charAt(re)===X.charAt(he);)re++,he++;if(V[de]=re,re>z)$+=2;else if(he>Q)W+=2;else if(B){var ce=L+G-ie;if(ce>=0&&ce<F&&K[ce]!==-1){var Ee=z-K[ce];if(re>=Ee)return c(R,X,re,he)}}}for(var be=-te+q;be<=te-ee;be+=2){var ce=L+be,Ee;be===-te||be!==te&&K[ce-1]<K[ce+1]?Ee=K[ce+1]:Ee=K[ce-1]+1;for(var De=Ee-be;Ee<z&&De<Q&&R.charAt(z-Ee-1)===X.charAt(Q-De-1);)Ee++,De++;if(K[ce]=Ee,Ee>z)ee+=2;else if(De>Q)q+=2;else if(!B){var de=L+G-be;if(de>=0&&de<F&&V[de]!==-1){var re=V[de],he=L+re-de;if(Ee=z-Ee,re>=Ee)return c(R,X,re,he)}}}}return[[t,R],[e,X]]}function c(R,X,z,Q){var ne=R.substring(0,z),L=X.substring(0,Q),F=R.substring(z),V=X.substring(Q),K=a(ne,L),ae=a(F,V);return K.concat(ae)}function u(R,X){if(!R||!X||R.charAt(0)!==X.charAt(0))return 0;for(var z=0,Q=Math.min(R.length,X.length),ne=Q,L=0;z<ne;)R.substring(L,ne)==X.substring(L,ne)?(z=ne,L=z):Q=ne,ne=Math.floor((Q-z)/2+z);return A(R.charCodeAt(ne-1))&&ne--,ne}function h(R,X){var z=R.length,Q=X.length;if(z==0||Q==0)return 0;z>Q?R=R.substring(z-Q):z<Q&&(X=X.substring(0,z));var ne=Math.min(z,Q);if(R==X)return ne;for(var L=0,F=1;;){var V=R.substring(ne-F),K=X.indexOf(V);if(K==-1)return L;F+=K,(K==0||R.substring(ne-F)==X.substring(0,F))&&(L=F,F++)}}function f(R,X){if(!R||!X||R.slice(-1)!==X.slice(-1))return 0;for(var z=0,Q=Math.min(R.length,X.length),ne=Q,L=0;z<ne;)R.substring(R.length-ne,R.length-L)==X.substring(X.length-ne,X.length-L)?(z=ne,L=z):Q=ne,ne=Math.floor((Q-z)/2+z);return T(R.charCodeAt(R.length-ne))&&ne--,ne}function p(R,X){var z=R.length>X.length?R:X,Q=R.length>X.length?X:R;if(z.length<4||Q.length*2<z.length)return null;function ne($,q,ee){for(var te=$.substring(ee,ee+Math.floor($.length/4)),ie=-1,de="",re,he,ce,Ee;(ie=q.indexOf(te,ie+1))!==-1;){var be=u($.substring(ee),q.substring(ie)),De=f($.substring(0,ee),q.substring(0,ie));de.length<De+be&&(de=q.substring(ie-De,ie)+q.substring(ie,ie+be),re=$.substring(0,ee-De),he=$.substring(ee+be),ce=q.substring(0,ie-De),Ee=q.substring(ie+be))}return de.length*2>=$.length?[re,he,ce,Ee,de]:null}var L=ne(z,Q,Math.ceil(z.length/4)),F=ne(z,Q,Math.ceil(z.length/2)),V;if(!L&&!F)return null;F?L?V=L[4].length>F[4].length?L:F:V=F:V=L;var K,ae,G,B;R.length>X.length?(K=V[0],ae=V[1],G=V[2],B=V[3]):(G=V[0],B=V[1],K=V[2],ae=V[3]);var W=V[4];return[K,ae,G,B,W]}function g(R){for(var X=!1,z=[],Q=0,ne=null,L=0,F=0,V=0,K=0,ae=0;L<R.length;)R[L][0]==n?(z[Q++]=L,F=K,V=ae,K=0,ae=0,ne=R[L][1]):(R[L][0]==e?K+=R[L][1].length:ae+=R[L][1].length,ne&&ne.length<=Math.max(F,V)&&ne.length<=Math.max(K,ae)&&(R.splice(z[Q-1],0,[t,ne]),R[z[Q-1]+1][0]=e,Q--,Q--,L=Q>0?z[Q-1]:-1,F=0,V=0,K=0,ae=0,ne=null,X=!0)),L++;for(X&&E(R),S(R),L=1;L<R.length;){if(R[L-1][0]==t&&R[L][0]==e){var G=R[L-1][1],B=R[L][1],W=h(G,B),$=h(B,G);W>=$?(W>=G.length/2||W>=B.length/2)&&(R.splice(L,0,[n,B.substring(0,W)]),R[L-1][1]=G.substring(0,G.length-W),R[L+1][1]=B.substring(W),L++):($>=G.length/2||$>=B.length/2)&&(R.splice(L,0,[n,G.substring(0,$)]),R[L-1][0]=e,R[L-1][1]=B.substring(0,B.length-$),R[L+1][0]=t,R[L+1][1]=G.substring($),L++),L++}L++}}var v=/[^a-zA-Z0-9]/,y=/\s/,w=/[\r\n]/,j=/\n\r?\n$/,k=/^\r?\n\r?\n/;function S(R){function X($,q){if(!$||!q)return 6;var ee=$.charAt($.length-1),te=q.charAt(0),ie=ee.match(v),de=te.match(v),re=ie&&ee.match(y),he=de&&te.match(y),ce=re&&ee.match(w),Ee=he&&te.match(w),be=ce&&$.match(j),De=Ee&&q.match(k);return be||De?5:ce||Ee?4:ie&&!re&&he?3:re||he?2:ie||de?1:0}for(var z=1;z<R.length-1;){if(R[z-1][0]==n&&R[z+1][0]==n){var Q=R[z-1][1],ne=R[z][1],L=R[z+1][1],F=f(Q,ne);if(F){var V=ne.substring(ne.length-F);Q=Q.substring(0,Q.length-F),ne=V+ne.substring(0,ne.length-F),L=V+L}for(var K=Q,ae=ne,G=L,B=X(Q,ne)+X(ne,L);ne.charAt(0)===L.charAt(0);){Q+=ne.charAt(0),ne=ne.substring(1)+L.charAt(0),L=L.substring(1);var W=X(Q,ne)+X(ne,L);W>=B&&(B=W,K=Q,ae=ne,G=L)}R[z-1][1]!=K&&(K?R[z-1][1]=K:(R.splice(z-1,1),z--),R[z][1]=ae,G?R[z+1][1]=G:(R.splice(z+1,1),z--))}z++}}function E(R,X){R.push([n,""]);for(var z=0,Q=0,ne=0,L="",F="",V;z<R.length;){if(z<R.length-1&&!R[z][1]){R.splice(z,1);continue}switch(R[z][0]){case e:ne++,F+=R[z][1],z++;break;case t:Q++,L+=R[z][1],z++;break;case n:var K=z-ne-Q-1;if(X){if(K>=0&&M(R[K][1])){var ae=R[K][1].slice(-1);if(R[K][1]=R[K][1].slice(0,-1),L=ae+L,F=ae+F,!R[K][1]){R.splice(K,1),z--;var G=K-1;R[G]&&R[G][0]===e&&(ne++,F=R[G][1]+F,G--),R[G]&&R[G][0]===t&&(Q++,L=R[G][1]+L,G--),K=G}}if(_(R[z][1])){var ae=R[z][1].charAt(0);R[z][1]=R[z][1].slice(1),L+=ae,F+=ae}}if(z<R.length-1&&!R[z][1]){R.splice(z,1);break}if(L.length>0||F.length>0){L.length>0&&F.length>0&&(V=u(F,L),V!==0&&(K>=0?R[K][1]+=F.substring(0,V):(R.splice(0,0,[n,F.substring(0,V)]),z++),F=F.substring(V),L=L.substring(V)),V=f(F,L),V!==0&&(R[z][1]=F.substring(F.length-V)+R[z][1],F=F.substring(0,F.length-V),L=L.substring(0,L.length-V)));var B=ne+Q;L.length===0&&F.length===0?(R.splice(z-B,B),z=z-B):L.length===0?(R.splice(z-B,B,[e,F]),z=z-B+1):F.length===0?(R.splice(z-B,B,[t,L]),z=z-B+1):(R.splice(z-B,B,[t,L],[e,F]),z=z-B+2)}z!==0&&R[z-1][0]===n?(R[z-1][1]+=R[z][1],R.splice(z,1)):z++,ne=0,Q=0,L="",F="";break}}R[R.length-1][1]===""&&R.pop();var W=!1;for(z=1;z<R.length-1;)R[z-1][0]===n&&R[z+1][0]===n&&(R[z][1].substring(R[z][1].length-R[z-1][1].length)===R[z-1][1]?(R[z][1]=R[z-1][1]+R[z][1].substring(0,R[z][1].length-R[z-1][1].length),R[z+1][1]=R[z-1][1]+R[z+1][1],R.splice(z-1,1),W=!0):R[z][1].substring(0,R[z+1][1].length)==R[z+1][1]&&(R[z-1][1]+=R[z+1][1],R[z][1]=R[z][1].substring(R[z+1][1].length)+R[z+1][1],R.splice(z+1,1),W=!0)),z++;W&&E(R,X)}function A(R){return R>=55296&&R<=56319}function T(R){return R>=56320&&R<=57343}function _(R){return T(R.charCodeAt(0))}function M(R){return A(R.charCodeAt(R.length-1))}function P(R){for(var X=[],z=0;z<R.length;z++)R[z][1].length>0&&X.push(R[z]);return X}function O(R,X,z,Q){return M(R)||_(Q)?null:P([[n,R],[t,X],[e,z],[n,Q]])}function H(R,X,z){var Q=typeof z=="number"?{index:z,length:0}:z.oldRange,ne=typeof z=="number"?null:z.newRange,L=R.length,F=X.length;if(Q.length===0&&(ne===null||ne.length===0)){var V=Q.index,K=R.slice(0,V),ae=R.slice(V),G=ne?ne.index:null;e:{var B=V+F-L;if(G!==null&&G!==B||B<0||B>F)break e;var W=X.slice(0,B),$=X.slice(B);if($!==ae)break e;var q=Math.min(V,B),ee=K.slice(0,q),te=W.slice(0,q);if(ee!==te)break e;var ie=K.slice(q),de=W.slice(q);return O(ee,ie,de,ae)}e:{if(G!==null&&G!==V)break e;var re=V,W=X.slice(0,re),$=X.slice(re);if(W!==K)break e;var he=Math.min(L-re,F-re),ce=ae.slice(ae.length-he),Ee=$.slice($.length-he);if(ce!==Ee)break e;var ie=ae.slice(0,ae.length-he),de=$.slice(0,$.length-he);return O(K,ie,de,ce)}}if(Q.length>0&&ne&&ne.length===0)e:{var ee=R.slice(0,Q.index),ce=R.slice(Q.index+Q.length),q=ee.length,he=ce.length;if(F<q+he)break e;var te=X.slice(0,q),Ee=X.slice(F-he);if(ee!==te||ce!==Ee)break e;var ie=R.slice(q,L-he),de=X.slice(q,F-he);return O(ee,ie,de,ce)}return null}function Y(R,X,z,Q){return a(R,X,z,Q,!0)}return Y.INSERT=e,Y.DELETE=t,Y.EQUAL=n,iy=Y,iy}var _h={exports:{}};_h.exports;var x2;function bM(){return x2||(x2=1,function(t,e){var n=200,a="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",c="[object Array]",u="[object Boolean]",h="[object Date]",f="[object Error]",p="[object Function]",g="[object GeneratorFunction]",v="[object Map]",y="[object Number]",w="[object Object]",j="[object Promise]",k="[object RegExp]",S="[object Set]",E="[object String]",A="[object Symbol]",T="[object WeakMap]",_="[object ArrayBuffer]",M="[object DataView]",P="[object Float32Array]",O="[object Float64Array]",H="[object Int8Array]",Y="[object Int16Array]",R="[object Int32Array]",X="[object Uint8Array]",z="[object Uint8ClampedArray]",Q="[object Uint16Array]",ne="[object Uint32Array]",L=/[\\^$.*+?()[\]{}|]/g,F=/\w*$/,V=/^\[object .+?Constructor\]$/,K=/^(?:0|[1-9]\d*)$/,ae={};ae[o]=ae[c]=ae[_]=ae[M]=ae[u]=ae[h]=ae[P]=ae[O]=ae[H]=ae[Y]=ae[R]=ae[v]=ae[y]=ae[w]=ae[k]=ae[S]=ae[E]=ae[A]=ae[X]=ae[z]=ae[Q]=ae[ne]=!0,ae[f]=ae[p]=ae[T]=!1;var G=typeof Yo=="object"&&Yo&&Yo.Object===Object&&Yo,B=typeof self=="object"&&self&&self.Object===Object&&self,W=G||B||Function("return this")(),$=e&&!e.nodeType&&e,q=$&&!0&&t&&!t.nodeType&&t,ee=q&&q.exports===$;function te(C,U){return C.set(U[0],U[1]),C}function ie(C,U){return C.add(U),C}function de(C,U){for(var J=-1,xe=C?C.length:0;++J<xe&&U(C[J],J,C)!==!1;);return C}function re(C,U){for(var J=-1,xe=U.length,dt=C.length;++J<xe;)C[dt+J]=U[J];return C}function he(C,U,J,xe){for(var dt=-1,tt=C?C.length:0;++dt<tt;)J=U(J,C[dt],dt,C);return J}function ce(C,U){for(var J=-1,xe=Array(C);++J<C;)xe[J]=U(J);return xe}function Ee(C,U){return C==null?void 0:C[U]}function be(C){var U=!1;if(C!=null&&typeof C.toString!="function")try{U=!!(C+"")}catch{}return U}function De(C){var U=-1,J=Array(C.size);return C.forEach(function(xe,dt){J[++U]=[dt,xe]}),J}function Te(C,U){return function(J){return C(U(J))}}function Oe(C){var U=-1,J=Array(C.size);return C.forEach(function(xe){J[++U]=xe}),J}var Ze=Array.prototype,qe=Function.prototype,He=Object.prototype,Re=W["__core-js_shared__"],Je=function(){var C=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return C?"Symbol(src)_1."+C:""}(),Zt=qe.toString,An=He.hasOwnProperty,ea=He.toString,ds=RegExp("^"+Zt.call(An).replace(L,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$t=ee?W.Buffer:void 0,nn=W.Symbol,Ft=W.Uint8Array,Ht=Te(Object.getPrototypeOf,Object),Cn=Object.create,Gn=He.propertyIsEnumerable,Ns=Ze.splice,Ps=Object.getOwnPropertySymbols,jn=$t?$t.isBuffer:void 0,Ss=Te(Object.keys,Object),hs=ms(W,"DataView"),fs=ms(W,"Map"),Qt=ms(W,"Promise"),ta=ms(W,"Set"),Os=ms(W,"WeakMap"),Ct=ms(Object,"create"),sn=Rn(hs),Ve=Rn(fs),vt=Rn(Qt),gt=Rn(ta),bt=Rn(Os),an=nn?nn.prototype:void 0,Gt=an?an.valueOf:void 0;function ut(C){var U=-1,J=C?C.length:0;for(this.clear();++U<J;){var xe=C[U];this.set(xe[0],xe[1])}}function It(){this.__data__=Ct?Ct(null):{}}function xt(C){return this.has(C)&&delete this.__data__[C]}function Vt(C){var U=this.__data__;if(Ct){var J=U[C];return J===a?void 0:J}return An.call(U,C)?U[C]:void 0}function ks(C){var U=this.__data__;return Ct?U[C]!==void 0:An.call(U,C)}function In(C,U){var J=this.__data__;return J[C]=Ct&&U===void 0?a:U,this}ut.prototype.clear=It,ut.prototype.delete=xt,ut.prototype.get=Vt,ut.prototype.has=ks,ut.prototype.set=In;function Yt(C){var U=-1,J=C?C.length:0;for(this.clear();++U<J;){var xe=C[U];this.set(xe[0],xe[1])}}function Fa(){this.__data__=[]}function ya(C){var U=this.__data__,J=Qr(U,C);if(J<0)return!1;var xe=U.length-1;return J==xe?U.pop():Ns.call(U,J,1),!0}function wl(C){var U=this.__data__,J=Qr(U,C);return J<0?void 0:U[J][1]}function Xr(C){return Qr(this.__data__,C)>-1}function Wr(C,U){var J=this.__data__,xe=Qr(J,C);return xe<0?J.push([C,U]):J[xe][1]=U,this}Yt.prototype.clear=Fa,Yt.prototype.delete=ya,Yt.prototype.get=wl,Yt.prototype.has=Xr,Yt.prototype.set=Wr;function Tn(C){var U=-1,J=C?C.length:0;for(this.clear();++U<J;){var xe=C[U];this.set(xe[0],xe[1])}}function Zr(){this.__data__={hash:new ut,map:new(fs||Yt),string:new ut}}function _n(C){return ei(this,C).delete(C)}function kc(C){return ei(this,C).get(C)}function Ec(C){return ei(this,C).has(C)}function br(C,U){return ei(this,C).set(C,U),this}Tn.prototype.clear=Zr,Tn.prototype.delete=_n,Tn.prototype.get=kc,Tn.prototype.has=Ec,Tn.prototype.set=br;function Bn(C){this.__data__=new Yt(C)}function jd(){this.__data__=new Yt}function Ac(C){return this.__data__.delete(C)}function Cc(C){return this.__data__.get(C)}function wd(C){return this.__data__.has(C)}function fo(C,U){var J=this.__data__;if(J instanceof Yt){var xe=J.__data__;if(!fs||xe.length<n-1)return xe.push([C,U]),this;J=this.__data__=new Tn(xe)}return J.set(C,U),this}Bn.prototype.clear=jd,Bn.prototype.delete=Ac,Bn.prototype.get=Cc,Bn.prototype.has=wd,Bn.prototype.set=fo;function yr(C,U){var J=go(C)||ti(C)?ce(C.length,String):[],xe=J.length,dt=!!xe;for(var tt in C)An.call(C,tt)&&!(dt&&(tt=="length"||Ed(tt,xe)))&&J.push(tt);return J}function ia(C,U,J){var xe=C[U];(!(An.call(C,U)&&Tl(xe,J))||J===void 0&&!(U in C))&&(C[U]=J)}function Qr(C,U){for(var J=C.length;J--;)if(Tl(C[J][0],U))return J;return-1}function ja(C,U){return C&&Ri(U,vo(U),C)}function Va(C,U,J,xe,dt,tt,Tt){var Nt;if(xe&&(Nt=tt?xe(C,dt,tt,Tt):xe(C)),Nt!==void 0)return Nt;if(!la(C))return C;var on=go(C);if(on){if(Nt=Dc(C),!U)return _c(C,Nt)}else{var Rt=Ha(C),ss=Rt==p||Rt==g;if(xo(C))return Ti(C,U);if(Rt==w||Rt==o||ss&&!tt){if(be(C))return tt?C:{};if(Nt=oa(ss?{}:C),!U)return Jr(C,ja(Nt,C))}else{if(!ae[Rt])return tt?C:{};Nt=kd(C,Rt,Va,U)}}Tt||(Tt=new Bn);var Bs=Tt.get(C);if(Bs)return Bs;if(Tt.set(C,Nt),!on)var zn=J?Rc(C):vo(C);return de(zn||C,function(ps,Un){zn&&(Un=ps,ps=C[Un]),ia(Nt,Un,Va(ps,U,J,xe,Un,C,Tt))}),Nt}function Nl(C){return la(C)?Cn(C):{}}function Sl(C,U,J){var xe=U(C);return go(C)?xe:re(xe,J(C))}function Nd(C){return ea.call(C)}function Tc(C){if(!la(C)||Cl(C))return!1;var U=Nr(C)||be(C)?ds:V;return U.test(Rn(C))}function Ls(C){if(!po(C))return Ss(C);var U=[];for(var J in Object(C))An.call(C,J)&&J!="constructor"&&U.push(J);return U}function Ti(C,U){if(U)return C.slice();var J=new C.constructor(C.length);return C.copy(J),J}function kl(C){var U=new C.constructor(C.byteLength);return new Ft(U).set(new Ft(C)),U}function qa(C,U){var J=U?kl(C.buffer):C.buffer;return new C.constructor(J,C.byteOffset,C.byteLength)}function El(C,U,J){var xe=U?J(De(C),!0):De(C);return he(xe,te,new C.constructor)}function _i(C){var U=new C.constructor(C.source,F.exec(C));return U.lastIndex=C.lastIndex,U}function Sd(C,U,J){var xe=U?J(Oe(C),!0):Oe(C);return he(xe,ie,new C.constructor)}function Is(C){return Gt?Object(Gt.call(C)):{}}function Al(C,U){var J=U?kl(C.buffer):C.buffer;return new C.constructor(J,C.byteOffset,C.length)}function _c(C,U){var J=-1,xe=C.length;for(U||(U=Array(xe));++J<xe;)U[J]=C[J];return U}function Ri(C,U,J,xe){J||(J={});for(var dt=-1,tt=U.length;++dt<tt;){var Tt=U[dt],Nt=void 0;ia(J,Tt,Nt===void 0?C[Tt]:Nt)}return J}function Jr(C,U){return Ri(C,jr(C),U)}function Rc(C){return Sl(C,vo,jr)}function ei(C,U){var J=C.__data__;return mo(U)?J[typeof U=="string"?"string":"hash"]:J.map}function ms(C,U){var J=Ee(C,U);return Tc(J)?J:void 0}var jr=Ps?Te(Ps,Object):bo,Ha=Nd;(hs&&Ha(new hs(new ArrayBuffer(1)))!=M||fs&&Ha(new fs)!=v||Qt&&Ha(Qt.resolve())!=j||ta&&Ha(new ta)!=S||Os&&Ha(new Os)!=T)&&(Ha=function(C){var U=ea.call(C),J=U==w?C.constructor:void 0,xe=J?Rn(J):void 0;if(xe)switch(xe){case sn:return M;case Ve:return v;case vt:return j;case gt:return S;case bt:return T}return U});function Dc(C){var U=C.length,J=C.constructor(U);return U&&typeof C[0]=="string"&&An.call(C,"index")&&(J.index=C.index,J.input=C.input),J}function oa(C){return typeof C.constructor=="function"&&!po(C)?Nl(Ht(C)):{}}function kd(C,U,J,xe){var dt=C.constructor;switch(U){case _:return kl(C);case u:case h:return new dt(+C);case M:return qa(C,xe);case P:case O:case H:case Y:case R:case X:case z:case Q:case ne:return Al(C,xe);case v:return El(C,xe,J);case y:case E:return new dt(C);case k:return _i(C);case S:return Sd(C,xe,J);case A:return Is(C)}}function Ed(C,U){return U=U??i,!!U&&(typeof C=="number"||K.test(C))&&C>-1&&C%1==0&&C<U}function mo(C){var U=typeof C;return U=="string"||U=="number"||U=="symbol"||U=="boolean"?C!=="__proto__":C===null}function Cl(C){return!!Je&&Je in C}function po(C){var U=C&&C.constructor,J=typeof U=="function"&&U.prototype||He;return C===J}function Rn(C){if(C!=null){try{return Zt.call(C)}catch{}try{return C+""}catch{}}return""}function wr(C){return Va(C,!0,!0)}function Tl(C,U){return C===U||C!==C&&U!==U}function ti(C){return wa(C)&&An.call(C,"callee")&&(!Gn.call(C,"callee")||ea.call(C)==o)}var go=Array.isArray;function Ga(C){return C!=null&&Na(C.length)&&!Nr(C)}function wa(C){return Di(C)&&Ga(C)}var xo=jn||yo;function Nr(C){var U=la(C)?ea.call(C):"";return U==p||U==g}function Na(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=i}function la(C){var U=typeof C;return!!C&&(U=="object"||U=="function")}function Di(C){return!!C&&typeof C=="object"}function vo(C){return Ga(C)?yr(C):Ls(C)}function bo(){return[]}function yo(){return!1}t.exports=wr}(_h,_h.exports)),_h.exports}var Rh={exports:{}};Rh.exports;var v2;function yM(){return v2||(v2=1,function(t,e){var n=200,a="__lodash_hash_undefined__",i=1,o=2,c=9007199254740991,u="[object Arguments]",h="[object Array]",f="[object AsyncFunction]",p="[object Boolean]",g="[object Date]",v="[object Error]",y="[object Function]",w="[object GeneratorFunction]",j="[object Map]",k="[object Number]",S="[object Null]",E="[object Object]",A="[object Promise]",T="[object Proxy]",_="[object RegExp]",M="[object Set]",P="[object String]",O="[object Symbol]",H="[object Undefined]",Y="[object WeakMap]",R="[object ArrayBuffer]",X="[object DataView]",z="[object Float32Array]",Q="[object Float64Array]",ne="[object Int8Array]",L="[object Int16Array]",F="[object Int32Array]",V="[object Uint8Array]",K="[object Uint8ClampedArray]",ae="[object Uint16Array]",G="[object Uint32Array]",B=/[\\^$.*+?()[\]{}|]/g,W=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,q={};q[z]=q[Q]=q[ne]=q[L]=q[F]=q[V]=q[K]=q[ae]=q[G]=!0,q[u]=q[h]=q[R]=q[p]=q[X]=q[g]=q[v]=q[y]=q[j]=q[k]=q[E]=q[_]=q[M]=q[P]=q[Y]=!1;var ee=typeof Yo=="object"&&Yo&&Yo.Object===Object&&Yo,te=typeof self=="object"&&self&&self.Object===Object&&self,ie=ee||te||Function("return this")(),de=e&&!e.nodeType&&e,re=de&&!0&&t&&!t.nodeType&&t,he=re&&re.exports===de,ce=he&&ee.process,Ee=function(){try{return ce&&ce.binding&&ce.binding("util")}catch{}}(),be=Ee&&Ee.isTypedArray;function De(C,U){for(var J=-1,xe=C==null?0:C.length,dt=0,tt=[];++J<xe;){var Tt=C[J];U(Tt,J,C)&&(tt[dt++]=Tt)}return tt}function Te(C,U){for(var J=-1,xe=U.length,dt=C.length;++J<xe;)C[dt+J]=U[J];return C}function Oe(C,U){for(var J=-1,xe=C==null?0:C.length;++J<xe;)if(U(C[J],J,C))return!0;return!1}function Ze(C,U){for(var J=-1,xe=Array(C);++J<C;)xe[J]=U(J);return xe}function qe(C){return function(U){return C(U)}}function He(C,U){return C.has(U)}function Re(C,U){return C==null?void 0:C[U]}function Je(C){var U=-1,J=Array(C.size);return C.forEach(function(xe,dt){J[++U]=[dt,xe]}),J}function Zt(C,U){return function(J){return C(U(J))}}function An(C){var U=-1,J=Array(C.size);return C.forEach(function(xe){J[++U]=xe}),J}var ea=Array.prototype,ds=Function.prototype,$t=Object.prototype,nn=ie["__core-js_shared__"],Ft=ds.toString,Ht=$t.hasOwnProperty,Cn=function(){var C=/[^.]+$/.exec(nn&&nn.keys&&nn.keys.IE_PROTO||"");return C?"Symbol(src)_1."+C:""}(),Gn=$t.toString,Ns=RegExp("^"+Ft.call(Ht).replace(B,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ps=he?ie.Buffer:void 0,jn=ie.Symbol,Ss=ie.Uint8Array,hs=$t.propertyIsEnumerable,fs=ea.splice,Qt=jn?jn.toStringTag:void 0,ta=Object.getOwnPropertySymbols,Os=Ps?Ps.isBuffer:void 0,Ct=Zt(Object.keys,Object),sn=jr(ie,"DataView"),Ve=jr(ie,"Map"),vt=jr(ie,"Promise"),gt=jr(ie,"Set"),bt=jr(ie,"WeakMap"),an=jr(Object,"create"),Gt=Rn(sn),ut=Rn(Ve),It=Rn(vt),xt=Rn(gt),Vt=Rn(bt),ks=jn?jn.prototype:void 0,In=ks?ks.valueOf:void 0;function Yt(C){var U=-1,J=C==null?0:C.length;for(this.clear();++U<J;){var xe=C[U];this.set(xe[0],xe[1])}}function Fa(){this.__data__=an?an(null):{},this.size=0}function ya(C){var U=this.has(C)&&delete this.__data__[C];return this.size-=U?1:0,U}function wl(C){var U=this.__data__;if(an){var J=U[C];return J===a?void 0:J}return Ht.call(U,C)?U[C]:void 0}function Xr(C){var U=this.__data__;return an?U[C]!==void 0:Ht.call(U,C)}function Wr(C,U){var J=this.__data__;return this.size+=this.has(C)?0:1,J[C]=an&&U===void 0?a:U,this}Yt.prototype.clear=Fa,Yt.prototype.delete=ya,Yt.prototype.get=wl,Yt.prototype.has=Xr,Yt.prototype.set=Wr;function Tn(C){var U=-1,J=C==null?0:C.length;for(this.clear();++U<J;){var xe=C[U];this.set(xe[0],xe[1])}}function Zr(){this.__data__=[],this.size=0}function _n(C){var U=this.__data__,J=Ti(U,C);if(J<0)return!1;var xe=U.length-1;return J==xe?U.pop():fs.call(U,J,1),--this.size,!0}function kc(C){var U=this.__data__,J=Ti(U,C);return J<0?void 0:U[J][1]}function Ec(C){return Ti(this.__data__,C)>-1}function br(C,U){var J=this.__data__,xe=Ti(J,C);return xe<0?(++this.size,J.push([C,U])):J[xe][1]=U,this}Tn.prototype.clear=Zr,Tn.prototype.delete=_n,Tn.prototype.get=kc,Tn.prototype.has=Ec,Tn.prototype.set=br;function Bn(C){var U=-1,J=C==null?0:C.length;for(this.clear();++U<J;){var xe=C[U];this.set(xe[0],xe[1])}}function jd(){this.size=0,this.__data__={hash:new Yt,map:new(Ve||Tn),string:new Yt}}function Ac(C){var U=ms(this,C).delete(C);return this.size-=U?1:0,U}function Cc(C){return ms(this,C).get(C)}function wd(C){return ms(this,C).has(C)}function fo(C,U){var J=ms(this,C),xe=J.size;return J.set(C,U),this.size+=J.size==xe?0:1,this}Bn.prototype.clear=jd,Bn.prototype.delete=Ac,Bn.prototype.get=Cc,Bn.prototype.has=wd,Bn.prototype.set=fo;function yr(C){var U=-1,J=C==null?0:C.length;for(this.__data__=new Bn;++U<J;)this.add(C[U])}function ia(C){return this.__data__.set(C,a),this}function Qr(C){return this.__data__.has(C)}yr.prototype.add=yr.prototype.push=ia,yr.prototype.has=Qr;function ja(C){var U=this.__data__=new Tn(C);this.size=U.size}function Va(){this.__data__=new Tn,this.size=0}function Nl(C){var U=this.__data__,J=U.delete(C);return this.size=U.size,J}function Sl(C){return this.__data__.get(C)}function Nd(C){return this.__data__.has(C)}function Tc(C,U){var J=this.__data__;if(J instanceof Tn){var xe=J.__data__;if(!Ve||xe.length<n-1)return xe.push([C,U]),this.size=++J.size,this;J=this.__data__=new Bn(xe)}return J.set(C,U),this.size=J.size,this}ja.prototype.clear=Va,ja.prototype.delete=Nl,ja.prototype.get=Sl,ja.prototype.has=Nd,ja.prototype.set=Tc;function Ls(C,U){var J=ti(C),xe=!J&&Tl(C),dt=!J&&!xe&&Ga(C),tt=!J&&!xe&&!dt&&Di(C),Tt=J||xe||dt||tt,Nt=Tt?Ze(C.length,String):[],on=Nt.length;for(var Rt in C)Ht.call(C,Rt)&&!(Tt&&(Rt=="length"||dt&&(Rt=="offset"||Rt=="parent")||tt&&(Rt=="buffer"||Rt=="byteLength"||Rt=="byteOffset")||kd(Rt,on)))&&Nt.push(Rt);return Nt}function Ti(C,U){for(var J=C.length;J--;)if(wr(C[J][0],U))return J;return-1}function kl(C,U,J){var xe=U(C);return ti(C)?xe:Te(xe,J(C))}function qa(C){return C==null?C===void 0?H:S:Qt&&Qt in Object(C)?Ha(C):po(C)}function El(C){return la(C)&&qa(C)==u}function _i(C,U,J,xe,dt){return C===U?!0:C==null||U==null||!la(C)&&!la(U)?C!==C&&U!==U:Sd(C,U,J,xe,_i,dt)}function Sd(C,U,J,xe,dt,tt){var Tt=ti(C),Nt=ti(U),on=Tt?h:oa(C),Rt=Nt?h:oa(U);on=on==u?E:on,Rt=Rt==u?E:Rt;var ss=on==E,Bs=Rt==E,zn=on==Rt;if(zn&&Ga(C)){if(!Ga(U))return!1;Tt=!0,ss=!1}if(zn&&!ss)return tt||(tt=new ja),Tt||Di(C)?Ri(C,U,J,xe,dt,tt):Jr(C,U,on,J,xe,dt,tt);if(!(J&i)){var ps=ss&&Ht.call(C,"__wrapped__"),Un=Bs&&Ht.call(U,"__wrapped__");if(ps||Un){var ni=ps?C.value():C,Sr=Un?U.value():U;return tt||(tt=new ja),dt(ni,Sr,J,xe,tt)}}return zn?(tt||(tt=new ja),Rc(C,U,J,xe,dt,tt)):!1}function Is(C){if(!Na(C)||mo(C))return!1;var U=xo(C)?Ns:W;return U.test(Rn(C))}function Al(C){return la(C)&&Nr(C.length)&&!!q[qa(C)]}function _c(C){if(!Cl(C))return Ct(C);var U=[];for(var J in Object(C))Ht.call(C,J)&&J!="constructor"&&U.push(J);return U}function Ri(C,U,J,xe,dt,tt){var Tt=J&i,Nt=C.length,on=U.length;if(Nt!=on&&!(Tt&&on>Nt))return!1;var Rt=tt.get(C);if(Rt&&tt.get(U))return Rt==U;var ss=-1,Bs=!0,zn=J&o?new yr:void 0;for(tt.set(C,U),tt.set(U,C);++ss<Nt;){var ps=C[ss],Un=U[ss];if(xe)var ni=Tt?xe(Un,ps,ss,U,C,tt):xe(ps,Un,ss,C,U,tt);if(ni!==void 0){if(ni)continue;Bs=!1;break}if(zn){if(!Oe(U,function(Sr,Mi){if(!He(zn,Mi)&&(ps===Sr||dt(ps,Sr,J,xe,tt)))return zn.push(Mi)})){Bs=!1;break}}else if(!(ps===Un||dt(ps,Un,J,xe,tt))){Bs=!1;break}}return tt.delete(C),tt.delete(U),Bs}function Jr(C,U,J,xe,dt,tt,Tt){switch(J){case X:if(C.byteLength!=U.byteLength||C.byteOffset!=U.byteOffset)return!1;C=C.buffer,U=U.buffer;case R:return!(C.byteLength!=U.byteLength||!tt(new Ss(C),new Ss(U)));case p:case g:case k:return wr(+C,+U);case v:return C.name==U.name&&C.message==U.message;case _:case P:return C==U+"";case j:var Nt=Je;case M:var on=xe&i;if(Nt||(Nt=An),C.size!=U.size&&!on)return!1;var Rt=Tt.get(C);if(Rt)return Rt==U;xe|=o,Tt.set(C,U);var ss=Ri(Nt(C),Nt(U),xe,dt,tt,Tt);return Tt.delete(C),ss;case O:if(In)return In.call(C)==In.call(U)}return!1}function Rc(C,U,J,xe,dt,tt){var Tt=J&i,Nt=ei(C),on=Nt.length,Rt=ei(U),ss=Rt.length;if(on!=ss&&!Tt)return!1;for(var Bs=on;Bs--;){var zn=Nt[Bs];if(!(Tt?zn in U:Ht.call(U,zn)))return!1}var ps=tt.get(C);if(ps&&tt.get(U))return ps==U;var Un=!0;tt.set(C,U),tt.set(U,C);for(var ni=Tt;++Bs<on;){zn=Nt[Bs];var Sr=C[zn],Mi=U[zn];if(xe)var rm=Tt?xe(Mi,Sr,zn,U,C,tt):xe(Sr,Mi,zn,C,U,tt);if(!(rm===void 0?Sr===Mi||dt(Sr,Mi,J,xe,tt):rm)){Un=!1;break}ni||(ni=zn=="constructor")}if(Un&&!ni){var Mc=C.constructor,_l=U.constructor;Mc!=_l&&"constructor"in C&&"constructor"in U&&!(typeof Mc=="function"&&Mc instanceof Mc&&typeof _l=="function"&&_l instanceof _l)&&(Un=!1)}return tt.delete(C),tt.delete(U),Un}function ei(C){return kl(C,vo,Dc)}function ms(C,U){var J=C.__data__;return Ed(U)?J[typeof U=="string"?"string":"hash"]:J.map}function jr(C,U){var J=Re(C,U);return Is(J)?J:void 0}function Ha(C){var U=Ht.call(C,Qt),J=C[Qt];try{C[Qt]=void 0;var xe=!0}catch{}var dt=Gn.call(C);return xe&&(U?C[Qt]=J:delete C[Qt]),dt}var Dc=ta?function(C){return C==null?[]:(C=Object(C),De(ta(C),function(U){return hs.call(C,U)}))}:bo,oa=qa;(sn&&oa(new sn(new ArrayBuffer(1)))!=X||Ve&&oa(new Ve)!=j||vt&&oa(vt.resolve())!=A||gt&&oa(new gt)!=M||bt&&oa(new bt)!=Y)&&(oa=function(C){var U=qa(C),J=U==E?C.constructor:void 0,xe=J?Rn(J):"";if(xe)switch(xe){case Gt:return X;case ut:return j;case It:return A;case xt:return M;case Vt:return Y}return U});function kd(C,U){return U=U??c,!!U&&(typeof C=="number"||$.test(C))&&C>-1&&C%1==0&&C<U}function Ed(C){var U=typeof C;return U=="string"||U=="number"||U=="symbol"||U=="boolean"?C!=="__proto__":C===null}function mo(C){return!!Cn&&Cn in C}function Cl(C){var U=C&&C.constructor,J=typeof U=="function"&&U.prototype||$t;return C===J}function po(C){return Gn.call(C)}function Rn(C){if(C!=null){try{return Ft.call(C)}catch{}try{return C+""}catch{}}return""}function wr(C,U){return C===U||C!==C&&U!==U}var Tl=El(function(){return arguments}())?El:function(C){return la(C)&&Ht.call(C,"callee")&&!hs.call(C,"callee")},ti=Array.isArray;function go(C){return C!=null&&Nr(C.length)&&!xo(C)}var Ga=Os||yo;function wa(C,U){return _i(C,U)}function xo(C){if(!Na(C))return!1;var U=qa(C);return U==y||U==w||U==f||U==T}function Nr(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=c}function Na(C){var U=typeof C;return C!=null&&(U=="object"||U=="function")}function la(C){return C!=null&&typeof C=="object"}var Di=be?qe(be):Al;function vo(C){return go(C)?Ls(C):_c(C)}function bo(){return[]}function yo(){return!1}t.exports=wa}(Rh,Rh.exports)),Rh.exports}var yp={},b2;function ZX(){if(b2)return yp;b2=1,Object.defineProperty(yp,"__esModule",{value:!0});const t=bM(),e=yM();var n;return function(a){function i(h={},f={},p=!1){typeof h!="object"&&(h={}),typeof f!="object"&&(f={});let g=t(f);p||(g=Object.keys(g).reduce((v,y)=>(g[y]!=null&&(v[y]=g[y]),v),{}));for(const v in h)h[v]!==void 0&&f[v]===void 0&&(g[v]=h[v]);return Object.keys(g).length>0?g:void 0}a.compose=i;function o(h={},f={}){typeof h!="object"&&(h={}),typeof f!="object"&&(f={});const p=Object.keys(h).concat(Object.keys(f)).reduce((g,v)=>(e(h[v],f[v])||(g[v]=f[v]===void 0?null:f[v]),g),{});return Object.keys(p).length>0?p:void 0}a.diff=o;function c(h={},f={}){h=h||{};const p=Object.keys(f).reduce((g,v)=>(f[v]!==h[v]&&h[v]!==void 0&&(g[v]=f[v]),g),{});return Object.keys(h).reduce((g,v)=>(h[v]!==f[v]&&f[v]===void 0&&(g[v]=null),g),p)}a.invert=c;function u(h,f,p=!1){if(typeof h!="object")return f;if(typeof f!="object")return;if(!p)return f;const g=Object.keys(f).reduce((v,y)=>(h[y]===void 0&&(v[y]=f[y]),v),{});return Object.keys(g).length>0?g:void 0}a.transform=u}(n||(n={})),yp.default=n,yp}var jp={},y2;function jM(){if(y2)return jp;y2=1,Object.defineProperty(jp,"__esModule",{value:!0});var t;return function(e){function n(a){return typeof a.delete=="number"?a.delete:typeof a.retain=="number"?a.retain:typeof a.retain=="object"&&a.retain!==null?1:typeof a.insert=="string"?a.insert.length:1}e.length=n}(t||(t={})),jp.default=t,jp}var wp={},j2;function QX(){if(j2)return wp;j2=1,Object.defineProperty(wp,"__esModule",{value:!0});const t=jM();class e{constructor(a){this.ops=a,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(a){a||(a=1/0);const i=this.ops[this.index];if(i){const o=this.offset,c=t.default.length(i);if(a>=c-o?(a=c-o,this.index+=1,this.offset=0):this.offset+=a,typeof i.delete=="number")return{delete:a};{const u={};return i.attributes&&(u.attributes=i.attributes),typeof i.retain=="number"?u.retain=a:typeof i.retain=="object"&&i.retain!==null?u.retain=i.retain:typeof i.insert=="string"?u.insert=i.insert.substr(o,a):u.insert=i.insert,u}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?t.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const a=this.ops[this.index];return a?typeof a.delete=="number"?"delete":typeof a.retain=="number"||typeof a.retain=="object"&&a.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const a=this.offset,i=this.index,o=this.next(),c=this.ops.slice(this.index);return this.offset=a,this.index=i,[o].concat(c)}}else return[]}}return wp.default=e,wp}var w2;function JX(){return w2||(w2=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const n=WX(),a=bM(),i=yM(),o=ZX();e.AttributeMap=o.default;const c=jM();e.Op=c.default;const u=QX();e.OpIterator=u.default;const h="\0",f=(g,v)=>{if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);if(typeof v!="object"||v===null)throw new Error(`cannot retain a ${typeof v}`);const y=Object.keys(g)[0];if(!y||y!==Object.keys(v)[0])throw new Error(`embed types not matched: ${y} != ${Object.keys(v)[0]}`);return[y,g[y],v[y]]};class p{constructor(v){Array.isArray(v)?this.ops=v:v!=null&&Array.isArray(v.ops)?this.ops=v.ops:this.ops=[]}static registerEmbed(v,y){this.handlers[v]=y}static unregisterEmbed(v){delete this.handlers[v]}static getHandler(v){const y=this.handlers[v];if(!y)throw new Error(`no handlers for embed type "${v}"`);return y}insert(v,y){const w={};return typeof v=="string"&&v.length===0?this:(w.insert=v,y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(w.attributes=y),this.push(w))}delete(v){return v<=0?this:this.push({delete:v})}retain(v,y){if(typeof v=="number"&&v<=0)return this;const w={retain:v};return y!=null&&typeof y=="object"&&Object.keys(y).length>0&&(w.attributes=y),this.push(w)}push(v){let y=this.ops.length,w=this.ops[y-1];if(v=a(v),typeof w=="object"){if(typeof v.delete=="number"&&typeof w.delete=="number")return this.ops[y-1]={delete:w.delete+v.delete},this;if(typeof w.delete=="number"&&v.insert!=null&&(y-=1,w=this.ops[y-1],typeof w!="object"))return this.ops.unshift(v),this;if(i(v.attributes,w.attributes)){if(typeof v.insert=="string"&&typeof w.insert=="string")return this.ops[y-1]={insert:w.insert+v.insert},typeof v.attributes=="object"&&(this.ops[y-1].attributes=v.attributes),this;if(typeof v.retain=="number"&&typeof w.retain=="number")return this.ops[y-1]={retain:w.retain+v.retain},typeof v.attributes=="object"&&(this.ops[y-1].attributes=v.attributes),this}}return y===this.ops.length?this.ops.push(v):this.ops.splice(y,0,v),this}chop(){const v=this.ops[this.ops.length-1];return v&&typeof v.retain=="number"&&!v.attributes&&this.ops.pop(),this}filter(v){return this.ops.filter(v)}forEach(v){this.ops.forEach(v)}map(v){return this.ops.map(v)}partition(v){const y=[],w=[];return this.forEach(j=>{(v(j)?y:w).push(j)}),[y,w]}reduce(v,y){return this.ops.reduce(v,y)}changeLength(){return this.reduce((v,y)=>y.insert?v+c.default.length(y):y.delete?v-y.delete:v,0)}length(){return this.reduce((v,y)=>v+c.default.length(y),0)}slice(v=0,y=1/0){const w=[],j=new u.default(this.ops);let k=0;for(;k<y&&j.hasNext();){let S;k<v?S=j.next(v-k):(S=j.next(y-k),w.push(S)),k+=c.default.length(S)}return new p(w)}compose(v){const y=new u.default(this.ops),w=new u.default(v.ops),j=[],k=w.peek();if(k!=null&&typeof k.retain=="number"&&k.attributes==null){let E=k.retain;for(;y.peekType()==="insert"&&y.peekLength()<=E;)E-=y.peekLength(),j.push(y.next());k.retain-E>0&&w.next(k.retain-E)}const S=new p(j);for(;y.hasNext()||w.hasNext();)if(w.peekType()==="insert")S.push(w.next());else if(y.peekType()==="delete")S.push(y.next());else{const E=Math.min(y.peekLength(),w.peekLength()),A=y.next(E),T=w.next(E);if(T.retain){const _={};if(typeof A.retain=="number")_.retain=typeof T.retain=="number"?E:T.retain;else if(typeof T.retain=="number")A.retain==null?_.insert=A.insert:_.retain=A.retain;else{const P=A.retain==null?"insert":"retain",[O,H,Y]=f(A[P],T.retain),R=p.getHandler(O);_[P]={[O]:R.compose(H,Y,P==="retain")}}const M=o.default.compose(A.attributes,T.attributes,typeof A.retain=="number");if(M&&(_.attributes=M),S.push(_),!w.hasNext()&&i(S.ops[S.ops.length-1],_)){const P=new p(y.rest());return S.concat(P).chop()}}else typeof T.delete=="number"&&(typeof A.retain=="number"||typeof A.retain=="object"&&A.retain!==null)&&S.push(T)}return S.chop()}concat(v){const y=new p(this.ops.slice());return v.ops.length>0&&(y.push(v.ops[0]),y.ops=y.ops.concat(v.ops.slice(1))),y}diff(v,y){if(this.ops===v.ops)return new p;const w=[this,v].map(A=>A.map(T=>{if(T.insert!=null)return typeof T.insert=="string"?T.insert:h;const _=A===v?"on":"with";throw new Error("diff() called "+_+" non-document")}).join("")),j=new p,k=n(w[0],w[1],y,!0),S=new u.default(this.ops),E=new u.default(v.ops);return k.forEach(A=>{let T=A[1].length;for(;T>0;){let _=0;switch(A[0]){case n.INSERT:_=Math.min(E.peekLength(),T),j.push(E.next(_));break;case n.DELETE:_=Math.min(T,S.peekLength()),S.next(_),j.delete(_);break;case n.EQUAL:_=Math.min(S.peekLength(),E.peekLength(),T);const M=S.next(_),P=E.next(_);i(M.insert,P.insert)?j.retain(_,o.default.diff(M.attributes,P.attributes)):j.push(P).delete(_);break}T-=_}}),j.chop()}eachLine(v,y=`
`){const w=new u.default(this.ops);let j=new p,k=0;for(;w.hasNext();){if(w.peekType()!=="insert")return;const S=w.peek(),E=c.default.length(S)-w.peekLength(),A=typeof S.insert=="string"?S.insert.indexOf(y,E)-E:-1;if(A<0)j.push(w.next());else if(A>0)j.push(w.next(A));else{if(v(j,w.next(1).attributes||{},k)===!1)return;k+=1,j=new p}}j.length()>0&&v(j,{},k)}invert(v){const y=new p;return this.reduce((w,j)=>{if(j.insert)y.delete(c.default.length(j));else{if(typeof j.retain=="number"&&j.attributes==null)return y.retain(j.retain),w+j.retain;if(j.delete||typeof j.retain=="number"){const k=j.delete||j.retain;return v.slice(w,w+k).forEach(E=>{j.delete?y.push(E):j.retain&&j.attributes&&y.retain(c.default.length(E),o.default.invert(j.attributes,E.attributes))}),w+k}else if(typeof j.retain=="object"&&j.retain!==null){const k=v.slice(w,w+1),S=new u.default(k.ops).next(),[E,A,T]=f(j.retain,S.insert),_=p.getHandler(E);return y.retain({[E]:_.invert(A,T)},o.default.invert(j.attributes,S.attributes)),w+1}}return w},0),y.chop()}transform(v,y=!1){if(y=!!y,typeof v=="number")return this.transformPosition(v,y);const w=v,j=new u.default(this.ops),k=new u.default(w.ops),S=new p;for(;j.hasNext()||k.hasNext();)if(j.peekType()==="insert"&&(y||k.peekType()!=="insert"))S.retain(c.default.length(j.next()));else if(k.peekType()==="insert")S.push(k.next());else{const E=Math.min(j.peekLength(),k.peekLength()),A=j.next(E),T=k.next(E);if(A.delete)continue;if(T.delete)S.push(T);else{const _=A.retain,M=T.retain;let P=typeof M=="object"&&M!==null?M:E;if(typeof _=="object"&&_!==null&&typeof M=="object"&&M!==null){const O=Object.keys(_)[0];if(O===Object.keys(M)[0]){const H=p.getHandler(O);H&&(P={[O]:H.transform(_[O],M[O],y)})}}S.retain(P,o.default.transform(A.attributes,T.attributes,y))}}return S.chop()}transformPosition(v,y=!1){y=!!y;const w=new u.default(this.ops);let j=0;for(;w.hasNext()&&j<=v;){const k=w.peekLength(),S=w.peekType();if(w.next(),S==="delete"){v-=Math.min(k,v-j);continue}else S==="insert"&&(j<v||!y)&&(v+=k);j+=k}return v}}p.Op=c.default,p.OpIterator=u.default,p.AttributeMap=o.default,p.handlers={},e.default=p,t.exports=p,t.exports.default=p}(bp,bp.exports)),bp.exports}var cr=JX();const Qe=cj(cr);class Kr extends $a{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Kr.blotName="break";Kr.tagName="BR";let $r=class extends Ng{};const eW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function yx(t){return t.replace(/[&<>"']/g,e=>eW[e])}const ui=class ui extends m1{static compare(e,n){const a=ui.order.indexOf(e),i=ui.order.indexOf(n);return a>=0||i>=0?a-i:e===n?0:e<n?-1:1}formatAt(e,n,a,i){if(ui.compare(this.statics.blotName,a)<0&&this.scroll.query(a,et.BLOT)){const o=this.isolate(e,n);i&&o.wrap(a,i)}else super.formatAt(e,n,a,i)}optimize(e){if(super.optimize(e),this.parent instanceof ui&&ui.compare(this.statics.blotName,this.parent.statics.blotName)>0){const n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}};Me(ui,"allowedChildren",[ui,Kr,$a,$r]),Me(ui,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let Ni=ui;const N2=1;class Rs extends hf{constructor(){super(...arguments);Me(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=wM(this)),this.cache.delta}deleteAt(n,a){super.deleteAt(n,a),this.cache={}}formatAt(n,a,i,o){a<=0||(this.scroll.query(i,et.BLOCK)?n+a===this.length()&&this.format(i,o):super.formatAt(n,Math.min(a,this.length()-n-1),i,o),this.cache={})}insertAt(n,a,i){if(i!=null){super.insertAt(n,a,i),this.cache={};return}if(a.length===0)return;const o=a.split(`
`),c=o.shift();c.length>0&&(n<this.length()-1||this.children.tail==null?super.insertAt(Math.min(n,this.length()-1),c):this.children.tail.insertAt(this.children.tail.length(),c),this.cache={});let u=this;o.reduce((h,f)=>(u=u.split(h,!0),u.insertAt(0,f),f.length),n+c.length)}insertBefore(n,a){const{head:i}=this.children;super.insertBefore(n,a),i instanceof Kr&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+N2),this.cache.length}moveChildren(n,a){super.moveChildren(n,a),this.cache={}}optimize(n){super.optimize(n),this.cache={}}path(n){return super.path(n,!0)}removeChild(n){super.removeChild(n),this.cache={}}split(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(a&&(n===0||n>=this.length()-N2)){const o=this.clone();return n===0?(this.parent.insertBefore(o,this),this):(this.parent.insertBefore(o,this.next),o)}const i=super.split(n,a);return this.cache={},i}}Rs.blotName="block";Rs.tagName="P";Rs.defaultChild=Kr;Rs.allowedChildren=[Kr,Ni,$a,$r];class lr extends $a{attach(){super.attach(),this.attributes=new vx(this.domNode)}delta(){return new Qe().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,n){const a=this.scroll.query(e,et.BLOCK_ATTRIBUTE);a!=null&&this.attributes.attribute(a,n)}formatAt(e,n,a,i){this.format(a,i)}insertAt(e,n,a){if(a!=null){super.insertAt(e,n,a);return}const i=n.split(`
`),o=i.pop(),c=i.map(h=>{const f=this.scroll.create(Rs.blotName);return f.insertAt(0,h),f}),u=this.split(e);c.forEach(h=>{this.parent.insertBefore(h,u)}),o&&this.parent.insertBefore(this.scroll.create("text",o),u)}}lr.scope=et.BLOCK_BLOT;function wM(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return t.descendants($s).reduce((n,a)=>a.length()===0?n:n.insert(a.value(),ir(a,{},e)),new Qe).insert(`
`,ir(t))}function ir(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t==null||("formats"in t&&typeof t.formats=="function"&&(e={...e,...t.formats()},n&&delete e["code-token"]),t.parent==null||t.parent.statics.blotName==="scroll"||t.parent.statics.scope!==t.statics.scope)?e:ir(t.parent,e,n)}const sr=class sr extends $a{static value(){}constructor(e,n,a){super(e,n),this.selection=a,this.textNode=document.createTextNode(sr.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,n){if(this.savedLength!==0){super.format(e,n);return}let a=this,i=0;for(;a!=null&&a.statics.scope!==et.BLOCK_BLOT;)i+=a.offset(a.parent),a=a.parent;a!=null&&(this.savedLength=sr.CONTENTS.length,a.optimize(),a.formatAt(i,sr.CONTENTS.length,e,n),this.savedLength=0)}index(e,n){return e===this.textNode?0:super.index(e,n)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const n=this.prev instanceof $r?this.prev:null,a=n?n.length():0,i=this.next instanceof $r?this.next:null,o=i?i.text:"",{textNode:c}=this,u=c.data.split(sr.CONTENTS).join("");c.data=sr.CONTENTS;let h;if(n)h=n,(u||i)&&(n.insertAt(n.length(),u+o),i&&i.remove());else if(i)h=i,i.insertAt(0,u);else{const f=document.createTextNode(u);h=this.scroll.create(f),this.parent.insertBefore(h,this)}if(this.remove(),e){const f=(v,y)=>n&&v===n.domNode?y:v===c?a+y-1:i&&v===i.domNode?a+u.length+y:null,p=f(e.start.node,e.start.offset),g=f(e.end.node,e.end.offset);if(p!==null&&g!==null)return{startNode:h.domNode,startOffset:p,endNode:h.domNode,endOffset:g}}return null}update(e,n){if(e.some(a=>a.type==="characterData"&&a.target===this.textNode)){const a=this.restore();a&&(n.range=a)}}optimize(e){super.optimize(e);let{parent:n}=this;for(;n;){if(n.domNode.tagName==="A"){this.savedLength=sr.CONTENTS.length,n.isolate(this.offset(n),this.length()).unwrap(),this.savedLength=0;break}n=n.parent}}value(){return""}};Me(sr,"blotName","cursor"),Me(sr,"className","ql-cursor"),Me(sr,"tagName","span"),Me(sr,"CONTENTS","\uFEFF");let Qu=sr;var oy={exports:{}},S2;function tW(){return S2||(S2=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(n=!1));function i(h,f,p){this.fn=h,this.context=f,this.once=p||!1}function o(h,f,p,g,v){if(typeof p!="function")throw new TypeError("The listener must be a function");var y=new i(p,g||h,v),w=n?n+f:f;return h._events[w]?h._events[w].fn?h._events[w]=[h._events[w],y]:h._events[w].push(y):(h._events[w]=y,h._eventsCount++),h}function c(h,f){--h._eventsCount===0?h._events=new a:delete h._events[f]}function u(){this._events=new a,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,g;if(this._eventsCount===0)return f;for(g in p=this._events)e.call(p,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=n?n+f:f,g=this._events[p];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,y=g.length,w=new Array(y);v<y;v++)w[v]=g[v].fn;return w},u.prototype.listenerCount=function(f){var p=n?n+f:f,g=this._events[p];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,p,g,v,y,w){var j=n?n+f:f;if(!this._events[j])return!1;var k=this._events[j],S=arguments.length,E,A;if(k.fn){switch(k.once&&this.removeListener(f,k.fn,void 0,!0),S){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,p),!0;case 3:return k.fn.call(k.context,p,g),!0;case 4:return k.fn.call(k.context,p,g,v),!0;case 5:return k.fn.call(k.context,p,g,v,y),!0;case 6:return k.fn.call(k.context,p,g,v,y,w),!0}for(A=1,E=new Array(S-1);A<S;A++)E[A-1]=arguments[A];k.fn.apply(k.context,E)}else{var T=k.length,_;for(A=0;A<T;A++)switch(k[A].once&&this.removeListener(f,k[A].fn,void 0,!0),S){case 1:k[A].fn.call(k[A].context);break;case 2:k[A].fn.call(k[A].context,p);break;case 3:k[A].fn.call(k[A].context,p,g);break;case 4:k[A].fn.call(k[A].context,p,g,v);break;default:if(!E)for(_=1,E=new Array(S-1);_<S;_++)E[_-1]=arguments[_];k[A].fn.apply(k[A].context,E)}}return!0},u.prototype.on=function(f,p,g){return o(this,f,p,g,!1)},u.prototype.once=function(f,p,g){return o(this,f,p,g,!0)},u.prototype.removeListener=function(f,p,g,v){var y=n?n+f:f;if(!this._events[y])return this;if(!p)return c(this,y),this;var w=this._events[y];if(w.fn)w.fn===p&&(!v||w.once)&&(!g||w.context===g)&&c(this,y);else{for(var j=0,k=[],S=w.length;j<S;j++)(w[j].fn!==p||v&&!w[j].once||g&&w[j].context!==g)&&k.push(w[j]);k.length?this._events[y]=k.length===1?k[0]:k:c(this,y)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&c(this,p)):(this._events=new a,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u}(oy)),oy.exports}var nW=tW();const sW=cj(nW),N0=new WeakMap,S0=["error","warn","log","info"];let k0="warn";function NM(t){if(k0&&S0.indexOf(t)<=S0.indexOf(k0)){for(var e=arguments.length,n=new Array(e>1?e-1:0),a=1;a<e;a++)n[a-1]=arguments[a];console[t](...n)}}function ho(t){return S0.reduce((e,n)=>(e[n]=NM.bind(console,n,t),e),{})}ho.level=t=>{k0=t};NM.level=ho.level;const ly=ho("quill:events"),aW=["selectionchange","mousedown","mouseup","click"];aW.forEach(t=>{document.addEventListener(t,function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const o=N0.get(i);o&&o.emitter&&o.emitter.handleDOM(...n)})})});class Ge extends sW{constructor(){super(),this.domListeners={},this.on("error",ly.error)}emit(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return ly.log.call(ly,...n),super.emit(...n)}handleDOM(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];(this.domListeners[e.type]||[]).forEach(o=>{let{node:c,handler:u}=o;(e.target===c||c.contains(e.target))&&u(e,...a)})}listenDOM(e,n,a){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:n,handler:a})}}Me(Ge,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),Me(Ge,"sources",{API:"api",SILENT:"silent",USER:"user"});const cy=ho("quill:selection");class uc{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=n}}class rW{constructor(e,n){this.emitter=n,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new uc(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Ge.sources.USER),1)}),this.emitter.on(Ge.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const a=this.getNativeRange();a!=null&&a.start.node!==this.cursor.textNode&&this.emitter.once(Ge.events.SCROLL_UPDATE,(i,o)=>{try{this.root.contains(a.start.node)&&this.root.contains(a.end.node)&&this.setNativeRange(a.start.node,a.start.offset,a.end.node,a.end.offset);const c=o.some(u=>u.type==="characterData"||u.type==="childList"||u.type==="attributes"&&u.target===this.root);this.update(c?Ge.sources.SILENT:i)}catch{}})}),this.emitter.on(Ge.events.SCROLL_OPTIMIZE,(a,i)=>{if(i.range){const{startNode:o,startOffset:c,endNode:u,endOffset:h}=i.range;this.setNativeRange(o,c,u,h),this.update(Ge.sources.SILENT)}}),this.update(Ge.sources.SILENT)}handleComposition(){this.emitter.on(Ge.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Ge.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Ge.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,n){this.scroll.update();const a=this.getNativeRange();if(!(a==null||!a.native.collapsed||this.scroll.query(e,et.BLOCK))){if(a.start.node!==this.cursor.textNode){const i=this.scroll.find(a.start.node,!1);if(i==null)return;if(i instanceof $s){const o=i.split(a.start.offset);i.parent.insertBefore(this.cursor,o)}else i.insertBefore(this.cursor,a.start.node);this.cursor.attach()}this.cursor.format(e,n),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const a=this.scroll.length();e=Math.min(e,a-1),n=Math.min(e+n,a-1)-e;let i,[o,c]=this.scroll.leaf(e);if(o==null)return null;if(n>0&&c===o.length()){const[p]=this.scroll.leaf(e+1);if(p){const[g]=this.scroll.line(e),[v]=this.scroll.line(e+1);g===v&&(o=p,c=0)}}[i,c]=o.position(c,!0);const u=document.createRange();if(n>0)return u.setStart(i,c),[o,c]=this.scroll.leaf(e+n),o==null?null:([i,c]=o.position(c,!0),u.setEnd(i,c),u.getBoundingClientRect());let h="left",f;if(i instanceof Text){if(!i.data.length)return null;c<i.data.length?(u.setStart(i,c),u.setEnd(i,c+1)):(u.setStart(i,c-1),u.setEnd(i,c),h="right"),f=u.getBoundingClientRect()}else{if(!(o.domNode instanceof Element))return null;f=o.domNode.getBoundingClientRect(),c>0&&(h="right")}return{bottom:f.top+f.height,height:f.height,left:f[h],right:f[h],top:f.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const n=e.getRangeAt(0);if(n==null)return null;const a=this.normalizeNative(n);return cy.info("getNativeRange",a),a}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const n=this.getNativeRange();return n==null?[null,null]:[this.normalizedToRange(n),n]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&uy(this.root,document.activeElement)}normalizedToRange(e){const n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);const a=n.map(c=>{const[u,h]=c,f=this.scroll.find(u,!0),p=f.offset(this.scroll);return h===0?p:f instanceof $s?p+f.index(u,h):p+f.length()}),i=Math.min(Math.max(...a),this.scroll.length()-1),o=Math.min(i,...a);return new uc(o,i-o)}normalizeNative(e){if(!uy(this.root,e.startContainer)||!e.collapsed&&!uy(this.root,e.endContainer))return null;const n={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[n.start,n.end].forEach(a=>{let{node:i,offset:o}=a;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>o)i=i.childNodes[o],o=0;else if(i.childNodes.length===o)i=i.lastChild,i instanceof Text?o=i.data.length:i.childNodes.length>0?o=i.childNodes.length:o=i.childNodes.length+1;else break;a.node=i,a.offset=o}),n}rangeToNative(e){const n=this.scroll.length(),a=(i,o)=>{i=Math.min(n-1,i);const[c,u]=this.scroll.leaf(i);return c?c.position(u,o):[null,-1]};return[...a(e.index,!1),...a(e.index+e.length,!0)]}setNativeRange(e,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:n,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(cy.info("setNativeRange",e,n,a,i),e!=null&&(this.root.parentNode==null||e.parentNode==null||a.parentNode==null))return;const c=document.getSelection();if(c!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:u}=this.getNativeRange()||{};if(u==null||o||e!==u.startContainer||n!==u.startOffset||a!==u.endContainer||i!==u.endOffset){e instanceof Element&&e.tagName==="BR"&&(n=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),a instanceof Element&&a.tagName==="BR"&&(i=Array.from(a.parentNode.childNodes).indexOf(a),a=a.parentNode);const h=document.createRange();h.setStart(e,n),h.setEnd(a,i),c.removeAllRanges(),c.addRange(h)}}else c.removeAllRanges(),this.root.blur()}setRange(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ge.sources.API;if(typeof n=="string"&&(a=n,n=!1),cy.info("setRange",e),e!=null){const i=this.rangeToNative(e);this.setNativeRange(...i,n)}else this.setNativeRange(null);this.update(a)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ge.sources.USER;const n=this.lastRange,[a,i]=this.getRange();if(this.lastRange=a,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!Ko(n,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const c=this.cursor.restore();c&&this.setNativeRange(c.startNode,c.startOffset,c.endNode,c.endOffset)}const o=[Ge.events.SELECTION_CHANGE,Uu(this.lastRange),Uu(n),e];this.emitter.emit(Ge.events.EDITOR_CHANGE,...o),e!==Ge.sources.SILENT&&this.emitter.emit(...o)}}}function uy(t,e){try{e.parentNode}catch{return!1}return t.contains(e)}const iW=/^[ -~]*$/;class oW{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let n=this.scroll.length();this.scroll.batchStart();const a=k2(e),i=new Qe;return cW(a.ops.slice()).reduce((c,u)=>{const h=cr.Op.length(u);let f=u.attributes||{},p=!1,g=!1;if(u.insert!=null){if(i.retain(h),typeof u.insert=="string"){const w=u.insert;g=!w.endsWith(`
`)&&(n<=c||!!this.scroll.descendant(lr,c)[0]),this.scroll.insertAt(c,w);const[j,k]=this.scroll.line(c);let S=el({},ir(j));if(j instanceof Rs){const[E]=j.descendant($s,k);E&&(S=el(S,ir(E)))}f=cr.AttributeMap.diff(S,f)||{}}else if(typeof u.insert=="object"){const w=Object.keys(u.insert)[0];if(w==null)return c;const j=this.scroll.query(w,et.INLINE)!=null;if(j)(n<=c||this.scroll.descendant(lr,c)[0])&&(g=!0);else if(c>0){const[k,S]=this.scroll.descendant($s,c-1);k instanceof $r?k.value()[S]!==`
`&&(p=!0):k instanceof $a&&k.statics.scope===et.INLINE_BLOT&&(p=!0)}if(this.scroll.insertAt(c,w,u.insert[w]),j){const[k]=this.scroll.descendant($s,c);if(k){const S=el({},ir(k));f=cr.AttributeMap.diff(S,f)||{}}}}n+=h}else if(i.push(u),u.retain!==null&&typeof u.retain=="object"){const w=Object.keys(u.retain)[0];if(w==null)return c;this.scroll.updateEmbedAt(c,w,u.retain[w])}Object.keys(f).forEach(w=>{this.scroll.formatAt(c,h,w,f[w])});const v=p?1:0,y=g?1:0;return n+=v+y,i.retain(v),i.delete(y),c+h+v+y},0),i.reduce((c,u)=>typeof u.delete=="number"?(this.scroll.deleteAt(c,u.delete),c):c+cr.Op.length(u),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(a)}deleteText(e,n){return this.scroll.deleteAt(e,n),this.update(new Qe().retain(e).delete(n))}formatLine(e,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(a).forEach(o=>{this.scroll.lines(e,Math.max(n,1)).forEach(c=>{c.format(o,a[o])})}),this.scroll.optimize();const i=new Qe().retain(e).retain(n,Uu(a));return this.update(i)}formatText(e,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(a).forEach(o=>{this.scroll.formatAt(e,n,o,a[o])});const i=new Qe().retain(e).retain(n,Uu(a));return this.update(i)}getContents(e,n){return this.delta.slice(e,e+n)}getDelta(){return this.scroll.lines().reduce((e,n)=>e.concat(n.delta()),new Qe)}getFormat(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=[],i=[];n===0?this.scroll.path(e).forEach(u=>{const[h]=u;h instanceof Rs?a.push(h):h instanceof $s&&i.push(h)}):(a=this.scroll.lines(e,n),i=this.scroll.descendants($s,e,n));const[o,c]=[a,i].map(u=>{const h=u.shift();if(h==null)return{};let f=ir(h);for(;Object.keys(f).length>0;){const p=u.shift();if(p==null)return f;f=lW(ir(p),f)}return f});return{...o,...c}}getHTML(e,n){const[a,i]=this.scroll.line(e);if(a){const o=a.length();return a.length()>=i+n&&!(i===0&&n===o)?ff(a,i,n,!0):ff(this.scroll,e,n,!0)}return""}getText(e,n){return this.getContents(e,n).filter(a=>typeof a.insert=="string").map(a=>a.insert).join("")}insertContents(e,n){const a=k2(n),i=new Qe().retain(e).concat(a);return this.scroll.insertContents(e,a),this.update(i)}insertEmbed(e,n,a){return this.scroll.insertAt(e,n,a),this.update(new Qe().retain(e).insert({[n]:a}))}insertText(e,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,n),Object.keys(a).forEach(i=>{this.scroll.formatAt(e,n.length,i,a[i])}),this.update(new Qe().retain(e).insert(n,Uu(a)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==Rs.blotName)return!1;const n=e;return n.children.length>1?!1:n.children.head instanceof Kr}removeFormat(e,n){const a=this.getText(e,n),[i,o]=this.scroll.line(e+n);let c=0,u=new Qe;i!=null&&(c=i.length()-o,u=i.delta().slice(o,o+c-1).insert(`
`));const f=this.getContents(e,n+c).diff(new Qe().insert(a).concat(u)),p=new Qe().retain(e).concat(f);return this.applyDelta(p)}update(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(iW)&&this.scroll.find(n[0].target)){const o=this.scroll.find(n[0].target),c=ir(o),u=o.offset(this.scroll),h=n[0].oldValue.replace(Qu.CONTENTS,""),f=new Qe().insert(h),p=new Qe().insert(o.value()),g=a&&{oldRange:E2(a.oldRange,-u),newRange:E2(a.newRange,-u)};e=new Qe().retain(u).concat(f.diff(p,g)).reduce((y,w)=>w.insert?y.insert(w.insert,c):y.push(w),new Qe),this.delta=i.compose(e)}else this.delta=this.getDelta(),(!e||!Ko(i.compose(e),this.delta))&&(e=i.diff(this.delta,a));return e}}function ju(t,e,n){if(t.length===0){const[y]=dy(n.pop());return e<=0?`</li></${y}>`:`</li></${y}>${ju([],e-1,n)}`}const[{child:a,offset:i,length:o,indent:c,type:u},...h]=t,[f,p]=dy(u);if(c>e)return n.push(u),c===e+1?`<${f}><li${p}>${ff(a,i,o)}${ju(h,c,n)}`:`<${f}><li>${ju(t,e+1,n)}`;const g=n[n.length-1];if(c===e&&u===g)return`</li><li${p}>${ff(a,i,o)}${ju(h,c,n)}`;const[v]=dy(n.pop());return`</li></${v}>${ju(t,e-1,n)}`}function ff(t,e,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in t&&typeof t.html=="function")return t.html(e,n);if(t instanceof $r)return yx(t.value().slice(e,e+n)).replaceAll(" ","&nbsp;");if(t instanceof Or){if(t.statics.blotName==="list-container"){const f=[];return t.children.forEachAt(e,n,(p,g,v)=>{const y="formats"in p&&typeof p.formats=="function"?p.formats():{};f.push({child:p,offset:g,length:v,indent:y.indent||0,type:y.list})}),ju(f,-1,[])}const i=[];if(t.children.forEachAt(e,n,(f,p,g)=>{i.push(ff(f,p,g))}),a||t.statics.blotName==="list")return i.join("");const{outerHTML:o,innerHTML:c}=t.domNode,[u,h]=o.split(`>${c}<`);return u==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${h}`:`${u}>${i.join("")}<${h}`}return t.domNode instanceof Element?t.domNode.outerHTML:""}function lW(t,e){return Object.keys(e).reduce((n,a)=>{if(t[a]==null)return n;const i=e[a];return i===t[a]?n[a]=i:Array.isArray(i)?i.indexOf(t[a])<0?n[a]=i.concat([t[a]]):n[a]=i:n[a]=[i,t[a]],n},{})}function dy(t){const e=t==="ordered"?"ol":"ul";switch(t){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function k2(t){return t.reduce((e,n)=>{if(typeof n.insert=="string"){const a=n.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(a,n.attributes)}return e.push(n)},new Qe)}function E2(t,e){let{index:n,length:a}=t;return new uc(n+e,a)}function cW(t){const e=[];return t.forEach(n=>{typeof n.insert=="string"?n.insert.split(`
`).forEach((i,o)=>{o&&e.push({insert:`
`,attributes:n.attributes}),i&&e.push({insert:i,attributes:n.attributes})}):e.push(n)}),e}class Yr{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=n}}Me(Yr,"DEFAULTS",{});const Np="\uFEFF";class g1 extends $a{constructor(e,n){super(e,n),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(a=>{this.contentNode.appendChild(a)}),this.leftGuard=document.createTextNode(Np),this.rightGuard=document.createTextNode(Np),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,n)}restore(e){let n=null,a;const i=e.data.split(Np).join("");if(e===this.leftGuard)if(this.prev instanceof $r){const o=this.prev.length();this.prev.insertAt(o,i),n={startNode:this.prev.domNode,startOffset:o+i.length}}else a=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(a),this),n={startNode:a,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof $r?(this.next.insertAt(0,i),n={startNode:this.next.domNode,startOffset:i.length}):(a=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(a),this.next),n={startNode:a,startOffset:i.length}));return e.data=Np,n}update(e,n){e.forEach(a=>{if(a.type==="characterData"&&(a.target===this.leftGuard||a.target===this.rightGuard)){const i=this.restore(a.target);i&&(n.range=i)}})}}class uW{constructor(e,n){Me(this,"isComposing",!1);this.scroll=e,this.emitter=n,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const n=e.target instanceof Node?this.scroll.find(e.target,!0):null;n&&!(n instanceof g1)&&(this.emitter.emit(Ge.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(Ge.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(Ge.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(Ge.events.COMPOSITION_END,e),this.isComposing=!1}}const Qh=class Qh{constructor(e,n){Me(this,"modules",{});this.quill=e,this.options=n}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const n=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new n(this.quill,this.options.modules[e]||{}),this.modules[e]}};Me(Qh,"DEFAULTS",{modules:{}}),Me(Qh,"themes",{default:Qh});let Ju=Qh;const dW=t=>t.parentElement||t.getRootNode().host||null,hW=t=>{const e=t.getBoundingClientRect(),n="offsetWidth"in t&&Math.abs(e.width)/t.offsetWidth||1,a="offsetHeight"in t&&Math.abs(e.height)/t.offsetHeight||1;return{top:e.top,right:e.left+t.clientWidth*n,bottom:e.top+t.clientHeight*a,left:e.left}},Sp=t=>{const e=parseInt(t,10);return Number.isNaN(e)?0:e},A2=(t,e,n,a,i,o)=>t<n&&e>a?0:t<n?-(n-t+i):e>a?e-t>a-n?t+i-n:e-a+o:0,fW=(t,e)=>{var o,c,u;const n=t.ownerDocument;let a=e,i=t;for(;i;){const h=i===n.body,f=h?{top:0,right:((o=window.visualViewport)==null?void 0:o.width)??n.documentElement.clientWidth,bottom:((c=window.visualViewport)==null?void 0:c.height)??n.documentElement.clientHeight,left:0}:hW(i),p=getComputedStyle(i),g=A2(a.left,a.right,f.left,f.right,Sp(p.scrollPaddingLeft),Sp(p.scrollPaddingRight)),v=A2(a.top,a.bottom,f.top,f.bottom,Sp(p.scrollPaddingTop),Sp(p.scrollPaddingBottom));if(g||v)if(h)(u=n.defaultView)==null||u.scrollBy(g,v);else{const{scrollLeft:y,scrollTop:w}=i;v&&(i.scrollTop+=v),g&&(i.scrollLeft+=g);const j=i.scrollLeft-y,k=i.scrollTop-w;a={left:a.left-j,top:a.top-k,right:a.right-j,bottom:a.bottom-k}}i=h||p.position==="fixed"?null:dW(i)}},mW=100,pW=["block","break","cursor","inline","scroll","text"],gW=(t,e,n)=>{const a=new Zu;return pW.forEach(i=>{const o=e.query(i);o&&a.register(o)}),t.forEach(i=>{let o=e.query(i);o||n.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let c=0;for(;o;)if(a.register(o),o="blotName"in o?o.requiredContainer??null:null,c+=1,c>mW){n.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),a},Fu=ho("quill"),kp=new Zu;Or.uiClass="ql-ui";const Rr=class Rr{static debug(e){e===!0&&(e="log"),ho.level(e)}static find(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return N0.get(e)||kp.find(e,n)}static import(e){return this.imports[e]==null&&Fu.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],n=!!(!(arguments.length<=1)&&arguments[1]),a="attrName"in e?e.attrName:e.blotName;typeof a=="string"?this.register(`formats/${a}`,e,n):Object.keys(e).forEach(i=>{this.register(i,e[i],n)})}else{const e=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],a=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!a&&Fu.warn(`Overwriting ${e} with`,n),this.imports[e]=n,(e.startsWith("blots/")||e.startsWith("formats/"))&&n&&typeof n!="boolean"&&n.blotName!=="abstract"&&kp.register(n),typeof n.register=="function"&&n.register(kp)}}constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=xW(e,n),this.container=this.options.container,this.container==null){Fu.error("Invalid Quill container",e);return}this.options.debug&&Rr.debug(this.options.debug);const a=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",N0.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Ge;const i=p1.blotName,o=this.options.registry.query(i);if(!o||!("blotName"in o))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new o(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new oW(this.scroll),this.selection=new rW(this.scroll,this.emitter),this.composition=new uW(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Ge.events.EDITOR_CHANGE,c=>{c===Ge.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Ge.events.SCROLL_UPDATE,(c,u)=>{const h=this.selection.lastRange,[f]=this.selection.getRange(),p=h&&f?{oldRange:h,newRange:f}:void 0;Cr.call(this,()=>this.editor.update(null,u,p),c)}),this.emitter.on(Ge.events.SCROLL_EMBED_UPDATE,(c,u)=>{const h=this.selection.lastRange,[f]=this.selection.getRange(),p=h&&f?{oldRange:h,newRange:f}:void 0;Cr.call(this,()=>{const g=new Qe().retain(c.offset(this)).retain({[c.statics.blotName]:u});return this.editor.update(g,[],p)},Rr.sources.USER)}),a){const c=this.clipboard.convert({html:`${a}<p><br></p>`,text:`
`});this.setContents(c)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const a=e;e=document.createElement("div"),e.classList.add(a)}return this.container.insertBefore(e,n),e}blur(){this.selection.setRange(null)}deleteText(e,n,a){return[e,n,,a]=Yi(e,n,a),Cr.call(this,()=>this.editor.deleteText(e,n),a,e,-1*n)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const n=e();return this.allowReadOnlyEdits=!1,n}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ge.sources.API;return Cr.call(this,()=>{const i=this.getSelection(!0);let o=new Qe;if(i==null)return o;if(this.scroll.query(e,et.BLOCK))o=this.editor.formatLine(i.index,i.length,{[e]:n});else{if(i.length===0)return this.selection.format(e,n),o;o=this.editor.formatText(i.index,i.length,{[e]:n})}return this.setSelection(i,Ge.sources.SILENT),o},a)}formatLine(e,n,a,i,o){let c;return[e,n,c,o]=Yi(e,n,a,i,o),Cr.call(this,()=>this.editor.formatLine(e,n,c),o,e,0)}formatText(e,n,a,i,o){let c;return[e,n,c,o]=Yi(e,n,a,i,o),Cr.call(this,()=>this.editor.formatText(e,n,c),o,e,0)}getBounds(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=null;if(typeof e=="number"?a=this.selection.getBounds(e,n):a=this.selection.getBounds(e.index,e.length),!a)return null;const i=this.container.getBoundingClientRect();return{bottom:a.bottom-i.top,height:a.height,left:a.left-i.left,right:a.right-i.left,top:a.top-i.top,width:a.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,n]=Yi(e,n),this.editor.getContents(e,n)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,n):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,n)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=Yi(e,n),this.editor.getHTML(e,n)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(n=n??this.getLength()-e),[e,n]=Yi(e,n),this.editor.getText(e,n)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,n,a){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Rr.sources.API;return Cr.call(this,()=>this.editor.insertEmbed(e,n,a),i,e)}insertText(e,n,a,i,o){let c;return[e,,c,o]=Yi(e,0,a,i,o),Cr.call(this,()=>this.editor.insertText(e,n,c),o,e,n.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,n,a){return[e,n,,a]=Yi(e,n,a),Cr.call(this,()=>this.editor.removeFormat(e,n),a,e)}scrollRectIntoView(e){fW(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,n=e&&this.selection.getBounds(e.index,e.length);n&&this.scrollRectIntoView(n)}setContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ge.sources.API;return Cr.call(this,()=>{e=new Qe(e);const a=this.getLength(),i=this.editor.deleteText(0,a),o=this.editor.insertContents(0,e),c=this.editor.deleteText(this.getLength()-1,1);return i.compose(o).compose(c)},n)}setSelection(e,n,a){e==null?this.selection.setRange(null,n||Rr.sources.API):([e,n,,a]=Yi(e,n,a),this.selection.setRange(new uc(Math.max(0,e),n),a),a!==Ge.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ge.sources.API;const a=new Qe().insert(e);return this.setContents(a,n)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ge.sources.USER;const n=this.scroll.update(e);return this.selection.update(e),n}updateContents(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ge.sources.API;return Cr.call(this,()=>(e=new Qe(e),this.editor.applyDelta(e)),n,!0)}};Me(Rr,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:kp,theme:"default"}),Me(Rr,"events",Ge.events),Me(Rr,"sources",Ge.sources),Me(Rr,"version","2.0.3"),Me(Rr,"imports",{delta:Qe,parchment:XX,"core/module":Yr,"core/theme":Ju});let we=Rr;function C2(t){return typeof t=="string"?document.querySelector(t):t}function hy(t){return Object.entries(t??{}).reduce((e,n)=>{let[a,i]=n;return{...e,[a]:i===!0?{}:i}},{})}function T2(t){return Object.fromEntries(Object.entries(t).filter(e=>e[1]!==void 0))}function xW(t,e){const n=C2(t);if(!n)throw new Error("Invalid Quill container");const i=!e.theme||e.theme===we.DEFAULTS.theme?Ju:we.import(`themes/${e.theme}`);if(!i)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:o,...c}=we.DEFAULTS,{modules:u,...h}=i.DEFAULTS;let f=hy(e.modules);f!=null&&f.toolbar&&f.toolbar.constructor!==Object&&(f={...f,toolbar:{container:f.toolbar}});const p=el({},hy(o),hy(u),f),g={...c,...T2(h),...T2(e)};let v=e.registry;return v?e.formats&&Fu.warn('Ignoring "formats" option because "registry" is specified'):v=e.formats?gW(e.formats,g.registry,Fu):g.registry,{...g,registry:v,container:n,theme:i,modules:Object.entries(p).reduce((y,w)=>{let[j,k]=w;if(!k)return y;const S=we.import(`modules/${j}`);return S==null?(Fu.error(`Cannot load ${j} module. Are you sure you registered it?`),y):{...y,[j]:el({},S.DEFAULTS||{},k)}},{}),bounds:C2(g.bounds)}}function Cr(t,e,n,a){if(!this.isEnabled()&&e===Ge.sources.USER&&!this.allowReadOnlyEdits)return new Qe;let i=n==null?null:this.getSelection();const o=this.editor.delta,c=t();if(i!=null&&(n===!0&&(n=i.index),a==null?i=_2(i,c,e):a!==0&&(i=_2(i,n,a,e)),this.setSelection(i,Ge.sources.SILENT)),c.length()>0){const u=[Ge.events.TEXT_CHANGE,c,o,e];this.emitter.emit(Ge.events.EDITOR_CHANGE,...u),e!==Ge.sources.SILENT&&this.emitter.emit(...u)}return c}function Yi(t,e,n,a,i){let o={};return typeof t.index=="number"&&typeof t.length=="number"?typeof e!="number"?(i=a,a=n,n=e,e=t.length,t=t.index):(e=t.length,t=t.index):typeof e!="number"&&(i=a,a=n,n=e,e=0),typeof n=="object"?(o=n,i=a):typeof n=="string"&&(a!=null?o[n]=a:i=n),i=i||Ge.sources.API,[t,e,o,i]}function _2(t,e,n,a){const i=typeof n=="number"?n:0;if(t==null)return null;let o,c;return e&&typeof e.transformPosition=="function"?[o,c]=[t.index,t.index+t.length].map(u=>e.transformPosition(u,a!==Ge.sources.USER)):[o,c]=[t.index,t.index+t.length].map(u=>u<e||u===e&&a===Ge.sources.USER?u:i>=0?u+i:Math.max(e,u+i)),new uc(o,c-o)}class jc extends bx{}function R2(t){return t instanceof Rs||t instanceof lr}function D2(t){return typeof t.updateContent=="function"}class wu extends p1{constructor(e,n,a){let{emitter:i}=a;super(e,n),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",o=>this.handleDragStart(o))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(Ge.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(Ge.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,n){this.emitter.emit(Ge.events.SCROLL_EMBED_UPDATE,e,n)}deleteAt(e,n){const[a,i]=this.line(e),[o]=this.line(e+n);if(super.deleteAt(e,n),o!=null&&a!==o&&i>0){if(a instanceof lr||o instanceof lr){this.optimize();return}const c=o.children.head instanceof Kr?null:o.children.head;a.moveChildren(o,c),a.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,n,a,i){super.formatAt(e,n,a,i),this.optimize()}insertAt(e,n,a){if(e>=this.length())if(a==null||this.scroll.query(n,et.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),a==null&&n.endsWith(`
`)?i.insertAt(0,n.slice(0,-1),a):i.insertAt(0,n,a)}else{const i=this.scroll.create(n,a);this.appendChild(i)}else super.insertAt(e,n,a);this.optimize()}insertBefore(e,n){if(e.statics.scope===et.INLINE_BLOT){const a=this.scroll.create(this.statics.defaultChild.blotName);a.appendChild(e),super.insertBefore(a,n)}else super.insertBefore(e,n)}insertContents(e,n){const a=this.deltaToRenderBlocks(n.concat(new Qe().insert(`
`))),i=a.pop();if(i==null)return;this.batchStart();const o=a.shift();if(o){const h=o.type==="block"&&(o.delta.length()===0||!this.descendant(lr,e)[0]&&e<this.length()),f=o.type==="block"?o.delta:new Qe().insert({[o.key]:o.value});fy(this,e,f);const p=o.type==="block"?1:0,g=e+f.length()+p;h&&this.insertAt(g-1,`
`);const v=ir(this.line(e)[0]),y=cr.AttributeMap.diff(v,o.attributes)||{};Object.keys(y).forEach(w=>{this.formatAt(g-1,1,w,y[w])}),e=g}let[c,u]=this.children.find(e);if(a.length&&(c&&(c=c.split(u),u=0),a.forEach(h=>{if(h.type==="block"){const f=this.createBlock(h.attributes,c||void 0);fy(f,0,h.delta)}else{const f=this.create(h.key,h.value);this.insertBefore(f,c||void 0),Object.keys(h.attributes).forEach(p=>{f.format(p,h.attributes[p])})}})),i.type==="block"&&i.delta.length()){const h=c?c.offset(c.scroll)+u:this.length();fy(this,h,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const n=this.path(e).pop();if(!n)return[null,-1];const[a,i]=n;return a instanceof $s?[a,i]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(R2,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const a=(i,o,c)=>{let u=[],h=c;return i.children.forEachAt(o,c,(f,p,g)=>{R2(f)?u.push(f):f instanceof bx&&(u=u.concat(a(f,p,h))),h-=g}),u};return a(this,e,n)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,n),e.length>0&&this.emitter.emit(Ge.events.SCROLL_OPTIMIZE,e,n))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let n=Ge.sources.USER;typeof e=="string"&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(a=>{let{target:i}=a;const o=this.find(i,!0);return o&&!D2(o)}),e.length>0&&this.emitter.emit(Ge.events.SCROLL_BEFORE_UPDATE,n,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(Ge.events.SCROLL_UPDATE,n,e)}updateEmbedAt(e,n,a){const[i]=this.descendant(o=>o instanceof lr,e);i&&i.statics.blotName===n&&D2(i)&&i.updateContent(a)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const n=[];let a=new Qe;return e.forEach(i=>{const o=i==null?void 0:i.insert;if(o)if(typeof o=="string"){const c=o.split(`
`);c.slice(0,-1).forEach(h=>{a.insert(h,i.attributes),n.push({type:"block",delta:a,attributes:i.attributes??{}}),a=new Qe});const u=c[c.length-1];u&&a.insert(u,i.attributes)}else{const c=Object.keys(o)[0];if(!c)return;this.query(c,et.INLINE)?a.push(i):(a.length()&&n.push({type:"block",delta:a,attributes:{}}),a=new Qe,n.push({type:"blockEmbed",key:c,value:o[c],attributes:i.attributes??{}}))}}),a.length()&&n.push({type:"block",delta:a,attributes:{}}),n}createBlock(e,n){let a;const i={};Object.entries(e).forEach(u=>{let[h,f]=u;this.query(h,et.BLOCK&et.BLOT)!=null?a=h:i[h]=f});const o=this.create(a||this.statics.defaultChild.blotName,a?e[a]:void 0);this.insertBefore(o,n||void 0);const c=o.length();return Object.entries(i).forEach(u=>{let[h,f]=u;o.formatAt(0,c,h,f)}),o}}Me(wu,"blotName","scroll"),Me(wu,"className","ql-editor"),Me(wu,"tagName","DIV"),Me(wu,"defaultChild",Rs),Me(wu,"allowedChildren",[Rs,lr,jc]);function fy(t,e,n){n.reduce((a,i)=>{const o=cr.Op.length(i);let c=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const u=i.insert;t.insertAt(a,u);const[h]=t.descendant($s,a),f=ir(h);c=cr.AttributeMap.diff(f,c)||{}}else if(typeof i.insert=="object"){const u=Object.keys(i.insert)[0];if(u==null)return a;if(t.insertAt(a,u,i.insert[u]),t.scroll.query(u,et.INLINE)!=null){const[f]=t.descendant($s,a),p=ir(f);c=cr.AttributeMap.diff(p,c)||{}}}}return Object.keys(c).forEach(u=>{t.formatAt(a,o,u,c[u])}),a+o},e)}const x1={scope:et.BLOCK,whitelist:["right","center","justify"]},vW=new wi("align","align",x1),SM=new Gr("align","ql-align",x1),kM=new bl("align","text-align",x1);class EM extends bl{value(e){let n=super.value(e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${n.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):n}}const bW=new Gr("color","ql-color",{scope:et.INLINE}),v1=new EM("color","color",{scope:et.INLINE}),yW=new Gr("background","ql-bg",{scope:et.INLINE}),b1=new EM("background","background-color",{scope:et.INLINE});class wc extends jc{static create(e){const n=super.create(e);return n.setAttribute("spellcheck","false"),n}code(e,n){return this.children.map(a=>a.length()<=1?"":a.domNode.innerText).join(`
`).slice(e,e+n)}html(e,n){return`<pre>
${yx(this.code(e,n))}
</pre>`}}class Ys extends Rs{static register(){we.register(wc)}}Me(Ys,"TAB","  ");class y1 extends Ni{}y1.blotName="code";y1.tagName="CODE";Ys.blotName="code-block";Ys.className="ql-code-block";Ys.tagName="DIV";wc.blotName="code-block-container";wc.className="ql-code-block-container";wc.tagName="DIV";wc.allowedChildren=[Ys];Ys.allowedChildren=[$r,Kr,Qu];Ys.requiredContainer=wc;const j1={scope:et.BLOCK,whitelist:["rtl"]},AM=new wi("direction","dir",j1),CM=new Gr("direction","ql-direction",j1),TM=new bl("direction","direction",j1),_M={scope:et.INLINE,whitelist:["serif","monospace"]},RM=new Gr("font","ql-font",_M);class jW extends bl{value(e){return super.value(e).replace(/["']/g,"")}}const DM=new jW("font","font-family",_M),MM=new Gr("size","ql-size",{scope:et.INLINE,whitelist:["small","large","huge"]}),PM=new bl("size","font-size",{scope:et.INLINE,whitelist:["10px","18px","32px"]}),wW=ho("quill:keyboard"),NW=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class jx extends Yr{static match(e,n){return["altKey","ctrlKey","metaKey","shiftKey"].some(a=>!!n[a]!==e[a]&&n[a]!==null)?!1:n.key===e.key||n.key===e.which}constructor(e,n){super(e,n),this.bindings={},Object.keys(this.options.bindings).forEach(a=>{this.options.bindings[a]&&this.addBinding(this.options.bindings[a])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=kW(e);if(i==null){wW.warn("Attempted to add invalid keyboard binding",i);return}typeof n=="function"&&(n={handler:n}),typeof a=="function"&&(a={handler:a}),(Array.isArray(i.key)?i.key:[i.key]).forEach(c=>{const u={...i,key:c,...n,...a};this.bindings[u.key]=this.bindings[u.key]||[],this.bindings[u.key].push(u)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const i=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(S=>jx.match(e,S));if(i.length===0)return;const o=we.find(e.target,!0);if(o&&o.scroll!==this.quill.scroll)return;const c=this.quill.getSelection();if(c==null||!this.quill.hasFocus())return;const[u,h]=this.quill.getLine(c.index),[f,p]=this.quill.getLeaf(c.index),[g,v]=c.length===0?[f,p]:this.quill.getLeaf(c.index+c.length),y=f instanceof Ng?f.value().slice(0,p):"",w=g instanceof Ng?g.value().slice(v):"",j={collapsed:c.length===0,empty:c.length===0&&u.length()<=1,format:this.quill.getFormat(c),line:u,offset:h,prefix:y,suffix:w,event:e};i.some(S=>{if(S.collapsed!=null&&S.collapsed!==j.collapsed||S.empty!=null&&S.empty!==j.empty||S.offset!=null&&S.offset!==j.offset)return!1;if(Array.isArray(S.format)){if(S.format.every(E=>j.format[E]==null))return!1}else if(typeof S.format=="object"&&!Object.keys(S.format).every(E=>S.format[E]===!0?j.format[E]!=null:S.format[E]===!1?j.format[E]==null:Ko(S.format[E],j.format[E])))return!1;return S.prefix!=null&&!S.prefix.test(j.prefix)||S.suffix!=null&&!S.suffix.test(j.suffix)?!1:S.handler.call(this,c,j,S)!==!0})&&e.preventDefault()})}handleBackspace(e,n){const a=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(n.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let i={};const[o]=this.quill.getLine(e.index);let c=new Qe().retain(e.index-a).delete(a);if(n.offset===0){const[u]=this.quill.getLine(e.index-1);if(u&&!(u.statics.blotName==="block"&&u.length()<=1)){const f=o.formats(),p=this.quill.getFormat(e.index-1,1);if(i=cr.AttributeMap.diff(f,p)||{},Object.keys(i).length>0){const g=new Qe().retain(e.index+o.length()-2).retain(1,i);c=c.compose(g)}}}this.quill.updateContents(c,we.sources.USER),this.quill.focus()}handleDelete(e,n){const a=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(n.suffix)?2:1;if(e.index>=this.quill.getLength()-a)return;let i={};const[o]=this.quill.getLine(e.index);let c=new Qe().retain(e.index).delete(a);if(n.offset>=o.length()-1){const[u]=this.quill.getLine(e.index+1);if(u){const h=o.formats(),f=this.quill.getFormat(e.index,1);i=cr.AttributeMap.diff(h,f)||{},Object.keys(i).length>0&&(c=c.retain(u.length()-1).retain(1,i))}}this.quill.updateContents(c,we.sources.USER),this.quill.focus()}handleDeleteRange(e){w1({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,n){const a=Object.keys(n.format).reduce((o,c)=>(this.quill.scroll.query(c,et.BLOCK)&&!Array.isArray(n.format[c])&&(o[c]=n.format[c]),o),{}),i=new Qe().retain(e.index).delete(e.length).insert(`
`,a);this.quill.updateContents(i,we.sources.USER),this.quill.setSelection(e.index+1,we.sources.SILENT),this.quill.focus()}}const SW={bindings:{bold:my("bold"),italic:my("italic"),underline:my("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",we.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(t,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",we.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(t,e){e.format.indent!=null?this.quill.format("indent","-1",we.sources.USER):e.format.list!=null&&this.quill.format("list",!1,we.sources.USER)}},"indent code-block":M2(!0),"outdent code-block":M2(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(t){this.quill.deleteText(t.index-1,1,we.sources.USER)}},tab:{key:"Tab",handler(t,e){if(e.format.table)return!0;this.quill.history.cutoff();const n=new Qe().retain(t.index).delete(t.length).insert("	");return this.quill.updateContents(n,we.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,we.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,we.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(t,e){const n={list:!1};e.format.indent&&(n.indent=!1),this.quill.formatLine(t.index,t.length,n,we.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(t){const[e,n]=this.quill.getLine(t.index),a={...e.formats(),list:"checked"},i=new Qe().retain(t.index).insert(`
`,a).retain(e.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,we.sources.USER),this.quill.setSelection(t.index+1,we.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(t,e){const[n,a]=this.quill.getLine(t.index),i=new Qe().retain(t.index).insert(`
`,e.format).retain(n.length()-a-1).retain(1,{header:null});this.quill.updateContents(i,we.sources.USER),this.quill.setSelection(t.index+1,we.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(t){const e=this.quill.getModule("table");if(e){const[n,a,i,o]=e.getTable(t),c=EW(n,a,i,o);if(c==null)return;let u=n.offset();if(c<0){const h=new Qe().retain(u).insert(`
`);this.quill.updateContents(h,we.sources.USER),this.quill.setSelection(t.index+1,t.length,we.sources.SILENT)}else if(c>0){u+=n.length();const h=new Qe().retain(u).insert(`
`);this.quill.updateContents(h,we.sources.USER),this.quill.setSelection(u,we.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(t,e){const{event:n,line:a}=e,i=a.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(i-1,we.sources.USER):this.quill.setSelection(i+a.length(),we.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(t,e){if(this.quill.scroll.query("list")==null)return!0;const{length:n}=e.prefix,[a,i]=this.quill.getLine(t.index);if(i>n)return!0;let o;switch(e.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o="ordered"}this.quill.insertText(t.index," ",we.sources.USER),this.quill.history.cutoff();const c=new Qe().retain(t.index-i).delete(n+1).retain(a.length()-2-i).retain(1,{list:o});return this.quill.updateContents(c,we.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-n,we.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(t){const[e,n]=this.quill.getLine(t.index);let a=2,i=e;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,a-=1,a<=0){const o=new Qe().retain(t.index+e.length()-n-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(o,we.sources.USER),this.quill.setSelection(t.index-1,we.sources.SILENT),!1}return!0}},"embed left":Ep("ArrowLeft",!1),"embed left shift":Ep("ArrowLeft",!0),"embed right":Ep("ArrowRight",!1),"embed right shift":Ep("ArrowRight",!0),"table down":P2(!1),"table up":P2(!0)}};jx.DEFAULTS=SW;function M2(t){return{key:"Tab",shiftKey:!t,format:{"code-block":!0},handler(e,n){let{event:a}=n;const i=this.quill.scroll.query("code-block"),{TAB:o}=i;if(e.length===0&&!a.shiftKey){this.quill.insertText(e.index,o,we.sources.USER),this.quill.setSelection(e.index+o.length,we.sources.SILENT);return}const c=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:u,length:h}=e;c.forEach((f,p)=>{t?(f.insertAt(0,o),p===0?u+=o.length:h+=o.length):f.domNode.textContent.startsWith(o)&&(f.deleteAt(0,o.length),p===0?u-=o.length:h-=o.length)}),this.quill.update(we.sources.USER),this.quill.setSelection(u,h,we.sources.SILENT)}}}function Ep(t,e){return{key:t,shiftKey:e,altKey:null,[t==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(a){let{index:i}=a;t==="ArrowRight"&&(i+=a.length+1);const[o]=this.quill.getLeaf(i);return o instanceof $a?(t==="ArrowLeft"?e?this.quill.setSelection(a.index-1,a.length+1,we.sources.USER):this.quill.setSelection(a.index-1,we.sources.USER):e?this.quill.setSelection(a.index,a.length+1,we.sources.USER):this.quill.setSelection(a.index+a.length+1,we.sources.USER),!1):!0}}}function my(t){return{key:t[0],shortKey:!0,handler(e,n){this.quill.format(t,!n.format[t],we.sources.USER)}}}function P2(t){return{key:t?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,n){const a=t?"prev":"next",i=n.line,o=i.parent[a];if(o!=null){if(o.statics.blotName==="table-row"){let c=o.children.head,u=i;for(;u.prev!=null;)u=u.prev,c=c.next;const h=c.offset(this.quill.scroll)+Math.min(n.offset,c.length()-1);this.quill.setSelection(h,0,we.sources.USER)}}else{const c=i.table()[a];c!=null&&(t?this.quill.setSelection(c.offset(this.quill.scroll)+c.length()-1,0,we.sources.USER):this.quill.setSelection(c.offset(this.quill.scroll),0,we.sources.USER))}return!1}}}function kW(t){if(typeof t=="string"||typeof t=="number")t={key:t};else if(typeof t=="object")t=Uu(t);else return null;return t.shortKey&&(t[NW]=t.shortKey,delete t.shortKey),t}function w1(t){let{quill:e,range:n}=t;const a=e.getLines(n);let i={};if(a.length>1){const o=a[0].formats(),c=a[a.length-1].formats();i=cr.AttributeMap.diff(c,o)||{}}e.deleteText(n,we.sources.USER),Object.keys(i).length>0&&e.formatLine(n.index,1,i,we.sources.USER),e.setSelection(n.index,we.sources.SILENT)}function EW(t,e,n,a){return e.prev==null&&e.next==null?n.prev==null&&n.next==null?a===0?-1:1:n.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const AW=/font-weight:\s*normal/,CW=["P","OL","UL"],O2=t=>t&&CW.includes(t.tagName),TW=t=>{Array.from(t.querySelectorAll("br")).filter(e=>O2(e.previousElementSibling)&&O2(e.nextElementSibling)).forEach(e=>{var n;(n=e.parentNode)==null||n.removeChild(e)})},_W=t=>{Array.from(t.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var n;return(n=e.getAttribute("style"))==null?void 0:n.match(AW)}).forEach(e=>{var a;const n=t.createDocumentFragment();n.append(...e.childNodes),(a=e.parentNode)==null||a.replaceChild(n,e)})};function RW(t){t.querySelector('[id^="docs-internal-guid-"]')&&(_W(t),TW(t))}const DW=/\bmso-list:[^;]*ignore/i,MW=/\bmso-list:[^;]*\bl(\d+)/i,PW=/\bmso-list:[^;]*\blevel(\d+)/i,OW=(t,e)=>{const n=t.getAttribute("style"),a=n==null?void 0:n.match(MW);if(!a)return null;const i=Number(a[1]),o=n==null?void 0:n.match(PW),c=o?Number(o[1]):1,u=new RegExp(`@list l${i}:level${c}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),h=e.match(u),f=h&&h[1]==="bullet"?"bullet":"ordered";return{id:i,indent:c,type:f,element:t}},LW=t=>{var c,u;const e=Array.from(t.querySelectorAll("[style*=mso-list]")),n=[],a=[];e.forEach(h=>{(h.getAttribute("style")||"").match(DW)?n.push(h):a.push(h)}),n.forEach(h=>{var f;return(f=h.parentNode)==null?void 0:f.removeChild(h)});const i=t.documentElement.innerHTML,o=a.map(h=>OW(h,i)).filter(h=>h);for(;o.length;){const h=[];let f=o.shift();for(;f;)h.push(f),f=o.length&&((c=o[0])==null?void 0:c.element)===f.element.nextElementSibling&&o[0].id===f.id?o.shift():null;const p=document.createElement("ul");h.forEach(y=>{const w=document.createElement("li");w.setAttribute("data-list",y.type),y.indent>1&&w.setAttribute("class",`ql-indent-${y.indent-1}`),w.innerHTML=y.element.innerHTML,p.appendChild(w)});const g=(u=h[0])==null?void 0:u.element,{parentNode:v}=g??{};g&&(v==null||v.replaceChild(p,g)),h.slice(1).forEach(y=>{let{element:w}=y;v==null||v.removeChild(w)})}};function IW(t){t.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&LW(t)}const BW=[IW,RW],zW=t=>{t.documentElement&&BW.forEach(e=>{e(t)})},UW=ho("quill:clipboard"),$W=[[Node.TEXT_NODE,JW],[Node.TEXT_NODE,I2],["br",GW],[Node.ELEMENT_NODE,I2],[Node.ELEMENT_NODE,HW],[Node.ELEMENT_NODE,qW],[Node.ELEMENT_NODE,ZW],["li",XW],["ol, ul",WW],["pre",KW],["tr",QW],["b",py("bold")],["i",py("italic")],["strike",py("strike")],["style",YW]],FW=[vW,AM].reduce((t,e)=>(t[e.keyName]=e,t),{}),L2=[kM,b1,v1,TM,DM,PM].reduce((t,e)=>(t[e.keyName]=e,t),{});class OM extends Yr{constructor(e,n){super(e,n),this.quill.root.addEventListener("copy",a=>this.onCaptureCopy(a,!1)),this.quill.root.addEventListener("cut",a=>this.onCaptureCopy(a,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],$W.concat(this.options.matchers??[]).forEach(a=>{let[i,o]=a;this.addMatcher(i,o)})}addMatcher(e,n){this.matchers.push([e,n])}convert(e){let{html:n,text:a}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[Ys.blotName])return new Qe().insert(a||"",{[Ys.blotName]:i[Ys.blotName]});if(!n)return new Qe().insert(a||"",i);const o=this.convertHTML(n);return Hf(o,`
`)&&(o.ops[o.ops.length-1].attributes==null||i.table)?o.compose(new Qe().retain(o.length()-1).delete(1)):o}normalizeHTML(e){zW(e)}convertHTML(e){const n=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(n);const a=n.body,i=new WeakMap,[o,c]=this.prepareMatching(a,i);return N1(this.quill.scroll,a,o,c,i)}dangerouslyPasteHTML(e,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:we.sources.API;if(typeof e=="string"){const i=this.convert({html:e,text:""});this.quill.setContents(i,n),this.quill.setSelection(0,we.sources.SILENT)}else{const i=this.convert({html:n,text:""});this.quill.updateContents(new Qe().retain(e).concat(i),a),this.quill.setSelection(e+i.length(),we.sources.SILENT)}}onCaptureCopy(e){var c,u;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[a]=this.quill.selection.getRange();if(a==null)return;const{html:i,text:o}=this.onCopy(a,n);(c=e.clipboardData)==null||c.setData("text/plain",o),(u=e.clipboardData)==null||u.setData("text/html",i),n&&w1({range:a,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(n=>n[0]!=="#").join(`
`)}onCapturePaste(e){var c,u,h,f,p;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const n=this.quill.getSelection(!0);if(n==null)return;const a=(c=e.clipboardData)==null?void 0:c.getData("text/html");let i=(u=e.clipboardData)==null?void 0:u.getData("text/plain");if(!a&&!i){const g=(h=e.clipboardData)==null?void 0:h.getData("text/uri-list");g&&(i=this.normalizeURIList(g))}const o=Array.from(((f=e.clipboardData)==null?void 0:f.files)||[]);if(!a&&o.length>0){this.quill.uploader.upload(n,o);return}if(a&&o.length>0){const g=new DOMParser().parseFromString(a,"text/html");if(g.body.childElementCount===1&&((p=g.body.firstElementChild)==null?void 0:p.tagName)==="IMG"){this.quill.uploader.upload(n,o);return}}this.onPaste(n,{html:a,text:i})}onCopy(e){const n=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:n}}onPaste(e,n){let{text:a,html:i}=n;const o=this.quill.getFormat(e.index),c=this.convert({text:a,html:i},o);UW.log("onPaste",c,{text:a,html:i});const u=new Qe().retain(e.index).delete(e.length).concat(c);this.quill.updateContents(u,we.sources.USER),this.quill.setSelection(u.length()-e.length,we.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,n){const a=[],i=[];return this.matchers.forEach(o=>{const[c,u]=o;switch(c){case Node.TEXT_NODE:i.push(u);break;case Node.ELEMENT_NODE:a.push(u);break;default:Array.from(e.querySelectorAll(c)).forEach(h=>{if(n.has(h)){const f=n.get(h);f==null||f.push(u)}else n.set(h,[u])});break}}),[a,i]}}Me(OM,"DEFAULTS",{matchers:[]});function Nc(t,e,n,a){return a.query(e)?t.reduce((i,o)=>{if(!o.insert)return i;if(o.attributes&&o.attributes[e])return i.push(o);const c=n?{[e]:n}:{};return i.insert(o.insert,{...c,...o.attributes})},new Qe):t}function Hf(t,e){let n="";for(let a=t.ops.length-1;a>=0&&n.length<e.length;--a){const i=t.ops[a];if(typeof i.insert!="string")break;n=i.insert+n}return n.slice(-1*e.length)===e}function Zo(t,e){if(!(t instanceof Element))return!1;const n=e.query(t);return n&&n.prototype instanceof $a?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(t.tagName.toLowerCase())}function VW(t,e){return t.previousElementSibling&&t.nextElementSibling&&!Zo(t.previousElementSibling,e)&&!Zo(t.nextElementSibling,e)}const Ap=new WeakMap;function LM(t){return t==null?!1:(Ap.has(t)||(t.tagName==="PRE"?Ap.set(t,!0):Ap.set(t,LM(t.parentNode))),Ap.get(t))}function N1(t,e,n,a,i){return e.nodeType===e.TEXT_NODE?a.reduce((o,c)=>c(e,o,t),new Qe):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((o,c)=>{let u=N1(t,c,n,a,i);return c.nodeType===e.ELEMENT_NODE&&(u=n.reduce((h,f)=>f(c,h,t),u),u=(i.get(c)||[]).reduce((h,f)=>f(c,h,t),u)),o.concat(u)},new Qe):new Qe}function py(t){return(e,n,a)=>Nc(n,t,!0,a)}function qW(t,e,n){const a=wi.keys(t),i=Gr.keys(t),o=bl.keys(t),c={};return a.concat(i).concat(o).forEach(u=>{let h=n.query(u,et.ATTRIBUTE);h!=null&&(c[h.attrName]=h.value(t),c[h.attrName])||(h=FW[u],h!=null&&(h.attrName===u||h.keyName===u)&&(c[h.attrName]=h.value(t)||void 0),h=L2[u],h!=null&&(h.attrName===u||h.keyName===u)&&(h=L2[u],c[h.attrName]=h.value(t)||void 0))}),Object.entries(c).reduce((u,h)=>{let[f,p]=h;return Nc(u,f,p,n)},e)}function HW(t,e,n){const a=n.query(t);if(a==null)return e;if(a.prototype instanceof $a){const i={},o=a.value(t);if(o!=null)return i[a.blotName]=o,new Qe().insert(i,a.formats(t,n))}else if(a.prototype instanceof hf&&!Hf(e,`
`)&&e.insert(`
`),"blotName"in a&&"formats"in a&&typeof a.formats=="function")return Nc(e,a.blotName,a.formats(t,n),n);return e}function GW(t,e){return Hf(e,`
`)||e.insert(`
`),e}function KW(t,e,n){const a=n.query("code-block"),i=a&&"formats"in a&&typeof a.formats=="function"?a.formats(t,n):!0;return Nc(e,"code-block",i,n)}function YW(){return new Qe}function XW(t,e,n){const a=n.query(t);if(a==null||a.blotName!=="list"||!Hf(e,`
`))return e;let i=-1,o=t.parentNode;for(;o!=null;)["OL","UL"].includes(o.tagName)&&(i+=1),o=o.parentNode;return i<=0?e:e.reduce((c,u)=>u.insert?u.attributes&&typeof u.attributes.indent=="number"?c.push(u):c.insert(u.insert,{indent:i,...u.attributes||{}}):c,new Qe)}function WW(t,e,n){const a=t;let i=a.tagName==="OL"?"ordered":"bullet";const o=a.getAttribute("data-checked");return o&&(i=o==="true"?"checked":"unchecked"),Nc(e,"list",i,n)}function I2(t,e,n){if(!Hf(e,`
`)){if(Zo(t,n)&&(t.childNodes.length>0||t instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&t.nextSibling){let a=t.nextSibling;for(;a!=null;){if(Zo(a,n))return e.insert(`
`);const i=n.query(a);if(i&&i.prototype instanceof lr)return e.insert(`
`);a=a.firstChild}}}return e}function ZW(t,e,n){var o;const a={},i=t.style||{};return i.fontStyle==="italic"&&(a.italic=!0),i.textDecoration==="underline"&&(a.underline=!0),i.textDecoration==="line-through"&&(a.strike=!0),((o=i.fontWeight)!=null&&o.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(a.bold=!0),e=Object.entries(a).reduce((c,u)=>{let[h,f]=u;return Nc(c,h,f,n)},e),parseFloat(i.textIndent||0)>0?new Qe().insert("	").concat(e):e}function QW(t,e,n){var i,o;const a=((i=t.parentElement)==null?void 0:i.tagName)==="TABLE"?t.parentElement:(o=t.parentElement)==null?void 0:o.parentElement;if(a!=null){const u=Array.from(a.querySelectorAll("tr")).indexOf(t)+1;return Nc(e,"table",u,n)}return e}function JW(t,e,n){var i;let a=t.data;if(((i=t.parentElement)==null?void 0:i.tagName)==="O:P")return e.insert(a.trim());if(!LM(t)){if(a.trim().length===0&&a.includes(`
`)&&!VW(t,n))return e;a=a.replace(/[^\S\u00a0]/g," "),a=a.replace(/ {2,}/g," "),(t.previousSibling==null&&t.parentElement!=null&&Zo(t.parentElement,n)||t.previousSibling instanceof Element&&Zo(t.previousSibling,n))&&(a=a.replace(/^ /,"")),(t.nextSibling==null&&t.parentElement!=null&&Zo(t.parentElement,n)||t.nextSibling instanceof Element&&Zo(t.nextSibling,n))&&(a=a.replace(/ $/,"")),a=a.replaceAll(""," ")}return e.insert(a)}class IM extends Yr{constructor(n,a){super(n,a);Me(this,"lastRecorded",0);Me(this,"ignoreChange",!1);Me(this,"stack",{undo:[],redo:[]});Me(this,"currentRange",null);this.quill.on(we.events.EDITOR_CHANGE,(i,o,c,u)=>{i===we.events.SELECTION_CHANGE?o&&u!==we.sources.SILENT&&(this.currentRange=o):i===we.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||u===we.sources.USER?this.record(o,c):this.transform(o)),this.currentRange=E0(this.currentRange,o))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(n,a){if(this.stack[n].length===0)return;const i=this.stack[n].pop();if(!i)return;const o=this.quill.getContents(),c=i.delta.invert(o);this.stack[a].push({delta:c,range:E0(i.range,c)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,we.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(n,a){if(n.ops.length===0)return;this.stack.redo=[];let i=n.invert(a),o=this.currentRange;const c=Date.now();if(this.lastRecorded+this.options.delay>c&&this.stack.undo.length>0){const u=this.stack.undo.pop();u&&(i=i.compose(u.delta),o=u.range)}else this.lastRecorded=c;i.length()!==0&&(this.stack.undo.push({delta:i,range:o}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(n){B2(this.stack.undo,n),B2(this.stack.redo,n)}undo(){this.change("undo","redo")}restoreSelection(n){if(n.range)this.quill.setSelection(n.range,we.sources.USER);else{const a=tZ(this.quill.scroll,n.delta);this.quill.setSelection(a,we.sources.USER)}}}Me(IM,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function B2(t,e){let n=e;for(let a=t.length-1;a>=0;a-=1){const i=t[a];t[a]={delta:n.transform(i.delta,!0),range:i.range&&E0(i.range,n)},n=i.delta.transform(n),t[a].delta.length()===0&&t.splice(a,1)}}function eZ(t,e){const n=e.ops[e.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(a=>t.query(a,et.BLOCK)!=null):!1}function tZ(t,e){const n=e.reduce((i,o)=>i+(o.delete||0),0);let a=e.length()-n;return eZ(t,e)&&(a-=1),a}function E0(t,e){if(!t)return t;const n=e.transformPosition(t.index),a=e.transformPosition(t.index+t.length);return{index:n,length:a-n}}class BM extends Yr{constructor(e,n){super(e,n),e.root.addEventListener("drop",a=>{var c;a.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(a.clientX,a.clientY);else if(document.caretPositionFromPoint){const u=document.caretPositionFromPoint(a.clientX,a.clientY);i=document.createRange(),i.setStart(u.offsetNode,u.offset),i.setEnd(u.offsetNode,u.offset)}const o=i&&e.selection.normalizeNative(i);if(o){const u=e.selection.normalizedToRange(o);(c=a.dataTransfer)!=null&&c.files&&this.upload(u,a.dataTransfer.files)}})}upload(e,n){const a=[];Array.from(n).forEach(i=>{var o;i&&((o=this.options.mimetypes)!=null&&o.includes(i.type))&&a.push(i)}),a.length>0&&this.options.handler.call(this,e,a)}}BM.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(t,e){if(!this.quill.scroll.query("image"))return;const n=e.map(a=>new Promise(i=>{const o=new FileReader;o.onload=()=>{i(o.result)},o.readAsDataURL(a)}));Promise.all(n).then(a=>{const i=a.reduce((o,c)=>o.insert({image:c}),new Qe().retain(t.index).delete(t.length));this.quill.updateContents(i,Ge.sources.USER),this.quill.setSelection(t.index+a.length,Ge.sources.SILENT)})}};const nZ=["insertText","insertReplacementText"];class sZ extends Yr{constructor(e,n){super(e,n),e.root.addEventListener("beforeinput",a=>{this.handleBeforeInput(a)}),/Android/i.test(navigator.userAgent)||e.on(we.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){w1({range:e,quill:this.quill})}replaceText(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(n){const a=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new Qe().retain(e.index).insert(n,a),we.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+n.length,0,we.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!nZ.includes(e.inputType))return;const n=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!n||n.collapsed===!0)return;const a=aZ(e);if(a==null)return;const i=this.quill.selection.normalizeNative(n),o=i?this.quill.selection.normalizedToRange(i):null;o&&this.replaceText(o,a)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function aZ(t){var e;return typeof t.data=="string"?t.data:(e=t.dataTransfer)!=null&&e.types.includes("text/plain")?t.dataTransfer.getData("text/plain"):null}const rZ=/Mac/i.test(navigator.platform),iZ=100,oZ=t=>!!(t.key==="ArrowLeft"||t.key==="ArrowRight"||t.key==="ArrowUp"||t.key==="ArrowDown"||t.key==="Home"||rZ&&t.key==="a"&&t.ctrlKey===!0);class lZ extends Yr{constructor(n,a){super(n,a);Me(this,"isListening",!1);Me(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(n,a){let{line:i,event:o}=a;if(!(i instanceof Or)||!i.uiNode)return!0;const c=getComputedStyle(i.domNode).direction==="rtl";return c&&o.key!=="ArrowRight"||!c&&o.key!=="ArrowLeft"?!0:(this.quill.setSelection(n.index-1,n.length+(o.shiftKey?1:0),we.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",n=>{!n.defaultPrevented&&oZ(n)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+iZ,this.isListening)return;this.isListening=!0;const n=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",n,{once:!0})}handleSelectionChange(){const n=document.getSelection();if(!n)return;const a=n.getRangeAt(0);if(a.collapsed!==!0||a.startOffset!==0)return;const i=this.quill.scroll.find(a.startContainer);if(!(i instanceof Or)||!i.uiNode)return;const o=document.createRange();o.setStartAfter(i.uiNode),o.setEndAfter(i.uiNode),n.removeAllRanges(),n.addRange(o)}}we.register({"blots/block":Rs,"blots/block/embed":lr,"blots/break":Kr,"blots/container":jc,"blots/cursor":Qu,"blots/embed":g1,"blots/inline":Ni,"blots/scroll":wu,"blots/text":$r,"modules/clipboard":OM,"modules/history":IM,"modules/keyboard":jx,"modules/uploader":BM,"modules/input":sZ,"modules/uiNode":lZ});class cZ extends Gr{add(e,n){let a=0;if(n==="+1"||n==="-1"){const i=this.value(e)||0;a=n==="+1"?i+1:i-1}else typeof n=="number"&&(a=n);return a===0?(this.remove(e),!0):super.add(e,a.toString())}canAdd(e,n){return super.canAdd(e,n)||super.canAdd(e,parseInt(n,10))}value(e){return parseInt(super.value(e),10)||void 0}}const uZ=new cZ("indent","ql-indent",{scope:et.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class A0 extends Rs{}Me(A0,"blotName","blockquote"),Me(A0,"tagName","blockquote");class C0 extends Rs{static formats(e){return this.tagName.indexOf(e.tagName)+1}}Me(C0,"blotName","header"),Me(C0,"tagName",["H1","H2","H3","H4","H5","H6"]);class Gf extends jc{}Gf.blotName="list-container";Gf.tagName="OL";class Kf extends Rs{static create(e){const n=super.create();return n.setAttribute("data-list",e),n}static formats(e){return e.getAttribute("data-list")||void 0}static register(){we.register(Gf)}constructor(e,n){super(e,n);const a=n.ownerDocument.createElement("span"),i=o=>{if(!e.isEnabled())return;const c=this.statics.formats(n,e);c==="checked"?(this.format("list","unchecked"),o.preventDefault()):c==="unchecked"&&(this.format("list","checked"),o.preventDefault())};a.addEventListener("mousedown",i),a.addEventListener("touchstart",i),this.attachUI(a)}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-list",n):super.format(e,n)}}Kf.blotName="list";Kf.tagName="LI";Gf.allowedChildren=[Kf];Kf.requiredContainer=Gf;class mf extends Ni{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}Me(mf,"blotName","bold"),Me(mf,"tagName",["STRONG","B"]);class T0 extends mf{}Me(T0,"blotName","italic"),Me(T0,"tagName",["EM","I"]);class Qo extends Ni{static create(e){const n=super.create(e);return n.setAttribute("href",this.sanitize(e)),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}static formats(e){return e.getAttribute("href")}static sanitize(e){return zM(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,n){e!==this.statics.blotName||!n?super.format(e,n):this.domNode.setAttribute("href",this.constructor.sanitize(n))}}Me(Qo,"blotName","link"),Me(Qo,"tagName","A"),Me(Qo,"SANITIZED_URL","about:blank"),Me(Qo,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function zM(t,e){const n=document.createElement("a");n.href=t;const a=n.href.slice(0,n.href.indexOf(":"));return e.indexOf(a)>-1}class _0 extends Ni{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}Me(_0,"blotName","script"),Me(_0,"tagName",["SUB","SUP"]);class R0 extends mf{}Me(R0,"blotName","strike"),Me(R0,"tagName",["S","STRIKE"]);class D0 extends Ni{}Me(D0,"blotName","underline"),Me(D0,"tagName","U");class Xp extends g1{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const n=super.create(e);return typeof e=="string"&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}Me(Xp,"blotName","formula"),Me(Xp,"className","ql-formula"),Me(Xp,"tagName","SPAN");const z2=["alt","height","width"];class M0 extends $a{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("src",this.sanitize(e)),n}static formats(e){return z2.reduce((n,a)=>(e.hasAttribute(a)&&(n[a]=e.getAttribute(a)),n),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return zM(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,n){z2.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}}Me(M0,"blotName","image"),Me(M0,"tagName","IMG");const U2=["height","width"];class Wp extends lr{static create(e){const n=super.create(e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen","true"),n.setAttribute("src",this.sanitize(e)),n}static formats(e){return U2.reduce((n,a)=>(e.hasAttribute(a)&&(n[a]=e.getAttribute(a)),n),{})}static sanitize(e){return Qo.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,n){U2.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):super.format(e,n)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}Me(Wp,"blotName","video"),Me(Wp,"className","ql-video"),Me(Wp,"tagName","IFRAME");const Dh=new Gr("code-token","hljs",{scope:et.INLINE});class ro extends Ni{static formats(e,n){for(;e!=null&&e!==n.domNode;){if(e.classList&&e.classList.contains(Ys.className))return super.formats(e,n);e=e.parentNode}}constructor(e,n,a){super(e,n,a),Dh.add(this.domNode,a)}format(e,n){e!==ro.blotName?super.format(e,n):n?Dh.add(this.domNode,n):(Dh.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Dh.value(this.domNode)||this.unwrap()}}ro.blotName="code-token";ro.className="ql-token";class or extends Ys{static create(e){const n=super.create(e);return typeof e=="string"&&n.setAttribute("data-language",e),n}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,n){e===this.statics.blotName&&n?this.domNode.setAttribute("data-language",n):super.format(e,n)}replaceWith(e,n){return this.formatAt(0,this.length(),ro.blotName,!1),super.replaceWith(e,n)}}class Fh extends wc{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,n){e===or.blotName&&(this.forceNext=!0,this.children.forEach(a=>{a.format(e,n)}))}formatAt(e,n,a,i){a===or.blotName&&(this.forceNext=!0),super.formatAt(e,n,a,i)}highlight(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(c=>c!==this.uiNode).map(c=>c.textContent).join(`
`)}
`,o=or.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const c=this.children.reduce((h,f)=>h.concat(wM(f,!1)),new Qe),u=e(i,o);c.diff(u).reduce((h,f)=>{let{retain:p,attributes:g}=f;return p?(g&&Object.keys(g).forEach(v=>{[or.blotName,ro.blotName].includes(v)&&this.formatAt(h,p,v,g[v])}),h+p):h},0)}this.cachedText=i,this.forceNext=!1}}html(e,n){const[a]=this.children.find(e);return`<pre data-language="${a?or.formats(a.domNode):"plain"}">
${yx(this.code(e,n))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const n=or.formats(this.children.head.domNode);n!==this.uiNode.value&&(this.uiNode.value=n)}}}Fh.allowedChildren=[or];or.requiredContainer=Fh;or.allowedChildren=[ro,Qu,$r,Kr];const dZ=(t,e,n)=>{if(typeof t.versionString=="string"){const a=t.versionString.split(".")[0];if(parseInt(a,10)>=11)return t.highlight(n,{language:e}).value}return t.highlight(e,n).value};class UM extends Yr{static register(){we.register(ro,!0),we.register(or,!0),we.register(Fh,!0)}constructor(e,n){if(super(e,n),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((a,i)=>{let{key:o}=i;return a[o]=!0,a},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(we.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Fh))return;const n=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(a=>{let{key:i,label:o}=a;const c=n.ownerDocument.createElement("option");c.textContent=o,c.setAttribute("value",i),n.appendChild(c)}),n.addEventListener("change",()=>{e.format(or.blotName,n.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(n),e.children.head&&(n.value=or.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(we.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(we.sources.USER);const a=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Fh):[e]).forEach(o=>{o.highlight(this.highlightBlot,n)}),this.quill.update(we.sources.SILENT),a!=null&&this.quill.setSelection(a,we.sources.SILENT)}highlightBlot(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(n=this.languages[n]?n:"plain",n==="plain")return yx(e).split(`
`).reduce((i,o,c)=>(c!==0&&i.insert(`
`,{[Ys.blotName]:n}),i.insert(o)),new Qe);const a=this.quill.root.ownerDocument.createElement("div");return a.classList.add(Ys.className),a.innerHTML=dZ(this.options.hljs,n,e),N1(this.quill.scroll,a,[(i,o)=>{const c=Dh.value(i);return c?o.compose(new Qe().retain(o.length(),{[ro.blotName]:c})):o}],[(i,o)=>i.data.split(`
`).reduce((c,u,h)=>(h!==0&&c.insert(`
`,{[Ys.blotName]:n}),c.insert(u)),o)],new WeakMap)}}UM.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const Jh=class Jh extends Rs{static create(e){const n=super.create();return e?n.setAttribute("data-row",e):n.setAttribute("data-row",S1()),n}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,n){e===Jh.blotName&&n?this.domNode.setAttribute("data-row",n):super.format(e,n)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};Me(Jh,"blotName","table"),Me(Jh,"tagName","TD");let Mr=Jh;class io extends jc{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),n=this.children.tail.formats(),a=this.next.children.head.formats(),i=this.next.children.tail.formats();return e.table===n.table&&e.table===a.table&&e.table===i.table}return!1}optimize(e){super.optimize(e),this.children.forEach(n=>{if(n.next==null)return;const a=n.formats(),i=n.next.formats();if(a.table!==i.table){const o=this.splitAfter(n);o&&o.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}Me(io,"blotName","table-row"),Me(io,"tagName","TR");class gi extends jc{}Me(gi,"blotName","table-body"),Me(gi,"tagName","TBODY");class ed extends jc{balanceCells(){const e=this.descendants(io),n=e.reduce((a,i)=>Math.max(i.children.length,a),0);e.forEach(a=>{new Array(n-a.children.length).fill(0).forEach(()=>{let i;a.children.head!=null&&(i=Mr.formats(a.children.head.domNode));const o=this.scroll.create(Mr.blotName,i);a.appendChild(o),o.optimize()})})}cells(e){return this.rows().map(n=>n.children.at(e))}deleteColumn(e){const[n]=this.descendant(gi);n==null||n.children.head==null||n.children.forEach(a=>{const i=a.children.at(e);i!=null&&i.remove()})}insertColumn(e){const[n]=this.descendant(gi);n==null||n.children.head==null||n.children.forEach(a=>{const i=a.children.at(e),o=Mr.formats(a.children.head.domNode),c=this.scroll.create(Mr.blotName,o);a.insertBefore(c,i)})}insertRow(e){const[n]=this.descendant(gi);if(n==null||n.children.head==null)return;const a=S1(),i=this.scroll.create(io.blotName);n.children.head.children.forEach(()=>{const c=this.scroll.create(Mr.blotName,a);i.appendChild(c)});const o=n.children.at(e);n.insertBefore(i,o)}rows(){const e=this.children.head;return e==null?[]:e.children.map(n=>n)}}Me(ed,"blotName","table-container"),Me(ed,"tagName","TABLE");ed.allowedChildren=[gi];gi.requiredContainer=ed;gi.allowedChildren=[io];io.requiredContainer=gi;io.allowedChildren=[Mr];Mr.requiredContainer=io;function S1(){return`row-${Math.random().toString(36).slice(2,6)}`}class hZ extends Yr{static register(){we.register(Mr),we.register(io),we.register(gi),we.register(ed)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(ed).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,n]=this.getTable();n!=null&&(e.deleteColumn(n.cellOffset()),this.quill.update(we.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(we.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const n=e.offset();e.remove(),this.quill.update(we.sources.USER),this.quill.setSelection(n,we.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[n,a]=this.quill.getLine(e.index);if(n==null||n.statics.blotName!==Mr.blotName)return[null,null,null,-1];const i=n.parent;return[i.parent.parent,i,n,a]}insertColumn(e){const n=this.quill.getSelection();if(!n)return;const[a,i,o]=this.getTable(n);if(o==null)return;const c=o.cellOffset();a.insertColumn(c+e),this.quill.update(we.sources.USER);let u=i.rowOffset();e===0&&(u+=1),this.quill.setSelection(n.index+u,n.length,we.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const n=this.quill.getSelection();if(!n)return;const[a,i,o]=this.getTable(n);if(o==null)return;const c=i.rowOffset();a.insertRow(c+e),this.quill.update(we.sources.USER),e>0?this.quill.setSelection(n,we.sources.SILENT):this.quill.setSelection(n.index+i.children.length,n.length,we.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,n){const a=this.quill.getSelection();if(a==null)return;const i=new Array(e).fill(0).reduce(o=>{const c=new Array(n).fill(`
`).join("");return o.insert(c,{table:S1()})},new Qe().retain(a.index));this.quill.updateContents(i,we.sources.USER),this.quill.setSelection(a.index,we.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(we.events.SCROLL_OPTIMIZE,e=>{e.some(n=>["TD","TR","TBODY","TABLE"].includes(n.target.tagName)?(this.quill.once(we.events.TEXT_CHANGE,(a,i,o)=>{o===we.sources.USER&&this.balanceTables()}),!0):!1)})}}const $2=ho("quill:toolbar");class k1 extends Yr{constructor(e,n){var a,i;if(super(e,n),Array.isArray(this.options.container)){const o=document.createElement("div");o.setAttribute("role","toolbar"),fZ(o,this.options.container),(i=(a=e.container)==null?void 0:a.parentNode)==null||i.insertBefore(o,e.container),this.container=o}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){$2.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(o=>{var u;const c=(u=this.options.handlers)==null?void 0:u[o];c&&this.addHandler(o,c)}),Array.from(this.container.querySelectorAll("button, select")).forEach(o=>{this.attach(o)}),this.quill.on(we.events.EDITOR_CHANGE,()=>{const[o]=this.quill.selection.getRange();this.update(o)})}addHandler(e,n){this.handlers[e]=n}attach(e){let n=Array.from(e.classList).find(i=>i.indexOf("ql-")===0);if(!n)return;if(n=n.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[n]==null&&this.quill.scroll.query(n)==null){$2.warn("ignoring attaching to nonexistent format",n,e);return}const a=e.tagName==="SELECT"?"change":"click";e.addEventListener(a,i=>{let o;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const u=e.options[e.selectedIndex];u.hasAttribute("selected")?o=!1:o=u.value||!1}else e.classList.contains("ql-active")?o=!1:o=e.value||!e.hasAttribute("value"),i.preventDefault();this.quill.focus();const[c]=this.quill.selection.getRange();if(this.handlers[n]!=null)this.handlers[n].call(this,o);else if(this.quill.scroll.query(n).prototype instanceof $a){if(o=prompt(`Enter ${n}`),!o)return;this.quill.updateContents(new Qe().retain(c.index).delete(c.length).insert({[n]:o}),we.sources.USER)}else this.quill.format(n,o,we.sources.USER);this.update(c)}),this.controls.push([n,e])}update(e){const n=e==null?{}:this.quill.getFormat(e);this.controls.forEach(a=>{const[i,o]=a;if(o.tagName==="SELECT"){let c=null;if(e==null)c=null;else if(n[i]==null)c=o.querySelector("option[selected]");else if(!Array.isArray(n[i])){let u=n[i];typeof u=="string"&&(u=u.replace(/"/g,'\\"')),c=o.querySelector(`option[value="${u}"]`)}c==null?(o.value="",o.selectedIndex=-1):c.selected=!0}else if(e==null)o.classList.remove("ql-active"),o.setAttribute("aria-pressed","false");else if(o.hasAttribute("value")){const c=n[i],u=c===o.getAttribute("value")||c!=null&&c.toString()===o.getAttribute("value")||c==null&&!o.getAttribute("value");o.classList.toggle("ql-active",u),o.setAttribute("aria-pressed",u.toString())}else{const c=n[i]!=null;o.classList.toggle("ql-active",c),o.setAttribute("aria-pressed",c.toString())}})}}k1.DEFAULTS={};function F2(t,e,n){const a=document.createElement("button");a.setAttribute("type","button"),a.classList.add(`ql-${e}`),a.setAttribute("aria-pressed","false"),n!=null?(a.value=n,a.setAttribute("aria-label",`${e}: ${n}`)):a.setAttribute("aria-label",e),t.appendChild(a)}function fZ(t,e){Array.isArray(e[0])||(e=[e]),e.forEach(n=>{const a=document.createElement("span");a.classList.add("ql-formats"),n.forEach(i=>{if(typeof i=="string")F2(a,i);else{const o=Object.keys(i)[0],c=i[o];Array.isArray(c)?mZ(a,o,c):F2(a,o,c)}}),t.appendChild(a)})}function mZ(t,e,n){const a=document.createElement("select");a.classList.add(`ql-${e}`),n.forEach(i=>{const o=document.createElement("option");i!==!1?o.setAttribute("value",String(i)):o.setAttribute("selected","selected"),a.appendChild(o)}),t.appendChild(a)}k1.DEFAULTS={container:null,handlers:{clean(){const t=this.quill.getSelection();if(t!=null)if(t.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(n=>{this.quill.scroll.query(n,et.INLINE)!=null&&this.quill.format(n,!1,we.sources.USER)})}else this.quill.removeFormat(t.index,t.length,we.sources.USER)},direction(t){const{align:e}=this.quill.getFormat();t==="rtl"&&e==null?this.quill.format("align","right",we.sources.USER):!t&&e==="right"&&this.quill.format("align",!1,we.sources.USER),this.quill.format("direction",t,we.sources.USER)},indent(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e),a=parseInt(n.indent||0,10);if(t==="+1"||t==="-1"){let i=t==="+1"?1:-1;n.direction==="rtl"&&(i*=-1),this.quill.format("indent",a+i,we.sources.USER)}},link(t){t===!0&&(t=prompt("Enter link URL:")),this.quill.format("link",t,we.sources.USER)},list(t){const e=this.quill.getSelection(),n=this.quill.getFormat(e);t==="check"?n.list==="checked"||n.list==="unchecked"?this.quill.format("list",!1,we.sources.USER):this.quill.format("list","unchecked",we.sources.USER):this.quill.format("list",t,we.sources.USER)}}};const pZ='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',gZ='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',xZ='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',vZ='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',bZ='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',yZ='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',jZ='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',wZ='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',V2='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',NZ='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',SZ='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',kZ='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',EZ='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',AZ='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',CZ='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',TZ='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',_Z='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',RZ='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',DZ='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',MZ='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',PZ='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',OZ='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',LZ='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',IZ='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',BZ='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',zZ='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',UZ='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',$Z='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',FZ='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',VZ='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',qZ='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',HZ='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',GZ='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',pf={align:{"":pZ,center:gZ,right:xZ,justify:vZ},background:bZ,blockquote:yZ,bold:jZ,clean:wZ,code:V2,"code-block":V2,color:NZ,direction:{"":SZ,rtl:kZ},formula:EZ,header:{1:AZ,2:CZ,3:TZ,4:_Z,5:RZ,6:DZ},italic:MZ,image:PZ,indent:{"+1":OZ,"-1":LZ},link:IZ,list:{bullet:BZ,check:zZ,ordered:UZ},script:{sub:$Z,super:FZ},strike:VZ,table:qZ,underline:HZ,video:GZ},KZ='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let q2=0;function H2(t,e){t.setAttribute(e,`${t.getAttribute(e)!=="true"}`)}class wx{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",n=>{switch(n.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),n.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),H2(this.label,"aria-expanded"),H2(this.options,"aria-hidden")}buildItem(e){const n=document.createElement("span");n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item");const a=e.getAttribute("value");return a&&n.setAttribute("data-value",a),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",()=>{this.selectItem(n,!0)}),n.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(n,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),n}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=KZ,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${q2}`,q2+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(n=>{const a=this.buildItem(n);e.appendChild(a),n.selected===!0&&this.selectItem(a)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const a=this.container.querySelector(".ql-selected");e!==a&&(a!=null&&a.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),n&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const a=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(a)}else this.selectItem(null);const n=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}class $M extends wx{constructor(e,n){super(e),this.label.innerHTML=n,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(a=>{a.classList.add("ql-primary")})}buildItem(e){const n=super.buildItem(e);return n.style.backgroundColor=e.getAttribute("value")||"",n}selectItem(e,n){super.selectItem(e,n);const a=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";a&&(a.tagName==="line"?a.style.stroke=i:a.style.fill=i)}}class FM extends wx{constructor(e,n){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(a=>{a.innerHTML=n[a.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,n){super.selectItem(e,n);const a=e||this.defaultItem;if(a!=null){if(this.label.innerHTML===a.innerHTML)return;this.label.innerHTML=a.innerHTML}}}const YZ=t=>{const{overflowY:e}=getComputedStyle(t,null);return e!=="visible"&&e!=="clip"};class VM{constructor(e,n){this.quill=e,this.boundsContainer=n||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,YZ(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const n=e.left+e.width/2-this.root.offsetWidth/2,a=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${n}px`,this.root.style.top=`${a}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect();let c=0;if(o.right>i.right&&(c=i.right-o.right,this.root.style.left=`${n+c}px`),o.left<i.left&&(c=i.left-o.left,this.root.style.left=`${n+c}px`),o.bottom>i.bottom){const u=o.bottom-o.top,h=e.bottom-e.top+u;this.root.style.top=`${a-h}px`,this.root.classList.add("ql-flip")}return c}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const XZ=[!1,"center","right","justify"],WZ=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],ZZ=[!1,"serif","monospace"],QZ=["1","2","3",!1],JZ=["small",!1,"large","huge"];class Yf extends Ju{constructor(e,n){super(e,n);const a=i=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",a);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(o=>{o.container.contains(i.target)||o.close()})};e.emitter.listenDOM("click",document.body,a)}addModule(e){const n=super.addModule(e);return e==="toolbar"&&this.extendToolbar(n),n}buildButtons(e,n){Array.from(e).forEach(a=>{(a.getAttribute("class")||"").split(/\s+/).forEach(o=>{if(o.startsWith("ql-")&&(o=o.slice(3),n[o]!=null))if(o==="direction")a.innerHTML=n[o][""]+n[o].rtl;else if(typeof n[o]=="string")a.innerHTML=n[o];else{const c=a.value||"";c!=null&&n[o][c]&&(a.innerHTML=n[o][c])}})})}buildPickers(e,n){this.pickers=Array.from(e).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&wh(i,XZ),typeof n.align=="object"))return new FM(i,n.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const o=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&wh(i,WZ,o==="background"?"#ffffff":"#000000"),new $M(i,n[o])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?wh(i,ZZ):i.classList.contains("ql-header")?wh(i,QZ):i.classList.contains("ql-size")&&wh(i,JZ)),new wx(i)});const a=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(Ge.events.EDITOR_CHANGE,a)}}Yf.DEFAULTS=el({},Ju.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let t=this.container.querySelector("input.ql-image[type=file]");t==null&&(t=document.createElement("input"),t.setAttribute("type","file"),t.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),t.classList.add("ql-image"),t.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,t.files),t.value=""}),this.container.appendChild(t)),t.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class qM extends VM{constructor(e,n){super(e,n),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;n!=null?this.textbox.value=n:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const a=this.quill.getBounds(this.quill.selection.savedRange);a!=null&&this.position(a),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:n}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,Ge.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,Ge.sources.USER)),this.quill.root.scrollTop=n;break}case"video":e=eQ(e);case"formula":{if(!e)break;const n=this.quill.getSelection(!0);if(n!=null){const a=n.index+n.length;this.quill.insertEmbed(a,this.root.getAttribute("data-mode"),e,Ge.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(a+1," ",Ge.sources.USER),this.quill.setSelection(a+2,Ge.sources.USER)}break}}this.textbox.value="",this.hide()}}function eQ(t){let e=t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:t}function wh(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(a=>{const i=document.createElement("option");a===n?i.setAttribute("selected","selected"):i.setAttribute("value",String(a)),t.appendChild(i)})}const tQ=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class HM extends qM{constructor(e,n){super(e,n),this.quill.on(Ge.events.EDITOR_CHANGE,(a,i,o,c)=>{if(a===Ge.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&c===Ge.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const u=this.quill.getLines(i.index,i.length);if(u.length===1){const h=this.quill.getBounds(i);h!=null&&this.position(h)}else{const h=u[u.length-1],f=this.quill.getIndex(h),p=Math.min(h.length()-1,i.index+i.length-f),g=this.quill.getBounds(new uc(f,p));g!=null&&this.position(g)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Ge.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const n=this.quill.getBounds(e);n!=null&&this.position(n)}},1)})}cancel(){this.show()}position(e){const n=super.position(e),a=this.root.querySelector(".ql-tooltip-arrow");return a.style.marginLeft="",n!==0&&(a.style.marginLeft=`${-1*n-a.offsetWidth/2}px`),n}}Me(HM,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class GM extends Yf{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=tQ),super(e,n),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new HM(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),pf),this.buildPickers(e.container.querySelectorAll("select"),pf))}}GM.DEFAULTS=el({},Yf.DEFAULTS,{modules:{toolbar:{handlers:{link(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1,we.sources.USER)}}}}});const nQ=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class KM extends qM{constructor(){super(...arguments);Me(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",n=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),n.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",n=>{if(this.linkRange!=null){const a=this.linkRange;this.restoreFocus(),this.quill.formatText(a,"link",!1,Ge.sources.USER),delete this.linkRange}n.preventDefault(),this.hide()}),this.quill.on(Ge.events.SELECTION_CHANGE,(n,a,i)=>{if(n!=null){if(n.length===0&&i===Ge.sources.USER){const[o,c]=this.quill.scroll.descendant(Qo,n.index);if(o!=null){this.linkRange=new uc(n.index-c,o.length());const u=Qo.formats(o.domNode);this.preview.textContent=u,this.preview.setAttribute("href",u),this.show();const h=this.quill.getBounds(this.linkRange);h!=null&&this.position(h);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}Me(KM,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class YM extends Yf{constructor(e,n){n.modules.toolbar!=null&&n.modules.toolbar.container==null&&(n.modules.toolbar.container=nQ),super(e,n),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),pf),this.buildPickers(e.container.querySelectorAll("select"),pf),this.tooltip=new KM(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(n,a)=>{e.handlers.link.call(e,!a.format.link)}))}}YM.DEFAULTS=el({},Yf.DEFAULTS,{modules:{toolbar:{handlers:{link(t){if(t){const e=this.quill.getSelection();if(e==null||e.length===0)return;let n=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(n)&&n.indexOf("mailto:")!==0&&(n=`mailto:${n}`);const{tooltip:a}=this.quill.theme;a.edit("link",n)}else this.quill.format("link",!1,we.sources.USER)}}}}});we.register({"attributors/attribute/direction":AM,"attributors/class/align":SM,"attributors/class/background":yW,"attributors/class/color":bW,"attributors/class/direction":CM,"attributors/class/font":RM,"attributors/class/size":MM,"attributors/style/align":kM,"attributors/style/background":b1,"attributors/style/color":v1,"attributors/style/direction":TM,"attributors/style/font":DM,"attributors/style/size":PM},!0);we.register({"formats/align":SM,"formats/direction":CM,"formats/indent":uZ,"formats/background":b1,"formats/color":v1,"formats/font":RM,"formats/size":MM,"formats/blockquote":A0,"formats/code-block":Ys,"formats/header":C0,"formats/list":Kf,"formats/bold":mf,"formats/code":y1,"formats/italic":T0,"formats/link":Qo,"formats/script":_0,"formats/strike":R0,"formats/underline":D0,"formats/formula":Xp,"formats/image":M0,"formats/video":Wp,"modules/syntax":UM,"modules/table":hZ,"modules/toolbar":k1,"themes/bubble":GM,"themes/snow":YM,"ui/icons":pf,"ui/picker":wx,"ui/icon-picker":FM,"ui/color-picker":$M,"ui/tooltip":VM},!0);class Nx extends ve.Component{constructor(e){super(e),this.editingAreaRef=x.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(a,i,o,c)=>{var u,h;a==="text-change"?(u=this.onEditorChangeText)==null||u.call(this,this.editor.root.innerHTML,i,c,this.unprivilegedEditor):a==="selection-change"&&((h=this.onEditorChangeSelection)==null||h.call(this,i,c,this.unprivilegedEditor))};const n=this.isControlled()?e.value:e.defaultValue;this.value=n??""}validateProps(e){if(ve.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(ve.Children.count(e.children)){const n=ve.Children.only(e.children);if((n==null?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(e,n){if(this.validateProps(e),!this.editor||this.state.generation!==n.generation)return!0;if("value"in e){const a=this.getEditorContents(),i=e.value??"";this.isEqualValue(i,a)||this.setEditorContents(this.editor,i)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),[...this.cleanProps,...this.dirtyProps].some(a=>!Ko(e[a],this.props[a]))}shouldComponentRegenerate(e){return this.dirtyProps.some(n=>!Ko(e[n],this.props[n]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(e,n){if(this.editor&&this.shouldComponentRegenerate(e)){const a=this.editor.getContents(),i=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:i},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){const{delta:a,selection:i}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const o=this.editor;o.setContents(a),G2(()=>this.setEditorSelection(o,i))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){var a;if(!this.editor)return;this.unhookEditor(this.editor);const e=(a=this.props.modules)==null?void 0:a.toolbar;if(!(typeof e=="object"&&e&&"container"in e&&typeof e.container=="string"||typeof e=="string")){const i=document.querySelector(".ql-toolbar");i&&i.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(e,n){const a=new we(e,n);return n.tabIndex!=null&&this.setEditorTabIndex(a,n.tabIndex),this.hookEditor(a),a}hookEditor(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)}unhookEditor(e){e.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(e){return e&&e.ops}isEqualValue(e,n){return this.isDelta(e)&&this.isDelta(n)?Ko(e.ops,n.ops):Ko(e,n)}setEditorContents(e,n){this.value=n;const a=this.getEditorSelection();typeof n=="string"?e.setContents(e.clipboard.convert({html:n})):e.setContents(n),G2(()=>this.setEditorSelection(e,a))}setEditorSelection(e,n){if(this.selection=n,n){const a=e.getLength();n.index=Math.max(0,Math.min(n.index,a-1)),n.length=Math.max(0,Math.min(n.length,a-1-n.index)),e.setSelection(n)}}setEditorTabIndex(e,n){var a;(a=e==null?void 0:e.scroll)!=null&&a.domNode&&(e.scroll.domNode.tabIndex=n)}setEditorReadOnly(e,n){n?e.disable():e.enable()}makeUnprivilegedEditor(e){const n=e;return{getHTML:()=>n.root.innerHTML,getSemanticHTML:n.getSemanticHTML.bind(n),getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}}getEditingArea(){const e=this.editingAreaRef.current;if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e}renderEditingArea(){const{children:e,preserveWhitespace:n}=this.props,{generation:a}=this.state,i={key:a,ref:this.editingAreaRef};return ve.Children.count(e)?ve.cloneElement(ve.Children.only(e),i):n?ve.createElement("pre",{...i}):ve.createElement("div",{...i})}render(){return ve.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(e,n,a,i){var c,u;if(!this.editor)return;const o=this.isDelta(this.value)?i.getContents():i.getHTML();o!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=o,(u=(c=this.props).onChange)==null||u.call(c,e,n,a,i))}onEditorChangeSelection(e,n,a){var u,h,f,p,g,v;if(!this.editor)return;const i=this.getEditorSelection(),o=!i&&e,c=i&&!e;Ko(e,i)||(this.selection=e,(h=(u=this.props).onChangeSelection)==null||h.call(u,e,n,a),o?(p=(f=this.props).onFocus)==null||p.call(f,e,n,a):c&&((v=(g=this.props).onBlur)==null||v.call(g,i,n,a)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}Nx.displayName="React Quill";Nx.Quill=we;Nx.defaultProps={theme:"snow",modules:{},readOnly:!1};function G2(t){Promise.resolve().then(t)}const md=x.forwardRef(({value:t="",onChange:e,placeholder:n="Start typing...",disabled:a=!1,className:i,minHeight:o=150,maxHeight:c,variant:u="default"},h)=>{const f=()=>{switch(u){case"minimal":return[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],["clean"]];case"full":return[[{font:[]}],[{header:[1,2,3,4,5,6,!1]}],[{align:[]}],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{indent:"-1"},{indent:"+1"}],["bold","italic","underline","strike"],[{script:"super"},{script:"sub"}],["blockquote","code-block"],[{color:[]},{background:[]}],["clean"]];default:return[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["blockquote","code-block"],[{color:[]}],["clean"]]}},p=()=>{switch(u){case"minimal":return["bold","italic","underline","list","bullet","clean"];case"full":return["font","header","align","list","bullet","check","indent","bold","italic","underline","strike","script","blockquote","code-block","color","background","clean"];default:return["header","bold","italic","underline","strike","list","bullet","align","blockquote","code-block","color","clean"]}},g={toolbar:f()},v=p();return s.jsx("div",{className:ge("rich-text-editor border border-input rounded-md overflow-hidden",a&&"opacity-50 pointer-events-none",i),style:{minHeight:`${o}px`,maxHeight:c?`${c}px`:void 0},children:s.jsx(Nx,{ref:h,theme:"snow",value:t,onChange:e,placeholder:n,readOnly:a,modules:g,formats:v,style:{height:"100%",minHeight:`${o}px`}})})});md.displayName="RichTextEditor";var K2=1,sQ=.9,aQ=.8,rQ=.17,gy=.1,xy=.999,iQ=.9999,oQ=.99,lQ=/[\\\/_+.#"@\[\(\{&]/,cQ=/[\\\/_+.#"@\[\(\{&]/g,uQ=/[\s-]/,XM=/[\s-]/g;function P0(t,e,n,a,i,o,c){if(o===e.length)return i===t.length?K2:oQ;var u=`${i},${o}`;if(c[u]!==void 0)return c[u];for(var h=a.charAt(o),f=n.indexOf(h,i),p=0,g,v,y,w;f>=0;)g=P0(t,e,n,a,f+1,o+1,c),g>p&&(f===i?g*=K2:lQ.test(t.charAt(f-1))?(g*=aQ,y=t.slice(i,f-1).match(cQ),y&&i>0&&(g*=Math.pow(xy,y.length))):uQ.test(t.charAt(f-1))?(g*=sQ,w=t.slice(i,f-1).match(XM),w&&i>0&&(g*=Math.pow(xy,w.length))):(g*=rQ,i>0&&(g*=Math.pow(xy,f-i))),t.charAt(f)!==e.charAt(o)&&(g*=iQ)),(g<gy&&n.charAt(f-1)===a.charAt(o+1)||a.charAt(o+1)===a.charAt(o)&&n.charAt(f-1)!==a.charAt(o))&&(v=P0(t,e,n,a,f+1,o+2,c),v*gy>g&&(g=v*gy)),g>p&&(p=g),f=n.indexOf(h,f+1);return c[u]=p,p}function Y2(t){return t.toLowerCase().replace(XM," ")}function dQ(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,P0(t,e,Y2(t),Y2(e),0,0,{})}var Nh='[cmdk-group=""]',vy='[cmdk-group-items=""]',hQ='[cmdk-group-heading=""]',WM='[cmdk-item=""]',X2=`${WM}:not([aria-disabled="true"])`,O0="cmdk-item-select",Nu="data-value",fQ=(t,e,n)=>dQ(t,e,n),ZM=x.createContext(void 0),Xf=()=>x.useContext(ZM),QM=x.createContext(void 0),E1=()=>x.useContext(QM),JM=x.createContext(void 0),eP=x.forwardRef((t,e)=>{let n=Su(()=>{var B,W;return{search:"",value:(W=(B=t.value)!=null?B:t.defaultValue)!=null?W:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),a=Su(()=>new Set),i=Su(()=>new Map),o=Su(()=>new Map),c=Su(()=>new Set),u=tP(t),{label:h,children:f,value:p,onValueChange:g,filter:v,shouldFilter:y,loop:w,disablePointerSelection:j=!1,vimBindings:k=!0,...S}=t,E=ls(),A=ls(),T=ls(),_=x.useRef(null),M=SQ();dc(()=>{if(p!==void 0){let B=p.trim();n.current.value=B,P.emit()}},[p]),dc(()=>{M(6,z)},[]);let P=x.useMemo(()=>({subscribe:B=>(c.current.add(B),()=>c.current.delete(B)),snapshot:()=>n.current,setState:(B,W,$)=>{var q,ee,te,ie;if(!Object.is(n.current[B],W)){if(n.current[B]=W,B==="search")X(),Y(),M(1,R);else if(B==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let de=document.getElementById(T);de?de.focus():(q=document.getElementById(E))==null||q.focus()}if(M(7,()=>{var de;n.current.selectedItemId=(de=Q())==null?void 0:de.id,P.emit()}),$||M(5,z),((ee=u.current)==null?void 0:ee.value)!==void 0){let de=W??"";(ie=(te=u.current).onValueChange)==null||ie.call(te,de);return}}P.emit()}},emit:()=>{c.current.forEach(B=>B())}}),[]),O=x.useMemo(()=>({value:(B,W,$)=>{var q;W!==((q=o.current.get(B))==null?void 0:q.value)&&(o.current.set(B,{value:W,keywords:$}),n.current.filtered.items.set(B,H(W,$)),M(2,()=>{Y(),P.emit()}))},item:(B,W)=>(a.current.add(B),W&&(i.current.has(W)?i.current.get(W).add(B):i.current.set(W,new Set([B]))),M(3,()=>{X(),Y(),n.current.value||R(),P.emit()}),()=>{o.current.delete(B),a.current.delete(B),n.current.filtered.items.delete(B);let $=Q();M(4,()=>{X(),($==null?void 0:$.getAttribute("id"))===B&&R(),P.emit()})}),group:B=>(i.current.has(B)||i.current.set(B,new Set),()=>{o.current.delete(B),i.current.delete(B)}),filter:()=>u.current.shouldFilter,label:h||t["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:E,inputId:T,labelId:A,listInnerRef:_}),[]);function H(B,W){var $,q;let ee=(q=($=u.current)==null?void 0:$.filter)!=null?q:fQ;return B?ee(B,n.current.search,W):0}function Y(){if(!n.current.search||u.current.shouldFilter===!1)return;let B=n.current.filtered.items,W=[];n.current.filtered.groups.forEach(q=>{let ee=i.current.get(q),te=0;ee.forEach(ie=>{let de=B.get(ie);te=Math.max(de,te)}),W.push([q,te])});let $=_.current;ne().sort((q,ee)=>{var te,ie;let de=q.getAttribute("id"),re=ee.getAttribute("id");return((te=B.get(re))!=null?te:0)-((ie=B.get(de))!=null?ie:0)}).forEach(q=>{let ee=q.closest(vy);ee?ee.appendChild(q.parentElement===ee?q:q.closest(`${vy} > *`)):$.appendChild(q.parentElement===$?q:q.closest(`${vy} > *`))}),W.sort((q,ee)=>ee[1]-q[1]).forEach(q=>{var ee;let te=(ee=_.current)==null?void 0:ee.querySelector(`${Nh}[${Nu}="${encodeURIComponent(q[0])}"]`);te==null||te.parentElement.appendChild(te)})}function R(){let B=ne().find($=>$.getAttribute("aria-disabled")!=="true"),W=B==null?void 0:B.getAttribute(Nu);P.setState("value",W||void 0)}function X(){var B,W,$,q;if(!n.current.search||u.current.shouldFilter===!1){n.current.filtered.count=a.current.size;return}n.current.filtered.groups=new Set;let ee=0;for(let te of a.current){let ie=(W=(B=o.current.get(te))==null?void 0:B.value)!=null?W:"",de=(q=($=o.current.get(te))==null?void 0:$.keywords)!=null?q:[],re=H(ie,de);n.current.filtered.items.set(te,re),re>0&&ee++}for(let[te,ie]of i.current)for(let de of ie)if(n.current.filtered.items.get(de)>0){n.current.filtered.groups.add(te);break}n.current.filtered.count=ee}function z(){var B,W,$;let q=Q();q&&(((B=q.parentElement)==null?void 0:B.firstChild)===q&&(($=(W=q.closest(Nh))==null?void 0:W.querySelector(hQ))==null||$.scrollIntoView({block:"nearest"})),q.scrollIntoView({block:"nearest"}))}function Q(){var B;return(B=_.current)==null?void 0:B.querySelector(`${WM}[aria-selected="true"]`)}function ne(){var B;return Array.from(((B=_.current)==null?void 0:B.querySelectorAll(X2))||[])}function L(B){let W=ne()[B];W&&P.setState("value",W.getAttribute(Nu))}function F(B){var W;let $=Q(),q=ne(),ee=q.findIndex(ie=>ie===$),te=q[ee+B];(W=u.current)!=null&&W.loop&&(te=ee+B<0?q[q.length-1]:ee+B===q.length?q[0]:q[ee+B]),te&&P.setState("value",te.getAttribute(Nu))}function V(B){let W=Q(),$=W==null?void 0:W.closest(Nh),q;for(;$&&!q;)$=B>0?wQ($,Nh):NQ($,Nh),q=$==null?void 0:$.querySelector(X2);q?P.setState("value",q.getAttribute(Nu)):F(B)}let K=()=>L(ne().length-1),ae=B=>{B.preventDefault(),B.metaKey?K():B.altKey?V(1):F(1)},G=B=>{B.preventDefault(),B.metaKey?L(0):B.altKey?V(-1):F(-1)};return x.createElement(Be.div,{ref:e,tabIndex:-1,...S,"cmdk-root":"",onKeyDown:B=>{var W;(W=S.onKeyDown)==null||W.call(S,B);let $=B.nativeEvent.isComposing||B.keyCode===229;if(!(B.defaultPrevented||$))switch(B.key){case"n":case"j":{k&&B.ctrlKey&&ae(B);break}case"ArrowDown":{ae(B);break}case"p":case"k":{k&&B.ctrlKey&&G(B);break}case"ArrowUp":{G(B);break}case"Home":{B.preventDefault(),L(0);break}case"End":{B.preventDefault(),K();break}case"Enter":{B.preventDefault();let q=Q();if(q){let ee=new Event(O0);q.dispatchEvent(ee)}}}}},x.createElement("label",{"cmdk-label":"",htmlFor:O.inputId,id:O.labelId,style:EQ},h),Sx(t,B=>x.createElement(QM.Provider,{value:P},x.createElement(ZM.Provider,{value:O},B))))}),mQ=x.forwardRef((t,e)=>{var n,a;let i=ls(),o=x.useRef(null),c=x.useContext(JM),u=Xf(),h=tP(t),f=(a=(n=h.current)==null?void 0:n.forceMount)!=null?a:c==null?void 0:c.forceMount;dc(()=>{if(!f)return u.item(i,c==null?void 0:c.id)},[f]);let p=nP(i,o,[t.value,t.children,o],t.keywords),g=E1(),v=dl(M=>M.value&&M.value===p.current),y=dl(M=>f||u.filter()===!1?!0:M.search?M.filtered.items.get(i)>0:!0);x.useEffect(()=>{let M=o.current;if(!(!M||t.disabled))return M.addEventListener(O0,w),()=>M.removeEventListener(O0,w)},[y,t.onSelect,t.disabled]);function w(){var M,P;j(),(P=(M=h.current).onSelect)==null||P.call(M,p.current)}function j(){g.setState("value",p.current,!0)}if(!y)return null;let{disabled:k,value:S,onSelect:E,forceMount:A,keywords:T,..._}=t;return x.createElement(Be.div,{ref:yi(o,e),..._,id:i,"cmdk-item":"",role:"option","aria-disabled":!!k,"aria-selected":!!v,"data-disabled":!!k,"data-selected":!!v,onPointerMove:k||u.getDisablePointerSelection()?void 0:j,onClick:k?void 0:w},t.children)}),pQ=x.forwardRef((t,e)=>{let{heading:n,children:a,forceMount:i,...o}=t,c=ls(),u=x.useRef(null),h=x.useRef(null),f=ls(),p=Xf(),g=dl(y=>i||p.filter()===!1?!0:y.search?y.filtered.groups.has(c):!0);dc(()=>p.group(c),[]),nP(c,u,[t.value,t.heading,h]);let v=x.useMemo(()=>({id:c,forceMount:i}),[i]);return x.createElement(Be.div,{ref:yi(u,e),...o,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},n&&x.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:f},n),Sx(t,y=>x.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?f:void 0},x.createElement(JM.Provider,{value:v},y))))}),gQ=x.forwardRef((t,e)=>{let{alwaysRender:n,...a}=t,i=x.useRef(null),o=dl(c=>!c.search);return!n&&!o?null:x.createElement(Be.div,{ref:yi(i,e),...a,"cmdk-separator":"",role:"separator"})}),xQ=x.forwardRef((t,e)=>{let{onValueChange:n,...a}=t,i=t.value!=null,o=E1(),c=dl(f=>f.search),u=dl(f=>f.selectedItemId),h=Xf();return x.useEffect(()=>{t.value!=null&&o.setState("search",t.value)},[t.value]),x.createElement(Be.input,{ref:e,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":u,id:h.inputId,type:"text",value:i?t.value:c,onChange:f=>{i||o.setState("search",f.target.value),n==null||n(f.target.value)}})}),vQ=x.forwardRef((t,e)=>{let{children:n,label:a="Suggestions",...i}=t,o=x.useRef(null),c=x.useRef(null),u=dl(f=>f.selectedItemId),h=Xf();return x.useEffect(()=>{if(c.current&&o.current){let f=c.current,p=o.current,g,v=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let y=f.offsetHeight;p.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return v.observe(f),()=>{cancelAnimationFrame(g),v.unobserve(f)}}},[]),x.createElement(Be.div,{ref:yi(o,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":a,id:h.listId},Sx(t,f=>x.createElement("div",{ref:yi(c,h.listInnerRef),"cmdk-list-sizer":""},f)))}),bQ=x.forwardRef((t,e)=>{let{open:n,onOpenChange:a,overlayClassName:i,contentClassName:o,container:c,...u}=t;return x.createElement(Yg,{open:n,onOpenChange:a},x.createElement(Xg,{container:c},x.createElement(Wg,{"cmdk-overlay":"",className:i}),x.createElement(Zg,{"aria-label":t.label,"cmdk-dialog":"",className:o},x.createElement(eP,{ref:e,...u}))))}),yQ=x.forwardRef((t,e)=>dl(n=>n.filtered.count===0)?x.createElement(Be.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),jQ=x.forwardRef((t,e)=>{let{progress:n,children:a,label:i="Loading...",...o}=t;return x.createElement(Be.div,{ref:e,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Sx(t,c=>x.createElement("div",{"aria-hidden":!0},c)))}),va=Object.assign(eP,{List:vQ,Item:mQ,Input:xQ,Group:pQ,Separator:gQ,Dialog:bQ,Empty:yQ,Loading:jQ});function wQ(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function NQ(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function tP(t){let e=x.useRef(t);return dc(()=>{e.current=t}),e}var dc=typeof window>"u"?x.useEffect:x.useLayoutEffect;function Su(t){let e=x.useRef();return e.current===void 0&&(e.current=t()),e}function dl(t){let e=E1(),n=()=>t(e.snapshot());return x.useSyncExternalStore(e.subscribe,n,n)}function nP(t,e,n,a=[]){let i=x.useRef(),o=Xf();return dc(()=>{var c;let u=(()=>{var f;for(let p of n){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(f=p.current.textContent)==null?void 0:f.trim():i.current}})(),h=a.map(f=>f.trim());o.value(t,u,h),(c=e.current)==null||c.setAttribute(Nu,u),i.current=u}),i}var SQ=()=>{let[t,e]=x.useState(),n=Su(()=>new Map);return dc(()=>{n.current.forEach(a=>a()),n.current=new Map},[t]),(a,i)=>{n.current.set(a,i),e({})}};function kQ(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function Sx({asChild:t,children:e},n){return t&&x.isValidElement(e)?x.cloneElement(kQ(e),{ref:e.ref},n(e.props.children)):n(e)}var EQ={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},kx="Popover",[sP,wle]=Zs(kx,[pl]),Wf=pl(),[AQ,yl]=sP(kx),aP=t=>{const{__scopePopover:e,children:n,open:a,defaultOpen:i,onOpenChange:o,modal:c=!1}=t,u=Wf(e),h=x.useRef(null),[f,p]=x.useState(!1),[g,v]=zr({prop:a,defaultProp:i??!1,onChange:o,caller:kx});return s.jsx(wj,{...u,children:s.jsx(AQ,{scope:e,contentId:ls(),triggerRef:h,open:g,onOpenChange:v,onOpenToggle:x.useCallback(()=>v(y=>!y),[v]),hasCustomAnchor:f,onCustomAnchorAdd:x.useCallback(()=>p(!0),[]),onCustomAnchorRemove:x.useCallback(()=>p(!1),[]),modal:c,children:n})})};aP.displayName=kx;var rP="PopoverAnchor",CQ=x.forwardRef((t,e)=>{const{__scopePopover:n,...a}=t,i=yl(rP,n),o=Wf(n),{onCustomAnchorAdd:c,onCustomAnchorRemove:u}=i;return x.useEffect(()=>(c(),()=>u()),[c,u]),s.jsx(Df,{...o,...a,ref:e})});CQ.displayName=rP;var iP="PopoverTrigger",oP=x.forwardRef((t,e)=>{const{__scopePopover:n,...a}=t,i=yl(iP,n),o=Wf(n),c=ht(e,i.triggerRef),u=s.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":hP(i.open),...a,ref:c,onClick:Ce(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?u:s.jsx(Df,{asChild:!0,...o,children:u})});oP.displayName=iP;var A1="PopoverPortal",[TQ,_Q]=sP(A1,{forceMount:void 0}),lP=t=>{const{__scopePopover:e,forceMount:n,children:a,container:i}=t,o=yl(A1,e);return s.jsx(TQ,{scope:e,forceMount:n,children:s.jsx(Ln,{present:n||o.open,children:s.jsx(ld,{asChild:!0,container:i,children:a})})})};lP.displayName=A1;var td="PopoverContent",cP=x.forwardRef((t,e)=>{const n=_Q(td,t.__scopePopover),{forceMount:a=n.forceMount,...i}=t,o=yl(td,t.__scopePopover);return s.jsx(Ln,{present:a||o.open,children:o.modal?s.jsx(DQ,{...i,ref:e}):s.jsx(MQ,{...i,ref:e})})});cP.displayName=td;var RQ=tl("PopoverContent.RemoveScroll"),DQ=x.forwardRef((t,e)=>{const n=yl(td,t.__scopePopover),a=x.useRef(null),i=ht(e,a),o=x.useRef(!1);return x.useEffect(()=>{const c=a.current;if(c)return Gg(c)},[]),s.jsx(Of,{as:RQ,allowPinchZoom:!0,children:s.jsx(uP,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ce(t.onCloseAutoFocus,c=>{var u;c.preventDefault(),o.current||(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Ce(t.onPointerDownOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,f=u.button===2||h;o.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:Ce(t.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),MQ=x.forwardRef((t,e)=>{const n=yl(td,t.__scopePopover),a=x.useRef(!1),i=x.useRef(!1);return s.jsx(uP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,u;(c=t.onCloseAutoFocus)==null||c.call(t,o),o.defaultPrevented||(a.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:o=>{var h,f;(h=t.onInteractOutside)==null||h.call(t,o),o.defaultPrevented||(a.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const c=o.target;((f=n.triggerRef.current)==null?void 0:f.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),uP=x.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,...g}=t,v=yl(td,n),y=Wf(n);return qg(),s.jsx(Pf,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:i,onUnmountAutoFocus:o,children:s.jsx(fc,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:p,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:f,onDismiss:()=>v.onOpenChange(!1),children:s.jsx($g,{"data-state":hP(v.open),role:"dialog",id:v.contentId,...y,...g,ref:e,style:{...g.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),dP="PopoverClose",PQ=x.forwardRef((t,e)=>{const{__scopePopover:n,...a}=t,i=yl(dP,n);return s.jsx(Be.button,{type:"button",...a,ref:e,onClick:Ce(t.onClick,()=>i.onOpenChange(!1))})});PQ.displayName=dP;var OQ="PopoverArrow",LQ=x.forwardRef((t,e)=>{const{__scopePopover:n,...a}=t,i=Wf(n);return s.jsx(Fg,{...i,...a,ref:e})});LQ.displayName=OQ;function hP(t){return t?"open":"closed"}var IQ=aP,BQ=oP,zQ=lP,UQ=cP;function $Q({...t}){return s.jsx(IQ,{"data-slot":"popover",...t})}function FQ({...t}){return s.jsx(BQ,{"data-slot":"popover-trigger",...t})}function VQ({className:t,align:e="center",sideOffset:n=4,...a}){return s.jsx(zQ,{children:s.jsx(UQ,{"data-slot":"popover-content",align:e,sideOffset:n,className:ge("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-hidden",t),...a})})}const fP=x.forwardRef(({className:t,...e},n)=>s.jsx(va,{ref:n,className:ge("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));fP.displayName=va.displayName;const mP=x.forwardRef(({className:t,...e},n)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx(B9,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(va.Input,{ref:n,className:ge("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));mP.displayName=va.Input.displayName;const pP=x.forwardRef((t,e)=>s.jsx(va.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));pP.displayName=va.Empty.displayName;const qQ=x.forwardRef(({className:t,...e},n)=>s.jsx(va.Group,{ref:n,className:ge("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));qQ.displayName=va.Group.displayName;const HQ=x.forwardRef(({className:t,...e},n)=>s.jsx(va.Separator,{ref:n,className:ge("-mx-1 h-px bg-border",t),...e}));HQ.displayName=va.Separator.displayName;const GQ=x.forwardRef(({className:t,children:e,...n},a)=>s.jsxs(va.Item,{ref:a,className:ge("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 hover:bg-accent hover:text-accent-foreground",t),...n,children:[s.jsx(Jg,{className:"mr-2 h-4 w-4 opacity-0 aria-selected:opacity-100"}),e]}));GQ.displayName=va.Item.displayName;const gP=x.forwardRef(({className:t,onScroll:e,...n},a)=>s.jsx(va.List,{ref:a,className:ge("max-h-[300px] overflow-y-auto overflow-x-hidden",t),onScroll:e,...n}));gP.displayName=va.List.displayName;const xP=x.forwardRef(({className:t,children:e,...n},a)=>s.jsxs("button",{ref:a,className:ge("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:[e,s.jsx(M9,{className:"ml-2 h-4 w-4 opacity-50"})]}));xP.displayName="ComboboxButton";function KQ({options:t,value:e,onChange:n,placeholder:a="Select an option...",searchPlaceholder:i="Search...",searchValue:o="",onSearchChange:c,emptyMessage:u="No results found.",className:h,isLoading:f=!1,enableInfiniteScroll:p=!1,onLoadMore:g,hasNextPage:v=!1,isLoadingMore:y=!1,pagination:w}){const[j,k]=x.useState(!1),[S,E]=x.useState(""),A=t.find(H=>H.value===e),T=x.useRef(null),_=c?o:S,M=c||E,P=x.useCallback(H=>{n(H),k(!1),c||E("")},[n,c]),O=x.useCallback(H=>{if(!p||!g||y||!v)return;const{scrollTop:Y,scrollHeight:R,clientHeight:X}=H.currentTarget;R-Y<=X+50&&g()},[p,g,y,v]);return x.useEffect(()=>{T.current&&_&&(T.current.scrollTop=0)},[_]),s.jsxs($Q,{open:j,onOpenChange:k,children:[s.jsx(FQ,{asChild:!0,children:s.jsx(xP,{className:h,children:A?A.label:a})}),s.jsx(VQ,{className:"w-[var(--radix-popover-trigger-width)] p-0",align:"start",children:s.jsxs(fP,{shouldFilter:!1,children:[s.jsx(mP,{placeholder:i,value:_,onValueChange:M}),s.jsx(gP,{ref:T,onScroll:p?O:void 0,children:f&&t.length===0?s.jsxs("div",{className:"flex items-center justify-center py-6 text-sm text-muted-foreground",children:[s.jsx(kE,{className:"mr-2 h-4 w-4 animate-spin"}),"Searching..."]}):t.length>0?s.jsxs(s.Fragment,{children:[t.map(H=>s.jsx("div",{className:"relative flex cursor-pointer select-none items-start rounded-sm px-3 py-2 text-sm outline-none hover:bg-primary hover:text-accent-foreground",onClick:()=>P(H.value),onMouseDown:Y=>Y.preventDefault(),children:s.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[s.jsx("div",{className:"font-medium leading-none",children:H.label}),H.description&&s.jsx("div",{className:"text-xs leading-none",children:H.description})]})},H.value)),p&&y&&s.jsxs("div",{className:"flex items-center justify-center py-4 text-sm text-muted-foreground border-t",children:[s.jsx(kE,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading more..."]}),p&&w&&s.jsxs("div",{className:"px-3 py-2 text-xs text-muted-foreground border-t bg-muted/20",children:["Showing ",t.length," of ",w.totalItems," items",w.hasNextPage&&!y&&s.jsx("span",{className:"block mt-1",children:"Scroll down for more results"})]})]}):s.jsx(pP,{children:u})})]})})]})}const Sc=({id:t,label:e,description:n,accept:a="*/*",multiple:i=!1,maxSize:o=10*1024*1024,maxFiles:c=10,files:u=[],existingFiles:h=[],mode:f="input",disabled:p=!1,required:g=!1,dragAndDrop:v=!0,showPreview:y=!0,allowRemove:w=!1,className:j,onFilesChange:k,onFileRemove:S,onExistingFileRemove:E,onFileDownload:A,onFileView:T,onError:_})=>{const[M,P]=x.useState(!1),[O,H]=x.useState(u),Y=x.useRef(null),R=q=>{if(q===0)return"0 Bytes";const ee=1024,te=["Bytes","KB","MB","GB"],ie=Math.floor(Math.log(q)/Math.log(ee));return parseFloat((q/Math.pow(ee,ie)).toFixed(2))+" "+te[ie]},X=q=>{var ee;if(q.size>o)return`File ${q.name} is too large. Maximum size is ${R(o)}.`;if(a!=="*/*"){const te=a.split(",").map(he=>he.trim()),ie="."+((ee=q.name.split(".").pop())==null?void 0:ee.toLowerCase()),de=q.type;if(!te.some(he=>he.startsWith(".")?he===ie:de.match(he.replace("*",".*"))))return`File ${q.name} has an unsupported format. Accepted formats: ${a}`}return null},z=x.useCallback(q=>{if(!q)return;const ee=Array.from(q),te=[],ie=[];if(O.length+ee.length>c&&ie.push(`Maximum ${c} files allowed. Current: ${O.length}, Adding: ${ee.length}`),ee.forEach(re=>{const he=X(re);he?ie.push(he):te.push(re)}),ie.length>0){_==null||_(ie.join(`
`));return}const de=i?[...O,...te]:te;H(de),k==null||k(de)},[O,c,o,a,i,k,_]),Q=q=>{z(q.target.files),Y.current&&(Y.current.value="")},ne=q=>{q.preventDefault(),!p&&v&&P(!0)},L=q=>{q.preventDefault(),P(!1)},F=q=>{q.preventDefault(),P(!1),!(p||!v)&&z(q.dataTransfer.files)},V=q=>{if(!w)return;const ee=O.filter((te,ie)=>ie!==q);H(ee),k==null||k(ee),S==null||S(q)},K=q=>{w&&(E==null||E(q))},ae=(q,ee)=>{if(A){A(q,ee);return}if(q.url){const te=q.url.startsWith("http")?q.url:`${tc}${q.url}`,ie=document.createElement("a");ie.href=te,ie.download=q.name,ie.click()}},G=(q,ee)=>{if(T){T(q,ee);return}const te=q.viewUrl||q.url;if(te){const ie=te.startsWith("http")?te:`${tc}${te}`;window.open(ie,"_blank")}},B=()=>{!p&&Y.current&&Y.current.click()},W=(q,ee,te=!1)=>{const ie=R(q.size),de=q.type.startsWith("image/"),re=q.type==="application/pdf",he=q.type.includes("document")||q.type.includes("word")||q.type.includes("text");return s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 p-3 border rounded-lg bg-gray-50 dark:bg-gray-800",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[s.jsx("div",{className:"flex-shrink-0",children:de?s.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded flex items-center justify-center",children:s.jsx(Fs,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}):re?s.jsx("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-900 rounded flex items-center justify-center",children:s.jsx(fu,{className:"w-4 h-4 text-red-600 dark:text-red-400"})}):he?s.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900 rounded flex items-center justify-center",children:s.jsx(fu,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}):s.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded flex items-center justify-center",children:s.jsx(fu,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 break-words",children:q.name}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:ie})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0 sm:ml-auto",children:[f==="view"&&s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>ae(q,ee),className:"h-8 w-8 p-0",children:s.jsx(sf,{className:"w-4 h-4"})}),w&&(f==="input"||f==="edit")&&s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>te?K(ee):V(ee),className:"h-8 w-8 p-0 text-red-500 hover:text-red-700",children:s.jsx(hg,{className:"w-4 h-4"})})]})]},`${te?"existing":"new"}-${ee}`)},$=(q,ee)=>{const te=q.size?R(q.size):"Unknown size",ie=q.name,de=ie.match(/\.(jpg|jpeg|png|gif|webp)$/i),re=ie.match(/\.pdf$/i),he=ie.match(/\.(doc|docx|txt|rtf)$/i);return s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 p-3 border rounded-lg bg-blue-50 dark:bg-blue-900/20",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[s.jsx("div",{className:"flex-shrink-0",children:de?s.jsx("div",{className:"w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded flex items-center justify-center",children:s.jsx(Fs,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}):re?s.jsx("div",{className:"w-8 h-8 bg-red-100 dark:bg-red-900 rounded flex items-center justify-center",children:s.jsx(fu,{className:"w-4 h-4 text-red-600 dark:text-red-400"})}):he?s.jsx("div",{className:"w-8 h-8 bg-green-100 dark:bg-green-900 rounded flex items-center justify-center",children:s.jsx(fu,{className:"w-4 h-4 text-green-600 dark:text-green-400"})}):s.jsx("div",{className:"w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded flex items-center justify-center",children:s.jsx(fu,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 break-words",children:ie}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:[te,"  Existing file"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0 sm:ml-auto",children:[(q.viewUrl||q.url)&&s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>G(q,ee),className:"h-8 w-8 p-0",title:"View file",children:s.jsx(Fs,{className:"w-4 h-4"})}),w&&(f==="input"||f==="edit")&&s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>K(ee),className:"h-8 w-8 p-0 text-red-500 hover:text-red-700",title:"Remove file",children:s.jsx(hg,{className:"w-4 h-4"})})]})]},`existing-${ee}`)};return f==="view"&&O.length===0&&h.length===0?s.jsxs("div",{className:ge("space-y-2",j),children:[e&&s.jsxs(Pe,{htmlFor:t,className:"text-sm font-medium",children:[e,g&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No files uploaded"})]}):s.jsxs("div",{className:ge("space-y-2",j),children:[e&&s.jsxs(Pe,{htmlFor:t,className:"text-sm font-medium",children:[e,g&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),n&&s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 break-words",children:n}),(f==="input"||f==="edit")&&s.jsxs("div",{className:ge("border-2 border-dashed rounded-lg p-4 sm:p-6 text-center cursor-pointer transition-colors",M?"border-blue-400 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500",p&&"cursor-not-allowed opacity-50"),onDragOver:ne,onDragLeave:L,onDrop:F,onClick:B,children:[s.jsx(af,{className:"w-6 h-6 sm:w-8 sm:h-8 mx-auto mb-2 sm:mb-4 text-gray-400"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mb-1 sm:mb-2 px-2",children:v?"Drag & drop files here, or click to select":"Click to select files"}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 break-words px-2",children:[a!=="*/*"&&s.jsxs("span",{className:"block sm:inline",children:["Accepted formats: ",a]}),o&&s.jsxs("span",{className:"block sm:inline",children:[a!=="*/*"&&"  ","Max size: ",R(o)]}),i&&s.jsxs("span",{className:"block sm:inline",children:[(a!=="*/*"||o)&&"  ","Max files: ",c]})]})]}),s.jsx(at,{ref:Y,id:t,type:"file",accept:a,multiple:i,onChange:Q,disabled:p,className:"hidden"}),y&&s.jsxs("div",{className:"space-y-2",children:[h.map((q,ee)=>$(q,ee)),O.map((q,ee)=>W(q,ee))]}),(f==="input"||f==="edit")&&!v&&s.jsxs(pe,{type:"button",variant:"outline",onClick:B,disabled:p,className:"w-full",children:[s.jsx(af,{className:"w-4 h-4 mr-2"}),i?"Select Files":"Select File"]})]})},YQ=Ws({name:ct().min(1,"Nama wajib diisi").max(255,"Nama maksimal 255 karakter"),description:ct().optional().or(ys("")),excerpt:ct().optional().or(ys("")),head_id:to().optional().or(ys("")),display_order:to().min(1,"Urutan minimal 1")}),XQ=({open:t,onOpenChange:e,editingOrganization:n,onSave:a})=>{const{toast:i}=Lt(),[o,c]=x.useState(!1),[u,h]=x.useState(!1),[f,p]=x.useState([]),[g,v]=x.useState(""),[y,w]=x.useState([]),j=!!n,k=js({resolver:ws(YQ),defaultValues:{name:"",description:"",excerpt:"",head_id:void 0,display_order:1}}),S=async(R="")=>{h(!0);try{const X=await fi.getUsers({search:R,size:50,page:1});p(X.items)}catch(X){console.error("Failed to load users:",X),i({title:"Error",description:"Gagal memuat data pengguna untuk pemilihan kepala.",variant:"destructive"})}finally{h(!1)}};x.useEffect(()=>{t&&(n?k.reset({name:n.name,description:n.description||"",excerpt:n.excerpt||"",head_id:n.head_id,display_order:n.display_order}):k.reset({name:"",description:"",excerpt:"",head_id:void 0,display_order:1}),v(""),w([]),S())},[t,n,k]);const E=async R=>{c(!0);try{const X={name:R.name,description:R.description||void 0,excerpt:R.excerpt||void 0,head_id:R.head_id||void 0,display_order:R.display_order},z=y.length>0?y[0]:void 0;a(X,z),e(!1)}catch(X){console.error("Error saving organization:",X),i({title:"Error",description:"Gagal menyimpan Sekolah. Silakan coba lagi.",variant:"destructive"})}finally{c(!1)}},A=()=>{o||(k.reset(),v(""),w([]),e(!1))},T=f.map(R=>{var X;return{value:R.id,label:`${((X=R.profile)==null?void 0:X.name)||R.display_name} (${R.email})`}}),_=async R=>{v(R),await S(R)},M=R=>{const X=typeof R=="string"?parseInt(R):R;k.setValue("head_id",X)},P=f.find(R=>R.id===k.getValues("head_id")),O=R=>{w(R)},H=R=>{i({title:"Error",description:R,variant:"destructive"})},Y=n!=null&&n.img_url?[{name:`Current Image - ${n.name}`,url:n.img_url,viewUrl:n.img_url}]:[];return s.jsx(un,{open:t,onOpenChange:e,children:s.jsxs(dn,{className:"w-[95vw] max-w-2xl max-h-[90vh] flex flex-col",children:[s.jsx(hn,{className:"flex-shrink-0 border-b pb-4",children:s.jsx(fn,{children:j?"Edit Sekolah":"Tambah Sekolah Baru"})}),s.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:s.jsx(Hn,{...k,children:s.jsx("form",{onSubmit:k.handleSubmit(E),className:"space-y-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ue,{control:k.control,name:"name",render:({field:R})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Nama Sekolah"}),s.jsx(ze,{children:s.jsx(at,{placeholder:"Masukkan nama Sekolah",disabled:o,...R})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:k.control,name:"display_order",render:({field:R})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Urutan Tampil"}),s.jsx(ze,{children:s.jsx(at,{type:"number",min:"1",placeholder:"1",...R,onChange:X=>R.onChange(parseInt(X.target.value)||1),onFocus:X=>{X.target.value==="1"&&X.target.select()},disabled:o})}),s.jsx(Ke,{}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Urutan tampil di website (1 = paling atas)"})]})}),s.jsx(Ue,{control:k.control,name:"description",render:({field:R})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Deskripsi Lengkap"}),s.jsx(ze,{children:s.jsx(md,{value:R.value,onChange:R.onChange,placeholder:"Masukkan deskripsi lengkap sekolah (opsional)",disabled:o,variant:"default",minHeight:150})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:k.control,name:"excerpt",render:({field:R})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Ringkasan Singkat"}),s.jsx(ze,{children:s.jsx(vr,{placeholder:"Masukkan ringkasan singkat sekolah (opsional)",disabled:o,rows:2,maxLength:500,...R})}),s.jsx(Ke,{})]})}),s.jsx("div",{children:s.jsx(Sc,{label:"Gambar Sekolah",description:"Upload gambar sekolah (JPG, PNG, WebP, max 5MB)",accept:"image/*",maxSize:5*1024*1024,maxFiles:1,files:y,existingFiles:Y,onFilesChange:O,onError:H,required:!1,disabled:o,showPreview:!0,allowRemove:!1})}),s.jsx(Ue,{control:k.control,name:"head_id",render:()=>{var R;return s.jsxs($e,{children:[s.jsx(Fe,{children:"Kepala Sekolah"}),s.jsx(ze,{children:s.jsx(KQ,{options:T,value:P?P.id:null,onChange:M,placeholder:"Cari dan pilih kepala Sekolah...",emptyMessage:"Tidak ada pengguna ditemukan",searchPlaceholder:"Cari pengguna...",searchValue:g,onSearchChange:_,isLoading:u})}),s.jsx(Ke,{}),P&&s.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Dipilih: ",((R=P.profile)==null?void 0:R.name)||P.display_name," (",P.email,")"]})]})}})]})})})}),s.jsxs(Js,{className:"flex-shrink-0 border-t pt-4",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:A,disabled:o,children:"Batal"}),s.jsx(pe,{onClick:k.handleSubmit(E),disabled:o,children:o?"Menyimpan...":j?"Perbarui Sekolah":"Buat Sekolah"})]})]})})},WQ=()=>{const{isAdmin:t}=us(),{toast:e}=Lt(),{updateURL:n,getCurrentFilters:a}=xa({defaults:{q:"",has_users:"all",has_head:"all",page:1,size:10},cleanDefaults:!0}),i=a(),[o,c]=x.useState([]),[u,h]=x.useState(!0),[f,p]=x.useState(0),[g,v]=x.useState(0),[y,w]=x.useState(!1),[j,k]=x.useState(!1),[S,E]=x.useState(null),[A,T]=x.useState(null),[_,M]=x.useState(null),P=t(),O=async()=>{h(!0);try{const G={page:i.page,size:i.size,q:i.q||void 0,has_users:i.has_users!=="all"?i.has_users==="true":void 0,has_head:i.has_head!=="all"?i.has_head==="true":void 0},B=await Pr.getOrganizations(G);c(B.items),p(B.total),v(B.pages)}catch(G){console.error("Failed to fetch organizations:",G),e({title:"Error",description:"Gagal memuat data Sekolah. Silakan coba lagi.",variant:"destructive"})}finally{h(!1)}};x.useEffect(()=>{P&&O()},[i.page,i.size,i.q,i.has_users,i.has_head,P]);const H=G=>{T(G),k(!0)},Y=G=>{E(G),w(!0)},R=G=>{M(G)},X=async()=>{if(_)try{await Pr.deleteOrganization(_.id),M(null),O(),e({title:"Sekolah berhasil dihapus",description:`Sekolah ${_.name} telah dihapus dari sistem.`})}catch(G){console.error("Failed to delete organization:",G);const B=(G==null?void 0:G.message)||"Gagal menghapus Sekolah. Silakan coba lagi.";e({title:"Error",description:B,variant:"destructive"})}},z=()=>{E(null),w(!0)},Q=async(G,B)=>{try{S?(await Pr.updateOrganization(S.id,G,B),e({title:"Sekolah berhasil diperbarui",description:`Sekolah ${G.name} telah diperbarui.`})):(await Pr.createOrganization(G,B),e({title:"Sekolah berhasil dibuat",description:`Sekolah ${G.name} telah ditambahkan ke sistem.`})),w(!1),E(null),O()}catch(W){console.error("Failed to save organization:",W);const $=(W==null?void 0:W.message)||"Gagal menyimpan Sekolah. Silakan coba lagi.";e({title:"Error",description:$,variant:"destructive"})}},ne=G=>{n({size:parseInt(G),page:1})},L=x.useCallback(G=>{G!==i.q&&n({q:G,page:1})},[n,i.q]),F=x.useCallback(G=>{G!==i.has_users&&n({has_users:G,page:1})},[n,i.has_users]),V=x.useCallback(G=>{G!==i.has_head&&n({has_head:G,page:1})},[n,i.has_head]),K=G=>{n({page:G})},ae=()=>{let G="Daftar Sekolah";const B=[];return i.has_users!=="all"&&B.push(i.has_users==="true"?"Dengan Pengguna":"Tanpa Pengguna"),i.has_head!=="all"&&B.push(i.has_head==="true"?"Dengan Kepala":"Tanpa Kepala"),B.length>0&&(G+=" - "+B.join(" - ")),G};return P?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ms,{title:"Manajemen Sekolah",description:"Kelola Sekolah, tetapkan kepala Sekolah, dan lihat jumlah pengguna",actions:s.jsxs(pe,{onClick:z,children:[s.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Tambah Sekolah"]})}),s.jsxs(Ur,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"users-filter",children:"Pengguna"}),s.jsxs(zt,{value:i.has_users,onValueChange:F,children:[s.jsx(Pt,{id:"users-filter",children:s.jsx(Ut,{placeholder:"Filter berdasarkan pengguna"})}),s.jsxs(Ot,{children:[s.jsx(Ie,{value:"all",children:"Semua Sekolah"}),s.jsx(Ie,{value:"true",children:"Dengan Pengguna"}),s.jsx(Ie,{value:"false",children:"Tanpa Pengguna"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"head-filter",children:"Kepala Sekolah"}),s.jsxs(zt,{value:i.has_head,onValueChange:V,children:[s.jsx(Pt,{id:"head-filter",children:s.jsx(Ut,{placeholder:"Filter berdasarkan kepala"})}),s.jsxs(Ot,{children:[s.jsx(Ie,{value:"all",children:"Semua Sekolah"}),s.jsx(Ie,{value:"true",children:"Dengan Kepala"}),s.jsx(Ie,{value:"false",children:"Tanpa Kepala"})]})]})]})]}),s.jsx(Ne,{children:s.jsx(Se,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(hr,{title:ae(),subtitle:"Kelola Sekolah, tetapkan kepala Sekolah, dan lihat jumlah pengguna"}),s.jsx(Hr,{searchQuery:i.q,onSearchChange:L,placeholder:"Cari Sekolah berdasarkan nama atau deskripsi..."}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(fH,{organizations:o,loading:u,onView:H,onEdit:Y,onDelete:R})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(mH,{organizations:o,loading:u,onView:H,onEdit:Y,onDelete:R})}),g>1&&s.jsx(Ua,{currentPage:i.page,totalPages:g,itemsPerPage:i.size,totalItems:f,onPageChange:K,onItemsPerPageChange:ne})]})})}),s.jsx(XQ,{open:y,onOpenChange:w,editingOrganization:S,onSave:Q}),A&&s.jsx(un,{open:j,onOpenChange:k,children:s.jsxs(dn,{className:"max-w-2xl",children:[s.jsx(hn,{children:s.jsx(fn,{children:"Detail Sekolah"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Pe,{children:"Nama"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:A.name})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Nama Tampilan"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:A.display_name})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Jumlah Pengguna"}),s.jsxs("div",{className:"p-2 bg-muted rounded text-sm",children:[A.user_count," pengguna"]})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Kepala Sekolah"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:A.head_name||"Belum ada kepala"})]}),A.description&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(Pe,{children:"Deskripsi"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:A.description})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Dibuat"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:new Date(A.created_at).toLocaleDateString("id-ID")})]}),A.updated_at&&s.jsxs("div",{children:[s.jsx(Pe,{children:"Terakhir Diperbarui"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:new Date(A.updated_at).toLocaleDateString("id-ID")})]})]})]})}),s.jsx(cs,{open:!!_,onOpenChange:()=>M(null),children:s.jsxs(Wn,{children:[s.jsxs(Zn,{children:[s.jsx(Jn,{children:"Konfirmasi Hapus"}),s.jsxs(es,{children:["Tindakan ini tidak dapat dibatalkan. Sekolah"," ",s.jsx("span",{className:"font-semibold",children:_==null?void 0:_.name})," akan dihapus secara permanen dari sistem."]})]}),s.jsxs(Qn,{children:[s.jsx(ns,{children:"Batal"}),s.jsx(ts,{onClick:X,className:"bg-red-600 hover:bg-red-700",children:"Hapus Sekolah"})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki akses untuk melihat halaman ini."})]})})},ZQ=({message:t="Loading..."})=>s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx(za,{className:"h-8 w-8 animate-spin text-primary"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:t})]})}),QQ=({children:t,fallback:e=null,requireRoles:n=[],redirectTo:a="/login",allowUnauthenticated:i=!1})=>{const{isAuthenticated:o,user:c,loading:u,checkAuth:h,isSessionValid:f}=fr(),p=rd();if(x.useEffect(()=>{o&&!f()&&!u&&h()},[p.pathname,o,u]),i)return s.jsx(s.Fragment,{children:t});if(!o||!c)return e?s.jsx(s.Fragment,{children:e}):s.jsx(eo,{to:a,state:{from:p.pathname},replace:!0});if(c.status!=rF.ACTIVE)return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-destructive",children:"Account Inactive"}),s.jsx("p",{className:"text-muted-foreground",children:"Your account has been deactivated. Please contact support for assistance."})]})});if(n.length>0){const g=c.role;if(!n.includes(g))return e?s.jsx(s.Fragment,{children:e}):s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("h2",{className:"text-2xl font-bold text-destructive",children:"Access Denied"}),s.jsx("p",{className:"text-muted-foreground",children:"You don't have the required permissions to access this page."}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Required roles: ",n.join(", ")]})]})})}return s.jsx(s.Fragment,{children:t})},Cp=({children:t,redirectTo:e="/dashboard"})=>{const{isAuthenticated:n,loading:a,user:i,isSessionValid:o,checkAuth:c}=fr();return x.useEffect(()=>{n&&i&&!o()&&c()},[]),a?s.jsx(ZQ,{message:"Checking authentication..."}):n&&i&&o()?s.jsx(eo,{to:e,replace:!0}):s.jsx(s.Fragment,{children:t})};function Ts({children:t,allowedRoles:e=[],redirectTo:n="/",fallback:a,requireRoles:i=!1}){const{user:o,isAuthenticated:c}=fr();if(!c)return s.jsx(eo,{to:"/login",replace:!0});const u=o==null?void 0:o.role;return i&&!!!u?s.jsx(eo,{to:"/",replace:!0}):e.length===0?s.jsx(s.Fragment,{children:t}):e.includes(u)?s.jsx(s.Fragment,{children:t}):a?s.jsx(s.Fragment,{children:a}):s.jsx(eo,{to:n,replace:!0})}const JQ=({periods:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>{const o=u=>vn(new Date(u),"dd MMM yyyy",{locale:yn}),c=u=>({onView:()=>i(u),onEdit:()=>n(u),onDelete:()=>a(u),showView:!0,showEdit:!0,showDelete:!0});return s.jsx("div",{className:"rounded-md border",children:s.jsxs(Gs,{children:[s.jsx(Ks,{children:s.jsxs(rt,{children:[s.jsx(_e,{children:"Tahun Akademik"}),s.jsx(_e,{children:"Semester"}),s.jsx(_e,{children:"Tanggal Mulai"}),s.jsx(_e,{children:"Tanggal Selesai"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Deskripsi"}),s.jsx(_e,{className:"text-right",children:"Aksi"})]})}),s.jsx(Xs,{children:e?s.jsx(rt,{children:s.jsx(Ae,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"Memuat periode..."})}):t.length===0?s.jsx(rt,{children:s.jsx(Ae,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"Tidak ada periode ditemukan"})}):t.map(u=>s.jsxs(rt,{children:[s.jsx(Ae,{children:u.academic_year}),s.jsx(Ae,{children:u.semester}),s.jsx(Ae,{children:o(u.start_date)}),s.jsx(Ae,{children:o(u.end_date)}),s.jsx(Ae,{children:u.is_active?"Aktif":"Tidak Aktif"}),s.jsx(Ae,{children:u.description||"-"}),s.jsx(Ae,{className:"text-right",children:s.jsx(gn,{...c(u)})})]},u.id))})]})})},eJ=({periods:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>{const o=u=>vn(new Date(u),"dd MMM yyyy",{locale:yn}),c=u=>({onView:()=>i(u),onEdit:()=>n(u),onDelete:()=>a(u),showView:!0,showEdit:!0,showDelete:!0});return e?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Memuat periode..."}):t.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Tidak ada periode ditemukan"}):s.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(u=>s.jsx(Ne,{className:"hover:shadow-md transition-shadow",children:s.jsxs(Se,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-muted rounded-full",children:s.jsx(il,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-medium text-sm",children:[u.academic_year," - ",u.semester]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Status: ",u.is_active?"Aktif":"Tidak Aktif"]})]})]}),s.jsx(gn,{...c(u)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[s.jsx(pr,{className:"w-4 h-4"}),s.jsxs("span",{children:[o(u.start_date)," - ",o(u.end_date)]})]}),u.description&&s.jsxs("div",{className:"flex items-start space-x-2 text-sm text-muted-foreground",children:[s.jsx(pa,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),s.jsx("div",{className:"line-clamp-2",children:u.description})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[s.jsx($j,{className:"w-3 h-3"}),s.jsxs("span",{children:["Dibuat: ",o(u.created_at)]})]})]})]})},u.id))})};var Ex="Switch",[tJ,Nle]=Zs(Ex),[nJ,sJ]=tJ(Ex),vP=x.forwardRef((t,e)=>{const{__scopeSwitch:n,name:a,checked:i,defaultChecked:o,required:c,disabled:u,value:h="on",onCheckedChange:f,form:p,...g}=t,[v,y]=x.useState(null),w=ht(e,A=>y(A)),j=x.useRef(!1),k=v?p||!!v.closest("form"):!0,[S,E]=zr({prop:i,defaultProp:o??!1,onChange:f,caller:Ex});return s.jsxs(nJ,{scope:n,checked:S,disabled:u,children:[s.jsx(Be.button,{type:"button",role:"switch","aria-checked":S,"aria-required":c,"data-state":wP(S),"data-disabled":u?"":void 0,disabled:u,value:h,...g,ref:w,onClick:Ce(t.onClick,A=>{E(T=>!T),k&&(j.current=A.isPropagationStopped(),j.current||A.stopPropagation())})}),k&&s.jsx(jP,{control:v,bubbles:!j.current,name:a,value:h,checked:S,required:c,disabled:u,form:p,style:{transform:"translateX(-100%)"}})]})});vP.displayName=Ex;var bP="SwitchThumb",yP=x.forwardRef((t,e)=>{const{__scopeSwitch:n,...a}=t,i=sJ(bP,n);return s.jsx(Be.span,{"data-state":wP(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e})});yP.displayName=bP;var aJ="SwitchBubbleInput",jP=x.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:a=!0,...i},o)=>{const c=x.useRef(null),u=ht(c,o),h=cx(n),f=bj(e);return x.useEffect(()=>{const p=c.current;if(!p)return;const g=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(g,"checked").set;if(h!==n&&y){const w=new Event("click",{bubbles:a});y.call(p,n),p.dispatchEvent(w)}},[h,n,a]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});jP.displayName=aJ;function wP(t){return t?"checked":"unchecked"}var NP=vP,rJ=yP;const Ax=x.forwardRef(({className:t,...e},n)=>s.jsx(NP,{className:ge("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:s.jsx(rJ,{className:ge("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Ax.displayName=NP.displayName;const iJ=Ws({academic_year:ct().min(1,"Tahun akademik wajib diisi").max(20,"Tahun akademik maksimal 20 karakter"),semester:ct().min(1,"Semester wajib diisi").max(20,"Semester maksimal 20 karakter"),start_date:ct().min(1,"Tanggal mulai wajib diisi"),end_date:ct().min(1,"Tanggal selesai wajib diisi"),description:ct().optional().or(ys("")),is_active:Ig()}).refine(t=>{const e=new Date(t.start_date);return new Date(t.end_date)>e},{message:"Tanggal selesai harus setelah tanggal mulai",path:["end_date"]}),oJ=({open:t,onOpenChange:e,editingPeriod:n,onSave:a})=>{const{toast:i}=Lt(),[o,c]=x.useState(!1),u=!!n,h=js({resolver:ws(iJ),defaultValues:{academic_year:"",semester:"",start_date:"",end_date:"",description:"",is_active:!1}});x.useEffect(()=>{t&&(n?h.reset({academic_year:n.academic_year,semester:n.semester,start_date:n.start_date,end_date:n.end_date,description:n.description||"",is_active:!!n.is_active}):h.reset({academic_year:"",semester:"",start_date:"",end_date:"",description:"",is_active:!1}))},[t,n,h]);const f=async y=>{c(!0);try{const w={academic_year:y.academic_year,semester:y.semester,start_date:y.start_date,end_date:y.end_date,description:y.description||void 0,is_active:y.is_active};a(w),e(!1)}catch(w){console.error("Error saving period:",w),i({title:"Error",description:"Gagal menyimpan periode. Silakan coba lagi.",variant:"destructive"})}finally{c(!1)}},p=()=>{o||(h.reset(),e(!1))},g=new Date().getFullYear(),v=[];for(let y=-5;y<=5;y++){const w=g+y;v.push(`${w}/${w+1}`)}return s.jsx(un,{open:t,onOpenChange:e,children:s.jsxs(dn,{className:"max-w-md",children:[s.jsx(hn,{children:s.jsx(fn,{children:u?"Edit Periode":"Tambah Periode"})}),s.jsx(Hn,{...h,children:s.jsxs("form",{onSubmit:h.handleSubmit(f),className:"space-y-4",children:[s.jsx(Ue,{control:h.control,name:"academic_year",render:({field:y})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Tahun Akademik"}),s.jsxs(zt,{onValueChange:y.onChange,value:y.value||void 0,children:[s.jsx(ze,{children:s.jsx(Pt,{children:s.jsx(Ut,{placeholder:"Pilih tahun akademik"})})}),s.jsx(Ot,{children:v.map(w=>s.jsx(Ie,{value:w,children:w},w))})]}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:h.control,name:"semester",render:({field:y})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Semester"}),s.jsxs(zt,{onValueChange:y.onChange,value:y.value||void 0,children:[s.jsx(ze,{children:s.jsx(Pt,{children:s.jsx(Ut,{placeholder:"Pilih semester"})})}),s.jsxs(Ot,{children:[s.jsx(Ie,{value:"Ganjil",children:"Ganjil"}),s.jsx(Ie,{value:"Genap",children:"Genap"})]})]}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:h.control,name:"start_date",render:({field:y})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Tanggal Mulai"}),s.jsx(ze,{children:s.jsx(at,{type:"date",placeholder:"Pilih tanggal mulai",...y})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:h.control,name:"end_date",render:({field:y})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Tanggal Selesai"}),s.jsx(ze,{children:s.jsx(at,{type:"date",placeholder:"Pilih tanggal selesai",...y})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:h.control,name:"description",render:({field:y})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Deskripsi (Opsional)"}),s.jsx(ze,{children:s.jsx(vr,{placeholder:"Deskripsi periode...",className:"resize-none",rows:3,...y})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:h.control,name:"is_active",render:({field:y})=>s.jsxs($e,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Fe,{children:"Status Periode"}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Aktifkan periode ini untuk digunakan dalam sistem"})]}),s.jsx(ze,{children:s.jsx(Ax,{checked:y.value,onCheckedChange:y.onChange})})]})}),s.jsxs(Js,{children:[s.jsx(pe,{type:"button",variant:"outline",onClick:p,disabled:o,children:"Batal"}),s.jsx(pe,{type:"submit",disabled:o,children:o?"Menyimpan...":u?"Perbarui":"Simpan"})]})]})})]})})},lJ=()=>{const{isAdmin:t}=us(),{toast:e}=Lt(),{updateURL:n,getCurrentFilters:a}=xa({defaults:{q:"",academic_year:"all",semester:"all",is_active:"all",page:1,size:10},cleanDefaults:!0}),i=a(),[o,c]=x.useState([]),[u,h]=x.useState(!0),[f,p]=x.useState(0),[g,v]=x.useState(0),[y,w]=x.useState(!1),[j,k]=x.useState(!1),[S,E]=x.useState(null),[A,T]=x.useState(null),[_,M]=x.useState(null),P=t(),O=t(),H=async()=>{h(!0);try{const $={page:i.page,size:i.size,academic_year:i.academic_year!=="all"?i.academic_year:void 0,semester:i.semester!=="all"?i.semester:void 0,is_active:i.is_active!=="all"?i.is_active==="true":void 0},q=await Nn.getPeriods($);let ee=q.items;i.q?(ee=q.items.filter(te=>te.academic_year.toLowerCase().includes(i.q.toLowerCase())||te.semester.toLowerCase().includes(i.q.toLowerCase())||te.description&&te.description.toLowerCase().includes(i.q.toLowerCase())),c(ee),p(ee.length),v(Math.ceil(ee.length/i.size))):(c(q.items),p(q.total),v(q.pages))}catch($){console.error("Failed to fetch periods:",$),e({title:"Error",description:"Gagal memuat data periode. Silakan coba lagi.",variant:"destructive"})}finally{h(!1)}};x.useEffect(()=>{P&&H()},[i.page,i.size,i.q,i.academic_year,i.semester,i.is_active,P]);const Y=$=>{T($),k(!0)},R=$=>{E($),w(!0)},X=$=>{M($)},z=async()=>{if(_)try{await Nn.deletePeriod(_.id),M(null),H(),e({title:"Periode berhasil dihapus",description:`Periode ${_.academic_year} ${_.semester} telah dihapus dari sistem.`})}catch($){console.error("Failed to delete period:",$);const q=($==null?void 0:$.message)||"Gagal menghapus periode. Silakan coba lagi.";e({title:"Error",description:q,variant:"destructive"})}},Q=()=>{E(null),w(!0)},ne=async $=>{try{if(S){const q=S.is_active!==$.is_active,{is_active:ee,...te}=$;await Nn.updatePeriod(S.id,te),q&&($.is_active?await Nn.activatePeriod(S.id):await Nn.deactivatePeriod(S.id)),e({title:"Periode berhasil diperbarui",description:`Periode ${$.academic_year} ${$.semester} telah diperbarui.`})}else await Nn.createPeriod($),e({title:"Periode berhasil dibuat",description:`Periode ${$.academic_year} ${$.semester} telah ditambahkan ke sistem.`});w(!1),E(null),H()}catch(q){console.error("Failed to save period:",q);const ee=(q==null?void 0:q.message)||"Gagal menyimpan periode. Silakan coba lagi.";e({title:"Error",description:ee,variant:"destructive"})}},L=$=>{n({size:parseInt($),page:1})},F=x.useCallback($=>{$!==i.q&&n({q:$,page:1})},[n,i.q]),V=x.useCallback($=>{$!==i.academic_year&&n({academic_year:$,page:1})},[n,i.academic_year]),K=x.useCallback($=>{$!==i.semester&&n({semester:$,page:1})},[n,i.semester]),ae=x.useCallback($=>{$!==i.is_active&&n({is_active:$,page:1})},[n,i.is_active]),G=$=>{n({page:$})},B=()=>{let $="Daftar Periode";const q=[];return i.academic_year!=="all"&&q.push(`TA ${i.academic_year}`),i.semester!=="all"&&q.push(`Semester ${i.semester}`),i.is_active!=="all"&&q.push(i.is_active==="true"?"Aktif":"Tidak Aktif"),q.length>0&&($+=" - "+q.join(" - ")),$},W=()=>{const $=new Date().getFullYear(),q=new Set;if(o.forEach(ee=>q.add(ee.academic_year)),q.size===0)for(let ee=-5;ee<=5;ee++){const te=$+ee;q.add(`${te}/${te+1}`)}return Array.from(q).sort()};return P?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ms,{title:"Manajemen Periode",description:"Kelola periode akademik, atur tahun ajaran dan semester",actions:O?s.jsxs(pe,{onClick:Q,children:[s.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Tambah Periode"]}):void 0}),s.jsxs(Ur,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"academic-year-filter",children:"Tahun Akademik"}),s.jsxs(zt,{value:i.academic_year,onValueChange:V,children:[s.jsx(Pt,{id:"academic-year-filter",children:s.jsx(Ut,{placeholder:"Filter berdasarkan tahun akademik"})}),s.jsxs(Ot,{children:[s.jsx(Ie,{value:"all",children:"Semua Tahun"}),W().map($=>s.jsx(Ie,{value:$,children:$},$))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"semester-filter",children:"Semester"}),s.jsxs(zt,{value:i.semester,onValueChange:K,children:[s.jsx(Pt,{id:"semester-filter",children:s.jsx(Ut,{placeholder:"Filter berdasarkan semester"})}),s.jsxs(Ot,{children:[s.jsx(Ie,{value:"all",children:"Semua Semester"}),s.jsx(Ie,{value:"Ganjil",children:"Ganjil"}),s.jsx(Ie,{value:"Genap",children:"Genap"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"status-filter",children:"Status"}),s.jsxs(zt,{value:i.is_active,onValueChange:ae,children:[s.jsx(Pt,{id:"status-filter",children:s.jsx(Ut,{placeholder:"Filter berdasarkan status"})}),s.jsxs(Ot,{children:[s.jsx(Ie,{value:"all",children:"Semua Status"}),s.jsx(Ie,{value:"true",children:"Aktif"}),s.jsx(Ie,{value:"false",children:"Tidak Aktif"})]})]})]})]}),s.jsx(Ne,{children:s.jsx(Se,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(hr,{title:B(),subtitle:"Kelola periode akademik, atur tahun ajaran dan semester"}),s.jsx(Hr,{searchQuery:i.q,onSearchChange:F,placeholder:"Cari periode berdasarkan tahun akademik, semester, atau deskripsi..."}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(JQ,{periods:o,loading:u,onView:Y,onEdit:O?R:()=>{},onDelete:O?X:()=>{}})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(eJ,{periods:o,loading:u,onView:Y,onEdit:O?R:()=>{},onDelete:O?X:()=>{}})}),g>1&&s.jsx(Ua,{currentPage:i.page,totalPages:g,itemsPerPage:i.size,totalItems:f,onPageChange:G,onItemsPerPageChange:L})]})})}),O&&s.jsx(oJ,{open:y,onOpenChange:w,editingPeriod:S,onSave:ne}),A&&s.jsx(un,{open:j,onOpenChange:k,children:s.jsxs(dn,{className:"max-w-2xl",children:[s.jsx(hn,{children:s.jsx(fn,{children:"Detail Periode"})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Pe,{children:"Tahun Akademik"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:A.academic_year})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Semester"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:A.semester})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Tanggal Mulai"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:new Date(A.start_date).toLocaleDateString("id-ID")})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Tanggal Selesai"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:new Date(A.end_date).toLocaleDateString("id-ID")})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Status"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:A.is_active?"Aktif":"Tidak Aktif"})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Dibuat"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:new Date(A.created_at).toLocaleDateString("id-ID")})]}),A.description&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(Pe,{children:"Deskripsi"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:A.description})]}),A.updated_at&&s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(Pe,{children:"Terakhir Diperbarui"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:new Date(A.updated_at).toLocaleDateString("id-ID")})]})]})]})}),s.jsx(cs,{open:!!_,onOpenChange:()=>M(null),children:s.jsxs(Wn,{children:[s.jsxs(Zn,{children:[s.jsx(Jn,{children:"Konfirmasi Hapus"}),s.jsxs(es,{children:["Tindakan ini tidak dapat dibatalkan. Periode"," ",s.jsxs("span",{className:"font-semibold",children:[_==null?void 0:_.academic_year," ",_==null?void 0:_.semester]})," ","akan dihapus secara permanen dari sistem."]})]}),s.jsxs(Qn,{children:[s.jsx(ns,{children:"Batal"}),s.jsx(ts,{onClick:z,className:"bg-red-600 hover:bg-red-700",children:"Hapus Periode"})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki akses untuk melihat halaman ini."})]})})};function cJ(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return x.useMemo(()=>a=>{e.forEach(i=>i(a))},e)}const Cx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function pd(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function C1(t){return"nodeType"in t}function ba(t){var e,n;return t?pd(t)?t:C1(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function T1(t){const{Document:e}=ba(t);return t instanceof e}function Zf(t){return pd(t)?!1:t instanceof ba(t).HTMLElement}function SP(t){return t instanceof ba(t).SVGElement}function gd(t){return t?pd(t)?t.document:C1(t)?T1(t)?t:Zf(t)||SP(t)?t.ownerDocument:document:document:document}const Si=Cx?x.useLayoutEffect:x.useEffect;function _1(t){const e=x.useRef(t);return Si(()=>{e.current=t}),x.useCallback(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e.current==null?void 0:e.current(...a)},[])}function uJ(){const t=x.useRef(null),e=x.useCallback((a,i)=>{t.current=setInterval(a,i)},[]),n=x.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function gf(t,e){e===void 0&&(e=[t]);const n=x.useRef(t);return Si(()=>{n.current!==t&&(n.current=t)},e),n}function Qf(t,e){const n=x.useRef();return x.useMemo(()=>{const a=t(n.current);return n.current=a,a},[...e])}function Sg(t){const e=_1(t),n=x.useRef(null),a=x.useCallback(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,a]}function L0(t){const e=x.useRef();return x.useEffect(()=>{e.current=t},[t]),e.current}let by={};function Jf(t,e){return x.useMemo(()=>{if(e)return e;const n=by[t]==null?0:by[t]+1;return by[t]=n,t+"-"+n},[t,e])}function kP(t){return function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((o,c)=>{const u=Object.entries(c);for(const[h,f]of u){const p=o[h];p!=null&&(o[h]=p+t*f)}return o},{...e})}}const Vu=kP(1),xf=kP(-1);function dJ(t){return"clientX"in t&&"clientY"in t}function R1(t){if(!t)return!1;const{KeyboardEvent:e}=ba(t.target);return e&&t instanceof e}function hJ(t){if(!t)return!1;const{TouchEvent:e}=ba(t.target);return e&&t instanceof e}function I0(t){if(hJ(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return dJ(t)?{x:t.clientX,y:t.clientY}:null}const nd=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[nd.Translate.toString(t),nd.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:a}=t;return e+" "+n+"ms "+a}}}),W2="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function fJ(t){return t.matches(W2)?t:t.querySelector(W2)}const mJ={display:"none"};function pJ(t){let{id:e,value:n}=t;return ve.createElement("div",{id:e,style:mJ},n)}function gJ(t){let{id:e,announcement:n,ariaLiveType:a="assertive"}=t;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ve.createElement("div",{id:e,style:i,role:"status","aria-live":a,"aria-atomic":!0},n)}function xJ(){const[t,e]=x.useState("");return{announce:x.useCallback(a=>{a!=null&&e(a)},[]),announcement:t}}const EP=x.createContext(null);function vJ(t){const e=x.useContext(EP);x.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function bJ(){const[t]=x.useState(()=>new Set),e=x.useCallback(a=>(t.add(a),()=>t.delete(a)),[t]);return[x.useCallback(a=>{let{type:i,event:o}=a;t.forEach(c=>{var u;return(u=c[i])==null?void 0:u.call(c,o)})},[t]),e]}const yJ={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},jJ={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function wJ(t){let{announcements:e=jJ,container:n,hiddenTextDescribedById:a,screenReaderInstructions:i=yJ}=t;const{announce:o,announcement:c}=xJ(),u=Jf("DndLiveRegion"),[h,f]=x.useState(!1);if(x.useEffect(()=>{f(!0)},[]),vJ(x.useMemo(()=>({onDragStart(g){let{active:v}=g;o(e.onDragStart({active:v}))},onDragMove(g){let{active:v,over:y}=g;e.onDragMove&&o(e.onDragMove({active:v,over:y}))},onDragOver(g){let{active:v,over:y}=g;o(e.onDragOver({active:v,over:y}))},onDragEnd(g){let{active:v,over:y}=g;o(e.onDragEnd({active:v,over:y}))},onDragCancel(g){let{active:v,over:y}=g;o(e.onDragCancel({active:v,over:y}))}}),[o,e])),!h)return null;const p=ve.createElement(ve.Fragment,null,ve.createElement(pJ,{id:a,value:i.draggable}),ve.createElement(gJ,{id:u,announcement:c}));return n?Zi.createPortal(p,n):p}var os;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(os||(os={}));function kg(){}function Eg(t,e){return x.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function AP(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return x.useMemo(()=>[...e].filter(a=>a!=null),[...e])}const Fr=Object.freeze({x:0,y:0});function CP(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function TP(t,e){let{data:{value:n}}=t,{data:{value:a}}=e;return n-a}function NJ(t,e){let{data:{value:n}}=t,{data:{value:a}}=e;return a-n}function Z2(t){let{left:e,top:n,height:a,width:i}=t;return[{x:e,y:n},{x:e+i,y:n},{x:e,y:n+a},{x:e+i,y:n+a}]}function _P(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function Q2(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const RP=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=t;const i=Q2(e,e.left,e.top),o=[];for(const c of a){const{id:u}=c,h=n.get(u);if(h){const f=CP(Q2(h),i);o.push({id:u,data:{droppableContainer:c,value:f}})}}return o.sort(TP)},SJ=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=t;const i=Z2(e),o=[];for(const c of a){const{id:u}=c,h=n.get(u);if(h){const f=Z2(h),p=i.reduce((v,y,w)=>v+CP(f[w],y),0),g=Number((p/4).toFixed(4));o.push({id:u,data:{droppableContainer:c,value:g}})}}return o.sort(TP)};function kJ(t,e){const n=Math.max(e.top,t.top),a=Math.max(e.left,t.left),i=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),c=i-a,u=o-n;if(a<i&&n<o){const h=e.width*e.height,f=t.width*t.height,p=c*u,g=p/(h+f-p);return Number(g.toFixed(4))}return 0}const EJ=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:a}=t;const i=[];for(const o of a){const{id:c}=o,u=n.get(c);if(u){const h=kJ(u,e);h>0&&i.push({id:c,data:{droppableContainer:o,value:h}})}}return i.sort(NJ)};function AJ(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function DP(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Fr}function CJ(t){return function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=arguments[o];return i.reduce((c,u)=>({...c,top:c.top+t*u.y,bottom:c.bottom+t*u.y,left:c.left+t*u.x,right:c.right+t*u.x}),{...n})}}const TJ=CJ(1);function _J(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function RJ(t,e,n){const a=_J(e);if(!a)return t;const{scaleX:i,scaleY:o,x:c,y:u}=a,h=t.left-c-(1-i)*parseFloat(n),f=t.top-u-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),p=i?t.width/i:t.width,g=o?t.height/o:t.height;return{width:p,height:g,top:f,right:h+p,bottom:f+g,left:h}}const DJ={ignoreTransform:!1};function xd(t,e){e===void 0&&(e=DJ);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:f,transformOrigin:p}=ba(t).getComputedStyle(t);f&&(n=RJ(n,f,p))}const{top:a,left:i,width:o,height:c,bottom:u,right:h}=n;return{top:a,left:i,width:o,height:c,bottom:u,right:h}}function J2(t){return xd(t,{ignoreTransform:!0})}function MJ(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function PJ(t,e){return e===void 0&&(e=ba(t).getComputedStyle(t)),e.position==="fixed"}function OJ(t,e){e===void 0&&(e=ba(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=e[i];return typeof o=="string"?n.test(o):!1})}function Tx(t,e){const n=[];function a(i){if(e!=null&&n.length>=e||!i)return n;if(T1(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Zf(i)||SP(i)||n.includes(i))return n;const o=ba(t).getComputedStyle(i);return i!==t&&OJ(i,o)&&n.push(i),PJ(i,o)?n:a(i.parentNode)}return t?a(t):n}function MP(t){const[e]=Tx(t,1);return e??null}function yy(t){return!Cx||!t?null:pd(t)?t:C1(t)?T1(t)||t===gd(t).scrollingElement?window:Zf(t)?t:null:null}function PP(t){return pd(t)?t.scrollX:t.scrollLeft}function OP(t){return pd(t)?t.scrollY:t.scrollTop}function B0(t){return{x:PP(t),y:OP(t)}}var bs;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(bs||(bs={}));function LP(t){return!Cx||!t?!1:t===document.scrollingElement}function IP(t){const e={x:0,y:0},n=LP(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},a={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},i=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,c=t.scrollTop>=a.y,u=t.scrollLeft>=a.x;return{isTop:i,isLeft:o,isBottom:c,isRight:u,maxScroll:a,minScroll:e}}const LJ={x:.2,y:.2};function IJ(t,e,n,a,i){let{top:o,left:c,right:u,bottom:h}=n;a===void 0&&(a=10),i===void 0&&(i=LJ);const{isTop:f,isBottom:p,isLeft:g,isRight:v}=IP(t),y={x:0,y:0},w={x:0,y:0},j={height:e.height*i.y,width:e.width*i.x};return!f&&o<=e.top+j.height?(y.y=bs.Backward,w.y=a*Math.abs((e.top+j.height-o)/j.height)):!p&&h>=e.bottom-j.height&&(y.y=bs.Forward,w.y=a*Math.abs((e.bottom-j.height-h)/j.height)),!v&&u>=e.right-j.width?(y.x=bs.Forward,w.x=a*Math.abs((e.right-j.width-u)/j.width)):!g&&c<=e.left+j.width&&(y.x=bs.Backward,w.x=a*Math.abs((e.left+j.width-c)/j.width)),{direction:y,speed:w}}function BJ(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:c}=window;return{top:0,left:0,right:o,bottom:c,width:o,height:c}}const{top:e,left:n,right:a,bottom:i}=t.getBoundingClientRect();return{top:e,left:n,right:a,bottom:i,width:t.clientWidth,height:t.clientHeight}}function BP(t){return t.reduce((e,n)=>Vu(e,B0(n)),Fr)}function zJ(t){return t.reduce((e,n)=>e+PP(n),0)}function UJ(t){return t.reduce((e,n)=>e+OP(n),0)}function $J(t,e){if(e===void 0&&(e=xd),!t)return;const{top:n,left:a,bottom:i,right:o}=e(t);MP(t)&&(i<=0||o<=0||n>=window.innerHeight||a>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const FJ=[["x",["left","right"],zJ],["y",["top","bottom"],UJ]];class D1{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const a=Tx(n),i=BP(a);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,c,u]of FJ)for(const h of c)Object.defineProperty(this,h,{get:()=>{const f=u(a),p=i[o]-f;return this.rect[h]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Vh{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var a;return(a=this.target)==null?void 0:a.removeEventListener(...n)})},this.target=e}add(e,n,a){var i;(i=this.target)==null||i.addEventListener(e,n,a),this.listeners.push([e,n,a])}}function VJ(t){const{EventTarget:e}=ba(t);return t instanceof e?t:gd(t)}function jy(t,e){const n=Math.abs(t.x),a=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+a**2)>e:"x"in e&&"y"in e?n>e.x&&a>e.y:"x"in e?n>e.x:"y"in e?a>e.y:!1}var rr;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(rr||(rr={}));function eA(t){t.preventDefault()}function qJ(t){t.stopPropagation()}var Dt;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Dt||(Dt={}));const zP={start:[Dt.Space,Dt.Enter],cancel:[Dt.Esc],end:[Dt.Space,Dt.Enter,Dt.Tab]},HJ=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Dt.Right:return{...n,x:n.x+25};case Dt.Left:return{...n,x:n.x-25};case Dt.Down:return{...n,y:n.y+25};case Dt.Up:return{...n,y:n.y-25}}};class _x{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Vh(gd(n)),this.windowListeners=new Vh(ba(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(rr.Resize,this.handleCancel),this.windowListeners.add(rr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(rr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,a=e.node.current;a&&$J(a),n(Fr)}handleKeyDown(e){if(R1(e)){const{active:n,context:a,options:i}=this.props,{keyboardCodes:o=zP,coordinateGetter:c=HJ,scrollBehavior:u="smooth"}=i,{code:h}=e;if(o.end.includes(h)){this.handleEnd(e);return}if(o.cancel.includes(h)){this.handleCancel(e);return}const{collisionRect:f}=a.current,p=f?{x:f.left,y:f.top}:Fr;this.referenceCoordinates||(this.referenceCoordinates=p);const g=c(e,{active:n,context:a.current,currentCoordinates:p});if(g){const v=xf(g,p),y={x:0,y:0},{scrollableAncestors:w}=a.current;for(const j of w){const k=e.code,{isTop:S,isRight:E,isLeft:A,isBottom:T,maxScroll:_,minScroll:M}=IP(j),P=BJ(j),O={x:Math.min(k===Dt.Right?P.right-P.width/2:P.right,Math.max(k===Dt.Right?P.left:P.left+P.width/2,g.x)),y:Math.min(k===Dt.Down?P.bottom-P.height/2:P.bottom,Math.max(k===Dt.Down?P.top:P.top+P.height/2,g.y))},H=k===Dt.Right&&!E||k===Dt.Left&&!A,Y=k===Dt.Down&&!T||k===Dt.Up&&!S;if(H&&O.x!==g.x){const R=j.scrollLeft+v.x,X=k===Dt.Right&&R<=_.x||k===Dt.Left&&R>=M.x;if(X&&!v.y){j.scrollTo({left:R,behavior:u});return}X?y.x=j.scrollLeft-R:y.x=k===Dt.Right?j.scrollLeft-_.x:j.scrollLeft-M.x,y.x&&j.scrollBy({left:-y.x,behavior:u});break}else if(Y&&O.y!==g.y){const R=j.scrollTop+v.y,X=k===Dt.Down&&R<=_.y||k===Dt.Up&&R>=M.y;if(X&&!v.x){j.scrollTo({top:R,behavior:u});return}X?y.y=j.scrollTop-R:y.y=k===Dt.Down?j.scrollTop-_.y:j.scrollTop-M.y,y.y&&j.scrollBy({top:-y.y,behavior:u});break}}this.handleMove(e,Vu(xf(g,this.referenceCoordinates),y))}}}handleMove(e,n){const{onMove:a}=this.props;e.preventDefault(),a(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}_x.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:a=zP,onActivation:i}=e,{active:o}=n;const{code:c}=t.nativeEvent;if(a.start.includes(c)){const u=o.activatorNode.current;return u&&t.target!==u?!1:(t.preventDefault(),i==null||i({event:t.nativeEvent}),!0)}return!1}}];function tA(t){return!!(t&&"distance"in t)}function nA(t){return!!(t&&"delay"in t)}class M1{constructor(e,n,a){var i;a===void 0&&(a=VJ(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:o}=e,{target:c}=o;this.props=e,this.events=n,this.document=gd(c),this.documentListeners=new Vh(this.document),this.listeners=new Vh(a),this.windowListeners=new Vh(ba(c)),this.initialCoordinates=(i=I0(o))!=null?i:Fr,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:a}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(rr.Resize,this.handleCancel),this.windowListeners.add(rr.DragStart,eA),this.windowListeners.add(rr.VisibilityChange,this.handleCancel),this.windowListeners.add(rr.ContextMenu,eA),this.documentListeners.add(rr.Keydown,this.handleKeydown),n){if(a!=null&&a({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(nA(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(tA(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:a,onPending:i}=this.props;i(a,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(rr.Click,qJ,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(rr.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:a,initialCoordinates:i,props:o}=this,{onMove:c,options:{activationConstraint:u}}=o;if(!i)return;const h=(n=I0(e))!=null?n:Fr,f=xf(i,h);if(!a&&u){if(tA(u)){if(u.tolerance!=null&&jy(f,u.tolerance))return this.handleCancel();if(jy(f,u.distance))return this.handleStart()}if(nA(u)&&jy(f,u.tolerance))return this.handleCancel();this.handlePending(u,f);return}e.cancelable&&e.preventDefault(),c(h)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Dt.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const GJ={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Rx extends M1{constructor(e){const{event:n}=e,a=gd(n.target);super(e,GJ,a)}}Rx.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;return!n.isPrimary||n.button!==0?!1:(a==null||a({event:n}),!0)}}];const KJ={move:{name:"mousemove"},end:{name:"mouseup"}};var z0;(function(t){t[t.RightClick=2]="RightClick"})(z0||(z0={}));class YJ extends M1{constructor(e){super(e,KJ,gd(e.event.target))}}YJ.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;return n.button===z0.RightClick?!1:(a==null||a({event:n}),!0)}}];const wy={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class XJ extends M1{constructor(e){super(e,wy)}static setup(){return window.addEventListener(wy.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(wy.move.name,e)};function e(){}}}XJ.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:a}=e;const{touches:i}=n;return i.length>1?!1:(a==null||a({event:n}),!0)}}];var qh;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(qh||(qh={}));var Ag;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ag||(Ag={}));function WJ(t){let{acceleration:e,activator:n=qh.Pointer,canScroll:a,draggingRect:i,enabled:o,interval:c=5,order:u=Ag.TreeOrder,pointerCoordinates:h,scrollableAncestors:f,scrollableAncestorRects:p,delta:g,threshold:v}=t;const y=QJ({delta:g,disabled:!o}),[w,j]=uJ(),k=x.useRef({x:0,y:0}),S=x.useRef({x:0,y:0}),E=x.useMemo(()=>{switch(n){case qh.Pointer:return h?{top:h.y,bottom:h.y,left:h.x,right:h.x}:null;case qh.DraggableRect:return i}},[n,i,h]),A=x.useRef(null),T=x.useCallback(()=>{const M=A.current;if(!M)return;const P=k.current.x*S.current.x,O=k.current.y*S.current.y;M.scrollBy(P,O)},[]),_=x.useMemo(()=>u===Ag.TreeOrder?[...f].reverse():f,[u,f]);x.useEffect(()=>{if(!o||!f.length||!E){j();return}for(const M of _){if((a==null?void 0:a(M))===!1)continue;const P=f.indexOf(M),O=p[P];if(!O)continue;const{direction:H,speed:Y}=IJ(M,O,E,e,v);for(const R of["x","y"])y[R][H[R]]||(Y[R]=0,H[R]=0);if(Y.x>0||Y.y>0){j(),A.current=M,w(T,c),k.current=Y,S.current=H;return}}k.current={x:0,y:0},S.current={x:0,y:0},j()},[e,T,a,j,o,c,JSON.stringify(E),JSON.stringify(y),w,f,_,p,JSON.stringify(v)])}const ZJ={x:{[bs.Backward]:!1,[bs.Forward]:!1},y:{[bs.Backward]:!1,[bs.Forward]:!1}};function QJ(t){let{delta:e,disabled:n}=t;const a=L0(e);return Qf(i=>{if(n||!a||!i)return ZJ;const o={x:Math.sign(e.x-a.x),y:Math.sign(e.y-a.y)};return{x:{[bs.Backward]:i.x[bs.Backward]||o.x===-1,[bs.Forward]:i.x[bs.Forward]||o.x===1},y:{[bs.Backward]:i.y[bs.Backward]||o.y===-1,[bs.Forward]:i.y[bs.Forward]||o.y===1}}},[n,e,a])}function JJ(t,e){const n=e!=null?t.get(e):void 0,a=n?n.node.current:null;return Qf(i=>{var o;return e==null?null:(o=a??i)!=null?o:null},[a,e])}function eee(t,e){return x.useMemo(()=>t.reduce((n,a)=>{const{sensor:i}=a,o=i.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,a)}));return[...n,...o]},[]),[t,e])}var vf;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(vf||(vf={}));var U0;(function(t){t.Optimized="optimized"})(U0||(U0={}));const sA=new Map;function tee(t,e){let{dragging:n,dependencies:a,config:i}=e;const[o,c]=x.useState(null),{frequency:u,measure:h,strategy:f}=i,p=x.useRef(t),g=k(),v=gf(g),y=x.useCallback(function(S){S===void 0&&(S=[]),!v.current&&c(E=>E===null?S:E.concat(S.filter(A=>!E.includes(A))))},[v]),w=x.useRef(null),j=Qf(S=>{if(g&&!n)return sA;if(!S||S===sA||p.current!==t||o!=null){const E=new Map;for(let A of t){if(!A)continue;if(o&&o.length>0&&!o.includes(A.id)&&A.rect.current){E.set(A.id,A.rect.current);continue}const T=A.node.current,_=T?new D1(h(T),T):null;A.rect.current=_,_&&E.set(A.id,_)}return E}return S},[t,o,n,g,h]);return x.useEffect(()=>{p.current=t},[t]),x.useEffect(()=>{g||y()},[n,g]),x.useEffect(()=>{o&&o.length>0&&c(null)},[JSON.stringify(o)]),x.useEffect(()=>{g||typeof u!="number"||w.current!==null||(w.current=setTimeout(()=>{y(),w.current=null},u))},[u,g,y,...a]),{droppableRects:j,measureDroppableContainers:y,measuringScheduled:o!=null};function k(){switch(f){case vf.Always:return!1;case vf.BeforeDragging:return n;default:return!n}}}function UP(t,e){return Qf(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function nee(t,e){return UP(t,e)}function see(t){let{callback:e,disabled:n}=t;const a=_1(e),i=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(a)},[a,n]);return x.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Dx(t){let{callback:e,disabled:n}=t;const a=_1(e),i=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(a)},[n]);return x.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function aee(t){return new D1(xd(t),t)}function aA(t,e,n){e===void 0&&(e=aee);const[a,i]=x.useState(null);function o(){i(h=>{if(!t)return null;if(t.isConnected===!1){var f;return(f=h??n)!=null?f:null}const p=e(t);return JSON.stringify(h)===JSON.stringify(p)?h:p})}const c=see({callback(h){if(t)for(const f of h){const{type:p,target:g}=f;if(p==="childList"&&g instanceof HTMLElement&&g.contains(t)){o();break}}}}),u=Dx({callback:o});return Si(()=>{o(),t?(u==null||u.observe(t),c==null||c.observe(document.body,{childList:!0,subtree:!0})):(u==null||u.disconnect(),c==null||c.disconnect())},[t]),a}function ree(t){const e=UP(t);return DP(t,e)}const rA=[];function iee(t){const e=x.useRef(t),n=Qf(a=>t?a&&a!==rA&&t&&e.current&&t.parentNode===e.current.parentNode?a:Tx(t):rA,[t]);return x.useEffect(()=>{e.current=t},[t]),n}function oee(t){const[e,n]=x.useState(null),a=x.useRef(t),i=x.useCallback(o=>{const c=yy(o.target);c&&n(u=>u?(u.set(c,B0(c)),new Map(u)):null)},[]);return x.useEffect(()=>{const o=a.current;if(t!==o){c(o);const u=t.map(h=>{const f=yy(h);return f?(f.addEventListener("scroll",i,{passive:!0}),[f,B0(f)]):null}).filter(h=>h!=null);n(u.length?new Map(u):null),a.current=t}return()=>{c(t),c(o)};function c(u){u.forEach(h=>{const f=yy(h);f==null||f.removeEventListener("scroll",i)})}},[i,t]),x.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,c)=>Vu(o,c),Fr):BP(t):Fr,[t,e])}function iA(t,e){e===void 0&&(e=[]);const n=x.useRef(null);return x.useEffect(()=>{n.current=null},e),x.useEffect(()=>{const a=t!==Fr;a&&!n.current&&(n.current=t),!a&&n.current&&(n.current=null)},[t]),n.current?xf(t,n.current):Fr}function lee(t){x.useEffect(()=>{if(!Cx)return;const e=t.map(n=>{let{sensor:a}=n;return a.setup==null?void 0:a.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function cee(t,e){return x.useMemo(()=>t.reduce((n,a)=>{let{eventName:i,handler:o}=a;return n[i]=c=>{o(c,e)},n},{}),[t,e])}function $P(t){return x.useMemo(()=>t?MJ(t):null,[t])}const oA=[];function uee(t,e){e===void 0&&(e=xd);const[n]=t,a=$P(n?ba(n):null),[i,o]=x.useState(oA);function c(){o(()=>t.length?t.map(h=>LP(h)?a:new D1(e(h),h)):oA)}const u=Dx({callback:c});return Si(()=>{u==null||u.disconnect(),c(),t.forEach(h=>u==null?void 0:u.observe(h))},[t]),i}function dee(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Zf(e)?e:t}function hee(t){let{measure:e}=t;const[n,a]=x.useState(null),i=x.useCallback(f=>{for(const{target:p}of f)if(Zf(p)){a(g=>{const v=e(p);return g?{...g,width:v.width,height:v.height}:v});break}},[e]),o=Dx({callback:i}),c=x.useCallback(f=>{const p=dee(f);o==null||o.disconnect(),p&&(o==null||o.observe(p)),a(p?e(p):null)},[e,o]),[u,h]=Sg(c);return x.useMemo(()=>({nodeRef:u,rect:n,setRef:h}),[n,u,h])}const fee=[{sensor:Rx,options:{}},{sensor:_x,options:{}}],mee={current:{}},Zp={draggable:{measure:J2},droppable:{measure:J2,strategy:vf.WhileDragging,frequency:U0.Optimized},dragOverlay:{measure:xd}};class Hh extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,a;return(n=(a=this.get(e))==null?void 0:a.node.current)!=null?n:void 0}}const pee={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Hh,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:kg},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Zp,measureDroppableContainers:kg,windowRect:null,measuringScheduled:!1},gee={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:kg,draggableNodes:new Map,over:null,measureDroppableContainers:kg},Mx=x.createContext(gee),FP=x.createContext(pee);function xee(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Hh}}}function vee(t,e){switch(e.type){case os.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case os.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case os.DragEnd:case os.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case os.RegisterDroppable:{const{element:n}=e,{id:a}=n,i=new Hh(t.droppable.containers);return i.set(a,n),{...t,droppable:{...t.droppable,containers:i}}}case os.SetDroppableDisabled:{const{id:n,key:a,disabled:i}=e,o=t.droppable.containers.get(n);if(!o||a!==o.key)return t;const c=new Hh(t.droppable.containers);return c.set(n,{...o,disabled:i}),{...t,droppable:{...t.droppable,containers:c}}}case os.UnregisterDroppable:{const{id:n,key:a}=e,i=t.droppable.containers.get(n);if(!i||a!==i.key)return t;const o=new Hh(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function bee(t){let{disabled:e}=t;const{active:n,activatorEvent:a,draggableNodes:i}=x.useContext(Mx),o=L0(a),c=L0(n==null?void 0:n.id);return x.useEffect(()=>{if(!e&&!a&&o&&c!=null){if(!R1(o)||document.activeElement===o.target)return;const u=i.get(c);if(!u)return;const{activatorNode:h,node:f}=u;if(!h.current&&!f.current)return;requestAnimationFrame(()=>{for(const p of[h.current,f.current]){if(!p)continue;const g=fJ(p);if(g){g.focus();break}}})}},[a,e,i,c,o]),null}function yee(t,e){let{transform:n,...a}=e;return t!=null&&t.length?t.reduce((i,o)=>o({transform:i,...a}),n):n}function jee(t){return x.useMemo(()=>({draggable:{...Zp.draggable,...t==null?void 0:t.draggable},droppable:{...Zp.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Zp.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function wee(t){let{activeNode:e,measure:n,initialRect:a,config:i=!0}=t;const o=x.useRef(!1),{x:c,y:u}=typeof i=="boolean"?{x:i,y:i}:i;Si(()=>{if(!c&&!u||!e){o.current=!1;return}if(o.current||!a)return;const f=e==null?void 0:e.node.current;if(!f||f.isConnected===!1)return;const p=n(f),g=DP(p,a);if(c||(g.x=0),u||(g.y=0),o.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const v=MP(f);v&&v.scrollBy({top:g.y,left:g.x})}},[e,c,u,a,n])}const VP=x.createContext({...Fr,scaleX:1,scaleY:1});var Go;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(Go||(Go={}));const qP=x.memo(function(e){var n,a,i,o;let{id:c,accessibility:u,autoScroll:h=!0,children:f,sensors:p=fee,collisionDetection:g=EJ,measuring:v,modifiers:y,...w}=e;const j=x.useReducer(vee,void 0,xee),[k,S]=j,[E,A]=bJ(),[T,_]=x.useState(Go.Uninitialized),M=T===Go.Initialized,{draggable:{active:P,nodes:O,translate:H},droppable:{containers:Y}}=k,R=P!=null?O.get(P):null,X=x.useRef({initial:null,translated:null}),z=x.useMemo(()=>{var Ct;return P!=null?{id:P,data:(Ct=R==null?void 0:R.data)!=null?Ct:mee,rect:X}:null},[P,R]),Q=x.useRef(null),[ne,L]=x.useState(null),[F,V]=x.useState(null),K=gf(w,Object.values(w)),ae=Jf("DndDescribedBy",c),G=x.useMemo(()=>Y.getEnabled(),[Y]),B=jee(v),{droppableRects:W,measureDroppableContainers:$,measuringScheduled:q}=tee(G,{dragging:M,dependencies:[H.x,H.y],config:B.droppable}),ee=JJ(O,P),te=x.useMemo(()=>F?I0(F):null,[F]),ie=Os(),de=nee(ee,B.draggable.measure);wee({activeNode:P!=null?O.get(P):null,config:ie.layoutShiftCompensation,initialRect:de,measure:B.draggable.measure});const re=aA(ee,B.draggable.measure,de),he=aA(ee?ee.parentElement:null),ce=x.useRef({activatorEvent:null,active:null,activeNode:ee,collisionRect:null,collisions:null,droppableRects:W,draggableNodes:O,draggingNode:null,draggingNodeRect:null,droppableContainers:Y,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ee=Y.getNodeFor((n=ce.current.over)==null?void 0:n.id),be=hee({measure:B.dragOverlay.measure}),De=(a=be.nodeRef.current)!=null?a:ee,Te=M?(i=be.rect)!=null?i:re:null,Oe=!!(be.nodeRef.current&&be.rect),Ze=ree(Oe?null:re),qe=$P(De?ba(De):null),He=iee(M?Ee??ee:null),Re=uee(He),Je=yee(y,{transform:{x:H.x-Ze.x,y:H.y-Ze.y,scaleX:1,scaleY:1},activatorEvent:F,active:z,activeNodeRect:re,containerNodeRect:he,draggingNodeRect:Te,over:ce.current.over,overlayNodeRect:be.rect,scrollableAncestors:He,scrollableAncestorRects:Re,windowRect:qe}),Zt=te?Vu(te,H):null,An=oee(He),ea=iA(An),ds=iA(An,[re]),$t=Vu(Je,ea),nn=Te?TJ(Te,Je):null,Ft=z&&nn?g({active:z,collisionRect:nn,droppableRects:W,droppableContainers:G,pointerCoordinates:Zt}):null,Ht=_P(Ft,"id"),[Cn,Gn]=x.useState(null),Ns=Oe?Je:Vu(Je,ds),Ps=AJ(Ns,(o=Cn==null?void 0:Cn.rect)!=null?o:null,re),jn=x.useRef(null),Ss=x.useCallback((Ct,sn)=>{let{sensor:Ve,options:vt}=sn;if(Q.current==null)return;const gt=O.get(Q.current);if(!gt)return;const bt=Ct.nativeEvent,an=new Ve({active:Q.current,activeNode:gt,event:bt,options:vt,context:ce,onAbort(ut){if(!O.get(ut))return;const{onDragAbort:xt}=K.current,Vt={id:ut};xt==null||xt(Vt),E({type:"onDragAbort",event:Vt})},onPending(ut,It,xt,Vt){if(!O.get(ut))return;const{onDragPending:In}=K.current,Yt={id:ut,constraint:It,initialCoordinates:xt,offset:Vt};In==null||In(Yt),E({type:"onDragPending",event:Yt})},onStart(ut){const It=Q.current;if(It==null)return;const xt=O.get(It);if(!xt)return;const{onDragStart:Vt}=K.current,ks={activatorEvent:bt,active:{id:It,data:xt.data,rect:X}};Zi.unstable_batchedUpdates(()=>{Vt==null||Vt(ks),_(Go.Initializing),S({type:os.DragStart,initialCoordinates:ut,active:It}),E({type:"onDragStart",event:ks}),L(jn.current),V(bt)})},onMove(ut){S({type:os.DragMove,coordinates:ut})},onEnd:Gt(os.DragEnd),onCancel:Gt(os.DragCancel)});jn.current=an;function Gt(ut){return async function(){const{active:xt,collisions:Vt,over:ks,scrollAdjustedTranslate:In}=ce.current;let Yt=null;if(xt&&In){const{cancelDrop:Fa}=K.current;Yt={activatorEvent:bt,active:xt,collisions:Vt,delta:In,over:ks},ut===os.DragEnd&&typeof Fa=="function"&&await Promise.resolve(Fa(Yt))&&(ut=os.DragCancel)}Q.current=null,Zi.unstable_batchedUpdates(()=>{S({type:ut}),_(Go.Uninitialized),Gn(null),L(null),V(null),jn.current=null;const Fa=ut===os.DragEnd?"onDragEnd":"onDragCancel";if(Yt){const ya=K.current[Fa];ya==null||ya(Yt),E({type:Fa,event:Yt})}})}}},[O]),hs=x.useCallback((Ct,sn)=>(Ve,vt)=>{const gt=Ve.nativeEvent,bt=O.get(vt);if(Q.current!==null||!bt||gt.dndKit||gt.defaultPrevented)return;const an={active:bt};Ct(Ve,sn.options,an)===!0&&(gt.dndKit={capturedBy:sn.sensor},Q.current=vt,Ss(Ve,sn))},[O,Ss]),fs=eee(p,hs);lee(p),Si(()=>{re&&T===Go.Initializing&&_(Go.Initialized)},[re,T]),x.useEffect(()=>{const{onDragMove:Ct}=K.current,{active:sn,activatorEvent:Ve,collisions:vt,over:gt}=ce.current;if(!sn||!Ve)return;const bt={active:sn,activatorEvent:Ve,collisions:vt,delta:{x:$t.x,y:$t.y},over:gt};Zi.unstable_batchedUpdates(()=>{Ct==null||Ct(bt),E({type:"onDragMove",event:bt})})},[$t.x,$t.y]),x.useEffect(()=>{const{active:Ct,activatorEvent:sn,collisions:Ve,droppableContainers:vt,scrollAdjustedTranslate:gt}=ce.current;if(!Ct||Q.current==null||!sn||!gt)return;const{onDragOver:bt}=K.current,an=vt.get(Ht),Gt=an&&an.rect.current?{id:an.id,rect:an.rect.current,data:an.data,disabled:an.disabled}:null,ut={active:Ct,activatorEvent:sn,collisions:Ve,delta:{x:gt.x,y:gt.y},over:Gt};Zi.unstable_batchedUpdates(()=>{Gn(Gt),bt==null||bt(ut),E({type:"onDragOver",event:ut})})},[Ht]),Si(()=>{ce.current={activatorEvent:F,active:z,activeNode:ee,collisionRect:nn,collisions:Ft,droppableRects:W,draggableNodes:O,draggingNode:De,draggingNodeRect:Te,droppableContainers:Y,over:Cn,scrollableAncestors:He,scrollAdjustedTranslate:$t},X.current={initial:Te,translated:nn}},[z,ee,Ft,nn,O,De,Te,W,Y,Cn,He,$t]),WJ({...ie,delta:H,draggingRect:nn,pointerCoordinates:Zt,scrollableAncestors:He,scrollableAncestorRects:Re});const Qt=x.useMemo(()=>({active:z,activeNode:ee,activeNodeRect:re,activatorEvent:F,collisions:Ft,containerNodeRect:he,dragOverlay:be,draggableNodes:O,droppableContainers:Y,droppableRects:W,over:Cn,measureDroppableContainers:$,scrollableAncestors:He,scrollableAncestorRects:Re,measuringConfiguration:B,measuringScheduled:q,windowRect:qe}),[z,ee,re,F,Ft,he,be,O,Y,W,Cn,$,He,Re,B,q,qe]),ta=x.useMemo(()=>({activatorEvent:F,activators:fs,active:z,activeNodeRect:re,ariaDescribedById:{draggable:ae},dispatch:S,draggableNodes:O,over:Cn,measureDroppableContainers:$}),[F,fs,z,re,S,ae,O,Cn,$]);return ve.createElement(EP.Provider,{value:A},ve.createElement(Mx.Provider,{value:ta},ve.createElement(FP.Provider,{value:Qt},ve.createElement(VP.Provider,{value:Ps},f)),ve.createElement(bee,{disabled:(u==null?void 0:u.restoreFocus)===!1})),ve.createElement(wJ,{...u,hiddenTextDescribedById:ae}));function Os(){const Ct=(ne==null?void 0:ne.autoScrollEnabled)===!1,sn=typeof h=="object"?h.enabled===!1:h===!1,Ve=M&&!Ct&&!sn;return typeof h=="object"?{...h,enabled:Ve}:{enabled:Ve}}}),Nee=x.createContext(null),lA="button",See="Draggable";function kee(t){let{id:e,data:n,disabled:a=!1,attributes:i}=t;const o=Jf(See),{activators:c,activatorEvent:u,active:h,activeNodeRect:f,ariaDescribedById:p,draggableNodes:g,over:v}=x.useContext(Mx),{role:y=lA,roleDescription:w="draggable",tabIndex:j=0}=i??{},k=(h==null?void 0:h.id)===e,S=x.useContext(k?VP:Nee),[E,A]=Sg(),[T,_]=Sg(),M=cee(c,e),P=gf(n);Si(()=>(g.set(e,{id:e,key:o,node:E,activatorNode:T,data:P}),()=>{const H=g.get(e);H&&H.key===o&&g.delete(e)}),[g,e]);const O=x.useMemo(()=>({role:y,tabIndex:j,"aria-disabled":a,"aria-pressed":k&&y===lA?!0:void 0,"aria-roledescription":w,"aria-describedby":p.draggable}),[a,y,j,k,w,p.draggable]);return{active:h,activatorEvent:u,activeNodeRect:f,attributes:O,isDragging:k,listeners:a?void 0:M,node:E,over:v,setNodeRef:A,setActivatorNodeRef:_,transform:S}}function Eee(){return x.useContext(FP)}const Aee="Droppable",Cee={timeout:25};function Tee(t){let{data:e,disabled:n=!1,id:a,resizeObserverConfig:i}=t;const o=Jf(Aee),{active:c,dispatch:u,over:h,measureDroppableContainers:f}=x.useContext(Mx),p=x.useRef({disabled:n}),g=x.useRef(!1),v=x.useRef(null),y=x.useRef(null),{disabled:w,updateMeasurementsFor:j,timeout:k}={...Cee,...i},S=gf(j??a),E=x.useCallback(()=>{if(!g.current){g.current=!0;return}y.current!=null&&clearTimeout(y.current),y.current=setTimeout(()=>{f(Array.isArray(S.current)?S.current:[S.current]),y.current=null},k)},[k]),A=Dx({callback:E,disabled:w||!c}),T=x.useCallback((O,H)=>{A&&(H&&(A.unobserve(H),g.current=!1),O&&A.observe(O))},[A]),[_,M]=Sg(T),P=gf(e);return x.useEffect(()=>{!A||!_.current||(A.disconnect(),g.current=!1,A.observe(_.current))},[_,A]),x.useEffect(()=>(u({type:os.RegisterDroppable,element:{id:a,key:o,disabled:n,node:_,rect:v,data:P}}),()=>u({type:os.UnregisterDroppable,key:o,id:a})),[a]),x.useEffect(()=>{n!==p.current.disabled&&(u({type:os.SetDroppableDisabled,id:a,key:o,disabled:n}),p.current.disabled=n)},[a,o,n,u]),{active:c,rect:v,isOver:(h==null?void 0:h.id)===a,node:_,over:h,setNodeRef:M}}function Au(t,e,n){const a=t.slice();return a.splice(n<0?a.length+n:n,0,a.splice(e,1)[0]),a}function _ee(t,e){return t.reduce((n,a,i)=>{const o=e.get(a);return o&&(n[i]=o),n},Array(t.length))}function Tp(t){return t!==null&&t>=0}function Ree(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Dee(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const HP=t=>{let{rects:e,activeIndex:n,overIndex:a,index:i}=t;const o=Au(e,a,n),c=e[i],u=o[i];return!u||!c?null:{x:u.left-c.left,y:u.top-c.top,scaleX:u.width/c.width,scaleY:u.height/c.height}},_p={scaleX:1,scaleY:1},GP=t=>{var e;let{activeIndex:n,activeNodeRect:a,index:i,rects:o,overIndex:c}=t;const u=(e=o[n])!=null?e:a;if(!u)return null;if(i===n){const f=o[c];return f?{x:0,y:n<c?f.top+f.height-(u.top+u.height):f.top-u.top,..._p}:null}const h=Mee(o,i,n);return i>n&&i<=c?{x:0,y:-u.height-h,..._p}:i<n&&i>=c?{x:0,y:u.height+h,..._p}:{x:0,y:0,..._p}};function Mee(t,e,n){const a=t[e],i=t[e-1],o=t[e+1];return a?n<e?i?a.top-(i.top+i.height):o?o.top-(a.top+a.height):0:o?o.top-(a.top+a.height):i?a.top-(i.top+i.height):0:0}const KP="Sortable",YP=ve.createContext({activeIndex:-1,containerId:KP,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:HP,disabled:{draggable:!1,droppable:!1}});function XP(t){let{children:e,id:n,items:a,strategy:i=HP,disabled:o=!1}=t;const{active:c,dragOverlay:u,droppableRects:h,over:f,measureDroppableContainers:p}=Eee(),g=Jf(KP,n),v=u.rect!==null,y=x.useMemo(()=>a.map(M=>typeof M=="object"&&"id"in M?M.id:M),[a]),w=c!=null,j=c?y.indexOf(c.id):-1,k=f?y.indexOf(f.id):-1,S=x.useRef(y),E=!Ree(y,S.current),A=k!==-1&&j===-1||E,T=Dee(o);Si(()=>{E&&w&&p(y)},[E,y,w,p]),x.useEffect(()=>{S.current=y},[y]);const _=x.useMemo(()=>({activeIndex:j,containerId:g,disabled:T,disableTransforms:A,items:y,overIndex:k,useDragOverlay:v,sortedRects:_ee(y,h),strategy:i}),[j,g,T.draggable,T.droppable,A,y,k,h,v,i]);return ve.createElement(YP.Provider,{value:_},e)}const Pee=t=>{let{id:e,items:n,activeIndex:a,overIndex:i}=t;return Au(n,a,i).indexOf(e)},Oee=t=>{let{containerId:e,isSorting:n,wasDragging:a,index:i,items:o,newIndex:c,previousItems:u,previousContainerId:h,transition:f}=t;return!f||!a||u!==o&&i===c?!1:n?!0:c!==i&&e===h},Lee={duration:200,easing:"ease"},WP="transform",Iee=nd.Transition.toString({property:WP,duration:0,easing:"linear"}),Bee={roleDescription:"sortable"};function zee(t){let{disabled:e,index:n,node:a,rect:i}=t;const[o,c]=x.useState(null),u=x.useRef(n);return Si(()=>{if(!e&&n!==u.current&&a.current){const h=i.current;if(h){const f=xd(a.current,{ignoreTransform:!0}),p={x:h.left-f.left,y:h.top-f.top,scaleX:h.width/f.width,scaleY:h.height/f.height};(p.x||p.y)&&c(p)}}n!==u.current&&(u.current=n)},[e,n,a,i]),x.useEffect(()=>{o&&c(null)},[o]),o}function ZP(t){let{animateLayoutChanges:e=Oee,attributes:n,disabled:a,data:i,getNewIndex:o=Pee,id:c,strategy:u,resizeObserverConfig:h,transition:f=Lee}=t;const{items:p,containerId:g,activeIndex:v,disabled:y,disableTransforms:w,sortedRects:j,overIndex:k,useDragOverlay:S,strategy:E}=x.useContext(YP),A=Uee(a,y),T=p.indexOf(c),_=x.useMemo(()=>({sortable:{containerId:g,index:T,items:p},...i}),[g,i,T,p]),M=x.useMemo(()=>p.slice(p.indexOf(c)),[p,c]),{rect:P,node:O,isOver:H,setNodeRef:Y}=Tee({id:c,data:_,disabled:A.droppable,resizeObserverConfig:{updateMeasurementsFor:M,...h}}),{active:R,activatorEvent:X,activeNodeRect:z,attributes:Q,setNodeRef:ne,listeners:L,isDragging:F,over:V,setActivatorNodeRef:K,transform:ae}=kee({id:c,data:_,attributes:{...Bee,...n},disabled:A.draggable}),G=cJ(Y,ne),B=!!R,W=B&&!w&&Tp(v)&&Tp(k),$=!S&&F,q=$&&W?ae:null,te=W?q??(u??E)({rects:j,activeNodeRect:z,activeIndex:v,overIndex:k,index:T}):null,ie=Tp(v)&&Tp(k)?o({id:c,items:p,activeIndex:v,overIndex:k}):T,de=R==null?void 0:R.id,re=x.useRef({activeId:de,items:p,newIndex:ie,containerId:g}),he=p!==re.current.items,ce=e({active:R,containerId:g,isDragging:F,isSorting:B,id:c,index:T,items:p,newIndex:re.current.newIndex,previousItems:re.current.items,previousContainerId:re.current.containerId,transition:f,wasDragging:re.current.activeId!=null}),Ee=zee({disabled:!ce,index:T,node:O,rect:P});return x.useEffect(()=>{B&&re.current.newIndex!==ie&&(re.current.newIndex=ie),g!==re.current.containerId&&(re.current.containerId=g),p!==re.current.items&&(re.current.items=p)},[B,ie,g,p]),x.useEffect(()=>{if(de===re.current.activeId)return;if(de!=null&&re.current.activeId==null){re.current.activeId=de;return}const De=setTimeout(()=>{re.current.activeId=de},50);return()=>clearTimeout(De)},[de]),{active:R,activeIndex:v,attributes:Q,data:_,rect:P,index:T,newIndex:ie,items:p,isOver:H,isSorting:B,isDragging:F,listeners:L,node:O,overIndex:k,over:V,setNodeRef:G,setActivatorNodeRef:K,setDroppableNodeRef:Y,setDraggableNodeRef:ne,transform:Ee??te,transition:be()};function be(){if(Ee||he&&re.current.newIndex===T)return Iee;if(!($&&!R1(X)||!f)&&(B||ce))return nd.Transition.toString({...f,property:WP})}}function Uee(t,e){var n,a;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(a=t==null?void 0:t.droppable)!=null?a:e.droppable}}function Cg(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const $ee=[Dt.Down,Dt.Right,Dt.Up,Dt.Left],QP=(t,e)=>{let{context:{active:n,collisionRect:a,droppableRects:i,droppableContainers:o,over:c,scrollableAncestors:u}}=e;if($ee.includes(t.code)){if(t.preventDefault(),!n||!a)return;const h=[];o.getEnabled().forEach(g=>{if(!g||g!=null&&g.disabled)return;const v=i.get(g.id);if(v)switch(t.code){case Dt.Down:a.top<v.top&&h.push(g);break;case Dt.Up:a.top>v.top&&h.push(g);break;case Dt.Left:a.left>v.left&&h.push(g);break;case Dt.Right:a.left<v.left&&h.push(g);break}});const f=SJ({collisionRect:a,droppableRects:i,droppableContainers:h});let p=_P(f,"id");if(p===(c==null?void 0:c.id)&&f.length>1&&(p=f[1].id),p!=null){const g=o.get(n.id),v=o.get(p),y=v?i.get(v.id):null,w=v==null?void 0:v.node.current;if(w&&y&&g&&v){const k=Tx(w).some((M,P)=>u[P]!==M),S=JP(g,v),E=Fee(g,v),A=k||!S?{x:0,y:0}:{x:E?a.width-y.width:0,y:E?a.height-y.height:0},T={x:y.left,y:y.top};return A.x&&A.y?T:xf(T,A)}}}};function JP(t,e){return!Cg(t)||!Cg(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function Fee(t,e){return!Cg(t)||!Cg(e)||!JP(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const Vee=Ws({aspect_name:ct().min(1,"Nama aspek wajib diisi").max(255,"Nama aspek maksimal 255 karakter"),category_id:to().min(1,"Kategori wajib dipilih"),description:ct().optional().or(ys("")),display_order:to().optional()}),Ny=({aspect:t,categories:e,isEditing:n,onEdit:a,onCancel:i,onSave:o,onDelete:c,loading:u=!1,defaultCategoryId:h,questionNumber:f,isEditMode:p=!1,isDragMode:g=!1})=>{const v=!t,{attributes:y,listeners:w,setNodeRef:j,transform:k,transition:S,isDragging:E}=ZP({id:(t==null?void 0:t.id)||0,disabled:!g||n}),A={transform:nd.Transform.toString(k),transition:S,opacity:E?.5:1},T=js({resolver:ws(Vee),defaultValues:{aspect_name:(t==null?void 0:t.aspect_name)||"",category_id:(t==null?void 0:t.category_id)||h||0,description:(t==null?void 0:t.description)||"",display_order:(t==null?void 0:t.display_order)||1}});x.useEffect(()=>{t&&n?T.reset({aspect_name:t.aspect_name,category_id:t.category_id,description:t.description||"",display_order:t.display_order||1}):v&&h&&T.reset({aspect_name:"",category_id:h,description:"",display_order:1})},[t,n,v,h,T]);const _=P=>{const O={aspect_name:P.aspect_name,category_id:P.category_id,description:P.description||void 0,display_order:P.display_order||1,is_active:!0};o(O)},M=()=>{t&&c&&c(t)};return!n&&!v?s.jsxs("div",{ref:j,style:A,className:"group bg-card border rounded-lg p-6 hover:shadow-md transition-shadow relative",children:[p&&g&&s.jsx("div",{...y,...w,className:"absolute left-2 top-6 opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing",children:s.jsx(U_,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{className:"flex flex-col lg:flex-row items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-primary",children:f||"?"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-normal mb-2",children:t==null?void 0:t.aspect_name}),(t==null?void 0:t.description)&&s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:t.description}),s.jsx("div",{className:"inline-flex items-center px-2 py-1 bg-muted rounded text-xs text-muted-foreground",children:"Tipe: Pilihan Ganda (A-D)"})]}),p&&s.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx(pe,{variant:"ghost",size:"sm",onClick:a,className:"h-8 w-8 p-0",children:s.jsx(Wo,{className:"h-4 w-4"})}),c&&s.jsx(pe,{variant:"ghost",size:"sm",onClick:M,className:"h-8 w-8 p-0 hover:bg-destructive/10 hover:text-destructive",children:s.jsx(dg,{className:"h-4 w-4"})})]})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded-md hover:bg-muted/30",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-primary rounded-full"}),s.jsx("span",{className:"text-sm",children:"A - Sangat Baik (4)"})]}),s.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded-md hover:bg-muted/30",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-border rounded-full"}),s.jsx("span",{className:"text-sm",children:"B - Baik (3)"})]}),s.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded-md hover:bg-muted/30",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-border rounded-full"}),s.jsx("span",{className:"text-sm",children:"C - Cukup (2)"})]}),s.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded-md hover:bg-muted/30",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-border rounded-full"}),s.jsx("span",{className:"text-sm",children:"D - Perlu Perbaikan (1)"})]})]})]})]})]}):s.jsx("div",{className:"bg-card border-2 border-primary/30 rounded-lg p-6 shadow-md",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary/20 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-primary",children:f||"N"})}),s.jsx("div",{className:"flex-1",children:s.jsx(Hn,{...T,children:s.jsxs("form",{onSubmit:T.handleSubmit(_),className:"space-y-6",children:[s.jsx(Ue,{control:T.control,name:"aspect_name",render:({field:P})=>s.jsxs($e,{children:[s.jsx(ze,{children:s.jsx(at,{placeholder:"Pertanyaan tanpa judul",className:"text-lg font-normal border-0 border-b-2 border-border rounded-none px-0 py-3 focus:border-primary bg-transparent",...P})}),s.jsx(Ke,{className:"text-sm mt-1"})]})}),s.jsx(Ue,{control:T.control,name:"description",render:({field:P})=>s.jsxs($e,{children:[s.jsx(ze,{children:s.jsx(vr,{placeholder:"Deskripsi pertanyaan (opsional)",className:"border-0 border-b border-border rounded-none px-0 py-2 resize-none focus:border-primary bg-transparent",rows:2,...P})}),s.jsx(Ke,{className:"text-sm mt-1"})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Tipe jawaban: Skala Penilaian"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-muted/50 border rounded-md",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-primary rounded-full bg-primary"}),s.jsx("span",{className:"text-sm",children:"A - Sangat Baik (4)"})]}),s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-muted/30 border rounded-md",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-border rounded-full"}),s.jsx("span",{className:"text-sm",children:"B - Baik (3)"})]}),s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-muted/30 border rounded-md",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-border rounded-full"}),s.jsx("span",{className:"text-sm",children:"C - Cukup (2)"})]}),s.jsxs("div",{className:"flex items-center space-x-2 p-2 bg-muted/30 border rounded-md",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-border rounded-full"}),s.jsx("span",{className:"text-sm",children:"D - Perlu Perbaikan (1)"})]})]})]}),s.jsx(Ue,{control:T.control,name:"category_id",render:({field:P})=>{var O;return s.jsxs($e,{children:[s.jsx(Fe,{className:"text-sm font-medium",children:"Bagian"}),s.jsxs(zt,{onValueChange:H=>P.onChange(parseInt(H)),value:((O=P.value)==null?void 0:O.toString())||void 0,children:[s.jsx(ze,{children:s.jsx(Pt,{children:s.jsx(Ut,{placeholder:"Pilih bagian"})})}),s.jsx(Ot,{children:e.map(H=>s.jsx(Ie,{value:H.id.toString(),children:H.name},H.id))})]}),s.jsx(Ke,{className:"text-sm mt-1"})]})}}),s.jsx("div",{className:"flex items-center justify-between pt-4 border-t",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{type:"submit",disabled:u,children:[s.jsx(I_,{className:"h-4 w-4 mr-2"}),u?"Menyimpan...":"Selesai"]}),s.jsxs(pe,{type:"button",variant:"ghost",onClick:i,disabled:u,children:[s.jsx(hg,{className:"h-4 w-4 mr-2"}),"Batal"]})]})})]})})})]})})},eO=x.createContext({});function qee(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const P1=typeof window<"u",Hee=P1?x.useLayoutEffect:x.useEffect,O1=x.createContext(null),tO=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Gee(t=!0){const e=x.useContext(O1);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:a,register:i}=e,o=x.useId();x.useEffect(()=>{if(t)return i(o)},[t]);const c=x.useCallback(()=>t&&a&&a(o),[o,a,t]);return!n&&a?[!1,c]:[!0]}function L1(t,e){t.indexOf(e)===-1&&t.push(e)}function I1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const oo=(t,e,n)=>n>e?e:n<t?t:n;let B1=()=>{};const lo={},nO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),sO=t=>/^0[^.\s]+$/u.test(t);function z1(t){let e;return()=>(e===void 0&&(e=t()),e)}const dr=t=>t,Kee=(t,e)=>n=>e(t(n)),em=(...t)=>t.reduce(Kee),bf=(t,e,n)=>{const a=e-t;return a===0?1:(n-t)/a};class U1{constructor(){this.subscriptions=[]}add(e){return L1(this.subscriptions,e),()=>I1(this.subscriptions,e)}notify(e,n,a){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,a);else for(let o=0;o<i;o++){const c=this.subscriptions[o];c&&c(e,n,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xi=t=>t*1e3,vi=t=>t/1e3;function aO(t,e){return e?t*(1e3/e):0}const rO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Yee=1e-7,Xee=12;function Wee(t,e,n,a,i){let o,c,u=0;do c=e+(n-e)/2,o=rO(c,a,i)-t,o>0?n=c:e=c;while(Math.abs(o)>Yee&&++u<Xee);return c}function tm(t,e,n,a){if(t===e&&n===a)return dr;const i=o=>Wee(o,0,1,t,n);return o=>o===0||o===1?o:rO(i(o),e,a)}const iO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,oO=t=>e=>1-t(1-e),lO=tm(.33,1.53,.69,.99),$1=oO(lO),cO=iO($1),uO=t=>(t*=2)<1?.5*$1(t):.5*(2-Math.pow(2,-10*(t-1))),F1=t=>1-Math.sin(Math.acos(t)),dO=oO(F1),hO=iO(F1),Zee=tm(.42,0,1,1),Qee=tm(0,0,.58,1),fO=tm(.42,0,.58,1),Jee=t=>Array.isArray(t)&&typeof t[0]!="number",mO=t=>Array.isArray(t)&&typeof t[0]=="number",ete={linear:dr,easeIn:Zee,easeInOut:fO,easeOut:Qee,circIn:F1,circInOut:hO,circOut:dO,backIn:$1,backInOut:cO,backOut:lO,anticipate:uO},tte=t=>typeof t=="string",cA=t=>{if(mO(t)){B1(t.length===4);const[e,n,a,i]=t;return tm(e,n,a,i)}else if(tte(t))return ete[t];return t},Rp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],uA={value:null};function nte(t,e){let n=new Set,a=new Set,i=!1,o=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1},h=0;function f(g){c.has(g)&&(p.schedule(g),t()),h++,g(u)}const p={schedule:(g,v=!1,y=!1)=>{const j=y&&i?n:a;return v&&c.add(g),j.has(g)||j.add(g),g},cancel:g=>{a.delete(g),c.delete(g)},process:g=>{if(u=g,i){o=!0;return}i=!0,[n,a]=[a,n],n.forEach(f),e&&uA.value&&uA.value.frameloop[e].push(h),h=0,n.clear(),i=!1,o&&(o=!1,p.process(g))}};return p}const ste=40;function pO(t,e){let n=!1,a=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,c=Rp.reduce((A,T)=>(A[T]=nte(o,e?T:void 0),A),{}),{setup:u,read:h,resolveKeyframes:f,preUpdate:p,update:g,preRender:v,render:y,postRender:w}=c,j=()=>{const A=lo.useManualTiming?i.timestamp:performance.now();n=!1,lo.useManualTiming||(i.delta=a?1e3/60:Math.max(Math.min(A-i.timestamp,ste),1)),i.timestamp=A,i.isProcessing=!0,u.process(i),h.process(i),f.process(i),p.process(i),g.process(i),v.process(i),y.process(i),w.process(i),i.isProcessing=!1,n&&e&&(a=!1,t(j))},k=()=>{n=!0,a=!0,i.isProcessing||t(j)};return{schedule:Rp.reduce((A,T)=>{const _=c[T];return A[T]=(M,P=!1,O=!1)=>(n||k(),_.schedule(M,P,O)),A},{}),cancel:A=>{for(let T=0;T<Rp.length;T++)c[Rp[T]].cancel(A)},state:i,steps:c}}const{schedule:En,cancel:hl,state:_s,steps:Sy}=pO(typeof requestAnimationFrame<"u"?requestAnimationFrame:dr,!0);let Qp;function ate(){Qp=void 0}const ma={now:()=>(Qp===void 0&&ma.set(_s.isProcessing||lo.useManualTiming?_s.timestamp:performance.now()),Qp),set:t=>{Qp=t,queueMicrotask(ate)}},gO=t=>e=>typeof e=="string"&&e.startsWith(t),V1=gO("--"),rte=gO("var(--"),q1=t=>rte(t)?ite.test(t.split("/*")[0].trim()):!1,ite=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vd={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},yf={...vd,transform:t=>oo(0,1,t)},Dp={...vd,default:1},Gh=t=>Math.round(t*1e5)/1e5,H1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ote(t){return t==null}const lte=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,G1=(t,e)=>n=>!!(typeof n=="string"&&lte.test(n)&&n.startsWith(t)||e&&!ote(n)&&Object.prototype.hasOwnProperty.call(n,e)),xO=(t,e,n)=>a=>{if(typeof a!="string")return a;const[i,o,c,u]=a.match(H1);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},cte=t=>oo(0,255,t),ky={...vd,transform:t=>Math.round(cte(t))},Wl={test:G1("rgb","red"),parse:xO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:a=1})=>"rgba("+ky.transform(t)+", "+ky.transform(e)+", "+ky.transform(n)+", "+Gh(yf.transform(a))+")"};function ute(t){let e="",n="",a="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),a=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),a=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,a+=a,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(a,16),alpha:i?parseInt(i,16)/255:1}}const $0={test:G1("#"),parse:ute,transform:Wl.transform},nm=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ho=nm("deg"),bi=nm("%"),mt=nm("px"),dte=nm("vh"),hte=nm("vw"),dA={...bi,parse:t=>bi.parse(t)/100,transform:t=>bi.transform(t*100)},Cu={test:G1("hsl","hue"),parse:xO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:a=1})=>"hsla("+Math.round(t)+", "+bi.transform(Gh(e))+", "+bi.transform(Gh(n))+", "+Gh(yf.transform(a))+")"},Us={test:t=>Wl.test(t)||$0.test(t)||Cu.test(t),parse:t=>Wl.test(t)?Wl.parse(t):Cu.test(t)?Cu.parse(t):$0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Wl.transform(t):Cu.transform(t)},fte=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mte(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(H1))==null?void 0:e.length)||0)+(((n=t.match(fte))==null?void 0:n.length)||0)>0}const vO="number",bO="color",pte="var",gte="var(",hA="${}",xte=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jf(t){const e=t.toString(),n=[],a={color:[],number:[],var:[]},i=[];let o=0;const u=e.replace(xte,h=>(Us.test(h)?(a.color.push(o),i.push(bO),n.push(Us.parse(h))):h.startsWith(gte)?(a.var.push(o),i.push(pte),n.push(h)):(a.number.push(o),i.push(vO),n.push(parseFloat(h))),++o,hA)).split(hA);return{values:n,split:u,indexes:a,types:i}}function yO(t){return jf(t).values}function jO(t){const{split:e,types:n}=jf(t),a=e.length;return i=>{let o="";for(let c=0;c<a;c++)if(o+=e[c],i[c]!==void 0){const u=n[c];u===vO?o+=Gh(i[c]):u===bO?o+=Us.transform(i[c]):o+=i[c]}return o}}const vte=t=>typeof t=="number"?0:t;function bte(t){const e=yO(t);return jO(t)(e.map(vte))}const fl={test:mte,parse:yO,createTransformer:jO,getAnimatableNone:bte};function Ey(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function yte({hue:t,saturation:e,lightness:n,alpha:a}){t/=360,e/=100,n/=100;let i=0,o=0,c=0;if(!e)i=o=c=n;else{const u=n<.5?n*(1+e):n+e-n*e,h=2*n-u;i=Ey(h,u,t+1/3),o=Ey(h,u,t),c=Ey(h,u,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:a}}function Tg(t,e){return n=>n>0?e:t}const Sn=(t,e,n)=>t+(e-t)*n,Ay=(t,e,n)=>{const a=t*t,i=n*(e*e-a)+a;return i<0?0:Math.sqrt(i)},jte=[$0,Wl,Cu],wte=t=>jte.find(e=>e.test(t));function fA(t){const e=wte(t);if(!e)return!1;let n=e.parse(t);return e===Cu&&(n=yte(n)),n}const mA=(t,e)=>{const n=fA(t),a=fA(e);if(!n||!a)return Tg(t,e);const i={...n};return o=>(i.red=Ay(n.red,a.red,o),i.green=Ay(n.green,a.green,o),i.blue=Ay(n.blue,a.blue,o),i.alpha=Sn(n.alpha,a.alpha,o),Wl.transform(i))},F0=new Set(["none","hidden"]);function Nte(t,e){return F0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Ste(t,e){return n=>Sn(t,e,n)}function K1(t){return typeof t=="number"?Ste:typeof t=="string"?q1(t)?Tg:Us.test(t)?mA:Ate:Array.isArray(t)?wO:typeof t=="object"?Us.test(t)?mA:kte:Tg}function wO(t,e){const n=[...t],a=n.length,i=t.map((o,c)=>K1(o)(o,e[c]));return o=>{for(let c=0;c<a;c++)n[c]=i[c](o);return n}}function kte(t,e){const n={...t,...e},a={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(a[i]=K1(t[i])(t[i],e[i]));return i=>{for(const o in a)n[o]=a[o](i);return n}}function Ete(t,e){const n=[],a={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],c=t.indexes[o][a[o]],u=t.values[c]??0;n[i]=u,a[o]++}return n}const Ate=(t,e)=>{const n=fl.createTransformer(e),a=jf(t),i=jf(e);return a.indexes.var.length===i.indexes.var.length&&a.indexes.color.length===i.indexes.color.length&&a.indexes.number.length>=i.indexes.number.length?F0.has(t)&&!i.values.length||F0.has(e)&&!a.values.length?Nte(t,e):em(wO(Ete(a,i),i.values),n):Tg(t,e)};function NO(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Sn(t,e,n):K1(t)(t,e)}const Cte=t=>{const e=({timestamp:n})=>t(n);return{start:()=>En.update(e,!0),stop:()=>hl(e),now:()=>_s.isProcessing?_s.timestamp:ma.now()}},SO=(t,e,n=10)=>{let a="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)a+=t(o/(i-1))+", ";return`linear(${a.substring(0,a.length-2)})`},_g=2e4;function Y1(t){let e=0;const n=50;let a=t.next(e);for(;!a.done&&e<_g;)e+=n,a=t.next(e);return e>=_g?1/0:e}function Tte(t,e=100,n){const a=n({...t,keyframes:[0,e]}),i=Math.min(Y1(a),_g);return{type:"keyframes",ease:o=>a.next(i*o).value/e,duration:vi(i)}}const _te=5;function kO(t,e,n){const a=Math.max(e-_te,0);return aO(n-t(a),e-a)}const Pn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pA=.001;function Rte({duration:t=Pn.duration,bounce:e=Pn.bounce,velocity:n=Pn.velocity,mass:a=Pn.mass}){let i,o,c=1-e;c=oo(Pn.minDamping,Pn.maxDamping,c),t=oo(Pn.minDuration,Pn.maxDuration,vi(t)),c<1?(i=f=>{const p=f*c,g=p*t,v=p-n,y=V0(f,c),w=Math.exp(-g);return pA-v/y*w},o=f=>{const g=f*c*t,v=g*n+n,y=Math.pow(c,2)*Math.pow(f,2)*t,w=Math.exp(-g),j=V0(Math.pow(f,2),c);return(-i(f)+pA>0?-1:1)*((v-y)*w)/j}):(i=f=>{const p=Math.exp(-f*t),g=(f-n)*t+1;return-.001+p*g},o=f=>{const p=Math.exp(-f*t),g=(n-f)*(t*t);return p*g});const u=5/t,h=Mte(i,o,u);if(t=xi(t),isNaN(h))return{stiffness:Pn.stiffness,damping:Pn.damping,duration:t};{const f=Math.pow(h,2)*a;return{stiffness:f,damping:c*2*Math.sqrt(a*f),duration:t}}}const Dte=12;function Mte(t,e,n){let a=n;for(let i=1;i<Dte;i++)a=a-t(a)/e(a);return a}function V0(t,e){return t*Math.sqrt(1-e*e)}const Pte=["duration","bounce"],Ote=["stiffness","damping","mass"];function gA(t,e){return e.some(n=>t[n]!==void 0)}function Lte(t){let e={velocity:Pn.velocity,stiffness:Pn.stiffness,damping:Pn.damping,mass:Pn.mass,isResolvedFromDuration:!1,...t};if(!gA(t,Ote)&&gA(t,Pte))if(t.visualDuration){const n=t.visualDuration,a=2*Math.PI/(n*1.2),i=a*a,o=2*oo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Pn.mass,stiffness:i,damping:o}}else{const n=Rte(t);e={...e,...n,mass:Pn.mass},e.isResolvedFromDuration=!0}return e}function Rg(t=Pn.visualDuration,e=Pn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:a,restDelta:i}=n;const o=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],u={done:!1,value:o},{stiffness:h,damping:f,mass:p,duration:g,velocity:v,isResolvedFromDuration:y}=Lte({...n,velocity:-vi(n.velocity||0)}),w=v||0,j=f/(2*Math.sqrt(h*p)),k=c-o,S=vi(Math.sqrt(h/p)),E=Math.abs(k)<5;a||(a=E?Pn.restSpeed.granular:Pn.restSpeed.default),i||(i=E?Pn.restDelta.granular:Pn.restDelta.default);let A;if(j<1){const _=V0(S,j);A=M=>{const P=Math.exp(-j*S*M);return c-P*((w+j*S*k)/_*Math.sin(_*M)+k*Math.cos(_*M))}}else if(j===1)A=_=>c-Math.exp(-S*_)*(k+(w+S*k)*_);else{const _=S*Math.sqrt(j*j-1);A=M=>{const P=Math.exp(-j*S*M),O=Math.min(_*M,300);return c-P*((w+j*S*k)*Math.sinh(O)+_*k*Math.cosh(O))/_}}const T={calculatedDuration:y&&g||null,next:_=>{const M=A(_);if(y)u.done=_>=g;else{let P=_===0?w:0;j<1&&(P=_===0?xi(w):kO(A,_,M));const O=Math.abs(P)<=a,H=Math.abs(c-M)<=i;u.done=O&&H}return u.value=u.done?c:M,u},toString:()=>{const _=Math.min(Y1(T),_g),M=SO(P=>T.next(_*P).value,_,30);return _+"ms "+M},toTransition:()=>{}};return T}Rg.applyToOptions=t=>{const e=Tte(t,100,Rg);return t.ease=e.ease,t.duration=xi(e.duration),t.type="keyframes",t};function q0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:a=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:c,min:u,max:h,restDelta:f=.5,restSpeed:p}){const g=t[0],v={done:!1,value:g},y=O=>u!==void 0&&O<u||h!==void 0&&O>h,w=O=>u===void 0?h:h===void 0||Math.abs(u-O)<Math.abs(h-O)?u:h;let j=n*e;const k=g+j,S=c===void 0?k:c(k);S!==k&&(j=S-g);const E=O=>-j*Math.exp(-O/a),A=O=>S+E(O),T=O=>{const H=E(O),Y=A(O);v.done=Math.abs(H)<=f,v.value=v.done?S:Y};let _,M;const P=O=>{y(v.value)&&(_=O,M=Rg({keyframes:[v.value,w(v.value)],velocity:kO(A,O,v.value),damping:i,stiffness:o,restDelta:f,restSpeed:p}))};return P(0),{calculatedDuration:null,next:O=>{let H=!1;return!M&&_===void 0&&(H=!0,T(O),P(O)),_!==void 0&&O>=_?M.next(O-_):(!H&&T(O),v)}}}function Ite(t,e,n){const a=[],i=n||lo.mix||NO,o=t.length-1;for(let c=0;c<o;c++){let u=i(t[c],t[c+1]);if(e){const h=Array.isArray(e)?e[c]||dr:e;u=em(h,u)}a.push(u)}return a}function Bte(t,e,{clamp:n=!0,ease:a,mixer:i}={}){const o=t.length;if(B1(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const c=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=Ite(e,a,i),h=u.length,f=p=>{if(c&&p<t[0])return e[0];let g=0;if(h>1)for(;g<t.length-2&&!(p<t[g+1]);g++);const v=bf(t[g],t[g+1],p);return u[g](v)};return n?p=>f(oo(t[0],t[o-1],p)):f}function zte(t,e){const n=t[t.length-1];for(let a=1;a<=e;a++){const i=bf(0,e,a);t.push(Sn(n,1,i))}}function Ute(t){const e=[0];return zte(e,t.length-1),e}function $te(t,e){return t.map(n=>n*e)}function Fte(t,e){return t.map(()=>e||fO).splice(0,t.length-1)}function Kh({duration:t=300,keyframes:e,times:n,ease:a="easeInOut"}){const i=Jee(a)?a.map(cA):cA(a),o={done:!1,value:e[0]},c=$te(n&&n.length===e.length?n:Ute(e),t),u=Bte(c,e,{ease:Array.isArray(i)?i:Fte(e,i)});return{calculatedDuration:t,next:h=>(o.value=u(h),o.done=h>=t,o)}}const Vte=t=>t!==null;function X1(t,{repeat:e,repeatType:n="loop"},a,i=1){const o=t.filter(Vte),u=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!u||a===void 0?o[u]:a}const qte={decay:q0,inertia:q0,tween:Kh,keyframes:Kh,spring:Rg};function EO(t){typeof t.type=="string"&&(t.type=qte[t.type])}class W1{constructor(){this.count=0,this.updateFinished()}get finished(){return this._finished}updateFinished(){this.count++,this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Hte=t=>t/100;class AO extends W1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;if(n&&n.updatedAt!==ma.now()&&this.tick(ma.now()),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:a}=this.options;a&&a()},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;EO(e);const{type:n=Kh,repeat:a=0,repeatDelay:i=0,repeatType:o,velocity:c=0}=e;let{keyframes:u}=e;const h=n||Kh;h!==Kh&&typeof u[0]!="number"&&(this.mixKeyframes=em(Hte,NO(u[0],u[1])),u=[0,100]);const f=h({...e,keyframes:u});o==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...u].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=Y1(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(a+1)-i,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:a,totalDuration:i,mixKeyframes:o,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:h}=this;if(this.startTime===null)return a.next(0);const{delay:f=0,keyframes:p,repeat:g,repeatType:v,repeatDelay:y,type:w,onUpdate:j,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const S=this.currentTime-f*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?S<0:S>i;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let A=this.currentTime,T=a;if(g){const O=Math.min(this.currentTime,i)/u;let H=Math.floor(O),Y=O%1;!Y&&O>=1&&(Y=1),Y===1&&H--,H=Math.min(H,g+1),!!(H%2)&&(v==="reverse"?(Y=1-Y,y&&(Y-=y/u)):v==="mirror"&&(T=c)),A=oo(0,1,Y)*u}const _=E?{done:!1,value:p[0]}:T.next(A);o&&(_.value=o(_.value));let{done:M}=_;!E&&h!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return P&&w!==q0&&(_.value=X1(p,this.options,k,this.speed)),j&&j(_.value),P&&this.finish(),_}then(e,n){return this.finished.then(e,n)}get duration(){return vi(this.calculatedDuration)}get time(){return vi(this.currentTime)}set time(e){e=xi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ma.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=vi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Cte,onPlay:n,startTime:a}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=a??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ma.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown()}teardown(){this.notifyFinished(),this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),e.observe(this)}}function Gte(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Zl=t=>t*180/Math.PI,H0=t=>{const e=Zl(Math.atan2(t[1],t[0]));return G0(e)},Kte={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:H0,rotateZ:H0,skewX:t=>Zl(Math.atan(t[1])),skewY:t=>Zl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},G0=t=>(t=t%360,t<0&&(t+=360),t),xA=H0,vA=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),bA=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Yte={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:vA,scaleY:bA,scale:t=>(vA(t)+bA(t))/2,rotateX:t=>G0(Zl(Math.atan2(t[6],t[5]))),rotateY:t=>G0(Zl(Math.atan2(-t[2],t[0]))),rotateZ:xA,rotate:xA,skewX:t=>Zl(Math.atan(t[4])),skewY:t=>Zl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function yA(t){return t.includes("scale")?1:0}function K0(t,e){if(!t||t==="none")return yA(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,i;if(n)a=Yte,i=n;else{const u=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=Kte,i=u}if(!i)return yA(e);const o=a[e],c=i[1].split(",").map(Wte);return typeof o=="function"?o(c):c[o]}const Xte=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return K0(n,e)};function Wte(t){return parseFloat(t.trim())}const bd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],yd=new Set(bd),jA=t=>t===vd||t===mt,Zte=new Set(["x","y","z"]),Qte=bd.filter(t=>!Zte.has(t));function Jte(t){const e=[];return Qte.forEach(n=>{const a=t.getValue(n);a!==void 0&&(e.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),e}const sd={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>K0(e,"x"),y:(t,{transform:e})=>K0(e,"y")};sd.translateX=sd.x;sd.translateY=sd.y;const Jl=new Set;let Y0=!1,X0=!1,W0=!1;function CO(){if(X0){const t=Array.from(Jl).filter(a=>a.needsMeasurement),e=new Set(t.map(a=>a.element)),n=new Map;e.forEach(a=>{const i=Jte(a);i.length&&(n.set(a,i),a.render())}),t.forEach(a=>a.measureInitialState()),e.forEach(a=>{a.render();const i=n.get(a);i&&i.forEach(([o,c])=>{var u;(u=a.getValue(o))==null||u.set(c)})}),t.forEach(a=>a.measureEndState()),t.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}X0=!1,Y0=!1,Jl.forEach(t=>t.complete(W0)),Jl.clear()}function TO(){Jl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(X0=!0)})}function ene(){W0=!0,TO(),CO(),W0=!1}class Z1{constructor(e,n,a,i,o,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=a,this.motionValue=i,this.element=o,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Jl.add(this),Y0||(Y0=!0,En.read(TO),En.resolveKeyframes(CO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:a,motionValue:i}=this;if(e[0]===null){const o=i==null?void 0:i.get(),c=e[e.length-1];if(o!==void 0)e[0]=o;else if(a&&n){const u=a.readValue(n,c);u!=null&&(e[0]=u)}e[0]===void 0&&(e[0]=c),i&&o===void 0&&i.set(e[0])}Gte(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Jl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Jl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const tne=t=>t.startsWith("--");function nne(t,e,n){tne(e)?t.style.setProperty(e,n):t.style[e]=n}const sne=z1(()=>window.ScrollTimeline!==void 0),ane={};function rne(t,e){const n=z1(t);return()=>ane[e]??n()}const _O=rne(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Mh=([t,e,n,a])=>`cubic-bezier(${t}, ${e}, ${n}, ${a})`,wA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Mh([0,.65,.55,1]),circOut:Mh([.55,0,1,.45]),backIn:Mh([.31,.01,.66,-.59]),backOut:Mh([.33,1.53,.69,.99])};function RO(t,e){if(t)return typeof t=="function"?_O()?SO(t,e):"ease-out":mO(t)?Mh(t):Array.isArray(t)?t.map(n=>RO(n,e)||wA.easeOut):wA[t]}function ine(t,e,n,{delay:a=0,duration:i=300,repeat:o=0,repeatType:c="loop",ease:u="easeOut",times:h}={},f=void 0){const p={[e]:n};h&&(p.offset=h);const g=RO(u,i);Array.isArray(g)&&(p.easing=g);const v={delay:a,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal"};return f&&(v.pseudoElement=f),t.animate(p,v)}function DO(t){return typeof t=="function"&&"applyToOptions"in t}function one({type:t,...e}){return DO(t)&&_O()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class lne extends W1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:a,keyframes:i,pseudoElement:o,allowFlatten:c=!1,finalKeyframe:u,onComplete:h}=e;this.isPseudoElement=!!o,this.allowFlatten=c,this.options=e,B1(typeof e.type!="string");const f=one(e);this.animation=ine(n,a,i,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=X1(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(p):nne(n,a,p),this.animation.cancel()}h==null||h(),this.notifyFinished()},this.animation.oncancel=()=>this.notifyFinished()}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,a;const e=((a=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:a.call(n).duration)||0;return vi(Number(e))}get time(){return vi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=xi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&sne()?(this.animation.timeline=e,dr):n(this)}}const MO={anticipate:uO,backInOut:cO,circInOut:hO};function cne(t){return t in MO}function une(t){typeof t.ease=="string"&&cne(t.ease)&&(t.ease=MO[t.ease])}const NA=10;class dne extends lne{constructor(e){une(e),EO(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:a,onComplete:i,element:o,...c}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const u=new AO({...c,autoplay:!1}),h=xi(this.finishedTime??this.time);n.setWithVelocity(u.sample(h-NA).value,u.sample(h).value,NA),u.stop()}}const SA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(fl.test(t)||t==="0")&&!t.startsWith("url("));function hne(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function fne(t,e,n,a){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],c=SA(i,e),u=SA(o,e);return!c||!u?!1:hne(t)||(n==="spring"||DO(n))&&a}const mne=new Set(["opacity","clipPath","filter","transform"]),pne=z1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function gne(t){const{motionValue:e,name:n,repeatDelay:a,repeatType:i,damping:o,type:c}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return pne()&&n&&mne.has(n)&&(n!=="transform"||!h)&&!u&&!a&&i!=="mirror"&&o!==0&&c!=="inertia"}const xne=40;class vne extends W1{constructor({autoplay:e=!0,delay:n=0,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:c="loop",keyframes:u,name:h,motionValue:f,element:p,...g}){var w;super(),this.stop=()=>{var j,k;this._animation?(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)):(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=ma.now();const v={autoplay:e,delay:n,type:a,repeat:i,repeatDelay:o,repeatType:c,name:h,motionValue:f,element:p,...g},y=(p==null?void 0:p.KeyframeResolver)||Z1;this.keyframeResolver=new y(u,(j,k,S)=>this.onKeyframesResolved(j,k,v,!S),h,f,p),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,n,a,i){this.keyframeResolver=void 0;const{name:o,type:c,velocity:u,delay:h,isHandoff:f,onUpdate:p}=a;this.resolvedAt=ma.now(),fne(e,o,c,u)||((lo.instantAnimations||!h)&&(p==null||p(X1(e,a,n))),e[0]=e[e.length-1],a.duration=0,a.repeat=0);const v={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>xne?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...a,keyframes:e},y=!f&&gne(v)?new dne({...v,element:v.motionValue.owner.current}):new AO(v);y.finished.then(()=>this.notifyFinished()).catch(dr),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||ene(),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this.animation.cancel()}}const bne=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yne(t){const e=bne.exec(t);if(!e)return[,];const[,n,a,i]=e;return[`--${n??a}`,i]}function PO(t,e,n=1){const[a,i]=yne(t);if(!a)return;const o=window.getComputedStyle(e).getPropertyValue(a);if(o){const c=o.trim();return nO(c)?parseFloat(c):c}return q1(i)?PO(i,e,n+1):i}function Q1(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const OO=new Set(["width","height","top","left","right","bottom",...bd]),jne={test:t=>t==="auto",parse:t=>t},LO=t=>e=>e.test(t),IO=[vd,mt,bi,Ho,hte,dte,jne],kA=t=>IO.find(LO(t));function wne(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||sO(t):!0}const Nne=new Set(["brightness","contrast","saturate","opacity"]);function Sne(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[a]=n.match(H1)||[];if(!a)return t;const i=n.replace(a,"");let o=Nne.has(e)?1:0;return a!==n&&(o*=100),e+"("+o+i+")"}const kne=/\b([a-z-]*)\(.*?\)/gu,Z0={...fl,getAnimatableNone:t=>{const e=t.match(kne);return e?e.map(Sne).join(" "):t}},EA={...vd,transform:Math.round},Ene={rotate:Ho,rotateX:Ho,rotateY:Ho,rotateZ:Ho,scale:Dp,scaleX:Dp,scaleY:Dp,scaleZ:Dp,skew:Ho,skewX:Ho,skewY:Ho,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:yf,originX:dA,originY:dA,originZ:mt},J1={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,radius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,top:mt,right:mt,bottom:mt,left:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,backgroundPositionX:mt,backgroundPositionY:mt,...Ene,zIndex:EA,fillOpacity:yf,strokeOpacity:yf,numOctaves:EA},Ane={...J1,color:Us,backgroundColor:Us,outlineColor:Us,fill:Us,stroke:Us,borderColor:Us,borderTopColor:Us,borderRightColor:Us,borderBottomColor:Us,borderLeftColor:Us,filter:Z0,WebkitFilter:Z0},BO=t=>Ane[t];function zO(t,e){let n=BO(t);return n!==Z0&&(n=fl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Cne=new Set(["auto","none","0"]);function Tne(t,e,n){let a=0,i;for(;a<t.length&&!i;){const o=t[a];typeof o=="string"&&!Cne.has(o)&&jf(o).values.length&&(i=t[a]),a++}if(i&&n)for(const o of e)t[o]=zO(n,i)}class _ne extends Z1{constructor(e,n,a,i,o){super(e,n,a,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:a}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),q1(f))){const p=PO(f,n.current);p!==void 0&&(e[h]=p),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!OO.has(a)||e.length!==2)return;const[i,o]=e,c=kA(i),u=kA(o);if(c!==u)if(jA(c)&&jA(u))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,a=[];for(let i=0;i<e.length;i++)(e[i]===null||wne(e[i]))&&a.push(i);a.length&&Tne(e,a,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:a}=this;if(!e||!e.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sd[a](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(a,i).jump(i,!1)}measureEndState(){var u;const{element:e,name:n,unresolvedKeyframes:a}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=a.length-1,c=a[o];a[o]=sd[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function Rne(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let a=document;const i=(n==null?void 0:n[t])??a.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const{schedule:ew}=pO(queueMicrotask,!1),_r={x:!1,y:!1};function UO(){return _r.x||_r.y}function Dne(t){return t==="x"||t==="y"?_r[t]?null:(_r[t]=!0,()=>{_r[t]=!1}):_r.x||_r.y?null:(_r.x=_r.y=!0,()=>{_r.x=_r.y=!1})}function $O(t,e){const n=Rne(t),a=new AbortController,i={passive:!0,...e,signal:a.signal};return[n,i,()=>a.abort()]}function AA(t){return!(t.pointerType==="touch"||UO())}function Mne(t,e,n={}){const[a,i,o]=$O(t,n),c=u=>{if(!AA(u))return;const{target:h}=u,f=e(h,u);if(typeof f!="function"||!h)return;const p=g=>{AA(g)&&(f(g),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,i)};return a.forEach(u=>{u.addEventListener("pointerenter",c,i)}),o}const FO=(t,e)=>e?t===e?!0:FO(t,e.parentElement):!1,tw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Pne=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function One(t){return Pne.has(t.tagName)||t.tabIndex!==-1}const Ph=new WeakSet;function CA(t){return e=>{e.key==="Enter"&&t(e)}}function Cy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Lne=(t,e)=>{const n=t.currentTarget;if(!n)return;const a=CA(()=>{if(Ph.has(n))return;Cy(n,"down");const i=CA(()=>{Cy(n,"up")}),o=()=>Cy(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",a,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",a),e)};function TA(t){return tw(t)&&!UO()}function Ine(t,e,n={}){const[a,i,o]=$O(t,n),c=u=>{const h=u.currentTarget;if(!TA(u)||Ph.has(h))return;Ph.add(h);const f=e(h,u),p=(y,w)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",v),!(!TA(y)||!Ph.has(h))&&(Ph.delete(h),typeof f=="function"&&f(y,{success:w}))},g=y=>{p(y,h===window||h===document||n.useGlobalTarget||FO(h,y.target))},v=y=>{p(y,!1)};window.addEventListener("pointerup",g,i),window.addEventListener("pointercancel",v,i)};return a.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",c,i),u instanceof HTMLElement&&(u.addEventListener("focus",f=>Lne(f,i)),!One(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),o}const _A=30,Bne=t=>!isNaN(parseFloat(t));class zne{constructor(e,n={}){this.version="12.9.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,i=!0)=>{var c,u;const o=ma.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current)),i&&((u=this.events.renderRequest)==null||u.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ma.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Bne(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new U1);const a=this.events[e].add(n);return e==="change"?()=>{a(),En.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,a){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-a}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ma.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>_A)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,_A);return aO(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e;(e=this.events.destroy)==null||e.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wf(t,e){return new zne(t,e)}const Une=[...IO,Us,fl],$ne=t=>Une.find(LO(t)),VO=(t,e)=>e&&typeof t=="number"?e.transform(t):t,qO=x.createContext({strict:!1}),RA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ad={};for(const t in RA)ad[t]={isEnabled:e=>RA[t].some(n=>!!e[n])};function Fne(t){for(const e in t)ad[e]={...ad[e],...t[e]}}const Vne=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Dg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Vne.has(t)}let HO=t=>!Dg(t);function qne(t){t&&(HO=e=>e.startsWith("on")?!Dg(e):t(e))}try{qne(require("@emotion/is-prop-valid").default)}catch{}function Hne(t,e,n){const a={};for(const i in t)i==="values"&&typeof t.values=="object"||(HO(i)||n===!0&&Dg(i)||!e&&!Dg(i)||t.draggable&&i.startsWith("onDrag"))&&(a[i]=t[i]);return a}function Gne(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...a)=>t(...a);return new Proxy(n,{get:(a,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Px=x.createContext({});function Ox(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Nf(t){return typeof t=="string"||Array.isArray(t)}const nw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sw=["initial",...nw];function Lx(t){return Ox(t.animate)||sw.some(e=>Nf(t[e]))}function GO(t){return!!(Lx(t)||t.variants)}function Kne(t,e){if(Lx(t)){const{initial:n,animate:a}=t;return{initial:n===!1||Nf(n)?n:void 0,animate:Nf(a)?a:void 0}}return t.inherit!==!1?e:{}}function Yne(t){const{initial:e,animate:n}=Kne(t,x.useContext(Px));return x.useMemo(()=>({initial:e,animate:n}),[DA(e),DA(n)])}function DA(t){return Array.isArray(t)?t.join(" "):t}const Xne=Symbol.for("motionComponentSymbol");function Tu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Wne(t,e,n){return x.useCallback(a=>{a&&t.onMount&&t.onMount(a),e&&(a?e.mount(a):e.unmount()),n&&(typeof n=="function"?n(a):Tu(n)&&(n.current=a))},[e])}const aw=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Zne="framerAppearId",KO="data-"+aw(Zne),YO=x.createContext({});function Qne(t,e,n,a,i){var j,k;const{visualElement:o}=x.useContext(Px),c=x.useContext(qO),u=x.useContext(O1),h=x.useContext(tO).reducedMotion,f=x.useRef(null);a=a||c.renderer,!f.current&&a&&(f.current=a(t,{visualState:e,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const p=f.current,g=x.useContext(YO);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&Jne(f.current,n,i,g);const v=x.useRef(!1);x.useInsertionEffect(()=>{p&&v.current&&p.update(n,u)});const y=n[KO],w=x.useRef(!!y&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,y))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,y)));return Hee(()=>{p&&(v.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),ew.render(p.render),w.current&&p.animationState&&p.animationState.animateChanges())}),x.useEffect(()=>{p&&(!w.current&&p.animationState&&p.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,y)}),w.current=!1))}),p}function Jne(t,e,n,a){const{layoutId:i,layout:o,drag:c,dragConstraints:u,layoutScroll:h,layoutRoot:f,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:XO(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!c||u&&Tu(u),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:a,crossfade:p,layoutScroll:h,layoutRoot:f})}function XO(t){if(t)return t.options.allowProjection!==!1?t.projection:XO(t.parent)}function ese({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:a,Component:i}){t&&Fne(t);function o(u,h){let f;const p={...x.useContext(tO),...u,layoutId:tse(u)},{isStatic:g}=p,v=Yne(u),y=a(u,g);if(!g&&P1){nse();const w=sse(p);f=w.MeasureLayout,v.visualElement=Qne(i,y,p,e,w.ProjectionNode)}return s.jsxs(Px.Provider,{value:v,children:[f&&v.visualElement?s.jsx(f,{visualElement:v.visualElement,...p}):null,n(i,u,Wne(y,v.visualElement,h),y,g,v.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const c=x.forwardRef(o);return c[Xne]=i,c}function tse({layoutId:t}){const e=x.useContext(eO).id;return e&&t!==void 0?e+"-"+t:t}function nse(t,e){x.useContext(qO).strict}function sse(t){const{drag:e,layout:n}=ad;if(!e&&!n)return{};const a={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const Sf={};function ase(t){for(const e in t)Sf[e]=t[e],V1(e)&&(Sf[e].isCSSVariable=!0)}function WO(t,{layout:e,layoutId:n}){return yd.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Sf[t]||t==="opacity")}const qs=t=>!!(t&&t.getVelocity),rse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ise=bd.length;function ose(t,e,n){let a="",i=!0;for(let o=0;o<ise;o++){const c=bd[o],u=t[c];if(u===void 0)continue;let h=!0;if(typeof u=="number"?h=u===(c.startsWith("scale")?1:0):h=parseFloat(u)===0,!h||n){const f=VO(u,J1[c]);if(!h){i=!1;const p=rse[c]||c;a+=`${p}(${f}) `}n&&(e[c]=f)}}return a=a.trim(),n?a=n(e,i?"":a):i&&(a="none"),a}function rw(t,e,n){const{style:a,vars:i,transformOrigin:o}=t;let c=!1,u=!1;for(const h in e){const f=e[h];if(yd.has(h)){c=!0;continue}else if(V1(h)){i[h]=f;continue}else{const p=VO(f,J1[h]);h.startsWith("origin")?(u=!0,o[h]=p):a[h]=p}}if(e.transform||(c||n?a.transform=ose(e,t.transform,n):a.transform&&(a.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:p=0}=o;a.transformOrigin=`${h} ${f} ${p}`}}const iw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZO(t,e,n){for(const a in e)!qs(e[a])&&!WO(a,n)&&(t[a]=e[a])}function lse({transformTemplate:t},e){return x.useMemo(()=>{const n=iw();return rw(n,e,t),Object.assign({},n.vars,n.style)},[e])}function cse(t,e){const n=t.style||{},a={};return ZO(a,n,t),Object.assign(a,lse(t,e)),a}function use(t,e){const n={},a=cse(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=a,n}const dse=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ow(t){return typeof t!="string"||t.includes("-")?!1:!!(dse.indexOf(t)>-1||/[A-Z]/u.test(t))}const hse={offset:"stroke-dashoffset",array:"stroke-dasharray"},fse={offset:"strokeDashoffset",array:"strokeDasharray"};function mse(t,e,n=1,a=0,i=!0){t.pathLength=1;const o=i?hse:fse;t[o.offset]=mt.transform(-a);const c=mt.transform(e),u=mt.transform(n);t[o.array]=`${c} ${u}`}function QO(t,{attrX:e,attrY:n,attrScale:a,pathLength:i,pathSpacing:o=1,pathOffset:c=0,...u},h,f){if(rw(t,u,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox="fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),a!==void 0&&(p.scale=a),i!==void 0&&mse(p,i,o,c,!1)}const JO=()=>({...iw(),attrs:{}}),e3=t=>typeof t=="string"&&t.toLowerCase()==="svg";function pse(t,e,n,a){const i=x.useMemo(()=>{const o=JO();return QO(o,e,e3(a),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};ZO(o,t.style,t),i.style={...o,...i.style}}return i}function gse(t=!1){return(n,a,i,{latestValues:o},c)=>{const h=(ow(n)?pse:use)(a,o,c,n),f=Hne(a,typeof n=="string",t),p=n!==x.Fragment?{...f,...h,ref:i}:{},{children:g}=a,v=x.useMemo(()=>qs(g)?g.get():g,[g]);return x.createElement(n,{...p,children:v})}}function MA(t){const e=[{},{}];return t==null||t.values.forEach((n,a)=>{e[0][a]=n.get(),e[1][a]=n.getVelocity()}),e}function lw(t,e,n,a){if(typeof e=="function"){const[i,o]=MA(a);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=MA(a);e=e(n!==void 0?n:t.custom,i,o)}return e}function Jp(t){return qs(t)?t.get():t}function xse({scrapeMotionValuesFromProps:t,createRenderState:e},n,a,i){return{latestValues:vse(n,a,i,t),renderState:e()}}const t3=t=>(e,n)=>{const a=x.useContext(Px),i=x.useContext(O1),o=()=>xse(t,e,a,i);return n?o():qee(o)};function vse(t,e,n,a){const i={},o=a(t,{});for(const v in o)i[v]=Jp(o[v]);let{initial:c,animate:u}=t;const h=Lx(t),f=GO(t);e&&f&&!h&&t.inherit!==!1&&(c===void 0&&(c=e.initial),u===void 0&&(u=e.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const g=p?u:c;if(g&&typeof g!="boolean"&&!Ox(g)){const v=Array.isArray(g)?g:[g];for(let y=0;y<v.length;y++){const w=lw(t,v[y]);if(w){const{transitionEnd:j,transition:k,...S}=w;for(const E in S){let A=S[E];if(Array.isArray(A)){const T=p?A.length-1:0;A=A[T]}A!==null&&(i[E]=A)}for(const E in j)i[E]=j[E]}}}return i}function cw(t,e,n){var o;const{style:a}=t,i={};for(const c in a)(qs(a[c])||e.style&&qs(e.style[c])||WO(c,t)||((o=n==null?void 0:n.getValue(c))==null?void 0:o.liveStyle)!==void 0)&&(i[c]=a[c]);return i}const bse={useVisualState:t3({scrapeMotionValuesFromProps:cw,createRenderState:iw})};function n3(t,e,n){const a=cw(t,e,n);for(const i in t)if(qs(t[i])||qs(e[i])){const o=bd.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;a[o]=t[i]}return a}const yse={useVisualState:t3({scrapeMotionValuesFromProps:n3,createRenderState:JO})};function jse(t,e){return function(a,{forwardMotionProps:i}={forwardMotionProps:!1}){const c={...ow(a)?yse:bse,preloadedFeatures:t,useRender:gse(i),createVisualElement:e,Component:a};return ese(c)}}function kf(t,e,n){const a=t.getProps();return lw(a,e,n!==void 0?n:a.custom,t)}const Q0=t=>Array.isArray(t);function wse(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,wf(n))}function Nse(t){return Q0(t)?t[t.length-1]||0:t}function Sse(t,e){const n=kf(t,e);let{transitionEnd:a={},transition:i={},...o}=n||{};o={...o,...a};for(const c in o){const u=Nse(o[c]);wse(t,c,u)}}function kse(t){return!!(qs(t)&&t.add)}function J0(t,e){const n=t.getValue("willChange");if(kse(n))return n.add(e);if(!n&&lo.WillChange){const a=new lo.WillChange("auto");t.addValue("willChange",a),a.add(e)}}function s3(t){return t.props[KO]}const Ese=t=>t!==null;function Ase(t,{repeat:e,repeatType:n="loop"},a){const i=t.filter(Ese),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}const Cse={type:"spring",stiffness:500,damping:25,restSpeed:10},Tse=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),_se={type:"keyframes",duration:.8},Rse={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dse=(t,{keyframes:e})=>e.length>2?_se:yd.has(t)?t.startsWith("scale")?Tse(e[1]):Cse:Rse;function Mse({when:t,delay:e,delayChildren:n,staggerChildren:a,staggerDirection:i,repeat:o,repeatType:c,repeatDelay:u,from:h,elapsed:f,...p}){return!!Object.keys(p).length}const uw=(t,e,n,a={},i,o)=>c=>{const u=Q1(a,t)||{},h=u.delay||a.delay||0;let{elapsed:f=0}=a;f=f-xi(h);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...u,delay:-f,onUpdate:v=>{e.set(v),u.onUpdate&&u.onUpdate(v)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:t,motionValue:e,element:o?void 0:i};Mse(u)||Object.assign(p,Dse(t,p)),p.duration&&(p.duration=xi(p.duration)),p.repeatDelay&&(p.repeatDelay=xi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(g=!0)),(lo.instantAnimations||lo.skipAnimations)&&(g=!0,p.duration=0,p.delay=0),p.allowFlatten=!u.type&&!u.ease,g&&!o&&e.get()!==void 0){const v=Ase(p.keyframes,u);if(v!==void 0){En.update(()=>{p.onUpdate(v),p.onComplete()});return}}return new vne(p)};function Pse({protectedKeys:t,needsAnimating:e},n){const a=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,a}function a3(t,e,{delay:n=0,transitionOverride:a,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:c,...u}=e;a&&(o=a);const h=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const p in u){const g=t.getValue(p,t.latestValues[p]??null),v=u[p];if(v===void 0||f&&Pse(f,p))continue;const y={delay:n,...Q1(o||{},p)},w=g.get();if(w!==void 0&&!g.isAnimating&&!Array.isArray(v)&&v===w&&!y.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const S=s3(t);if(S){const E=window.MotionHandoffAnimation(S,p,En);E!==null&&(y.startTime=E,j=!0)}}J0(t,p),g.start(uw(p,g,v,t.shouldReduceMotion&&OO.has(p)?{type:!1}:y,t,j));const k=g.animation;k&&h.push(k)}return c&&Promise.all(h).then(()=>{En.update(()=>{c&&Sse(t,c)})}),h}function ej(t,e,n={}){var h;const a=kf(t,e,n.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(i=n.transitionOverride);const o=a?()=>Promise.all(a3(t,a,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:v}=i;return Ose(t,e,p+f,g,v,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[f,p]=u==="beforeChildren"?[o,c]:[c,o];return f().then(()=>p())}else return Promise.all([o(),c(n.delay)])}function Ose(t,e,n=0,a=0,i=1,o){const c=[],u=(t.variantChildren.size-1)*a,h=i===1?(f=0)=>f*a:(f=0)=>u-f*a;return Array.from(t.variantChildren).sort(Lse).forEach((f,p)=>{f.notify("AnimationStart",e),c.push(ej(f,e,{...o,delay:n+h(p)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(c)}function Lse(t,e){return t.sortNodePosition(e)}function Ise(t,e,n={}){t.notify("AnimationStart",e);let a;if(Array.isArray(e)){const i=e.map(o=>ej(t,o,n));a=Promise.all(i)}else if(typeof e=="string")a=ej(t,e,n);else{const i=typeof e=="function"?kf(t,e,n.custom):e;a=Promise.all(a3(t,i,n))}return a.then(()=>{t.notify("AnimationComplete",e)})}function r3(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let a=0;a<n;a++)if(e[a]!==t[a])return!1;return!0}const Bse=sw.length;function i3(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?i3(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Bse;n++){const a=sw[n],i=t.props[a];(Nf(i)||i===!1)&&(e[a]=i)}return e}const zse=[...nw].reverse(),Use=nw.length;function $se(t){return e=>Promise.all(e.map(({animation:n,options:a})=>Ise(t,n,a)))}function Fse(t){let e=$se(t),n=PA(),a=!0;const i=h=>(f,p)=>{var v;const g=kf(t,p,h==="exit"?(v=t.presenceContext)==null?void 0:v.custom:void 0);if(g){const{transition:y,transitionEnd:w,...j}=g;f={...f,...j,...w}}return f};function o(h){e=h(t)}function c(h){const{props:f}=t,p=i3(t.parent)||{},g=[],v=new Set;let y={},w=1/0;for(let k=0;k<Use;k++){const S=zse[k],E=n[S],A=f[S]!==void 0?f[S]:p[S],T=Nf(A),_=S===h?E.isActive:null;_===!1&&(w=k);let M=A===p[S]&&A!==f[S]&&T;if(M&&a&&t.manuallyAnimateOnMount&&(M=!1),E.protectedKeys={...y},!E.isActive&&_===null||!A&&!E.prevProp||Ox(A)||typeof A=="boolean")continue;const P=Vse(E.prevProp,A);let O=P||S===h&&E.isActive&&!M&&T||k>w&&T,H=!1;const Y=Array.isArray(A)?A:[A];let R=Y.reduce(i(S),{});_===!1&&(R={});const{prevResolvedValues:X={}}=E,z={...X,...R},Q=F=>{O=!0,v.has(F)&&(H=!0,v.delete(F)),E.needsAnimating[F]=!0;const V=t.getValue(F);V&&(V.liveStyle=!1)};for(const F in z){const V=R[F],K=X[F];if(y.hasOwnProperty(F))continue;let ae=!1;Q0(V)&&Q0(K)?ae=!r3(V,K):ae=V!==K,ae?V!=null?Q(F):v.add(F):V!==void 0&&v.has(F)?Q(F):E.protectedKeys[F]=!0}E.prevProp=A,E.prevResolvedValues=R,E.isActive&&(y={...y,...R}),a&&t.blockInitialAnimation&&(O=!1),O&&(!(M&&P)||H)&&g.push(...Y.map(F=>({animation:F,options:{type:S}})))}if(v.size){const k={};if(typeof f.initial!="boolean"){const S=kf(t,Array.isArray(f.initial)?f.initial[0]:f.initial);S&&S.transition&&(k.transition=S.transition)}v.forEach(S=>{const E=t.getBaseTarget(S),A=t.getValue(S);A&&(A.liveStyle=!0),k[S]=E??null}),g.push({animation:k})}let j=!!g.length;return a&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(j=!1),a=!1,j?e(g):Promise.resolve()}function u(h,f){var g;if(n[h].isActive===f)return Promise.resolve();(g=t.variantChildren)==null||g.forEach(v=>{var y;return(y=v.animationState)==null?void 0:y.setActive(h,f)}),n[h].isActive=f;const p=c(h);for(const v in n)n[v].protectedKeys={};return p}return{animateChanges:c,setActive:u,setAnimateFunction:o,getState:()=>n,reset:()=>{n=PA(),a=!0}}}function Vse(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!r3(e,t):!1}function Kl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function PA(){return{animate:Kl(!0),whileInView:Kl(),whileHover:Kl(),whileTap:Kl(),whileDrag:Kl(),whileFocus:Kl(),exit:Kl()}}class jl{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qse extends jl{constructor(e){super(e),e.animationState||(e.animationState=Fse(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ox(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Hse=0;class Gse extends jl{constructor(){super(...arguments),this.id=Hse++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===a)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Kse={animation:{Feature:qse},exit:{Feature:Gse}};function Ef(t,e,n,a={passive:!0}){return t.addEventListener(e,n,a),()=>t.removeEventListener(e,n)}function sm(t){return{point:{x:t.pageX,y:t.pageY}}}const Yse=t=>e=>tw(e)&&t(e,sm(e));function Yh(t,e,n,a){return Ef(t,e,Yse(n),a)}function o3({top:t,left:e,right:n,bottom:a}){return{x:{min:e,max:n},y:{min:t,max:a}}}function Xse({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Wse(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),a=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:a.y,right:a.x}}const l3=1e-4,Zse=1-l3,Qse=1+l3,c3=.01,Jse=0-c3,eae=0+c3;function sa(t){return t.max-t.min}function tae(t,e,n){return Math.abs(t-e)<=n}function OA(t,e,n,a=.5){t.origin=a,t.originPoint=Sn(e.min,e.max,t.origin),t.scale=sa(n)/sa(e),t.translate=Sn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Zse&&t.scale<=Qse||isNaN(t.scale))&&(t.scale=1),(t.translate>=Jse&&t.translate<=eae||isNaN(t.translate))&&(t.translate=0)}function Xh(t,e,n,a){OA(t.x,e.x,n.x,a?a.originX:void 0),OA(t.y,e.y,n.y,a?a.originY:void 0)}function LA(t,e,n){t.min=n.min+e.min,t.max=t.min+sa(e)}function nae(t,e,n){LA(t.x,e.x,n.x),LA(t.y,e.y,n.y)}function IA(t,e,n){t.min=e.min-n.min,t.max=t.min+sa(e)}function Wh(t,e,n){IA(t.x,e.x,n.x),IA(t.y,e.y,n.y)}const BA=()=>({translate:0,scale:1,origin:0,originPoint:0}),_u=()=>({x:BA(),y:BA()}),zA=()=>({min:0,max:0}),Vn=()=>({x:zA(),y:zA()});function nr(t){return[t("x"),t("y")]}function Ty(t){return t===void 0||t===1}function tj({scale:t,scaleX:e,scaleY:n}){return!Ty(t)||!Ty(e)||!Ty(n)}function Xl(t){return tj(t)||u3(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function u3(t){return UA(t.x)||UA(t.y)}function UA(t){return t&&t!=="0%"}function Mg(t,e,n){const a=t-n,i=e*a;return n+i}function $A(t,e,n,a,i){return i!==void 0&&(t=Mg(t,i,a)),Mg(t,n,a)+e}function nj(t,e=0,n=1,a,i){t.min=$A(t.min,e,n,a,i),t.max=$A(t.max,e,n,a,i)}function d3(t,{x:e,y:n}){nj(t.x,e.translate,e.scale,e.originPoint),nj(t.y,n.translate,n.scale,n.originPoint)}const FA=.999999999999,VA=1.0000000000001;function sae(t,e,n,a=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,c;for(let u=0;u<i;u++){o=n[u],c=o.projectionDelta;const{visualElement:h}=o.options;h&&h.props.style&&h.props.style.display==="contents"||(a&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Du(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,d3(t,c)),a&&Xl(o.latestValues)&&Du(t,o.latestValues))}e.x<VA&&e.x>FA&&(e.x=1),e.y<VA&&e.y>FA&&(e.y=1)}function Ru(t,e){t.min=t.min+e,t.max=t.max+e}function qA(t,e,n,a,i=.5){const o=Sn(t.min,t.max,i);nj(t,e,n,o,a)}function Du(t,e){qA(t.x,e.x,e.scaleX,e.scale,e.originX),qA(t.y,e.y,e.scaleY,e.scale,e.originY)}function h3(t,e){return o3(Wse(t.getBoundingClientRect(),e))}function aae(t,e,n){const a=h3(t,n),{scroll:i}=e;return i&&(Ru(a.x,i.offset.x),Ru(a.y,i.offset.y)),a}const f3=({current:t})=>t?t.ownerDocument.defaultView:null,HA=(t,e)=>Math.abs(t-e);function rae(t,e){const n=HA(t.x,e.x),a=HA(t.y,e.y);return Math.sqrt(n**2+a**2)}class m3{constructor(e,n,{transformPagePoint:a,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Ry(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,y=rae(g.offset,{x:0,y:0})>=3;if(!v&&!y)return;const{point:w}=g,{timestamp:j}=_s;this.history.push({...w,timestamp:j});const{onStart:k,onMove:S}=this.handlers;v||(k&&k(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=_y(v,this.transformPagePoint),En.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:y,onSessionEnd:w,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Ry(g.type==="pointercancel"?this.lastMoveEventInfo:_y(v,this.transformPagePoint),this.history);this.startEvent&&y&&y(g,k),w&&w(g,k)},!tw(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=a,this.contextWindow=i||window;const c=sm(e),u=_y(c,this.transformPagePoint),{point:h}=u,{timestamp:f}=_s;this.history=[{...h,timestamp:f}];const{onSessionStart:p}=n;p&&p(e,Ry(u,this.history)),this.removeListeners=em(Yh(this.contextWindow,"pointermove",this.handlePointerMove),Yh(this.contextWindow,"pointerup",this.handlePointerUp),Yh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),hl(this.updatePoint)}}function _y(t,e){return e?{point:e(t.point)}:t}function GA(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ry({point:t},e){return{point:t,delta:GA(t,p3(e)),offset:GA(t,iae(e)),velocity:oae(e,.1)}}function iae(t){return t[0]}function p3(t){return t[t.length-1]}function oae(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,a=null;const i=p3(t);for(;n>=0&&(a=t[n],!(i.timestamp-a.timestamp>xi(e)));)n--;if(!a)return{x:0,y:0};const o=vi(i.timestamp-a.timestamp);if(o===0)return{x:0,y:0};const c={x:(i.x-a.x)/o,y:(i.y-a.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function lae(t,{min:e,max:n},a){return e!==void 0&&t<e?t=a?Sn(e,t,a.min):Math.max(t,e):n!==void 0&&t>n&&(t=a?Sn(n,t,a.max):Math.min(t,n)),t}function KA(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function cae(t,{top:e,left:n,bottom:a,right:i}){return{x:KA(t.x,n,i),y:KA(t.y,e,a)}}function YA(t,e){let n=e.min-t.min,a=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,a]=[a,n]),{min:n,max:a}}function uae(t,e){return{x:YA(t.x,e.x),y:YA(t.y,e.y)}}function dae(t,e){let n=.5;const a=sa(t),i=sa(e);return i>a?n=bf(e.min,e.max-a,t.min):a>i&&(n=bf(t.min,t.max-i,e.min)),oo(0,1,n)}function hae(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const sj=.35;function fae(t=sj){return t===!1?t=0:t===!0&&(t=sj),{x:XA(t,"left","right"),y:XA(t,"top","bottom")}}function XA(t,e,n){return{min:WA(t,e),max:WA(t,n)}}function WA(t,e){return typeof t=="number"?t:t[e]||0}const mae=new WeakMap;class pae{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(sm(p).point)},o=(p,g)=>{const{drag:v,dragPropagation:y,onDragStart:w}=this.getProps();if(v&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Dne(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nr(k=>{let S=this.getAxisMotionValue(k).get()||0;if(bi.test(S)){const{projection:E}=this.visualElement;if(E&&E.layout){const A=E.layout.layoutBox[k];A&&(S=sa(A)*(parseFloat(S)/100))}}this.originPoint[k]=S}),w&&En.postRender(()=>w(p,g)),J0(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},c=(p,g)=>{const{dragPropagation:v,dragDirectionLock:y,onDirectionLock:w,onDrag:j}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:k}=g;if(y&&this.currentDirection===null){this.currentDirection=gae(k),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,k),this.updateAxis("y",g.point,k),this.visualElement.render(),j&&j(p,g)},u=(p,g)=>this.stop(p,g),h=()=>nr(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new m3(e,{onSessionStart:i,onStart:o,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:f3(this.visualElement)})}stop(e,n){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&En.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,a){const{drag:i}=this.getProps();if(!a||!Mp(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let c=this.originPoint[e]+a[e];this.constraints&&this.constraints[e]&&(c=lae(c,this.constraints[e],this.elastic[e])),o.set(c)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,i=this.constraints;e&&Tu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&a?this.constraints=cae(a.layoutBox,e):this.constraints=!1,this.elastic=fae(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&nr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=hae(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Tu(e))return!1;const a=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=aae(a,i.root,this.visualElement.getTransformPagePoint());let c=uae(i.layout.layoutBox,o);if(n){const u=n(Xse(c));this.hasMutatedConstraints=!!u,u&&(c=o3(u))}return c}startAnimation(e){const{drag:n,dragMomentum:a,dragElastic:i,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},f=nr(p=>{if(!Mp(p,n,this.currentDirection))return;let g=h&&h[p]||{};c&&(g={min:0,max:0});const v=i?200:1e6,y=i?40:1e7,w={type:"inertia",velocity:a?e[p]:0,bounceStiffness:v,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...o,...g};return this.startAxisValueAnimation(p,w)});return Promise.all(f).then(u)}startAxisValueAnimation(e,n){const a=this.getAxisMotionValue(e);return J0(this.visualElement,e),a.start(uw(e,a,0,n,this.visualElement,!1))}stopAnimation(){nr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){nr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,a=this.visualElement.getProps(),i=a[n];return i||this.visualElement.getValue(e,(a.initial?a.initial[e]:void 0)||0)}snapToCursor(e){nr(n=>{const{drag:a}=this.getProps();if(!Mp(n,a,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:c,max:u}=i.layout.layoutBox[n];o.set(e[n]-Sn(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:a}=this.visualElement;if(!Tu(n)||!a||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};nr(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const h=u.get();i[c]=dae({min:h,max:h},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),nr(c=>{if(!Mp(c,e,null))return;const u=this.getAxisMotionValue(c),{min:h,max:f}=this.constraints[c];u.set(Sn(h,f,i[c]))})}addListeners(){if(!this.visualElement.current)return;mae.set(this.visualElement,this);const e=this.visualElement.current,n=Yh(e,"pointerdown",h=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(h)}),a=()=>{const{dragConstraints:h}=this.getProps();Tu(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",a);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),En.read(a);const c=Ef(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f})=>{this.isDragging&&f&&(nr(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=h[p].translate,g.set(g.get()+h[p].translate))}),this.visualElement.render())});return()=>{c(),n(),o(),u&&u()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:a=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:c=sj,dragMomentum:u=!0}=e;return{...e,drag:n,dragDirectionLock:a,dragPropagation:i,dragConstraints:o,dragElastic:c,dragMomentum:u}}}function Mp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function gae(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class xae extends jl{constructor(e){super(e),this.removeGroupControls=dr,this.removeListeners=dr,this.controls=new pae(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dr}unmount(){this.removeGroupControls(),this.removeListeners()}}const ZA=t=>(e,n)=>{t&&En.postRender(()=>t(e,n))};class vae extends jl{constructor(){super(...arguments),this.removePointerDownListener=dr}onPointerDown(e){this.session=new m3(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:f3(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:a,onPanEnd:i}=this.node.getProps();return{onSessionStart:ZA(e),onStart:ZA(n),onMove:a,onEnd:(o,c)=>{delete this.session,i&&En.postRender(()=>i(o,c))}}}mount(){this.removePointerDownListener=Yh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const eg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function QA(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Sh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(mt.test(t))t=parseFloat(t);else return t;const n=QA(t,e.target.x),a=QA(t,e.target.y);return`${n}% ${a}%`}},bae={correct:(t,{treeScale:e,projectionDelta:n})=>{const a=t,i=fl.parse(t);if(i.length>5)return a;const o=fl.createTransformer(t),c=typeof i[0]!="number"?1:0,u=n.x.scale*e.x,h=n.y.scale*e.y;i[0+c]/=u,i[1+c]/=h;const f=Sn(u,h,.5);return typeof i[2+c]=="number"&&(i[2+c]/=f),typeof i[3+c]=="number"&&(i[3+c]/=f),o(i)}};class yae extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:a,layoutId:i}=this.props,{projection:o}=e;ase(jae),o&&(n.group&&n.group.add(o),a&&a.register&&i&&a.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),eg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:a,drag:i,isPresent:o}=this.props,c=a.projection;return c&&(c.isPresent=o,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?c.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?c.promote():c.relegate()||En.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ew.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:a}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),a&&a.deregister&&a.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function g3(t){const[e,n]=Gee(),a=x.useContext(eO);return s.jsx(yae,{...t,layoutGroup:a,switchLayoutGroup:x.useContext(YO),isPresent:e,safeToRemove:n})}const jae={borderRadius:{...Sh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sh,borderTopRightRadius:Sh,borderBottomLeftRadius:Sh,borderBottomRightRadius:Sh,boxShadow:bae};function wae(t,e,n){const a=qs(t)?t:wf(t);return a.start(uw("",a,e,n)),a.animation}function Nae(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Sae=(t,e)=>t.depth-e.depth;class kae{constructor(){this.children=[],this.isDirty=!1}add(e){L1(this.children,e),this.isDirty=!0}remove(e){I1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Sae),this.isDirty=!1,this.children.forEach(e)}}function Eae(t,e){const n=ma.now(),a=({timestamp:i})=>{const o=i-n;o>=e&&(hl(a),t(o-e))};return En.setup(a,!0),()=>hl(a)}const x3=["TopLeft","TopRight","BottomLeft","BottomRight"],Aae=x3.length,JA=t=>typeof t=="string"?parseFloat(t):t,eC=t=>typeof t=="number"||mt.test(t);function Cae(t,e,n,a,i,o){i?(t.opacity=Sn(0,n.opacity??1,Tae(a)),t.opacityExit=Sn(e.opacity??1,0,_ae(a))):o&&(t.opacity=Sn(e.opacity??1,n.opacity??1,a));for(let c=0;c<Aae;c++){const u=`border${x3[c]}Radius`;let h=tC(e,u),f=tC(n,u);if(h===void 0&&f===void 0)continue;h||(h=0),f||(f=0),h===0||f===0||eC(h)===eC(f)?(t[u]=Math.max(Sn(JA(h),JA(f),a),0),(bi.test(f)||bi.test(h))&&(t[u]+="%")):t[u]=f}(e.rotate||n.rotate)&&(t.rotate=Sn(e.rotate||0,n.rotate||0,a))}function tC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Tae=v3(0,.5,dO),_ae=v3(.5,.95,dr);function v3(t,e,n){return a=>a<t?0:a>e?1:n(bf(t,e,a))}function nC(t,e){t.min=e.min,t.max=e.max}function er(t,e){nC(t.x,e.x),nC(t.y,e.y)}function sC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function aC(t,e,n,a,i){return t-=e,t=Mg(t,1/n,a),i!==void 0&&(t=Mg(t,1/i,a)),t}function Rae(t,e=0,n=1,a=.5,i,o=t,c=t){if(bi.test(e)&&(e=parseFloat(e),e=Sn(c.min,c.max,e/100)-c.min),typeof e!="number")return;let u=Sn(o.min,o.max,a);t===o&&(u-=e),t.min=aC(t.min,e,n,u,i),t.max=aC(t.max,e,n,u,i)}function rC(t,e,[n,a,i],o,c){Rae(t,e[n],e[a],e[i],e.scale,o,c)}const Dae=["x","scaleX","originX"],Mae=["y","scaleY","originY"];function iC(t,e,n,a){rC(t.x,e,Dae,n?n.x:void 0,a?a.x:void 0),rC(t.y,e,Mae,n?n.y:void 0,a?a.y:void 0)}function oC(t){return t.translate===0&&t.scale===1}function b3(t){return oC(t.x)&&oC(t.y)}function lC(t,e){return t.min===e.min&&t.max===e.max}function Pae(t,e){return lC(t.x,e.x)&&lC(t.y,e.y)}function cC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function y3(t,e){return cC(t.x,e.x)&&cC(t.y,e.y)}function uC(t){return sa(t.x)/sa(t.y)}function dC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Oae{constructor(){this.members=[]}add(e){L1(this.members,e),e.scheduleRender()}remove(e){if(I1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let a;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){a=o;break}}return a?(this.promote(a),!0):!1}promote(e,n){const a=this.lead;if(e!==a&&(this.prevLead=a,this.lead=e,e.show(),a)){a.instance&&a.scheduleRender(),e.scheduleRender(),e.resumeFrom=a,n&&(e.resumeFrom.preserveOpacity=!0),a.snapshot&&(e.snapshot=a.snapshot,e.snapshot.latestValues=a.animationValues||a.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:a}=e;n.onExitComplete&&n.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Lae(t,e,n){let a="";const i=t.x.translate/e.x,o=t.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((i||o||c)&&(a=`translate3d(${i}px, ${o}px, ${c}px) `),(e.x!==1||e.y!==1)&&(a+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:g,rotateY:v,skewX:y,skewY:w}=n;f&&(a=`perspective(${f}px) ${a}`),p&&(a+=`rotate(${p}deg) `),g&&(a+=`rotateX(${g}deg) `),v&&(a+=`rotateY(${v}deg) `),y&&(a+=`skewX(${y}deg) `),w&&(a+=`skewY(${w}deg) `)}const u=t.x.scale*e.x,h=t.y.scale*e.y;return(u!==1||h!==1)&&(a+=`scale(${u}, ${h})`),a||"none"}const Dy=["","X","Y","Z"],Iae={visibility:"hidden"},hC=1e3;let Bae=0;function My(t,e,n,a){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),a&&(a[t]=0))}function j3(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=s3(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",En,!(i||o))}const{parent:a}=t;a&&!a.hasCheckedOptimisedAppear&&j3(a)}function w3({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:a,resetTransform:i}){return class{constructor(c={},u=e==null?void 0:e()){this.id=Bae++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach($ae),this.nodes.forEach(Gae),this.nodes.forEach(Kae),this.nodes.forEach(Fae)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new kae)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new U1),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const h=this.eventHandlers.get(c);h&&h.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Nae(c),this.instance=c;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(f||h)&&(this.isLayoutDirty=!0),t){let g;const v=()=>this.root.updateBlockedByResize=!1;t(c,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=Eae(v,250),eg.hasAnimatedSinceResize&&(eg.hasAnimatedSinceResize=!1,this.nodes.forEach(mC))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:y,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||p.getDefaultTransition()||Qae,{onLayoutAnimationStart:k,onLayoutAnimationComplete:S}=p.getProps(),E=!this.targetLayout||!y3(this.targetLayout,w),A=!v&&y;if(this.options.layoutRoot||this.resumeFrom||A||v&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,A);const T={...Q1(j,"layout"),onPlay:k,onComplete:S};(p.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else v||mC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,hl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Yae),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&j3(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fC);return}this.isUpdating||this.nodes.forEach(qae),this.isUpdating=!1,this.nodes.forEach(Hae),this.nodes.forEach(zae),this.nodes.forEach(Uae),this.clearAllSnapshots();const u=ma.now();_s.delta=oo(0,1e3/60,u-_s.timestamp),_s.timestamp=u,_s.isProcessing=!0,Sy.update.process(_s),Sy.preRender.process(_s),Sy.render.process(_s),_s.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ew.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Vae),this.sharedNodes.forEach(Xae)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,En.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){En.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!sa(this.snapshot.measuredBox.x)&&!sa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Vn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u){const h=a(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!b3(this.projectionDelta),h=this.getTransformTemplate(),f=h?h(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;c&&(u||Xl(this.latestValues)||p)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return c&&(h=this.removeTransform(h)),Jae(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:c}=this.options;if(!c)return Vn();const u=c.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(ere))){const{scroll:p}=this.root;p&&(Ru(u.x,p.offset.x),Ru(u.y,p.offset.y))}return u}removeElementScroll(c){var h;const u=Vn();if(er(u,c),(h=this.scroll)!=null&&h.wasRoot)return u;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:g,options:v}=p;p!==this.root&&g&&v.layoutScroll&&(g.wasRoot&&er(u,c),Ru(u.x,g.offset.x),Ru(u.y,g.offset.y))}return u}applyTransform(c,u=!1){const h=Vn();er(h,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];!u&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Du(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Xl(p.latestValues)&&Du(h,p.latestValues)}return Xl(this.latestValues)&&Du(h,this.latestValues),h}removeTransform(c){const u=Vn();er(u,c);for(let h=0;h<this.path.length;h++){const f=this.path[h];if(!f.instance||!Xl(f.latestValues))continue;tj(f.latestValues)&&f.updateSnapshot();const p=Vn(),g=f.measurePageBox();er(p,g),iC(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return Xl(this.latestValues)&&iC(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_s.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var v;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==u;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=_s.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vn(),this.relativeTargetOrigin=Vn(),Wh(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Vn(),this.targetWithTransforms=Vn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nae(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):er(this.target,this.layout.layoutBox),d3(this.target,this.targetDelta)):er(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vn(),this.relativeTargetOrigin=Vn(),Wh(this.relativeTargetOrigin,this.target,y.target),er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||tj(this.parent.latestValues)||u3(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(h=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===_s.timestamp&&(h=!1),h)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;er(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;sae(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Vn());const{target:y}=c;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sC(this.prevProjectionDelta.x,this.projectionDelta.x),sC(this.prevProjectionDelta.y,this.projectionDelta.y)),Xh(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!dC(this.projectionDelta.x,this.prevProjectionDelta.x)||!dC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_u(),this.projectionDelta=_u(),this.projectionDeltaWithTransform=_u()}setAnimationOrigin(c,u=!1){const h=this.snapshot,f=h?h.latestValues:{},p={...this.latestValues},g=_u();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const v=Vn(),y=h?h.source:void 0,w=this.layout?this.layout.source:void 0,j=y!==w,k=this.getStack(),S=!k||k.members.length<=1,E=!!(j&&!S&&this.options.crossfade===!0&&!this.path.some(Zae));this.animationProgress=0;let A;this.mixTargetDelta=T=>{const _=T/1e3;pC(g.x,c.x,_),pC(g.y,c.y,_),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wh(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Wae(this.relativeTarget,this.relativeTargetOrigin,v,_),A&&Pae(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Vn()),er(A,this.relativeTarget)),j&&(this.animationValues=p,Cae(p,f,this.latestValues,_,E,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(hl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=En.update(()=>{eg.hasAnimatedSinceResize=!0,this.currentAnimation=wae(0,hC,{...c,onUpdate:u=>{this.mixTargetDelta(u),c.onUpdate&&c.onUpdate(u)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hC),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:h,layout:f,latestValues:p}=c;if(!(!u||!h||!f)){if(this!==c&&this.layout&&f&&N3(this.options.animationType,this.layout.layoutBox,f.layoutBox)){h=this.target||Vn();const g=sa(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+g;const v=sa(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+v}er(u,h),Du(u,p),Xh(this.projectionDeltaWithTransform,this.layoutCorrected,u,p)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Oae),this.sharedNodes.get(c).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:h}={}){const f=this.getStack();f&&f.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(u=!0),!u)return;const f={};h.z&&My("z",c,f,this.animationValues);for(let p=0;p<Dy.length;p++)My(`rotate${Dy[p]}`,c,f,this.animationValues),My(`skew${Dy[p]}`,c,f,this.animationValues);c.render();for(const p in f)c.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Iae;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Jp(c==null?void 0:c.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Jp(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Xl(this.latestValues)&&(y.transform=h?h({},""):"none",this.hasProjected=!1),y}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Lae(this.projectionDeltaWithTransform,this.treeScale,p),h&&(u.transform=h(p,u.transform));const{x:g,y:v}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const y in Sf){if(p[y]===void 0)continue;const{correct:w,applyTo:j,isCSSVariable:k}=Sf[y],S=u.transform==="none"?p[y]:w(p[y],f);if(j){const E=j.length;for(let A=0;A<E;A++)u[j[A]]=S}else k?this.options.visualElement.renderState.vars[y]=S:u[y]=S}return this.options.layoutId&&(u.pointerEvents=f===this?Jp(c==null?void 0:c.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(fC),this.root.sharedNodes.clear()}}}function zae(t){t.updateLayout()}function Uae(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:i}=t.layout,{animationType:o}=t.options,c=e.source!==t.layout.source;o==="size"?nr(g=>{const v=c?e.measuredBox[g]:e.layoutBox[g],y=sa(v);v.min=a[g].min,v.max=v.min+y}):N3(o,e.layoutBox,a)&&nr(g=>{const v=c?e.measuredBox[g]:e.layoutBox[g],y=sa(a[g]);v.max=v.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+y)});const u=_u();Xh(u,a,e.layoutBox);const h=_u();c?Xh(h,t.applyTransform(i,!0),e.measuredBox):Xh(h,a,e.layoutBox);const f=!b3(u);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:v,layout:y}=g;if(v&&y){const w=Vn();Wh(w,e.layoutBox,v.layoutBox);const j=Vn();Wh(j,a,y.layoutBox),y3(w,j)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=w,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:a,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:a}=t.options;a&&a()}t.options.transition=void 0}function $ae(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Fae(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Vae(t){t.clearSnapshot()}function fC(t){t.clearMeasurements()}function qae(t){t.isLayoutDirty=!1}function Hae(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function mC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Gae(t){t.resolveTargetDelta()}function Kae(t){t.calcProjection()}function Yae(t){t.resetSkewAndRotation()}function Xae(t){t.removeLeadSnapshot()}function pC(t,e,n){t.translate=Sn(e.translate,0,n),t.scale=Sn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function gC(t,e,n,a){t.min=Sn(e.min,n.min,a),t.max=Sn(e.max,n.max,a)}function Wae(t,e,n,a){gC(t.x,e.x,n.x,a),gC(t.y,e.y,n.y,a)}function Zae(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Qae={duration:.45,ease:[.4,0,.1,1]},xC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),vC=xC("applewebkit/")&&!xC("chrome/")?Math.round:dr;function bC(t){t.min=vC(t.min),t.max=vC(t.max)}function Jae(t){bC(t.x),bC(t.y)}function N3(t,e,n){return t==="position"||t==="preserve-aspect"&&!tae(uC(e),uC(n),.2)}function ere(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const tre=w3({attachResizeListener:(t,e)=>Ef(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Py={current:void 0},S3=w3({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Py.current){const t=new tre({});t.mount(window),t.setOptions({layoutScroll:!0}),Py.current=t}return Py.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),nre={pan:{Feature:vae},drag:{Feature:xae,ProjectionNode:S3,MeasureLayout:g3}};function yC(t,e,n){const{props:a}=t;t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=a[i];o&&En.postRender(()=>o(e,sm(e)))}class sre extends jl{mount(){const{current:e}=this.node;e&&(this.unmount=Mne(e,(n,a)=>(yC(this.node,a,"Start"),i=>yC(this.node,i,"End"))))}unmount(){}}class are extends jl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=em(Ef(this.node.current,"focus",()=>this.onFocus()),Ef(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jC(t,e,n){const{props:a}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&a.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=a[i];o&&En.postRender(()=>o(e,sm(e)))}class rre extends jl{mount(){const{current:e}=this.node;e&&(this.unmount=Ine(e,(n,a)=>(jC(this.node,a,"Start"),(i,{success:o})=>jC(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const aj=new WeakMap,Oy=new WeakMap,ire=t=>{const e=aj.get(t.target);e&&e(t)},ore=t=>{t.forEach(ire)};function lre({root:t,...e}){const n=t||document;Oy.has(n)||Oy.set(n,{});const a=Oy.get(n),i=JSON.stringify(e);return a[i]||(a[i]=new IntersectionObserver(ore,{root:t,...e})),a[i]}function cre(t,e,n){const a=lre(e);return aj.set(t,n),a.observe(t),()=>{aj.delete(t),a.unobserve(t)}}const ure={some:0,all:1};class dre extends jl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:a,amount:i="some",once:o}=e,c={root:n?n.current:void 0,rootMargin:a,threshold:typeof i=="number"?i:ure[i]},u=h=>{const{isIntersecting:f}=h;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),v=f?p:g;v&&v(h)};return cre(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hre(e,n))&&this.startObserver()}unmount(){}}function hre({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const fre={inView:{Feature:dre},tap:{Feature:rre},focus:{Feature:are},hover:{Feature:sre}},mre={layout:{ProjectionNode:S3,MeasureLayout:g3}},rj={current:null},k3={current:!1};function pre(){if(k3.current=!0,!!P1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>rj.current=t.matches;t.addListener(e),e()}else rj.current=!1}const gre=new WeakMap;function xre(t,e,n){for(const a in e){const i=e[a],o=n[a];if(qs(i))t.addValue(a,i);else if(qs(o))t.addValue(a,wf(i,{owner:t}));else if(o!==i)if(t.hasValue(a)){const c=t.getValue(a);c.liveStyle===!0?c.jump(i):c.hasAnimated||c.set(i)}else{const c=t.getStaticValue(a);t.addValue(a,wf(c!==void 0?c:i,{owner:t}))}}for(const a in n)e[a]===void 0&&t.removeValue(a);return e}const wC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class vre{scrapeMotionValuesFromProps(e,n,a){return{}}constructor({parent:e,props:n,presenceContext:a,reducedMotionConfig:i,blockInitialAnimation:o,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Z1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=ma.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,En.render(this.render,!1,!0))};const{latestValues:h,renderState:f}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=a,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!o,this.isControllingVariants=Lx(n),this.isVariantNode=GO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in g){const y=g[v];h[v]!==void 0&&qs(y)&&y.set(h[v],!1)}}mount(e){this.current=e,gre.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),k3.current||pre(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rj.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),hl(this.notifyUpdate),hl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const a=yd.has(e);a&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&En.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ad){const n=ad[e];if(!n)continue;const{isEnabled:a,Feature:i}=n;if(!this.features[e]&&i&&a(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let a=0;a<wC.length;a++){const i=wC[a];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,c=e[o];c&&(this.propEventSubscriptions[i]=this.on(i,c))}this.prevMotionValues=xre(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const a=this.values.get(e);n!==a&&(a&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let a=this.values.get(e);return a===void 0&&n!==void 0&&(a=wf(n===null?void 0:n,{owner:this}),this.addValue(e,a)),a}readValue(e,n){let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(nO(a)||sO(a))?a=parseFloat(a):!$ne(a)&&fl.test(n)&&(a=zO(e,n)),this.setBaseTarget(e,qs(a)?a.get():a)),qs(a)?a.get():a}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const c=lw(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);c&&(a=c[e])}if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!qs(i)?i:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new U1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class E3 extends vre{constructor(){super(...arguments),this.KeyframeResolver=_ne}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:a}){delete n[e],delete a[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qs(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function A3(t,{style:e,vars:n},a,i){Object.assign(t.style,e,i&&i.getProjectionStyles(a));for(const o in n)t.style.setProperty(o,n[o])}function bre(t){return window.getComputedStyle(t)}class yre extends E3{constructor(){super(...arguments),this.type="html",this.renderInstance=A3}readValueFromInstance(e,n){if(yd.has(n))return Xte(e,n);{const a=bre(e),i=(V1(n)?a.getPropertyValue(n):a[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return h3(e,n)}build(e,n,a){rw(e,n,a.transformTemplate)}scrapeMotionValuesFromProps(e,n,a){return cw(e,n,a)}}const C3=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jre(t,e,n,a){A3(t,e,void 0,a);for(const i in e.attrs)t.setAttribute(C3.has(i)?i:aw(i),e.attrs[i])}class wre extends E3{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(yd.has(n)){const a=BO(n);return a&&a.default||0}return n=C3.has(n)?n:aw(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,a){return n3(e,n,a)}build(e,n,a){QO(e,n,this.isSVGTag,a.transformTemplate)}renderInstance(e,n,a,i){jre(e,n,a,i)}mount(e){this.isSVGTag=e3(e.tagName),super.mount(e)}}const Nre=(t,e)=>ow(t)?new wre(e):new yre(e,{allowProjection:t!==x.Fragment}),Sre=jse({...Kse,...fre,...nre,...mre},Nre),tg=Gne(Sre);function T3(t,e,n){const a={...t};return e.top+t.y<=n.top?a.y=n.top-e.top:e.bottom+t.y>=n.top+n.height&&(a.y=n.top+n.height-e.bottom),e.left+t.x<=n.left?a.x=n.left-e.left:e.right+t.x>=n.left+n.width&&(a.x=n.left+n.width-e.right),a}const kre=t=>{let{containerNodeRect:e,draggingNodeRect:n,transform:a}=t;return!n||!e?a:T3(a,n,e)},_3=t=>{let{transform:e}=t;return{...e,x:0}},Ere=t=>{let{transform:e,draggingNodeRect:n,windowRect:a}=t;return!n||!a?e:T3(e,n,a)},Are=({categoryId:t})=>{const{attributes:e,listeners:n,setNodeRef:a,transform:i,transition:o,isDragging:c}=ZP({id:t}),u={transform:nd.Transform.toString(i),transition:o,opacity:c?.5:1};return s.jsx("div",{ref:a,style:u,...e,...n,className:"absolute left-1 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity cursor-grab active:cursor-grabbing",children:s.jsx(U_,{className:"h-4 w-4 text-muted-foreground"})})},NC=({category:t,aspects:e,categories:n,onAddAspect:a,onEditAspect:i,onSaveAspect:o,onDeleteAspect:c,editingAspectId:u,newAspectCategoryId:h,onCancelEdit:f,loading:p=!1,sectionNumber:g=1,isEditMode:v=!1,onAspectReorder:y,onUpdateCategory:w,onDeleteCategory:j})=>{const k=h===t.id,S=e,[E,A]=ve.useState(!1),[T,_]=ve.useState(t.name),[M,P]=ve.useState(t.description||""),[O,H]=ve.useState(!1),[Y,R]=ve.useState(!1),[X,z]=ve.useState(!1);ve.useEffect(()=>{_(t.name),P(t.description||"")},[t.name,t.description]);const Q=()=>{A(!0)},ne=()=>{A(!1),_(t.name),P(t.description||"")},L=async()=>{if(!(!w||!T.trim()))try{H(!0),await w(t.id,{name:T.trim(),description:M.trim()||void 0}),A(!1)}catch(G){console.error("Error updating category:",G)}finally{H(!1)}},F=()=>{R(!0)},V=async()=>{if(j)try{z(!0),await j(t.id),R(!1)}catch(G){console.error("Error deleting category:",G)}finally{z(!1)}},K=AP(Eg(Rx,{activationConstraint:{distance:8}}),Eg(_x,{coordinateGetter:QP})),ae=async G=>{const{active:B,over:W}=G;if(W&&B.id!==W.id&&y){const $=S.findIndex(q=>q.id===W.id);await y(B.id,$)}};return s.jsxs("div",{className:"bg-card rounded-lg border overflow-hidden group",children:[s.jsxs("div",{className:"border-l-4 border-primary bg-muted/50 px-4 sm:px-6 py-4 relative",children:[v&&s.jsx(Are,{categoryId:t.id}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap",children:[s.jsxs("span",{className:"text-sm text-primary font-medium whitespace-nowrap",children:["Bagian ",g]}),s.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full"}),s.jsxs("span",{className:"text-muted-foreground text-sm whitespace-nowrap",children:[S.length," pertanyaan"]})]}),E?s.jsxs("div",{className:"mt-2 space-y-3",children:[s.jsx("input",{type:"text",value:T,onChange:G=>_(G.target.value),className:"text-lg sm:text-xl font-medium bg-transparent border-none outline-none focus:ring-0 p-0 w-full placeholder-muted-foreground border-b-2 border-primary/30 focus:border-primary",placeholder:"Nama bagian",disabled:O}),s.jsx("textarea",{value:M,onChange:G=>P(G.target.value),className:"text-sm text-muted-foreground bg-transparent border-none outline-none focus:ring-0 p-0 w-full resize-none placeholder-muted-foreground border-b border-muted focus:border-primary",placeholder:"Deskripsi bagian (opsional)",rows:2,disabled:O}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{onClick:L,disabled:O||!T.trim(),size:"sm",children:[s.jsx(I_,{className:"h-3 w-3 mr-1"}),O?"Menyimpan...":"Simpan"]}),s.jsxs(pe,{onClick:ne,disabled:O,variant:"ghost",size:"sm",children:[s.jsx(hg,{className:"h-3 w-3 mr-1"}),"Batal"]})]})]}):s.jsxs("div",{className:"mt-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h2",{className:"text-lg sm:text-xl font-medium break-words",children:t.name}),v&&s.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[w&&s.jsx(pe,{onClick:Q,variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:s.jsx(Wo,{className:"h-3 w-3"})}),j&&s.jsx(pe,{onClick:F,variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-destructive/10 hover:text-destructive",children:s.jsx(dg,{className:"h-3 w-3"})})]})]}),t.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.description})]})]}),v&&s.jsx("div",{className:"flex-shrink-0",children:s.jsxs(pe,{onClick:()=>a(t.id),disabled:p||k,variant:"outline",size:"sm",children:[s.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Tambah Pertanyaan"]})})]})]}),s.jsxs("div",{className:"p-6",children:[k&&s.jsx("div",{className:"mb-6",children:s.jsx(Ny,{categories:n,isEditing:!0,onEdit:()=>{},onCancel:f,onSave:G=>o(null,G),loading:p,defaultCategoryId:t.id})}),S.length===0&&!k?s.jsx("div",{className:"text-center py-12 border-2 border-dashed border-border rounded-lg",children:s.jsx("p",{className:"text-muted-foreground text-sm",children:"Belum ada pertanyaan dalam bagian ini"})}):v?s.jsx(qP,{sensors:K,collisionDetection:RP,onDragEnd:ae,modifiers:[_3,kre],children:s.jsx(XP,{items:S.map(G=>G.id),strategy:GP,children:s.jsx("div",{className:"space-y-4",children:S.map((G,B)=>s.jsx(Ny,{aspect:G,categories:n,isEditing:u===G.id,onEdit:()=>i(G),onCancel:f,onSave:W=>o(G.id,W),onDelete:c,loading:p,questionNumber:B+1,isEditMode:v,isDragMode:!0},G.id))})})}):s.jsx("div",{className:"space-y-4",children:S.map((G,B)=>s.jsx(tg.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2,delay:B*.05},children:s.jsx(Ny,{aspect:G,categories:n,isEditing:!1,onEdit:()=>i(G),onCancel:f,onSave:W=>o(G.id,W),onDelete:c,loading:p,questionNumber:B+1,isEditMode:v,isDragMode:!1},G.id)},G.id))})]}),s.jsx(cs,{open:Y,onOpenChange:R,children:s.jsxs(Wn,{children:[s.jsxs(Zn,{children:[s.jsx(Jn,{children:"Hapus Bagian"}),s.jsxs(es,{children:['Apakah Anda yakin ingin menghapus bagian "',t.name,'"? Tindakan ini tidak dapat dibatalkan dan akan menghapus semua aspek penilaian di bagian ini dari seluruh evaluasi guru.']})]}),s.jsxs(Qn,{children:[s.jsx(ns,{onClick:()=>R(!1),children:"Batal"}),s.jsx(ts,{onClick:V,disabled:X,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:X?"Menghapus...":"Hapus"})]})]})})]})},Cre=()=>{const{toast:t}=Lt(),{isAdmin:e}=us(),[n,a]=x.useState([]),[i,o]=x.useState([]),[c,u]=x.useState(!0),[h,f]=x.useState(!1),[p,g]=x.useState(null),[v,y]=x.useState(null),[w,j]=x.useState(!1),[k,S]=x.useState(!1),E=AP(Eg(Rx,{activationConstraint:{distance:8}}),Eg(_x,{coordinateGetter:QP})),A=async $=>{const{active:q,over:ee}=$;if(ee&&q.id!==ee.id){const te=n;a(ie=>{const de=ie.findIndex(he=>he.id===q.id),re=ie.findIndex(he=>he.id===ee.id);return Au(ie,de,re)});try{S(!0);const ie=Au(te,te.findIndex(de=>de.id===q.id),te.findIndex(de=>de.id===ee.id));await Promise.all(ie.map((de,re)=>tr.updateCategoryOrder({category_id:de.id,new_order:re+1}))),t({title:"Berhasil",description:"Urutan kategori berhasil diperbarui."})}catch(ie){console.error("Error updating category order:",ie),a(te),t({title:"Error",description:(ie==null?void 0:ie.message)||"Gagal memperbarui urutan kategori.",variant:"destructive"})}finally{S(!1)}}},[T,_]=x.useState(!1),[M,P]=x.useState({name:"",description:""}),[O,H]=x.useState(!1),[Y,R]=x.useState(null);x.useEffect(()=>{if(!e()){t({title:"Akses Ditolak",description:"Anda tidak memiliki izin untuk mengakses halaman ini.",variant:"destructive"});return}X()},[e]);const X=async()=>{try{u(!0);const $=await tr.getCategories();o($);const q=await Promise.all($.map(ee=>tr.getCategoryWithAspects(ee.id)));a(q)}catch($){console.error("Error loading evaluation aspects:",$);const q=($==null?void 0:$.message)||"Gagal memuat data aspek evaluasi. Silakan coba lagi.";t({title:"Error",description:q,variant:"destructive"})}finally{u(!1)}},z=$=>{g(null),y($)},Q=$=>{y(null),g($.id)},ne=()=>{g(null),y(null)},L=async($,q)=>{try{if(f(!0),$){const ee=await tr.updateEvaluationAspect($,q);a(te=>te.map(ie=>({...ie,aspects:ie.aspects.map(de=>de.id===$?ee:de)}))),t({title:"Berhasil",description:"Aspek evaluasi berhasil diperbarui."})}else{const ee=await tr.createEvaluationAspect(q);a(te=>te.map(ie=>ie.id===ee.category_id?{...ie,aspects:[...ie.aspects,ee]}:ie)),t({title:"Berhasil",description:"Aspek evaluasi berhasil ditambahkan."})}ne()}catch(ee){console.error("Error saving aspect:",ee);const te=(ee==null?void 0:ee.message)||"Gagal menyimpan aspek evaluasi. Silakan coba lagi.";t({title:"Error",description:te,variant:"destructive"})}finally{f(!1)}},F=$=>{R($),H(!0)},V=async()=>{if(Y)try{f(!0),await tr.deleteEvaluationAspect(Y.id),a($=>$.map(q=>({...q,aspects:q.aspects.filter(ee=>ee.id!==Y.id)}))),t({title:"Aspek evaluasi berhasil dihapus",description:`Aspek "${Y.aspect_name}" telah dihapus dari sistem.`})}catch($){console.error("Error deleting aspect:",$);const q=($==null?void 0:$.message)||"Gagal menghapus aspek evaluasi. Silakan coba lagi.";t({title:"Error",description:q,variant:"destructive"})}finally{f(!1),H(!1),R(null)}},K=()=>{P({name:"",description:""}),_(!0)},ae=async()=>{if(M.name&&M.name.trim())try{f(!0);const $=await tr.createCategory({...M,name:M.name.trim()});o(q=>[...q,$]),a(q=>[...q,{...$,aspects:[]}]),z($.id),_(!1),P({name:"",description:""}),t({title:"Berhasil",description:"Kategori baru berhasil dibuat."})}catch($){console.error("Error creating category:",$),t({title:"Error",description:($==null?void 0:$.message)||"Gagal membuat kategori baru.",variant:"destructive"})}finally{f(!1)}},G=async($,q)=>{try{f(!0);const ee=await tr.updateCategory($,q);o(te=>te.map(ie=>ie.id===$?ee:ie)),a(te=>te.map(ie=>ie.id===$?{...ie,name:ee.name,description:ee.description}:ie)),t({title:"Berhasil",description:"Kategori berhasil diperbarui."})}catch(ee){throw console.error("Error updating category:",ee),t({title:"Error",description:(ee==null?void 0:ee.message)||"Gagal memperbarui kategori.",variant:"destructive"}),ee}finally{f(!1)}},B=async $=>{try{f(!0),await tr.deleteCategory($),o(q=>q.filter(ee=>ee.id!==$)),a(q=>q.filter(ee=>ee.id!==$)),t({title:"Berhasil",description:"Kategori berhasil dihapus."})}catch(q){throw console.error("Error deleting category:",q),t({title:"Error",description:(q==null?void 0:q.message)||"Gagal menghapus kategori.",variant:"destructive"}),q}finally{f(!1)}},W=n;return e()?c?s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-muted rounded w-1/3"}),s.jsx("div",{className:"h-10 bg-muted rounded"}),s.jsx("div",{className:"space-y-4",children:[1,2,3].map($=>s.jsx("div",{className:"h-32 bg-muted rounded"},$))})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ms,{title:"Manajemen Aspek Evaluasi",description:"Kelola aspek-aspek yang digunakan dalam evaluasi kinerja guru",actions:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(pe,{onClick:()=>j(!w),variant:w?"outline":"default",children:w?"Selesai Edit":"Ubah Aspek Evaluasi"}),w&&s.jsxs(pe,{onClick:K,disabled:h,children:[s.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Tambah Bagian Baru"]})]})}),W.length===0?s.jsx("div",{className:"text-center py-16",children:s.jsxs("div",{className:"bg-card rounded-lg border p-12 max-w-md mx-auto",children:[s.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Vs,{className:"h-8 w-8 text-primary"})}),s.jsx("h3",{className:"text-xl font-medium mb-2",children:"Mulai membuat aspek evaluasi"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Buat bagian dan pertanyaan pertama untuk aspek evaluasi Anda"}),s.jsxs(pe,{onClick:K,children:[s.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Buat Bagian Pertama"]})]})}):s.jsxs("div",{className:"space-y-6",children:[w?s.jsxs(qP,{sensors:E,collisionDetection:RP,onDragEnd:A,modifiers:[_3,Ere],children:[k&&s.jsxs("div",{className:"fixed top-4 right-4 z-50 bg-primary text-primary-foreground px-4 py-2 rounded-lg shadow-lg flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),"Menyimpan urutan..."]}),s.jsx(XP,{items:W.map($=>$.id),strategy:GP,children:s.jsx("div",{className:"space-y-6",children:W.map(($,q)=>s.jsx(tg.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:s.jsx(NC,{category:$,aspects:$.aspects,categories:i,onAddAspect:z,onEditAspect:Q,onSaveAspect:L,onDeleteAspect:ee=>F(ee),editingAspectId:p,newAspectCategoryId:v,onCancelEdit:ne,loading:h,sectionNumber:q+1,isEditMode:w,onUpdateCategory:G,onDeleteCategory:B,onAspectReorder:async(ee,te)=>{const ie=n;a(de=>de.map(re=>re.id===$.id?{...re,aspects:Au(re.aspects,re.aspects.findIndex(he=>he.id===ee),te)}:re));try{S(!0);const de=n.find(re=>re.id===$.id);if(de){const he=Au(de.aspects,de.aspects.findIndex(ce=>ce.id===ee),te).reduce((ce,Ee,be)=>(ce[Ee.id]=be+1,ce),{});await tr.reorderAspectsInCategory({category_id:$.id,aspect_orders:he}),t({title:"Berhasil",description:"Urutan aspek berhasil diperbarui."})}}catch(de){console.error("Error updating aspect order:",de),a(ie),t({title:"Error",description:(de==null?void 0:de.message)||"Gagal memperbarui urutan aspek.",variant:"destructive"})}finally{S(!1)}}},$.id)},$.id))})})]}):s.jsx("div",{className:"space-y-6",children:W.map(($,q)=>s.jsx(tg.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.2,delay:q*.1},children:s.jsx(NC,{category:$,aspects:$.aspects,categories:i,onAddAspect:z,onEditAspect:Q,onSaveAspect:L,onDeleteAspect:ee=>F(ee),editingAspectId:p,newAspectCategoryId:v,onCancelEdit:ne,loading:h,sectionNumber:q+1,isEditMode:w,onUpdateCategory:G,onDeleteCategory:B},$.id)},$.id))}),w&&s.jsx(tg.div,{className:"flex justify-center mt-8",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.2},children:s.jsxs(pe,{onClick:K,disabled:h,variant:"outline",className:"border-dashed border-2 hover:border-primary hover:bg-primary/5 py-3 px-6",children:[s.jsx(Vs,{className:"h-5 w-5 mr-2"}),"Tambah Bagian"]})})]}),s.jsx(un,{open:T,onOpenChange:_,children:s.jsxs(dn,{className:"max-w-md",children:[s.jsx(hn,{children:s.jsx(fn,{children:"Buat Bagian Baru"})}),s.jsx("div",{className:"py-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(at,{placeholder:"Nama bagian (contoh: Kompetensi Pedagogik)",value:M.name,onChange:$=>P(q=>({...q,name:$.target.value})),onKeyDown:$=>{$.key==="Enter"&&!$.shiftKey&&ae()},autoFocus:!0}),s.jsx(at,{placeholder:"Deskripsi bagian (opsional)",value:M.description||"",onChange:$=>P(q=>({...q,description:$.target.value}))})]})}),s.jsxs(Js,{children:[s.jsx(pe,{variant:"outline",onClick:()=>{_(!1),P({name:"",description:""})},disabled:h,children:"Batal"}),s.jsx(pe,{onClick:ae,disabled:!M.name.trim()||h,children:h?"Membuat...":"Buat Bagian"})]})]})}),s.jsx(cs,{open:O,onOpenChange:H,children:s.jsxs(Wn,{children:[s.jsxs(Zn,{children:[s.jsx(Jn,{children:"Hapus Pertanyaan"}),s.jsxs(es,{children:['Apakah Anda yakin ingin menghapus pertanyaan "',Y==null?void 0:Y.aspect_name,'"? Tindakan ini tidak dapat dibatalkan.']})]}),s.jsxs(Qn,{children:[s.jsx(ns,{onClick:()=>{H(!1),R(null)},children:"Batal"}),s.jsx(ts,{onClick:V,disabled:h,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:h?"Menghapus...":"Hapus"})]})]})}),s.jsxs(Ma,{className:"mt-8",variant:"default",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(il,{className:"h-4 w-4"}),s.jsx(lD,{children:"Panduan Manajemen Aspek Evaluasi"})]}),s.jsxs(Pa,{className:"mt-4 space-y-2",children:[s.jsx("div",{className:"flex flex-col gap-4 text-sm",children:s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:[s.jsx("li",{children:'Klik "Edit Aspek Evaluasi" untuk masuk mode editing'}),s.jsx("li",{children:"Seret untuk mengubah urutan bagian dan pertanyaan"}),s.jsx("li",{children:"Edit nama bagian dengan klik ikon pensil"}),s.jsx("li",{children:"Hapus bagian kosong dengan klik ikon tempat sampah"})]})}),s.jsx("div",{className:"mt-4 p-4 bg-gradient-to-r from-amber-50 to-yellow-50 dark:from-amber-950 dark:to-yellow-950 border border-amber-200 dark:border-amber-800 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"text-lg",children:""}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-amber-800 dark:text-amber-200 mb-1",children:"Tips Penting:"}),s.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-300",children:"Bagian yang sudah memiliki pertanyaan tidak dapat dihapus. Hapus semua pertanyaan dalam bagian terlebih dahulu jika ingin menghapus bagian tersebut."})]})]})})]})]})]}):s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx("h1",{className:"text-2xl font-bold text-destructive mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki izin untuk mengakses halaman manajemen aspek evaluasi."})]})})},R3=t=>t==null?"Belum dinilai":t.toFixed(2),D3=t=>t==null?"Belum dinilai":t.toFixed(2),Tre=({evaluations:t,loading:e=!1,onView:n,onEvaluate:a,onEdit:i,canEdit:o,userRole:c})=>{const u=h=>{const f=c!=="GURU"&&!!a,p=!!i&&!!o&&o(h);return{onView:()=>n(h),onEdit:p?()=>i(h):void 0,onEvaluate:f?()=>a(h):void 0,showView:!0,showEdit:p,showEvaluate:f,showDelete:!1}};return e?s.jsx("div",{className:"rounded-md border",children:s.jsxs(Gs,{children:[s.jsx(Ks,{children:s.jsxs(rt,{children:[s.jsx(_e,{children:"Guru"}),s.jsx(_e,{children:"Jabatan"}),s.jsx(_e,{children:"Sekolah"}),s.jsx(_e,{children:"Evaluator"}),s.jsx(_e,{className:"text-center",children:"Rata-rata Skor"}),s.jsx(_e,{className:"text-center",children:"Nilai Final"}),s.jsx(_e,{className:"w-[100px] text-center",children:"Aksi"})]})}),s.jsx(Xs,{children:[1,2,3,4,5].map(h=>s.jsx(rt,{children:[1,2,3,4,5,6,7].map(f=>s.jsx(Ae,{children:s.jsx("div",{className:"h-4 bg-muted animate-pulse rounded"})},f))},h))})]})}):s.jsx("div",{className:"rounded-md border",children:s.jsxs(Gs,{children:[s.jsx(Ks,{children:s.jsxs(rt,{children:[s.jsx(_e,{children:"Guru"}),s.jsx(_e,{children:"Jabatan"}),s.jsx(_e,{children:"Sekolah"}),s.jsx(_e,{children:"Evaluator"}),s.jsx(_e,{className:"text-center",children:"Rata-rata Skor"}),s.jsx(_e,{className:"text-center",children:"Nilai Final"}),s.jsx(_e,{className:"w-[100px] text-center",children:"Aksi"})]})}),s.jsx(Xs,{children:t.length===0?s.jsx(rt,{children:s.jsx(Ae,{colSpan:7,className:"h-24 text-center text-muted-foreground",children:"Tidak ada data evaluasi guru."})}):t.map(h=>{var f,p,g,v;return s.jsxs(rt,{children:[s.jsx(Ae,{children:((f=h.teacher)==null?void 0:f.full_name)||"N/A"}),s.jsx(Ae,{children:((g=(p=h.teacher)==null?void 0:p.profile)==null?void 0:g.position)||"-"}),s.jsx(Ae,{children:h.organization_name||"N/A"}),s.jsx(Ae,{children:((v=h.evaluator)==null?void 0:v.full_name)||"N/A"}),s.jsx(Ae,{className:"text-center",children:R3(h.average_score)}),s.jsx(Ae,{className:"text-center",children:D3(h.final_grade)}),s.jsx(Ae,{className:"text-center",children:s.jsx(gn,{...u(h)})})]},h.id)})})]})})},_re=({evaluations:t,loading:e=!1,onView:n,onEvaluate:a,onEdit:i,canEdit:o,userRole:c})=>{const u=h=>{const f=c!=="GURU"&&!!a,p=!!i&&!!o&&o(h);return{onView:()=>n(h),onEdit:p?()=>i(h):void 0,onEvaluate:f?()=>a(h):void 0,showView:!0,showEdit:p,showEvaluate:f,showDelete:!1}};return e?s.jsx("div",{className:"grid gap-4",children:[1,2,3,4,5].map(h=>s.jsx(Ne,{children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-4 bg-muted animate-pulse rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-muted animate-pulse rounded w-1/2"}),s.jsx("div",{className:"h-3 bg-muted animate-pulse rounded w-2/3"})]})})},h))}):t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ku,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Tidak ada data evaluasi guru."})]}):s.jsx("div",{className:"grid gap-4",children:t.map(h=>{var f,p,g,v;return s.jsx(Ne,{className:"hover:shadow-md transition-shadow",children:s.jsxs(Se,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(ll,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),s.jsx("span",{className:"font-medium truncate",children:((f=h.teacher)==null?void 0:f.full_name)||"N/A"})]}),((g=(p=h.teacher)==null?void 0:p.profile)==null?void 0:g.position)&&s.jsx("div",{className:"text-sm text-muted-foreground ml-6",children:h.teacher.profile.position})]}),s.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:s.jsx(gn,{...u(h)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ol,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:h.organization_name||"N/A"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(ll,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{children:["Evaluator: ",((v=h.evaluator)==null?void 0:v.full_name)||"N/A"]})]}),s.jsx("div",{className:"flex items-center justify-between pt-2 border-t",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Iu,{className:"h-4 w-4 text-muted-foreground"}),s.jsxs("span",{className:"text-sm",children:["Rata-rata: ",s.jsx("span",{className:"font-medium",children:R3(h.average_score)})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(f7,{className:"h-4 w-4 text-muted-foreground"}),"Nilai: ",D3(h.final_grade)]})]})})]})]})},h.id)})})},Rre=({activePeriod:t,onSuccess:e,triggerButton:n})=>{const{toast:a}=Lt(),[i,o]=x.useState(!1),[c,u]=x.useState(!1),h=async()=>{if(!t){a({title:"Error",description:"Tidak ada periode aktif yang tersedia.",variant:"destructive"});return}try{u(!0);const g=await Bu.assignTeachersToPeriod({period_id:t.id});a({title:g.success?"Berhasil Menetapkan Guru":"Penetapan Guru Selesai",description:g.message||`${g.created_evaluations} evaluasi berhasil dibuat, ${g.skipped_evaluations} sudah ada sebelumnya. Periode: ${g.period_name}`}),e&&e(),o(!1)}catch(g){console.error("Error assigning teachers to period:",g),a({title:"Error",description:(g==null?void 0:g.message)||"Gagal menetapkan guru ke periode. Silakan coba lagi.",variant:"destructive"})}finally{u(!1)}},f=g=>{o(g)},p=s.jsxs(pe,{children:[s.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Tetapkan Guru ke Periode"]});return s.jsxs(un,{open:i,onOpenChange:f,children:[s.jsx(LD,{asChild:!0,children:n||p}),s.jsxs(dn,{children:[s.jsxs(hn,{children:[s.jsx(fn,{children:"Tetapkan Guru ke Periode"}),s.jsx(Vf,{children:t?s.jsxs(s.Fragment,{children:["Membuat evaluasi kosong untuk semua guru di periode aktif: ",s.jsxs("strong",{children:[t.academic_year," - ",t.semester]}),". Sistem akan otomatis membuat aspek evaluasi untuk semua guru aktif dalam periode tersebut."]}):"Tidak ada periode aktif yang tersedia. Pastikan ada periode yang sedang aktif untuk melakukan penetapan guru."})]}),s.jsx("div",{className:"space-y-4 py-4",children:t?s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{children:"Periode Aktif"}),s.jsxs("div",{className:"p-3 bg-primary/10 border border-primary/20 rounded-md",children:[s.jsxs("div",{className:"font-medium text-primary",children:[t.academic_year," - ",t.semester]}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Evaluasi akan otomatis dibuat untuk periode yang sedang aktif"})]})]}):s.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-md",children:[s.jsx("div",{className:"font-medium text-destructive",children:"Tidak ada periode aktif"}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Pastikan ada periode yang sedang aktif untuk melakukan penetapan guru"})]})}),s.jsxs(Js,{children:[s.jsx(pe,{variant:"outline",onClick:()=>o(!1),disabled:c,children:"Batal"}),s.jsx(pe,{onClick:h,disabled:!t||c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(G_,{className:"h-4 w-4 mr-2 animate-spin"}),"Menetapkan..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Tetapkan Guru"]})})]})]})]})},Dre=({aspect:t,control:e,name:n,questionNumber:a,disabled:i=!1,value:o})=>s.jsx("div",{className:"group bg-card border rounded-lg p-6 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex flex-col lg:flex-row items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-primary",children:a})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-normal mb-2",children:t.aspect_name}),t.description&&s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:t.description}),s.jsx("div",{className:"inline-flex items-center px-2 py-1 bg-muted rounded text-xs text-muted-foreground mb-4",children:"Tipe: Pilihan Ganda (A-D)"})]})}),s.jsx("div",{className:"space-y-2",children:i&&o||!e?s.jsx(s.Fragment,{children:PE.map(c=>s.jsxs("div",{className:`flex items-center space-x-2 p-2 border rounded-md ${o===c.value?"bg-primary/10 border-primary":"bg-muted/30 hover:bg-muted/30"}`,children:[s.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${o===c.value?"border-primary bg-primary":"border-border"}`,children:o===c.value&&s.jsx("div",{className:"w-full h-full rounded-full bg-white scale-50"})}),s.jsxs("span",{className:`text-sm ${o===c.value?"font-medium":""}`,children:[c.label," - ",c.description," (",c.score,")"]})]},c.value))}):e?s.jsx(IC,{name:n,control:e,render:({field:c,fieldState:{error:u}})=>s.jsxs(s.Fragment,{children:[PE.map(h=>s.jsxs("div",{className:`flex items-center space-x-2 p-2 border rounded-md cursor-pointer hover:bg-muted/30 transition-colors ${c.value===h.value?"bg-primary/10 border-primary":"border-border"}`,onClick:()=>!i&&c.onChange(h.value),children:[s.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${c.value===h.value?"border-primary bg-primary":"border-border"}`,children:c.value===h.value&&s.jsx("div",{className:"w-full h-full rounded-full bg-white scale-50"})}),s.jsxs(Pe,{className:"flex-1 text-sm cursor-pointer",children:[h.label," - ",h.description," (",h.score,")"]})]},h.value)),u&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:u.message})]})}):null})]})]})}),Mre=({category:t,aspects:e,control:n,sectionNumber:a,disabled:i=!1,evaluationData:o})=>{const c=e.filter(u=>u.category_name===t).sort((u,h)=>(u.display_order||0)-(h.display_order||0));return s.jsxs("div",{className:"bg-card rounded-lg border overflow-hidden",children:[s.jsxs("div",{className:"border-l-4 border-primary bg-muted/50 px-4 sm:px-6 py-4",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-wrap",children:[s.jsxs("span",{className:"text-sm text-primary font-medium whitespace-nowrap",children:["Bagian ",a]}),s.jsx("div",{className:"w-1 h-1 bg-muted-foreground rounded-full"}),s.jsxs("span",{className:"text-muted-foreground text-sm whitespace-nowrap",children:[c.length," aspek penilaian"]})]}),s.jsx("h2",{className:"text-lg sm:text-xl font-medium mt-1 break-words",children:t})]}),s.jsx("div",{className:"p-6 space-y-6",children:c.length===0?s.jsx("div",{className:"text-center py-12 border-2 border-dashed border-border rounded-lg",children:s.jsx("p",{className:"text-muted-foreground text-sm",children:"Tidak ada aspek penilaian dalam bagian ini"})}):s.jsx("div",{className:"space-y-6",children:c.map((u,h)=>s.jsx(Dre,{aspect:u,control:n,name:`aspects.${u.id}`,questionNumber:h+1,disabled:i,value:o==null?void 0:o[u.id.toString()]},u.id))})})]})},Pre=()=>{const{currentRole:t,isAdmin:e,isKepalaSekolah:n}=us(),{user:a}=fr(),{toast:i}=Lt(),o=ki();if(t==="GURU")return s.jsx(eo,{to:"/my-evaluations",replace:!0});const{updateURL:c,getCurrentFilters:u}=xa({defaults:{search:"",period_id:"active",organization_id:"all",page:1,size:10},cleanDefaults:!0}),h=u(),[f,p]=x.useState([]),[g,v]=x.useState([]),[y,w]=x.useState([]),[j,k]=x.useState(null),[S,E]=x.useState(!0),[A,T]=x.useState(0),[_,M]=x.useState(0),P=e()||n(),O=async()=>{E(!0);try{const B={skip:(h.page-1)*h.size,limit:h.size};h.period_id==="active"&&j?B.period_id=j.id:h.period_id!=="active"&&e()?B.period_id=Number(h.period_id):e()||(B.period_id=j==null?void 0:j.id),h.search&&h.search.trim()&&(B.search=h.search.trim()),e()&&h.organization_id!=="all"&&(B.organization_id=Number(h.organization_id));const W=await Bu.getTeacherEvaluationsFiltered(B);p(W.items||[]),T(W.total||0),M(W.pages||0)}catch(B){console.error("Error loading evaluations:",B);const W=(B==null?void 0:B.message)||"Gagal memuat data evaluasi. Silakan coba lagi.";i({title:"Error",description:W,variant:"destructive"})}finally{E(!1)}},H=async()=>{if(e())try{const B=await Pr.getOrganizations();v(B.items||[])}catch(B){console.error("Error loading organizations:",B)}},Y=async()=>{try{const B=await Nn.getPeriods({page:1,size:100});w(B.items||[])}catch(B){console.error("Error loading periods:",B)}},R=async()=>{try{const B=await Nn.getActivePeriod();k(B)}catch(B){console.error("Error loading active period:",B);try{const $=(await Nn.getPeriods({is_active:!0,page:1,size:100})).items||[];$.length>0&&k($[0])}catch(W){console.error("Error in fallback active period load:",W)}}};x.useEffect(()=>{P&&(H(),Y(),R())},[P]),x.useEffect(()=>{j&&(h.period_id==="active"||!h.period_id)&&c({period_id:j.id.toString()})},[j]),x.useEffect(()=>{P&&O()},[h.page,h.size,h.search,h.period_id,h.organization_id,P]);const X=B=>{var q;const W=h.period_id==="active"&&j?j.id:h.period_id,$=B.teacher_id||((q=B.teacher)==null?void 0:q.id);o(`/teacher-evaluations/${$}?period_id=${W}`)},z=B=>{var q;const W=h.period_id==="active"&&j?j.id:h.period_id,$=B.teacher_id||((q=B.teacher)==null?void 0:q.id);o(`/teacher-evaluations/${$}?period_id=${W}&edit=true`)},Q=B=>{var W;return!j||B.period_id!==j.id?!1:e()?!0:n()?((W=B.teacher)==null?void 0:W.organization_id)===(a==null?void 0:a.organization_id):!1},ne=()=>{O()},L=B=>{c({size:parseInt(B),page:1})},F=x.useCallback(B=>{B!==h.search&&c({search:B,page:1})},[c,h.search]),V=x.useCallback(B=>{B!==h.period_id&&c({period_id:B,page:1})},[c,h.period_id]),K=x.useCallback(B=>{B!==h.organization_id&&c({organization_id:B,page:1})},[c,h.organization_id]),ae=B=>{c({page:B})},G=()=>{let B="Evaluasi Guru";const W=[];if(h.period_id==="active")W.push("Periode Aktif");else if(e()&&h.period_id!=="active"){const $=y.find(q=>q.id===Number(h.period_id));$&&W.push(`${$.academic_year} - ${$.semester}`)}if(e()&&h.organization_id!=="all"){const $=g.find(q=>q.id===Number(h.organization_id));$&&W.push($.name)}else n()&&W.push("Sekolah Saya");return W.length>0&&(B+=" - "+W.join(" - ")),B};return P?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ms,{title:"Evaluasi Guru",description:"Daftar evaluasi kinerja guru berdasarkan periode dan Sekolah",actions:e()&&s.jsx(Rre,{activePeriod:j,onSuccess:ne})}),s.jsxs(Ur,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"period-filter",children:"Periode"}),s.jsxs(zt,{value:h.period_id,onValueChange:V,children:[s.jsx(Pt,{id:"period-filter",children:s.jsx(Ut,{placeholder:"Pilih periode"})}),s.jsx(Ot,{children:y.map(B=>s.jsxs(Ie,{value:B.id.toString(),children:[B.academic_year," - ",B.semester,B.is_active?" (Aktif)":""]},B.id))})]})]}),e()&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"organization-filter",children:"Sekolah"}),s.jsxs(zt,{value:h.organization_id,onValueChange:K,children:[s.jsx(Pt,{id:"organization-filter",children:s.jsx(Ut,{placeholder:"Filter berdasarkan Sekolah"})}),s.jsxs(Ot,{children:[s.jsx(Ie,{value:"all",children:"Semua Sekolah"}),g.map(B=>s.jsx(Ie,{value:B.id.toString(),children:B.name},B.id))]})]})]})]}),s.jsx(Ne,{children:s.jsx(Se,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(hr,{title:G(),subtitle:"Daftar evaluasi kinerja guru berdasarkan periode dan Sekolah"}),s.jsx(Hr,{searchQuery:h.search,onSearchChange:F,placeholder:"Cari berdasarkan nama guru..."}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(Tre,{evaluations:f,loading:S,onView:X,onEdit:z,canEdit:Q,userRole:t})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(_re,{evaluations:f,loading:S,onView:X,onEdit:z,canEdit:Q,userRole:t})}),_>1&&s.jsx(Ua,{currentPage:h.page,totalPages:_,itemsPerPage:h.size,totalItems:A,onPageChange:ae,onItemsPerPageChange:L})]})})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki akses untuk melihat halaman ini."})]})})};class Ore{constructor(){Me(this,"doc");Me(this,"pageWidth");Me(this,"pageHeight");Me(this,"margin");Me(this,"currentY");this.doc=new g6("portrait","mm","a4"),this.pageWidth=this.doc.internal.pageSize.getWidth(),this.pageHeight=this.doc.internal.pageSize.getHeight(),this.margin=20,this.currentY=this.margin}addHeader(e){this.doc.setFontSize(16),this.doc.setFont("helvetica","bold");const n=this.pageWidth/2;this.doc.text("YAYASAN BAITUL MUSLIM",n,this.currentY,{align:"center"}),this.currentY+=6,this.doc.text("LAMPUNG TIMUR",n,this.currentY,{align:"center"}),this.currentY+=6,e.organizationName&&(this.doc.text(e.organizationName.toUpperCase(),n,this.currentY,{align:"center"}),this.currentY+=6),this.doc.setFontSize(10),this.doc.setFont("helvetica","normal"),this.doc.text("Jl. Ir. H. Djuanda No. 19 Labuhan Ratu Satu",n,this.currentY,{align:"center"}),this.currentY+=4,this.doc.text("Way Jepara, Lampung Timur | Website: baitul-muslim.sch.id",n,this.currentY,{align:"center"}),this.currentY+=8,this.doc.setLineWidth(.5),this.doc.line(this.margin,this.currentY,this.pageWidth-this.margin,this.currentY),this.currentY+=10,this.doc.setFontSize(14),this.doc.setFont("helvetica","bold"),this.doc.text("LAPORAN HASIL EVALUASI KINERJA GURU",n,this.currentY,{align:"center"}),this.currentY+=8,this.doc.setFontSize(10),this.doc.setFont("helvetica","normal");const a=`Nomor: ${Math.floor(Math.random()*1e3)}/EVAL/DISDIK/${new Date().getFullYear()}`;this.doc.text(a,n,this.currentY,{align:"center"}),this.currentY+=6;const i=`Tanggal: ${new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})}`;this.doc.text(i,n,this.currentY,{align:"center"}),this.currentY+=15}addTeacherInfo(e){this.doc.setFontSize(11),this.doc.setFont("helvetica","bold"),this.doc.text("DATA GURU YANG DIEVALUASI",this.margin,this.currentY),this.currentY+=8,this.doc.setFont("helvetica","normal"),[["Nama Guru",":",e.teacherName],["NIP",":",e.teacherNip||"-"],["Periode Evaluasi",":",`${e.periodAcademicYear} - ${e.periodSemester}`],["Tanggal Evaluasi",":",e.evaluationDate],["Nama Evaluator",":",e.evaluatorName]].forEach(([a,i,o])=>{this.doc.text(a,this.margin,this.currentY),this.doc.text(i,this.margin+40,this.currentY),this.doc.text(o,this.margin+45,this.currentY),this.currentY+=5}),this.currentY+=10}addEvaluationResults(e){this.doc.setFontSize(11),this.doc.setFont("helvetica","bold"),this.doc.text("HASIL EVALUASI",this.margin,this.currentY),this.currentY+=8,this.doc.setFontSize(10),this.doc.setFont("helvetica","normal"),this.doc.text(`Rata-rata Skor: ${e.averageScore.toFixed(2)} / 4.0`,this.margin,this.currentY),this.currentY+=8,e.evaluationResults.forEach((n,a)=>{this.currentY>this.pageHeight-50&&(this.doc.addPage(),this.currentY=this.margin),this.doc.setFont("helvetica","bold"),this.doc.text(`${a+1}. ${n.category}`,this.margin,this.currentY),this.currentY+=6;const i=n.aspects.map((o,c)=>[(c+1).toString(),o.aspectName,o.grade,o.score.toString(),this.getGradeDescription(o.grade)]);x6(this.doc,{startY:this.currentY,head:[["No","Aspek Penilaian","Nilai","Skor","Keterangan"]],body:i,theme:"grid",styles:{fontSize:9,cellPadding:2},headStyles:{fillColor:[240,240,240],textColor:[0,0,0],fontStyle:"bold"},columnStyles:{0:{cellWidth:10,halign:"center"},1:{cellWidth:80},2:{cellWidth:15,halign:"center"},3:{cellWidth:15,halign:"center"},4:{cellWidth:50}},margin:{left:this.margin,right:this.margin}}),this.currentY=this.doc.lastAutoTable.finalY+8})}addNotes(e){if(e.notes&&e.notes.trim()){this.currentY>this.pageHeight-40&&(this.doc.addPage(),this.currentY=this.margin),this.doc.setFontSize(11),this.doc.setFont("helvetica","bold"),this.doc.text("CATATAN EVALUASI",this.margin,this.currentY),this.currentY+=8,this.doc.setFontSize(10),this.doc.setFont("helvetica","normal");const n=this.pageWidth-2*this.margin;this.doc.splitTextToSize(e.notes,n).forEach(i=>{this.currentY>this.pageHeight-20&&(this.doc.addPage(),this.currentY=this.margin),this.doc.text(i,this.margin,this.currentY),this.currentY+=5}),this.currentY+=10}}addFooter(){const e=this.doc.getNumberOfPages();for(let n=1;n<=e;n++)this.doc.setPage(n),this.doc.setLineWidth(.3),this.doc.line(this.margin,this.pageHeight-15,this.pageWidth-this.margin,this.pageHeight-15),this.doc.setFontSize(8),this.doc.setFont("helvetica","normal"),this.doc.text(`Halaman ${n} dari ${e}`,this.pageWidth/2,this.pageHeight-10,{align:"center"}),this.doc.text("Laporan Evaluasi Kinerja Guru - Dinas Pendidikan",this.pageWidth/2,this.pageHeight-6,{align:"center"})}getGradeDescription(e){switch(e){case"A":return"Sangat Baik";case"B":return"Baik";case"C":return"Cukup";case"D":return"Perlu Perbaikan";default:return"-"}}generatePDF(e){return this.addHeader(e),this.addTeacherInfo(e),this.addEvaluationResults(e),this.addNotes(e),this.addFooter(),this.doc}downloadPDF(e,n){const a=this.generatePDF(e),i=n||`Evaluasi_${e.teacherName.replace(/\s+/g,"_")}_${e.periodAcademicYear}_${e.periodSemester}.pdf`;a.save(i)}}const Lre=(t,e)=>{new Ore().downloadPDF(t,e)},Ire=Ws({aspects:p6(ct(),ct().optional()),notes:ct().optional()}),Bre=()=>{var te,ie,de,re,he,ce,Ee;const{teacherId:t}=Lg(),[e]=Og(),{isAdmin:n,isKepalaSekolah:a}=us(),{user:i}=fr(),{toast:o}=Lt(),{updateURL:c,getCurrentFilters:u}=xa({defaults:{period_id:""},cleanDefaults:!0}),h=u(),[f,p]=x.useState(null),[g,v]=x.useState([]),[y,w]=x.useState([]),[j,k]=x.useState(null),[S,E]=x.useState(null),[A,T]=x.useState(!1),[_,M]=x.useState("view"),[P,O]=x.useState(!1),H=js({resolver:ws(Ire),defaultValues:{aspects:{},notes:""}}),Y=(be,De,Te)=>{var Ze;if(De.id!==Te.id)return!1;const Oe=(i==null?void 0:i.id)===Number(t);return n()?!0:a()?!Oe&&((Ze=be.teacher)==null?void 0:Ze.organization_id)===(i==null?void 0:i.organization_id):!1},R=async()=>{try{const be=await Nn.getPeriods({page:1,size:100});w(be.items||[])}catch(be){console.error("Error loading periods:",be)}},X=x.useCallback(async()=>{var be,De,Te;if(!P){O(!0);try{if(!h.period_id){O(!1);return}const Oe=Number(h.period_id),Ze=await Bu.getTeacherEvaluationByPeriod(Number(t),Oe);if(!j||j.id!==Oe)try{const He=await Nn.getPeriodById(Oe);k(He)}catch(He){console.error("Error loading period by ID:",He);const Re=y.find(Je=>Je.id===Oe);Re&&k(Re)}const qe={};(be=Ze==null?void 0:Ze.items)==null||be.forEach(He=>{qe[He.aspect_id.toString()]=He.grade||""}),H.reset({aspects:qe,notes:(Ze==null?void 0:Ze.final_notes)||""}),p(Ze),M("view")}catch(Oe){if(console.error("Error loading evaluation detail:",Oe),(De=Oe==null?void 0:Oe.message)!=null&&De.includes("tidak ditemukan")||(Te=Oe==null?void 0:Oe.message)!=null&&Te.includes("not found")){p(null),O(!1);return}}finally{O(!1)}}},[t,h.period_id]);x.useEffect(()=>{t&&(R(),z(),Q())},[t]),x.useEffect(()=>{t&&h.period_id&&X()},[t,h.period_id]),x.useEffect(()=>{const De=new URLSearchParams(window.location.search).get("period_id");t&&De&&!h.period_id&&c({period_id:De})},[t]),x.useEffect(()=>{y.length>0&&S&&!h.period_id&&c({period_id:S.id.toString()})},[S,h.period_id,c]),x.useEffect(()=>{e.get("edit")==="true"&&f&&j&&S?Y(f,j,S)?M("edit"):(M("view"),o({title:"Akses Ditolak",description:"Anda tidak memiliki izin untuk mengedit evaluasi ini.",variant:"destructive"})):M("view")},[e,f,j,S,n,a,i]);const z=async()=>{try{const Te=(await tr.getCategories()||[]).filter(qe=>qe.is_active).map(async qe=>{try{const He=await tr.getCategoryWithAspects(qe.id);return{...He,aspects:He.aspects.filter(Re=>Re.is_active)}}catch(He){return console.error(`Error loading aspects for category ${qe.id}:`,He),null}}),Ze=(await Promise.all(Te)).filter(qe=>qe!==null&&qe.aspects.length>0).sort((qe,He)=>qe.display_order-He.display_order);v(Ze)}catch(be){console.error("Error loading categories with aspects:",be)}},Q=async()=>{try{const be=await Nn.getActivePeriod();E(be)}catch(be){console.error("Error loading active period:",be);try{const Te=(await Nn.getPeriods({is_active:!0,page:1,size:100})).items||[];Te.length>0&&E(Te[0])}catch(De){console.error("Error in fallback active period load:",De)}}},ne=async be=>{if(!(!t||!j))try{T(!0);const De={item_updates:[]};if(Object.entries(be.aspects).forEach(([Te,Oe])=>{Oe&&De.item_updates.push({aspect_id:Number(Te),grade:Oe,notes:be.notes})}),f)await Bu.bulkUpdateEvaluationItems(f.id,De);else{const Te=De.item_updates.map(Ze=>({aspect_id:Ze.aspect_id,grade:Ze.grade,notes:Ze.notes})),Oe={teacher_id:Number(t),evaluator_id:(i==null?void 0:i.id)||1,period_id:j.id,final_notes:be.notes,items:Te};await Bu.createEvaluationWithItems(Oe)}o({title:"Berhasil",description:"Evaluasi berhasil disimpan."}),await X()}catch(De){console.error("Error saving evaluation:",De),o({title:"Error",description:(De==null?void 0:De.message)||"Gagal menyimpan evaluasi. Silakan coba lagi.",variant:"destructive"})}finally{T(!1)}},L=()=>{const be=S&&j&&S.id===j.id;if(!f||!j||!S)return;Y(f,j,S)&&g.length>0&&be&&M(_==="view"?"edit":"view")},F=()=>{var be,De,Te;if(!f||!j){o({title:"Error",description:"Data evaluasi tidak lengkap untuk generate PDF.",variant:"destructive"});return}try{const Oe={teacherName:((be=W.teacher)==null?void 0:be.display_name)||"N/A",teacherNip:"",evaluatorName:((De=f==null?void 0:f.evaluator)==null?void 0:De.full_name)||((Te=f==null?void 0:f.evaluator)==null?void 0:Te.display_name)||"N/A",periodAcademicYear:j.academic_year,periodSemester:j.semester,evaluationDate:f!=null&&f.last_updated?new Date(f.last_updated).toLocaleDateString("id-ID"):new Date().toLocaleDateString("id-ID"),organizationName:"",evaluationResults:K.map(Ze=>({category:Ze.name,aspects:Ze.aspects.map(qe=>{var Re;const He=(Re=f==null?void 0:f.items)==null?void 0:Re.find(Je=>Je.aspect_id===qe.id);return{aspectName:qe.aspect_name,description:qe.description,grade:(He==null?void 0:He.grade)||"N/A",score:(He==null?void 0:He.score)||0}})})),averageScore:f.average_score||0,notes:(f==null?void 0:f.final_notes)||""};Lre(Oe),o({title:"Berhasil",description:"PDF laporan evaluasi berhasil diunduh."})}catch(Oe){console.error("Error generating PDF:",Oe),o({title:"Error",description:"Gagal generate PDF. Silakan coba lagi.",variant:"destructive"})}},V=be=>{c({period_id:be})},K=g,ae=S&&j&&S.id===j.id,G=f&&j&&S?Y(f,j,S)&&ae:!1,B={};(te=f==null?void 0:f.items)==null||te.forEach(be=>{B[be.aspect_id.toString()]=be.grade||""});const W=f||{teacher_name:`Teacher ${t}`,teacher_id:Number(t),teacher:{display_name:`Teacher ${t}`}},$=(i==null?void 0:i.id)===Number(t),q=()=>$?"Evaluasi Saya":"Detail Evaluasi Guru",ee=()=>{var be;return $?`Detail evaluasi untuk periode ${(j==null?void 0:j.academic_year)||""} - ${(j==null?void 0:j.semester)||""}`:`Evaluasi kinerja ${((be=W.teacher)==null?void 0:be.display_name)||"N/A"}`};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ms,{title:q(),description:ee(),actions:s.jsxs("div",{className:"flex items-center gap-2",children:[f&&s.jsxs(cs,{children:[s.jsx(Xu,{asChild:!0,children:s.jsxs(pe,{variant:"default",children:[s.jsx(sf,{className:"h-4 w-4 mr-2"}),"Unduh PDF"]})}),s.jsxs(Wn,{children:[s.jsxs(Zn,{children:[s.jsx(Jn,{children:"Konfirmasi Unduh PDF"}),s.jsxs(es,{children:["Apakah Anda yakin ingin mengunduh laporan evaluasi untuk ",s.jsx("strong",{children:((ie=W.teacher)==null?void 0:ie.display_name)||"N/A"})," periode ",j==null?void 0:j.academic_year," - ",j==null?void 0:j.semester," dalam format PDF?"]})]}),s.jsxs(Qn,{children:[s.jsx(ns,{children:"Batal"}),s.jsx(ts,{onClick:F,children:"Ya, Unduh PDF"})]})]})]}),G&&g.length>0&&s.jsx(pe,{variant:"outline",onClick:L,children:_==="view"?s.jsxs(s.Fragment,{children:[s.jsx(Wo,{className:"h-4 w-4 mr-2"}),"Ubah Nilai"]}):s.jsxs(s.Fragment,{children:[s.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Lihat"]})})]})}),s.jsx(Ur,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"period-filter",children:"Periode"}),s.jsxs(zt,{value:h.period_id,onValueChange:V,children:[s.jsx(Pt,{id:"period-filter",children:s.jsx(Ut,{placeholder:"Pilih periode"})}),s.jsx(Ot,{children:y.map(be=>s.jsxs(Ie,{value:be.id.toString(),children:[be.academic_year," - ",be.semester,be.is_active?" (Aktif)":""]},be.id))})]})]})}),g.length===0&&s.jsx(Ne,{children:s.jsx(Se,{className:"py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aspek Evaluasi Tidak Ditemukan"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Tidak ada aspek evaluasi yang aktif dalam sistem."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Hubungi administrator untuk mengatur aspek evaluasi."})]})})}),g.length>0&&!f&&s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Evaluasi Guru Belum Ada"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:j!=null&&j.academic_year&&(j!=null&&j.semester)?`Belum ada evaluasi untuk periode ${j.academic_year} - ${j.semester}.`:"Belum ada evaluasi untuk periode ini."}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pilih periode lain menggunakan filter di atas untuk mencari evaluasi guru."})]})}),g.length>0&&f&&s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsx(pt,{children:"Informasi Evaluasi"})}),s.jsx(Se,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Guru"}),s.jsx("p",{className:"text-sm",children:f?((de=W.teacher)==null?void 0:de.display_name)||`Teacher ${t}`:`Teacher ${t}`})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Evaluator"}),s.jsx("p",{className:"text-sm",children:((re=f==null?void 0:f.evaluator)==null?void 0:re.full_name)||"-"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Periode"}),s.jsx("p",{className:"text-sm",children:j?`${j.academic_year} - ${j.semester}`:"N/A"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Total Aspek"}),s.jsxs("p",{className:"text-sm",children:[g.reduce((be,De)=>be+De.aspects.length,0)," aspek"]})]}),f&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Aspek Dinilai"}),s.jsxs("p",{className:"text-sm",children:[((he=f.items)==null?void 0:he.length)||0," aspek"]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Rata-rata Skor"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg font-medium",children:((ce=f.average_score)==null?void 0:ce.toFixed(1))||"0.0"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/ 4.0"})]})]}),f.last_updated&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Tanggal Evaluasi"}),s.jsx("p",{className:"text-sm",children:new Date(f.last_updated).toLocaleDateString("id-ID")})]})]})]})})]}),g.length>0&&f&&s.jsx(Hn,{...H,children:s.jsxs("form",{onSubmit:H.handleSubmit(ne),className:"space-y-6",children:[K.map((be,De)=>s.jsx(Mre,{category:be.name,aspects:be.aspects,control:_==="edit"?H.control:void 0,sectionNumber:De+1,disabled:_==="view",evaluationData:B},be.name)),((f==null?void 0:f.final_notes)||_==="edit")&&s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsx(pt,{children:"Catatan Evaluasi"})}),s.jsx(Se,{children:_==="edit"?s.jsx("textarea",{...H.register("notes"),placeholder:"Tambahkan catatan untuk evaluasi ini...",className:"w-full min-h-[100px] p-3 border rounded-md resize-none focus:outline-none focus:ring-2 focus:ring-primary"}):s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:(f==null?void 0:f.final_notes)||"Tidak ada catatan"})})]}),_==="edit"&&s.jsx("div",{className:"flex justify-end",children:s.jsxs(cs,{children:[s.jsx(Xu,{asChild:!0,children:s.jsx(pe,{type:"button",disabled:A,children:A?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Menyimpan..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qi,{className:"h-4 w-4 mr-2"}),"Simpan Nilai Evaluasi"]})})}),s.jsxs(Wn,{children:[s.jsxs(Zn,{children:[s.jsx(Jn,{children:"Konfirmasi Simpan Evaluasi"}),s.jsxs(es,{children:["Apakah Anda yakin ingin menyimpan evaluasi untuk ",s.jsx("strong",{children:((Ee=W.teacher)==null?void 0:Ee.display_name)||"N/A"})," periode ",j==null?void 0:j.academic_year," - ",j==null?void 0:j.semester,"?",s.jsx("br",{}),s.jsx("br",{}),"Data evaluasi yang telah disimpan dapat diubah kembali selama periode masih aktif."]})]}),s.jsxs(Qn,{children:[s.jsx(ns,{children:"Batal"}),s.jsx(ts,{onClick:H.handleSubmit(ne),children:"Ya, Simpan Evaluasi"})]})]})]})})]})})]})},zre={title:{font:{bold:!0,size:18,color:{argb:"FF1565C0"}},alignment:{horizontal:"center",vertical:"middle"},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFE3F2FD"}},height:35},headerInfo:{font:{bold:!0,size:12,color:{argb:"FF424242"}},alignment:{horizontal:"left",vertical:"middle"},height:25},tableHeader:{font:{bold:!0,size:13,color:{argb:"FFFFFFFF"}},alignment:{horizontal:"center",vertical:"middle"},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF1976D2"}},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},height:30},tableData:{font:{size:11,color:{argb:"FF212121"}},alignment:{horizontal:"left",vertical:"top",wrapText:!0},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},wrapText:!0},noData:{font:{italic:!0,size:11},alignment:{horizontal:"center",vertical:"middle"}}},Ure=async(t,e,n)=>{try{const a=await BC(()=>import("./exceljs.min-C9H5vAEu.js").then(_=>_.e),__vite__mapDeps([0,1,2])),i={...zre,...n},{title:o,fileName:c,columns:u,headerInfo:h=[],data:f,sheetName:p="Sheet1",noDataMessage:g="Tidak ada data",successMessage:v="Data berhasil diekspor ke Excel."}=t,y=new a.Workbook,w=y.addWorksheet(p);w.columns=u.map(_=>({width:_.width}));let j=1;const k=`A${j}:${String.fromCharCode(64+u.length)}${j}`;w.mergeCells(k);const S=w.getCell(`A${j}`);if(S.value=o,i.title&&(S.font=i.title.font,S.alignment=i.title.alignment,S.fill=i.title.fill,i.title.height&&(w.getRow(j).height=i.title.height)),j++,w.addRow([]),j++,h.length>0&&(h.forEach(_=>{const M=`A${j}:${String.fromCharCode(64+u.length)}${j}`;w.mergeCells(M);const P=w.getCell(`A${j}`);P.value=`${_.label}: ${_.value}`,i.headerInfo&&(P.font=i.headerInfo.font,P.alignment=i.headerInfo.alignment,i.headerInfo.height&&(w.getRow(j).height=i.headerInfo.height)),j++}),w.addRow([]),j++),f.length>0){const _=w.addRow(u.map(M=>M.header));i.tableHeader&&(i.tableHeader.height&&(_.height=i.tableHeader.height),_.eachCell(M=>{var P,O,H,Y;M.font=(P=i.tableHeader)==null?void 0:P.font,M.alignment=(O=i.tableHeader)==null?void 0:O.alignment,M.fill=(H=i.tableHeader)==null?void 0:H.fill,M.border=(Y=i.tableHeader)==null?void 0:Y.border})),f.forEach((M,P)=>{const O=w.addRow(u.map((H,Y)=>H.key?M[H.key]:Y===0&&H.header.toLowerCase().includes("no")?P+1:M[Y]||""));i.tableData&&O.eachCell((H,Y)=>{var R,X,z,Q,ne,L;H.font=(R=i.tableData)==null?void 0:R.font,H.alignment={...(X=i.tableData)==null?void 0:X.alignment,horizontal:Y===1?"center":((Q=(z=i.tableData)==null?void 0:z.alignment)==null?void 0:Q.horizontal)||"left"},H.border=(ne=i.tableData)==null?void 0:ne.border,(L=i.tableData)!=null&&L.wrapText&&(H.alignment={...H.alignment,wrapText:!0})})})}else{const _=w.addRow([g]),M=`A${_.number}:${String.fromCharCode(64+u.length)}${_.number}`;w.mergeCells(M);const P=w.getCell(`A${_.number}`);i.noData&&(P.alignment=i.noData.alignment,P.font=i.noData.font)}y.creator="Sistem Evaluasi",y.created=new Date,y.modified=new Date;const E=await y.xlsx.writeBuffer(),A=new Blob([E],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),T=document.createElement("a");T.href=URL.createObjectURL(A),T.download=c,T.click(),URL.revokeObjectURL(T.href),e({title:"Export Berhasil",description:v,variant:"default"})}catch(a){console.error("Failed to export Excel:",a),e({title:"Export Gagal",description:"Gagal mengekspor data ke Excel. Silakan coba lagi.",variant:"destructive"})}},$re=async(t,e,n)=>{var p,g,v,y,w;const a=new Date().toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}),i=((p=t.top_performers)==null?void 0:p.map((j,k)=>({no:k+1,teacher_name:j.teacher_name,organization_name:j.organization_name,total_score:j.total_score,average_score:j.average_score.toFixed(2),final_grade:j.final_grade.toFixed(2),final_grade_letter:j.final_grade_letter})))||[],o=[{grade:"A - Sangat Baik",count:((g=t.final_grade_distribution)==null?void 0:g.A)||0},{grade:"B - Baik",count:((v=t.final_grade_distribution)==null?void 0:v.B)||0},{grade:"C - Cukup",count:((y=t.final_grade_distribution)==null?void 0:y.C)||0},{grade:"D - Perlu Perbaikan",count:((w=t.final_grade_distribution)==null?void 0:w.D)||0}],c=t.completion_percentage||0,u=t.average_score?t.average_score.toFixed(2):"0.00",h={title:"Laporan Evaluasi Kinerja Guru",fileName:`Laporan_Evaluasi_${e.academic_year}_${e.semester}_${new Date().getFullYear()}.xlsx`,sheetName:"Ringkasan Guru",columns:[{width:5,header:"No"},{width:30,header:"Nama Guru",key:"teacher_name"},{width:25,header:"Sekolah",key:"organization_name"},{width:15,header:"Total Skor",key:"total_score"},{width:18,header:"Rata-rata Skor",key:"average_score"},{width:18,header:"Nilai Akhir",key:"final_grade"},{width:15,header:"Index",key:"final_grade_letter"}],headerInfo:[{label:"Yayasan",value:"Yayasan Baitul Muslim Lampung Timur"},{label:"Alamat",value:"Jl. Ir. H. Djuanda No. 19 Labuhan Ratu Satu, Way Jepara, Lampung Timur"},{label:"Periode Evaluasi",value:`${e.academic_year} - ${e.semester}`},{label:"Tanggal Laporan",value:a},{label:"Total Guru",value:t.total_teachers.toString()},{label:"Total Evaluasi",value:`${t.completed_evaluations} dari ${t.total_evaluations}`},{label:"Persentase Selesai",value:`${c.toFixed(1)}%`},{label:"Rata-rata Keseluruhan",value:`${u} / 4.0`}],data:i,noDataMessage:"Tidak ada data guru",successMessage:`Laporan evaluasi periode ${e.academic_year} - ${e.semester} berhasil diekspor ke Excel.`,errorMessage:"Gagal mengekspor laporan ke Excel. Silakan coba lagi."};await Ure(h,n,{title:{font:{bold:!0,size:16,color:{argb:"FF047857"}},alignment:{horizontal:"center",vertical:"middle"},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FFE6FFFA"}},height:35},tableHeader:{font:{bold:!0,size:12,color:{argb:"FFFFFFFF"}},alignment:{horizontal:"center",vertical:"middle"},fill:{type:"pattern",pattern:"solid",fgColor:{argb:"FF047857"}},border:{top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},height:30}});try{const j=await BC(()=>import("./exceljs.min-C9H5vAEu.js").then(P=>P.e),__vite__mapDeps([0,1,2])),S=new j.Workbook().addWorksheet("Distribusi Nilai");S.columns=[{width:25,header:"Nilai"},{width:15,header:"Jumlah"},{width:15,header:"Persentase"}];let E=1;const A=`A${E}:C${E}`;S.mergeCells(A);const T=S.getCell(`A${E}`);T.value="Distribusi Nilai Evaluasi",T.font={bold:!0,size:16,color:{argb:"FF047857"}},T.alignment={horizontal:"center",vertical:"middle"},T.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE6FFFA"}},S.getRow(E).height=35,E+=3,S.addRow(["Nilai","Jumlah","Persentase"]).eachCell(P=>{P.font={bold:!0,size:12,color:{argb:"FFFFFFFF"}},P.alignment={horizontal:"center",vertical:"middle"},P.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF047857"}},P.border={top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}});const M=o.reduce((P,O)=>P+O.count,0);o.forEach(P=>{const O=M>0?(P.count/M*100).toFixed(1):"0.0";S.addRow([P.grade,P.count,`${O}%`]).eachCell((Y,R)=>{Y.font={size:11},Y.alignment={horizontal:R===1?"left":"center",vertical:"middle"},Y.border={top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}}})})}catch(j){console.error("Error creating grade distribution sheet:",j)}},Fre=()=>{const{toast:t}=Lt(),{updateURL:e,getCurrentFilters:n}=xa({defaults:{period_id:"latest"},cleanDefaults:!0}),a=n(),[i,o]=x.useState([]),[c,u]=x.useState(null),[h,f]=x.useState(null),[p,g]=x.useState(!0),[v,y]=x.useState(!1);x.useEffect(()=>{w()},[]),x.useEffect(()=>{i.length>0&&j()},[a.period_id,i]);const w=async()=>{try{const T=await Nn.getPeriods();o(T.items||[])}catch(T){console.error("Error loading periods:",T),t({title:"Error",description:"Gagal memuat data periode. Silakan coba lagi.",variant:"destructive"})}},j=async()=>{try{if(g(!0),i.length===0)return;let T;if(a.period_id==="latest")T=[...i].sort((P,O)=>P.academic_year!==O.academic_year?O.academic_year.localeCompare(P.academic_year):P.semester==="Ganjil"?1:-1)[0];else{const M=i.find(P=>P.id===Number(a.period_id));if(!M)throw new Error("Selected period not found");T=M}u(T);const _=await Bu.getPeriodEvaluationStats(T.id);f(_)}catch(T){console.error("Error loading evaluation stats:",T),t({title:"Error",description:"Gagal memuat statistik evaluasi. Silakan coba lagi.",variant:"destructive"})}finally{g(!1)}},k=T=>{e({period_id:T})},S=async()=>{if(!h||!c){t({title:"Error",description:"Data statistik tidak tersedia untuk export.",variant:"destructive"});return}try{y(!0),await $re(h,c,t)}catch(T){console.error("Error exporting Excel:",T),t({title:"Error",description:"Gagal export laporan ke Excel. Silakan coba lagi.",variant:"destructive"})}finally{y(!1)}},E=()=>h?Math.round(h.completion_percentage):0,A=()=>!h||h.completed_evaluations===0?0:h.average_score.toFixed(2);return p?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ms,{title:"Laporan Evaluasi",description:"Statistik dan laporan evaluasi kinerja guru berdasarkan periode",actions:h&&s.jsxs(cs,{children:[s.jsx(Xu,{asChild:!0,children:s.jsxs(pe,{disabled:v,children:[s.jsx(sf,{className:"h-4 w-4 mr-2"}),v?"Mengunduh...":"Unduh Excel"]})}),s.jsxs(Wn,{children:[s.jsxs(Zn,{children:[s.jsx(Jn,{children:"Konfirmasi Unduh Excel"}),s.jsxs(es,{children:["Apakah Anda yakin ingin mengunduh laporan evaluasi periode ",c==null?void 0:c.academic_year," - ",c==null?void 0:c.semester," dalam format Excel?"]})]}),s.jsxs(Qn,{children:[s.jsx(ns,{children:"Batal"}),s.jsx(ts,{onClick:S,children:"Ya, Unduh Excel"})]})]})]})}),s.jsx(Ur,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"period-filter",children:"Periode"}),s.jsxs(zt,{value:a.period_id,onValueChange:k,children:[s.jsx(Pt,{id:"period-filter",children:s.jsx(Ut,{placeholder:"Pilih periode"})}),s.jsxs(Ot,{children:[s.jsx(Ie,{value:"latest",children:"Periode Terbaru"}),i.map(T=>s.jsxs(Ie,{value:T.id.toString(),children:[T.academic_year," - ",T.semester]},T.id))]})]})]})}),h&&c&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(Ne,{children:[s.jsxs(lt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pt,{className:"text-sm font-medium",children:"Total Guru"}),s.jsx(Ds,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Se,{children:[s.jsx("div",{className:"text-2xl font-bold",children:h.total_teachers}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Guru yang terdaftar"})]})]}),s.jsxs(Ne,{children:[s.jsxs(lt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pt,{className:"text-sm font-medium",children:"Evaluasi Selesai"}),s.jsx(pa,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Se,{children:[s.jsx("div",{className:"text-2xl font-bold",children:h.completed_evaluations}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["dari ",h.total_evaluations," total evaluasi"]})]})]}),s.jsxs(Ne,{children:[s.jsxs(lt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pt,{className:"text-sm font-medium",children:"Persentase Selesai"}),s.jsx(K_,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Se,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[E(),"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Tingkat penyelesaian"})]})]}),s.jsxs(Ne,{children:[s.jsxs(lt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(pt,{className:"text-sm font-medium",children:"Rata-rata Skor"}),s.jsx(Iu,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(Se,{children:[s.jsx("div",{className:"text-2xl font-bold",children:A()}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"dari skala 4.0"})]})]})]}),s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsxs(pt,{className:"flex items-center gap-2",children:[s.jsx($j,{className:"h-5 w-5"}),"Informasi Periode"]})}),s.jsx(Se,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Periode"}),s.jsxs("p",{className:"text-sm",children:[c.academic_year," - ",c.semester]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm text-muted-foreground mb-1",children:"Tanggal Dibuat"}),s.jsx("p",{className:"text-sm",children:new Date(c.created_at).toLocaleDateString("id-ID")})]})]})})]}),h.final_grade_distribution&&s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsx(pt,{children:"Distribusi Nilai"})}),s.jsx(Se,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:h.final_grade_distribution.A||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Nilai A (Sangat Baik)"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:h.final_grade_distribution.B||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Nilai B (Baik)"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:h.final_grade_distribution.C||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Nilai C (Cukup)"})]}),s.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:h.final_grade_distribution.D||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Nilai D (Perlu Perbaikan)"})]})]})})]}),h.top_performers&&h.top_performers.length>0&&s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsx(pt,{children:"Guru Terbaik"})}),s.jsx(Se,{children:s.jsx("div",{className:"space-y-4",children:h.top_performers.slice(0,10).map((T,_)=>s.jsx("div",{className:"flex items-center justify-between border rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-lg font-bold text-primary",children:["#",_+1]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:T.teacher_name}),s.jsx("p",{className:"text-sm text-muted-foreground",children:T.organization_name}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Nilai Akhir: ",T.final_grade.toFixed(2)," (",T.final_grade_letter,") | Rata-rata: ",T.average_score.toFixed(2)]})]})]})},T.teacher_id))})})]}),h.aspect_performance&&h.aspect_performance.length>0&&s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsx(pt,{children:"Performa per Aspek"})}),s.jsx(Se,{children:s.jsx("div",{className:"space-y-4",children:h.aspect_performance.map((T,_)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium mb-2",children:T.aspect_name}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Rata-rata Skor:"}),s.jsx("span",{className:"ml-2 font-medium",children:T.average_score.toFixed(2)})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Jumlah Evaluasi:"}),s.jsx("span",{className:"ml-2 font-medium",children:T.total_evaluations})]}),s.jsx("div",{className:"md:col-span-1",children:s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${T.average_score/4*100}%`}})})})]})]},_))})})]})]}),!h&&!p&&s.jsx(Ne,{children:s.jsx(Se,{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Iu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Tidak Ada Data"}),s.jsx("p",{className:"text-muted-foreground",children:"Belum ada statistik evaluasi untuk periode yang dipilih."})]})})})]})},Vre=()=>{const t=ki(),{currentRole:e}=us(),{user:n}=fr(),{toast:a}=Lt();return e==="ADMIN"?s.jsx(eo,{to:"/rpp-submissions",replace:!0}):(x.useEffect(()=>{const i=async()=>{if(!(n!=null&&n.id)){console.error("User ID not available");return}try{const o=await Nn.getActivePeriod();o!=null&&o.id?t(`/rpp-submissions/teacher/${n.id}?period_id=${o.id}`,{replace:!0}):a({title:"Periode Tidak Aktif",description:"Belum ada periode yang aktif saat ini. Hubungi administrator.",variant:"destructive"})}catch(o){console.error("Error getting active period:",o),a({title:"Error",description:"Gagal mengambil periode aktif. Silakan coba lagi.",variant:"destructive"})}};n!=null&&n.id&&i()},[n==null?void 0:n.id,t,a]),s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"text-muted-foreground",children:"Mengalihkan ke RPP submission Anda..."})]})}))},qre=({submissions:t,loading:e,onView:n,onSubmit:a,onEdit:i,onDelete:o,userRole:c})=>s.jsx("div",{className:"rounded-md border",children:s.jsxs(Gs,{children:[s.jsx(Ks,{children:s.jsxs(rt,{children:[s.jsx(_e,{children:"Guru"}),s.jsx(_e,{children:"Jabatan"}),s.jsx(_e,{children:"Sekolah"}),s.jsx(_e,{className:"text-center",children:"Status"}),s.jsx(_e,{className:"text-center",children:"Aksi"})]})}),s.jsx(Xs,{children:e?s.jsx(rt,{children:s.jsx(Ae,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Memuat submission RPP..."})}):t.length===0?s.jsx(rt,{children:s.jsx(Ae,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Tidak ada submission RPP ditemukan"})}):t.map(u=>s.jsxs(rt,{children:[s.jsx(Ae,{children:u.teacher_name||"-"}),s.jsx(Ae,{children:u.teacher_position||"-"}),s.jsx(Ae,{children:u.organization_name||"-"}),s.jsx(Ae,{className:"text-center",children:Xn.getStatusDisplayName(u.status)}),s.jsx(Ae,{className:"text-center",children:s.jsx(gn,{onView:()=>n(u),onEdit:i?()=>i(u):void 0,onDelete:o?()=>o(u):void 0,showEdit:c==="guru"&&u.status===At.DRAFT,showDelete:c==="guru"&&u.status===At.DRAFT,customActions:c==="guru"&&a&&Xn.isSubmissionReady(u)&&u.status===At.DRAFT?[{label:"Kirim",onClick:()=>a(u),icon:"Send"}]:[]})})]},u.id))})]})}),Hre=({submissions:t,loading:e,onView:n,onSubmit:a,onEdit:i,onDelete:o,userRole:c})=>e?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Memuat submission RPP..."}):t.length===0?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Tidak ada submission RPP ditemukan"}):s.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(u=>s.jsx(Ne,{className:"hover:shadow-md transition-shadow",children:s.jsxs(Se,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-muted rounded-full",children:s.jsx(pa,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm",children:u.teacher_name||"Tidak ada guru"}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:u.teacher_position||"Jabatan tidak tersedia"})]})]}),s.jsx(gn,{onView:()=>n(u),onEdit:i?()=>i(u):void 0,onDelete:o?()=>o(u):void 0,showEdit:c==="guru"&&u.status===At.DRAFT,showDelete:c==="guru"&&u.status===At.DRAFT,customActions:c==="guru"&&a&&Xn.isSubmissionReady(u)&&u.status===At.DRAFT?[{label:"Kirim",onClick:()=>a(u),icon:"Send"}]:[]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[s.jsx(pa,{className:"w-4 h-4"}),s.jsxs("span",{children:["Sekolah: ",u.organization_name||"Tidak tersedia"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[s.jsx(pa,{className:"w-4 h-4"}),s.jsxs("span",{children:["Status: ",Xn.getStatusDisplayName(u.status)]})]})]})]})},u.id))}),Gre=({open:t,onOpenChange:e,onSuccess:n,periodId:a,itemId:i,title:o="File RPP",currentFileName:c})=>{const{toast:u}=Lt(),[h,f]=x.useState([]),[p,g]=x.useState(!1),v=()=>{p||(f([]),e(!1))},y=j=>{f(j)},w=async()=>{if(h.length===0){u({title:"Error",description:"Pilih file terlebih dahulu.",variant:"destructive"});return}try{g(!0);const j=h[0],S=(await u0.uploadFile({file:j,is_public:!1})).id;if(!S)throw new Error("File ID not returned from upload");i?await Xn.uploadFileToRPPItem(i,{file_id:S}):await Xn.uploadRPPFile(a,{file_id:S}),u({title:"Berhasil",description:`File ${o} berhasil diupload.`}),n(),v()}catch(j){console.error("Error uploading RPP file:",j),u({title:"Error",description:j.message||"Gagal upload file RPP.",variant:"destructive"})}finally{g(!1)}};return s.jsx(un,{open:t,onOpenChange:v,children:s.jsxs(dn,{className:"sm:max-w-[600px]",children:[s.jsxs(hn,{children:[s.jsxs(fn,{className:"flex items-center space-x-2",children:[s.jsx(pa,{className:"h-5 w-5"}),s.jsxs("span",{children:["Upload ",o]})]}),s.jsx(Vf,{children:c?`Pilih file baru untuk mengganti "${c}"`:`Pilih file untuk ${o}`})]}),s.jsx("div",{className:"space-y-4",children:s.jsx(Sc,{accept:".pdf,.doc,.docx",maxSize:10*1024*1024,multiple:!1,onFilesChange:y,label:"Pilih File RPP",description:"File yang diterima: PDF, DOC, DOCX (maksimal 10MB)",dragAndDrop:!0,showPreview:!0})}),s.jsxs(Js,{children:[s.jsx(pe,{variant:"outline",onClick:v,disabled:p,children:"Batal"}),s.jsx(pe,{onClick:w,disabled:h.length===0||p,children:p?s.jsxs(s.Fragment,{children:[s.jsx(za,{className:"h-4 w-4 mr-2 animate-spin"}),"Mengupload..."]}):s.jsxs(s.Fragment,{children:[s.jsx(af,{className:"h-4 w-4 mr-2"}),"Upload File"]})})]})]})})},Kre=Pu.object({name:Pu.string().min(1,"Nama RPP item harus diisi").max(255,"Nama terlalu panjang (maksimal 255 karakter)"),description:Pu.string().max(1e3,"Deskripsi terlalu panjang (maksimal 1000 karakter)").optional()}),Yre=({open:t,onOpenChange:e,item:n,onSuccess:a})=>{const{toast:i}=Lt(),o=js({resolver:ws(Kre),defaultValues:{name:n.name,description:n.description||""}}),{handleSubmit:c,control:u,reset:h,formState:{isSubmitting:f}}=o;ve.useEffect(()=>{t&&h({name:n.name,description:n.description||""})},[t,n,h]);const p=async v=>{try{console.log("Updating RPP item with:",{itemId:n.id,data:v});const y=await Xn.updateRPPSubmissionItemDetails(n.id,{name:v.name,description:v.description||null});console.log("RPP item updated successfully:",y),i({title:"Berhasil",description:"RPP item berhasil diperbarui."}),e(!1),a()}catch(y){console.error("Error updating RPP item:",y),i({title:"Error",description:"Gagal memperbarui RPP item. Silakan coba lagi.",variant:"destructive"})}},g=()=>{e(!1)};return s.jsx(un,{open:t,onOpenChange:g,children:s.jsxs(dn,{className:"sm:max-w-[425px]",children:[s.jsxs(hn,{children:[s.jsx(fn,{children:"Edit RPP Item"}),s.jsx(Vf,{children:"Ubah nama dan deskripsi RPP item ini."})]}),s.jsx(Hn,{...o,children:s.jsxs("form",{onSubmit:c(p),className:"space-y-4",children:[s.jsx(Ue,{control:u,name:"name",render:({field:v})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Nama RPP *"}),s.jsx(ze,{children:s.jsx(at,{placeholder:"Contoh: RPP Matematika Kelas 7",...v})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:u,name:"description",render:({field:v})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Deskripsi (Opsional)"}),s.jsx(ze,{children:s.jsx(vr,{placeholder:"Deskripsi singkat mengenai RPP ini...",rows:3,...v})}),s.jsx(Ke,{})]})}),s.jsxs(Js,{children:[s.jsx(pe,{type:"button",variant:"outline",onClick:g,disabled:f,children:"Batal"}),s.jsx(pe,{type:"submit",disabled:f,children:f?"Menyimpan...":"Simpan Perubahan"})]})]})})]})})},Xre=({item:t,canUpload:e,onFileUploaded:n,onItemDeleted:a})=>{const{toast:i}=Lt(),[o,c]=x.useState(!1),[u,h]=x.useState(!1),[f,p]=x.useState(!1),g=()=>{c(!0)},v=()=>{h(!0)},y=()=>{p(!0)},w=async()=>{try{await Xn.deleteRPPSubmissionItem(t.id),i({title:"Berhasil",description:"Item RPP berhasil dihapus."}),p(!1),a&&a()}catch{i({title:"Error",description:"Gagal menghapus item RPP.",variant:"destructive"}),p(!1)}},j=async()=>{if(!t.file_id){i({title:"Error",description:"File ID tidak ditemukan.",variant:"destructive"});return}try{const S=await u0.getFileViewInfo(t.file_id),E=`${tc}${S.view_url}`;E&&window.open(E,"_blank")}catch{i({title:"Error",description:"Gagal membuka file.",variant:"destructive"})}},k=async()=>{if(!t.file_id){i({title:"Error",description:"File ID tidak ditemukan.",variant:"destructive"});return}try{const S=await u0.downloadFile(t.file_id);if(S.size===0)throw new Error("File is empty");const E=URL.createObjectURL(S),A=document.createElement("a");A.href=E,A.download=t.file_name||"downloaded-file",A.style.display="none",document.body.appendChild(A),A.click(),setTimeout(()=>{document.body.removeChild(A),URL.revokeObjectURL(E)},100),i({title:"Berhasil",description:"File berhasil didownload."})}catch(S){console.error("Download error:",S),i({title:"Error",description:`Gagal mendownload file: ${S instanceof Error?S.message:"Unknown error"}`,variant:"destructive"})}};return s.jsxs(s.Fragment,{children:[s.jsxs(Ne,{children:[s.jsxs(lt,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(pt,{className:"text-lg",children:t.name}),s.jsx(Mt,{variant:t.is_uploaded?"default":"secondary",children:t.is_uploaded?"Sudah di Upload":"Belum Upload"})]}),t.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t.description})]}),s.jsx(Se,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(pa,{className:`h-4 w-4 ${t.is_uploaded?"text-green-600":"text-gray-400"}`}),s.jsx("span",{className:"text-sm",children:t.is_uploaded?t.file_name:"Belum ada file yang diupload"})]}),(t.is_uploaded||e)&&s.jsx(gn,{onView:t.is_uploaded?j:void 0,customActions:[...t.is_uploaded?[{label:"Download",onClick:k,icon:"Download"}]:[],...e?[{label:t.is_uploaded?"Ganti File":"Upload File",onClick:g,icon:"Upload"}]:[],...e?[{label:"Edit Item",onClick:v,icon:"Edit"}]:[],...e&&a?[{label:"Hapus Item",onClick:y,icon:"Trash2"}]:[]],showView:t.is_uploaded,showEdit:!1,showDelete:!1})]}),t.uploaded_at&&s.jsxs("p",{className:"text-xs",children:["Diupload: ",new Date(t.uploaded_at).toLocaleString()]})]})})]}),s.jsx(Gre,{open:o,onOpenChange:c,onSuccess:n,periodId:t.period_id,itemId:t.id,title:t.name,currentFileName:t.file_name||void 0}),s.jsx(Yre,{open:u,onOpenChange:h,item:t,onSuccess:n}),s.jsx(cs,{open:f,onOpenChange:p,children:s.jsxs(Wn,{children:[s.jsxs(Zn,{children:[s.jsx(Jn,{children:"Hapus Item RPP"}),s.jsxs(es,{children:['Apakah Anda yakin ingin menghapus item RPP "',t.name,'"?',t.is_uploaded&&" File yang sudah diupload juga akan terhapus.",s.jsx("br",{}),s.jsx("br",{}),"Tindakan ini tidak dapat dibatalkan."]})]}),s.jsxs(Qn,{children:[s.jsx(ns,{children:"Batal"}),s.jsx(ts,{onClick:w,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Hapus"})]})]})})]})},Wre=({submission:t,onReviewComplete:e})=>{const{toast:n}=Lt(),[a,i]=x.useState(t.review_notes||""),[o,c]=x.useState(!1),[u,h]=x.useState(!1),[f,p]=x.useState(!1),g=async v=>{try{c(!0),await Xn.reviewSubmission(t.id,{status:v,review_notes:a||void 0});const y={[At.DRAFT]:"Status berhasil diubah ke draft.",[At.PENDING]:"Status berhasil diubah ke pending.",[At.APPROVED]:"RPP submission berhasil disetujui.",[At.REJECTED]:"RPP submission berhasil ditolak."};n({title:"Berhasil",description:y[v]||"Review berhasil disimpan."}),h(!1),p(!1),e()}catch(y){console.error("Error reviewing submission:",y),n({title:"Error",description:y.message||"Gagal mereview RPP submission.",variant:"destructive"}),h(!1),p(!1)}finally{c(!1)}};return s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsx(pt,{children:"Review Submission"})}),s.jsx(Se,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Pe,{htmlFor:"review-notes",children:"Catatan Review"}),s.jsx(vr,{id:"review-notes",value:a,onChange:v=>i(v.target.value),placeholder:"Berikan catatan untuk guru...",className:"mt-1",rows:4})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(cs,{open:u,onOpenChange:h,children:[s.jsx(Xu,{asChild:!0,children:s.jsxs(pe,{disabled:o,className:"bg-green-600 hover:bg-green-700",children:[o?s.jsx(za,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Qi,{className:"h-4 w-4 mr-2"}),"Setujui"]})}),s.jsxs(Wn,{children:[s.jsxs(Zn,{children:[s.jsx(Jn,{children:"Konfirmasi Persetujuan"}),s.jsx(es,{children:'Apakah Anda yakin ingin menyetujui RPP submission ini? Setelah disetujui, status submission akan berubah menjadi "Approved" dan guru akan mendapat notifikasi.'})]}),s.jsxs(Qn,{children:[s.jsx(ns,{children:"Batal"}),s.jsx(ts,{onClick:()=>g(At.APPROVED),className:"bg-green-600 hover:bg-green-700",children:"Setujui"})]})]})]}),s.jsxs(cs,{open:f,onOpenChange:p,children:[s.jsx(Xu,{asChild:!0,children:s.jsxs(pe,{disabled:o&&!a,variant:"destructive",children:[o?s.jsx(za,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(B_,{className:"h-4 w-4 mr-2"}),"Tolak"]})}),s.jsxs(Wn,{children:[s.jsxs(Zn,{children:[s.jsx(Jn,{children:"Konfirmasi Penolakan"}),s.jsx(es,{children:"Apakah Anda yakin ingin menolak RPP submission ini? Setelah ditolak, guru dapat memperbaiki dan submit ulang RPP mereka. Pastikan Anda telah memberikan catatan review yang jelas."})]}),s.jsxs(Qn,{children:[s.jsx(ns,{children:"Batal"}),s.jsx(ts,{onClick:()=>g(At.REJECTED),className:"bg-red-600 hover:bg-red-700",children:"Tolak"})]})]})]})]})]})})]})},Zre=({submission:t})=>{const e=a=>{switch(a){case At.APPROVED:return s.jsx(Qi,{className:"h-4 w-4"});case At.REJECTED:return s.jsx(B_,{className:"h-4 w-4"});case At.PENDING:return s.jsx($j,{className:"h-4 w-4"});default:return s.jsx(pa,{className:"h-4 w-4"})}},n=a=>Xn.getStatusColor(a);return s.jsxs(Ne,{children:[s.jsx(lt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(pt,{children:"Status Submission"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[e(t.status),s.jsx(Mt,{variant:"outline",className:`text-${n(t.status)}-600`,children:Xn.getStatusDisplayName(t.status)})]})]})}),s.jsxs(Se,{className:"space-y-6",children:[(t.submitted_at||t.reviewed_at)&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.submitted_at&&s.jsxs("div",{className:"space-y-1",children:[s.jsx(Pe,{className:"text-sm font-medium",children:"Tanggal Submit"}),s.jsx("p",{className:"text-sm  break-words",children:new Date(t.submitted_at).toLocaleString("id-ID",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),t.reviewed_at&&s.jsxs("div",{className:"space-y-1",children:[s.jsx(Pe,{className:"text-sm font-medium",children:"Tanggal Review"}),s.jsx("p",{className:"text-sm  break-words",children:new Date(t.reviewed_at).toLocaleString("id-ID",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),t.review_notes&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{className:"text-sm font-medium",children:"Catatan Review"}),s.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-md border",children:s.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:t.review_notes})})]})]})]})},Qre=Pu.object({name:Pu.string().min(1,"Nama RPP item harus diisi").max(255,"Nama terlalu panjang (maksimal 255 karakter)"),description:Pu.string().max(1e3,"Deskripsi terlalu panjang (maksimal 1000 karakter)").optional()}),Jre=({open:t,onOpenChange:e,periodId:n,onSuccess:a})=>{const{toast:i}=Lt(),o=js({resolver:ws(Qre),defaultValues:{name:"",description:""}}),{handleSubmit:c,control:u,reset:h,formState:{isSubmitting:f}}=o,p=async v=>{try{console.log("Creating RPP item with:",{periodId:n,data:v});const y=await Xn.createRPPSubmissionItem(n,{name:v.name,description:v.description||null});console.log("RPP item created successfully:",y),i({title:"Berhasil",description:"RPP item berhasil dibuat."}),h(),e(!1),console.log("Calling onSuccess callback..."),a()}catch(y){console.error("Error creating RPP item:",y),i({title:"Error",description:"Gagal membuat RPP item. Silakan coba lagi.",variant:"destructive"})}},g=()=>{h(),e(!1)};return s.jsx(un,{open:t,onOpenChange:g,children:s.jsxs(dn,{className:"sm:max-w-[425px]",children:[s.jsxs(hn,{children:[s.jsx(fn,{children:"Buat RPP Item Baru"}),s.jsx(Vf,{children:"Buat item RPP baru untuk periode ini. Anda bisa mengupload file nanti."})]}),s.jsx(Hn,{...o,children:s.jsxs("form",{onSubmit:c(p),className:"space-y-4",children:[s.jsx(Ue,{control:u,name:"name",render:({field:v})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Nama RPP *"}),s.jsx(ze,{children:s.jsx(at,{placeholder:"Contoh: RPP Matematika Kelas 7",...v})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:u,name:"description",render:({field:v})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Deskripsi (Opsional)"}),s.jsx(ze,{children:s.jsx(vr,{placeholder:"Deskripsi singkat mengenai RPP ini...",rows:3,...v})}),s.jsx(Ke,{})]})}),s.jsxs(Js,{children:[s.jsx(pe,{type:"button",variant:"outline",onClick:g,disabled:f,children:"Batal"}),s.jsx(pe,{type:"submit",disabled:f,children:f?"Membuat...":"Buat Item"})]})]})})]})})},eie=({activePeriod:t,onSuccess:e,triggerButton:n})=>{const{toast:a}=Lt(),[i,o]=x.useState(!1),[c,u]=x.useState(!1),h=async()=>{if(!t){a({title:"Error",description:"Tidak ada periode aktif yang tersedia.",variant:"destructive"});return}try{u(!0);const g=await Xn.generateSubmissionsForPeriod({period_id:t.id});a({title:g.success?"Berhasil Membuat RPP Submissions":"RPP Submissions Selesai",description:g.message||`${g.created_evaluations} submissions berhasil dibuat, ${g.skipped_evaluations} sudah ada sebelumnya. Periode: ${g.period_name}`}),e&&e(),o(!1)}catch(g){console.error("Error generating RPP submissions:",g),a({title:"Error",description:(g==null?void 0:g.message)||"Gagal membuat RPP submissions. Silakan coba lagi.",variant:"destructive"})}finally{u(!1)}},f=g=>{o(g)},p=s.jsxs(pe,{children:[s.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Buat RPP untuk Periode"]});return s.jsxs(un,{open:i,onOpenChange:f,children:[s.jsx(LD,{asChild:!0,children:n||p}),s.jsxs(dn,{children:[s.jsxs(hn,{children:[s.jsx(fn,{children:"Buat RPP Submissions"}),s.jsx(Vf,{children:t?s.jsxs(s.Fragment,{children:["Membuat RPP submissions untuk semua guru di periode aktif: ",s.jsxs("strong",{children:[t.academic_year," - ",t.semester]}),". Sistem akan membuat template RPP kosong yang dapat diisi oleh masing-masing guru."]}):"Tidak ada periode aktif yang tersedia. Pastikan ada periode yang sedang aktif untuk membuat RPP submissions."})]}),s.jsx("div",{className:"space-y-4 py-4",children:t?s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{children:"Periode Aktif"}),s.jsxs("div",{className:"p-3 bg-primary/10 border border-primary/20 rounded-md",children:[s.jsxs("div",{className:"font-medium text-primary",children:[t.academic_year," - ",t.semester]}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"RPP akan otomatis dibuat untuk periode yang sedang aktif"})]})]}):s.jsxs("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-md",children:[s.jsx("div",{className:"font-medium text-destructive",children:"Tidak ada periode aktif"}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Pastikan ada periode yang sedang aktif untuk membuat RPP submissions"})]})}),s.jsxs(Js,{children:[s.jsx(pe,{variant:"outline",onClick:()=>o(!1),disabled:c,children:"Batal"}),s.jsx(pe,{onClick:h,disabled:!t||c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(G_,{className:"h-4 w-4 mr-2 animate-spin"}),"Membuat..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Vs,{className:"h-4 w-4 mr-2"}),"Buat Submissions"]})})]})]})]})},tie=()=>{const{currentRole:t,isAdmin:e,isKepalaSekolah:n}=us(),{toast:a}=Lt(),i=ki();if(t==="GURU")return s.jsx(eo,{to:"/my-rpp-submissions",replace:!0});const{updateURL:o,getCurrentFilters:c}=xa({defaults:{search:"",organization_id:"all",period_id:"active",status:"all",page:1,size:10},cleanDefaults:!0}),u=c(),[h,f]=x.useState([]),[p,g]=x.useState([]),[v,y]=x.useState([]),[w,j]=x.useState(null),[k,S]=x.useState(!0),[E,A]=x.useState(0),[T,_]=x.useState(0),M=e()||n(),P=async()=>{S(!0);try{let G={limit:u.size,offset:(u.page-1)*u.size};u.period_id==="active"&&w?G.period_id=w.id:u.period_id!=="active"&&e()?G.period_id=Number(u.period_id):e()||(G.period_id=w==null?void 0:w.id),u.status!=="all"&&(G.status=u.status),u.search&&u.search.trim()&&(G.search=u.search.trim()),e()&&u.organization_id!=="all"&&(G.organization_id=Number(u.organization_id));const B=await Xn.getSubmissions(G);f(B.items||[]),A(B.total||0),_(B.pages||0)}catch(G){console.error("Error loading RPP submissions:",G);const B=(G==null?void 0:G.message)||"Gagal memuat data RPP submissions. Silakan coba lagi.";a({title:"Error",description:B,variant:"destructive"})}finally{S(!1)}},O=async()=>{if(e())try{const G=await Pr.getOrganizations();g(G.items||[])}catch(G){console.error("Error loading organizations:",G)}},H=async()=>{try{const G=await Nn.getPeriods({page:1,size:100});y(G.items||[])}catch(G){console.error("Error loading periods:",G)}},Y=async()=>{try{const G=await Nn.getActivePeriod();j(G)}catch(G){console.error("Error loading active period:",G);try{const W=(await Nn.getPeriods({is_active:!0,page:1,size:100})).items||[];W.length>0&&j(W[0])}catch(B){console.error("Error in fallback active period load:",B)}}};x.useEffect(()=>{M&&(O(),H(),Y())},[M]),x.useEffect(()=>{w&&(u.period_id==="active"||!u.period_id)&&o({period_id:w.id.toString()})},[w]),x.useEffect(()=>{M&&P()},[u.page,u.size,u.search,u.organization_id,u.period_id,u.status,M]);const R=G=>{i(`/rpp-submissions/teacher/${G.teacher_id}?period_id=${G.period_id}`)},X=async G=>{i(`/rpp-submissions/teacher/${G.teacher_id}?period_id=${G.period_id}&review=true`)},z=G=>{o({size:parseInt(G),page:1})},Q=x.useCallback(G=>{G!==u.search&&o({search:G,page:1})},[o,u.search]),ne=x.useCallback(G=>{G!==u.organization_id&&o({organization_id:G,page:1})},[o,u.organization_id]),L=x.useCallback(G=>{G!==u.period_id&&o({period_id:G,page:1})},[o,u.period_id]),F=x.useCallback(G=>{G!==u.status&&o({status:G,page:1})},[o,u.status]),V=G=>{o({page:G})},K=async()=>{await P()},ae=()=>{let G="RPP Submissions";const B=[];if(u.status!=="all"){const W={draft:"Draft",pending:"Menunggu Review",approved:"Disetujui",rejected:"Ditolak"};B.push(W[u.status])}if(u.period_id==="active")B.push("Periode Aktif");else if(e()&&u.period_id!=="active"){const W=v.find($=>$.id===Number(u.period_id));W&&B.push(`${W.academic_year} - ${W.semester}`)}if(e()&&u.organization_id!=="all"){const W=p.find($=>$.id===Number(u.organization_id));W&&B.push(W.name)}else n()&&B.push("Sekolah Saya");return B.length>0&&(G+=" - "+B.join(" - ")),G};return M?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ms,{title:"RPP Submissions",description:"Kelola dan review RPP submissions dari semua guru",actions:e()&&s.jsx(eie,{activePeriod:w,onSuccess:K})}),s.jsx("div",{className:"space-y-4",children:s.jsxs(Ur,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"period-filter",children:"Periode"}),s.jsxs(zt,{value:u.period_id,onValueChange:L,children:[s.jsx(Pt,{id:"period-filter",children:s.jsx(Ut,{placeholder:"Pilih periode"})}),s.jsx(Ot,{children:v.map(G=>s.jsxs(Ie,{value:G.id.toString(),children:[G.academic_year," - ",G.semester,G.is_active?" (Aktif)":""]},G.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"status-filter",children:"Status"}),s.jsxs(zt,{value:u.status,onValueChange:F,children:[s.jsx(Pt,{id:"status-filter",children:s.jsx(Ut,{placeholder:"Filter berdasarkan status"})}),s.jsxs(Ot,{children:[s.jsx(Ie,{value:"all",children:"Semua Status"}),s.jsx(Ie,{value:"DRAFT",children:"Draft"}),s.jsx(Ie,{value:"PENDING",children:"Menunggu Review"}),s.jsx(Ie,{value:"APPROVED",children:"Disetujui"}),s.jsx(Ie,{value:"REJECTED",children:"Ditolak"})]})]})]}),e()&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"organization-filter",children:"Sekolah"}),s.jsxs(zt,{value:u.organization_id,onValueChange:ne,children:[s.jsx(Pt,{id:"organization-filter",children:s.jsx(Ut,{placeholder:"Filter berdasarkan Sekolah"})}),s.jsxs(Ot,{children:[s.jsx(Ie,{value:"all",children:"Semua Sekolah"}),p.map(G=>s.jsx(Ie,{value:G.id.toString(),children:G.name},G.id))]})]})]})]})}),s.jsx(Ne,{children:s.jsx(Se,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(hr,{title:ae(),subtitle:"Kelola dan review RPP submissions dari semua guru"}),s.jsx(Hr,{searchQuery:u.search,onSearchChange:Q,placeholder:"Cari berdasarkan nama guru..."}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(qre,{submissions:h,loading:k,onView:R,onSubmit:X,userRole:e()?"admin":"kepala_sekolah"})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(Hre,{submissions:h,loading:k,onView:R,onSubmit:X,userRole:e()?"admin":"kepala_sekolah"})}),T>1&&s.jsx(Ua,{currentPage:u.page,totalPages:T,itemsPerPage:u.size,totalItems:E,onPageChange:V,onItemsPerPageChange:z})]})})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki akses untuk melihat halaman ini."})]})})},nie=()=>{var de,re,he,ce,Ee,be,De;const{teacherId:t}=Lg(),{isAdmin:e,isKepalaSekolah:n,isGuru:a}=us(),{user:i}=fr(),{toast:o}=Lt(),{updateURL:c,getCurrentFilters:u}=xa({defaults:{period_id:""},cleanDefaults:!0}),h=u(),[f,p]=x.useState(null),[g,v]=x.useState(null),[y,w]=x.useState([]),[j,k]=x.useState(null),[S,E]=x.useState(null),[A,T]=x.useState(!0),[_,M]=x.useState(!1),[P,O]=x.useState(!1),[H,Y]=x.useState(!1),R=(a()||n())&&((de=i==null?void 0:i.id)==null?void 0:de.toString())===t,X=(f==null?void 0:f.status)===At.PENDING&&!R&&(n()&&(g==null?void 0:g.role)==="GURU"&&((re=g==null?void 0:g.profile)==null?void 0:re.organization_id)===((he=i==null?void 0:i.profile)==null?void 0:he.organization_id)||e()&&(g==null?void 0:g.role)==="KEPALA_SEKOLAH"),z=e(),Q=n()&&((ce=g==null?void 0:g.profile)==null?void 0:ce.organization_id)===((Ee=i==null?void 0:i.profile)==null?void 0:Ee.organization_id);x.useEffect(()=>{ne(),F()},[t]),x.useEffect(()=>{t&&h.period_id&&!H&&K()},[h.period_id,t]),x.useEffect(()=>{t&&y.length>0&&S&&!h.period_id&&c({period_id:S.id.toString()})},[S==null?void 0:S.id]);const ne=async()=>{try{T(!0),await L(),t&&await V(),await K()}catch(Te){console.error("Error loading initial data:",Te)}finally{T(!1)}},L=async()=>{try{const Te=await Nn.getPeriods({page:1,size:100});w(Te.items||[])}catch(Te){console.error("Error loading periods:",Te)}},F=async()=>{try{const Te=await Nn.getActivePeriod();E(Te)}catch(Te){console.error("Error loading active period:",Te)}},V=async()=>{if(t)try{const Te=await fi.getUserById(Number(t));v(Te)}catch(Te){console.error("Error loading teacher:",Te)}},K=async()=>{var Te,Oe;if(!H){Y(!0);try{let Ze;if(t){if(!h.period_id){Y(!1);return}Ze=Number(h.period_id)}else throw new Error("No teacher specified");if(!j||j.id!==Ze)try{const He=await Nn.getPeriodById(Ze);k(He)}catch(He){console.error("Error loading period by ID:",He);const Re=y.find(Je=>Je.id===Ze);Re&&k(Re)}let qe;if(R)try{qe=await Xn.getMySubmissionForPeriod(Ze)}catch(He){if((Te=He.message)!=null&&Te.includes("Pengajuan tidak ditemukan")){p(null),Y(!1);return}throw He}else if(t){const He=await Xn.getSubmissions({teacher_id:Number(t),period_id:Ze,limit:1,offset:0});if(He.items&&He.items.length>0)qe=He.items[0];else{p(null),Y(!1);return}}else throw new Error("Invalid access parameters");p(qe),console.log("Submission data loaded:",qe),console.log("Number of items:",((Oe=qe==null?void 0:qe.items)==null?void 0:Oe.length)||0)}catch(Ze){console.error("Error loading submission detail:",Ze),p(null)}finally{Y(!1)}}},ae=Te=>{c({period_id:Te})},G=async()=>{console.log("handleFileUploaded called, reloading submission detail..."),await K(),console.log("loadSubmissionDetail completed")},B=async()=>{if(f){if(!Xn.isSubmissionReady(f)){o({title:"Tidak dapat submit",description:"Pastikan semua RPP telah diupload sebelum submit.",variant:"destructive"});return}try{await Xn.submitForApproval(f.id),o({title:"Berhasil",description:"RPP submission berhasil disubmit untuk review."}),M(!1),await K()}catch(Te){console.error("Error submitting for approval:",Te),o({title:"Error",description:Te.message||"Gagal submit RPP submission.",variant:"destructive"}),M(!1)}}},W=async()=>{await K()},$=Te=>{const Oe=(f==null?void 0:f.status)===At.DRAFT,Ze=(f==null?void 0:f.status)===At.REJECTED,qe=Oe||Ze,He=S&&j&&S.id===j.id,Re=R&&qe&&He;return s.jsx(Xre,{item:Te,canUpload:Re??!1,submissionStatus:f.status,onFileUploaded:G,onItemDeleted:G},Te.id)};if(!(R||z||Q))return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:n()?"Anda hanya dapat melihat RPP submission dari guru di Sekolah Anda.":"Anda tidak memiliki akses untuk melihat halaman ini."})]})});if(A)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});const ee=()=>{var Te,Oe;return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ms,{title:s.jsx("div",{className:"flex items-center space-x-3",children:s.jsx("span",{children:R?"RPP Submission Saya":`RPP Submission - ${((Te=g==null?void 0:g.profile)==null?void 0:Te.name)||(g==null?void 0:g.display_name)||"Unknown"}`})}),description:s.jsxs("div",{children:[s.jsx("p",{children:j!=null&&j.academic_year&&(j!=null&&j.semester)?`Detail RPP submission untuk periode ${j.academic_year} - ${j.semester}`:"Detail RPP submission"}),((Oe=g==null?void 0:g.profile)==null?void 0:Oe.organization_name)&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Sekolah: ",g.profile.organization_name]})]})}),t&&y.length>0&&s.jsx(Ur,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"period-filter",children:"Periode"}),s.jsxs(zt,{value:h.period_id,onValueChange:ae,children:[s.jsx(Pt,{id:"period-filter",children:s.jsx(Ut,{placeholder:"Pilih periode"})}),s.jsx(Ot,{children:y.map(Ze=>s.jsxs(Ie,{value:Ze.id.toString(),children:[Ze.academic_year," - ",Ze.semester,Ze.is_active?" (Aktif)":""]},Ze.id))})]})]})}),s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"RPP Submission Belum Ada"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:j!=null&&j.academic_year&&(j!=null&&j.semester)?`Belum ada RPP submission untuk periode ${j.academic_year} - ${j.semester}.`:"Belum ada RPP submission untuk periode ini."}),t&&y.length>0&&s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pilih periode lain menggunakan filter di atas untuk mencari RPP submission."})]})})]})};if(!f)return ee();const te=S&&j&&S.id===j.id,ie=R&&(f.status===At.DRAFT||f.status===At.REJECTED)&&Xn.isSubmissionReady(f)&&te;return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ms,{title:s.jsx("div",{className:"flex items-center space-x-3",children:s.jsx("span",{children:R?"RPP Submission Saya":`RPP Submission - ${((be=g==null?void 0:g.profile)==null?void 0:be.name)||(g==null?void 0:g.display_name)||"Unknown"}`})}),description:s.jsxs("div",{children:[s.jsx("p",{children:j!=null&&j.academic_year&&(j!=null&&j.semester)?`Detail RPP submission untuk periode ${j.academic_year} - ${j.semester}`:"Detail RPP submission"}),((De=g==null?void 0:g.profile)==null?void 0:De.organization_name)&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Sekolah: ",g.profile.organization_name]})]}),actions:s.jsxs("div",{className:"flex space-x-2",children:[ie&&s.jsxs(cs,{open:_,onOpenChange:M,children:[s.jsx(Xu,{asChild:!0,children:s.jsxs(pe,{children:[s.jsx(Wy,{className:"h-4 w-4 mr-2"}),f.status===At.REJECTED?"Submit Ulang":"Submit untuk Approval"]})}),s.jsxs(Wn,{children:[s.jsxs(Zn,{children:[s.jsx(Jn,{children:"Konfirmasi Submit"}),s.jsx(es,{children:f.status===At.REJECTED?"Apakah Anda yakin ingin submit ulang RPP submission ini untuk review?":"Apakah Anda yakin ingin submit RPP submission ini untuk review? Setelah disubmit, Anda tidak dapat mengubah file RPP hingga mendapat feedback."})]}),s.jsxs(Qn,{children:[s.jsx(ns,{children:"Batal"}),s.jsx(ts,{onClick:B,children:f.status===At.REJECTED?"Submit Ulang":"Submit"})]})]})]}),R&&(f.status===At.DRAFT||f.status===At.REJECTED)&&Xn.isSubmissionReady(f)&&!te&&s.jsxs(pe,{disabled:!0,title:"Upload dan submit hanya dapat dilakukan pada periode aktif",children:[s.jsx(Wy,{className:"h-4 w-4 mr-2"}),f.status===At.REJECTED?"Submit Ulang":"Submit untuk Approval"]})]})}),t&&y.length>0&&s.jsx(Ur,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"period-filter",children:"Periode"}),s.jsxs(zt,{value:h.period_id,onValueChange:ae,children:[s.jsx(Pt,{id:"period-filter",children:s.jsx(Ut,{placeholder:"Pilih periode"})}),s.jsx(Ot,{children:y.map(Te=>s.jsxs(Ie,{value:Te.id.toString(),children:[Te.academic_year," - ",Te.semester,Te.is_active?" (Aktif)":""]},Te.id))})]})]})}),s.jsx(Zre,{submission:f}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"RPP Files"}),(()=>{const Te=f.status===At.DRAFT,Oe=f.status===At.REJECTED,Ze=Te||Oe,qe=S&&j&&S.id===j.id;return R&&Ze&&qe&&s.jsx(pe,{onClick:()=>O(!0),variant:"outline",size:"sm",children:"Tambah Item"})})()]}),s.jsx("div",{className:"grid grid-cols-1  gap-4",children:(console.log("Rendering items:",f.items),f.items.map($))})]}),X&&s.jsx(Wre,{submission:f,onReviewComplete:W}),s.jsx(Jre,{open:P,onOpenChange:O,periodId:(j==null?void 0:j.id)||0,onSuccess:G})]})};class sie extends Qs{constructor(){super("/board-members")}async getBoardGroups(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/groups?${n.toString()}`:"/groups";return this.get(a)}async createBoardGroup(e){return this.post("/groups",e)}async getBoardGroupById(e){return this.get(`/groups/${e}`)}async updateBoardGroup(e,n){return this.put(`/groups/${e}`,n)}async deleteBoardGroup(e){return this.delete(`/groups/${e}`)}async getBoardMembers(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/members?${n.toString()}`:"/members";return this.get(a)}async createBoardMember(e,n){const a=new FormData;return a.append("data",JSON.stringify(e)),a.append("image",n),this.post("/members",a,{headers:{"Content-Type":"multipart/form-data"}})}async getBoardMemberById(e){return this.get(`/members/${e}`)}async updateBoardMember(e,n,a){const i=new FormData;return i.append("data",JSON.stringify(n)),a&&i.append("image",a),this.put(`/members/${e}`,i,{headers:{"Content-Type":"multipart/form-data"}})}async deleteBoardMember(e){return this.delete(`/members/${e}`)}}const ci=new sie,aie=({boardMembers:t,loading:e=!1,onEdit:n,onDelete:a,onView:i,boardGroups:o})=>{const c=u=>{if(!u)return"-";const h=o.find(f=>f.id===u);return(h==null?void 0:h.title)||"-"};return s.jsx("div",{className:"rounded-md border",children:s.jsxs(Gs,{children:[s.jsx(Ks,{children:s.jsxs(rt,{children:[s.jsx(_e,{children:"Nama"}),s.jsx(_e,{children:"Posisi"}),s.jsx(_e,{children:"Grup"}),s.jsx(_e,{children:"Urutan"}),s.jsx(_e,{children:"Dibuat"}),s.jsx(_e,{className:"text-right",children:"Aksi"})]})}),s.jsx(Xs,{children:e?s.jsx(rt,{children:s.jsx(Ae,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"Memuat Anggota Dewan..."})}):t.length===0?s.jsx(rt,{children:s.jsx(Ae,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"Tidak ada Anggota Dewan ditemukan"})}):t.map(u=>s.jsxs(rt,{children:[s.jsx(Ae,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[u.img_url&&s.jsx("img",{src:dd(u.img_url,48),alt:u.name,className:"w-8 h-8 rounded-full object-cover"}),s.jsx("span",{className:"font-medium",children:u.name})]})}),s.jsx(Ae,{children:u.position}),s.jsx(Ae,{children:c(u.group_id)}),s.jsx(Ae,{children:u.member_order}),s.jsx(Ae,{children:vn(new Date(u.created_at),"dd MMM yyyy",{locale:yn})}),s.jsx(Ae,{className:"text-right",children:s.jsx(gn,{onView:()=>i(u),onEdit:()=>n(u),onDelete:()=>a(u)})})]},u.id))})]})})},rie=({boardMembers:t,loading:e=!1,onEdit:n,onDelete:a,onView:i,boardGroups:o})=>{const c=u=>{if(!u)return"-";const h=o.find(f=>f.id===u);return(h==null?void 0:h.title)||"-"};return e?s.jsx("div",{className:"grid gap-4",children:[...Array(3)].map((u,h)=>s.jsx(Ne,{children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]})})},h))}):t.length===0?s.jsx(Ne,{children:s.jsx(Se,{className:"p-8 text-center text-muted-foreground",children:"Tidak ada Anggota Dewan ditemukan"})}):s.jsx("div",{className:"grid gap-4",children:t.map(u=>s.jsx(Ne,{children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[u.img_url&&s.jsx("img",{src:dd(u.img_url,64),alt:u.name,className:"w-10 h-10 rounded-full object-cover"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-sm",children:u.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:u.position})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Grup:"}),s.jsx("span",{children:c(u.group_id)})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Urutan:"}),s.jsx("span",{children:u.member_order})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Dibuat:"}),s.jsx("span",{children:vn(new Date(u.created_at),"dd MMM yyyy",{locale:yn})})]}),u.description&&s.jsx("div",{className:"mt-2",children:s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:u.short_description})})]})]}),s.jsx("div",{className:"ml-2",children:s.jsx(gn,{onView:()=>i(u),onEdit:()=>n(u),onDelete:()=>a(u)})})]})})},u.id))})},iie=Ws({name:ct().min(1,"Nama wajib diisi").max(255,"Nama maksimal 255 karakter"),position:ct().min(1,"Posisi wajib diisi").max(255,"Posisi maksimal 255 karakter"),group_id:to().min(1,"Grup wajib dipilih"),description:ct().optional().or(ys("")),member_order:to().min(1,"Urutan minimal 1")}),SC=({open:t,onOpenChange:e,editingBoardMember:n,onSave:a,mode:i="create",boardGroups:o})=>{const{toast:c}=Lt(),[u,h]=x.useState(!1),[f,p]=x.useState([]),g=i==="edit",v=i==="view",y=js({resolver:ws(iie),defaultValues:{name:"",position:"",group_id:0,description:"",member_order:1}});x.useEffect(()=>{t&&(n?y.reset({name:n.name,position:n.position,group_id:n.group_id||0,description:n.description||"",member_order:n.member_order}):y.reset({name:"",position:"",group_id:0,description:"",member_order:1}),p([]))},[t,n,y]);const w=async E=>{if(!g&&f.length===0){c({title:"Validasi gagal",description:"Gambar wajib diupload untuk pengurus baru",variant:"destructive"});return}h(!0);try{const A={name:E.name,position:E.position,group_id:E.group_id,description:E.description||void 0,member_order:E.member_order},T=f.length>0?f[0]:void 0;await a(A,T),e(!1),y.reset(),p([])}catch(A){console.error("Error saving board member:",A),c({title:"Terjadi kesalahan",description:A.message||"Gagal menyimpan pengurus",variant:"destructive"})}finally{h(!1)}},j=E=>{p(E)},k=E=>{c({title:"Error file",description:E,variant:"destructive"})},S=n!=null&&n.img_url?[{name:`Current Image - ${n.name}`,url:n.img_url,viewUrl:n.img_url}]:[];return s.jsx(un,{open:t,onOpenChange:e,children:s.jsxs(dn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(hn,{children:s.jsx(fn,{children:v?"Detail Anggota Dewan":g?"Edit Pengurus":"Tambah Pengurus Baru"})}),s.jsx(Hn,{...y,children:s.jsxs("form",{onSubmit:y.handleSubmit(w),className:"space-y-6",children:[s.jsx(Ue,{control:y.control,name:"name",render:({field:E})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Nama Lengkap"}),s.jsx(ze,{children:s.jsx(at,{placeholder:"Masukkan nama lengkap",...E,disabled:u||v})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:y.control,name:"position",render:({field:E})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Posisi/Jabatan"}),s.jsx(ze,{children:s.jsx(at,{placeholder:"Masukkan posisi/jabatan",...E,disabled:u||v})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:y.control,name:"group_id",render:({field:E})=>{var A;return s.jsxs($e,{children:[s.jsx(Fe,{children:"Grup Dewan"}),s.jsxs(zt,{onValueChange:T=>E.onChange(parseInt(T)),value:(A=E.value)==null?void 0:A.toString(),disabled:u||v,children:[s.jsx(ze,{children:s.jsx(Pt,{children:s.jsx(Ut,{placeholder:"Pilih grup dewan"})})}),s.jsx(Ot,{children:o.map(T=>s.jsx(Ie,{value:T.id.toString(),children:T.title},T.id))})]}),s.jsx(fa,{children:"Pilih grup dewan untuk anggota ini"}),s.jsx(Ke,{})]})}}),s.jsx("div",{children:s.jsx(Sc,{label:"Foto Pengurus",description:"Upload foto pengurus (JPG, PNG, WebP, max 5MB)",accept:"image/*",maxSize:5*1024*1024,maxFiles:1,files:f,existingFiles:S,onFilesChange:j,onError:k,required:!g,disabled:u,showPreview:!0,allowRemove:!1})}),s.jsx(Ue,{control:y.control,name:"description",render:({field:E})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Deskripsi"}),s.jsx(ze,{children:s.jsx(md,{value:E.value||"",onChange:E.onChange,placeholder:"Masukkan deskripsi pengurus (opsional)",disabled:u||v})}),s.jsx(fa,{children:"Deskripsi singkat tentang pengurus (opsional)"}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:y.control,name:"member_order",render:({field:E})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Urutan Tampil"}),s.jsx(ze,{children:s.jsx(at,{type:"number",min:"0",placeholder:"0",...E,onChange:A=>E.onChange(parseInt(A.target.value)||0),onFocus:A=>{A.target.value==="0"&&A.target.select()},disabled:u})}),s.jsx(fa,{children:"Urutan tampil di website (0 = paling atas)"}),s.jsx(Ke,{})]})}),s.jsxs(Js,{children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:u,children:v?"Tutup":"Batal"}),!v&&s.jsx(pe,{type:"submit",disabled:u,children:u?"Menyimpan...":g?"Perbarui":"Simpan"})]})]})})]})})},oie=({boardGroups:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>s.jsx("div",{className:"rounded-md border",children:s.jsxs(Gs,{children:[s.jsx(Ks,{children:s.jsxs(rt,{children:[s.jsx(_e,{children:"Nama Grup"}),s.jsx(_e,{children:"Urutan"}),s.jsx(_e,{children:"Deskripsi"}),s.jsx(_e,{children:"Dibuat"}),s.jsx(_e,{className:"text-right",children:"Aksi"})]})}),s.jsx(Xs,{children:e?s.jsx(rt,{children:s.jsx(Ae,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Memuat Grup Dewan..."})}):t.length===0?s.jsx(rt,{children:s.jsx(Ae,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Tidak ada Grup Dewan ditemukan"})}):t.map(o=>s.jsxs(rt,{children:[s.jsx(Ae,{children:s.jsx("span",{className:"font-medium",children:o.title})}),s.jsx(Ae,{children:o.display_order}),s.jsx(Ae,{children:o.description||"-"}),s.jsx(Ae,{children:vn(new Date(o.created_at),"dd MMM yyyy",{locale:yn})}),s.jsx(Ae,{className:"text-right",children:s.jsx(gn,{onView:()=>i(o),onEdit:()=>n(o),onDelete:()=>a(o)})})]},o.id))})]})}),lie=({boardGroups:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>e?s.jsx("div",{className:"grid gap-4",children:[...Array(3)].map((o,c)=>s.jsx(Ne,{children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]})})},c))}):t.length===0?s.jsx(Ne,{children:s.jsx(Se,{className:"p-8 text-center text-muted-foreground",children:"Tidak ada Grup Dewan ditemukan"})}):s.jsx("div",{className:"grid gap-4",children:t.map(o=>s.jsx(Ne,{children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"mb-2",children:[s.jsx("h3",{className:"font-medium text-sm",children:o.title}),o.description&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:o.description})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Urutan:"}),s.jsx("span",{children:o.display_order})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Dibuat:"}),s.jsx("span",{children:vn(new Date(o.created_at),"dd MMM yyyy",{locale:yn})})]})]})]}),s.jsx("div",{className:"ml-2",children:s.jsx(gn,{onView:()=>i(o),onEdit:()=>n(o),onDelete:()=>a(o)})})]})})},o.id))}),cie=Ws({title:ct().min(1,"Nama grup wajib diisi").max(255,"Nama grup maksimal 255 karakter"),display_order:to().min(1,"Urutan minimal 1"),description:ct().optional().or(ys(""))}),kC=({open:t,onOpenChange:e,editingBoardGroup:n,onSave:a,mode:i="create"})=>{const{toast:o}=Lt(),[c,u]=x.useState(!1),h=i==="edit",f=i==="view",p=js({resolver:ws(cie),defaultValues:{title:"",display_order:1,description:""}});x.useEffect(()=>{t&&(n?p.reset({title:n.title,display_order:n.display_order,description:n.description||""}):p.reset({title:"",display_order:1,description:""}))},[t,n,p]);const g=async v=>{u(!0);try{const y={title:v.title,display_order:v.display_order,description:v.description||void 0};await a(y),e(!1),p.reset()}catch(y){console.error("Error saving board group:",y),o({title:"Terjadi kesalahan",description:y.message||"Gagal menyimpan grup",variant:"destructive"})}finally{u(!1)}};return s.jsx(un,{open:t,onOpenChange:e,children:s.jsxs(dn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(hn,{children:s.jsx(fn,{children:f?"Detail Grup Dewan":h?"Edit Grup":"Tambah Grup Baru"})}),s.jsx(Hn,{...p,children:s.jsxs("form",{onSubmit:p.handleSubmit(g),className:"space-y-6",children:[s.jsx(Ue,{control:p.control,name:"title",render:({field:v})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Nama Grup"}),s.jsx(ze,{children:s.jsx(at,{placeholder:"Masukkan nama grup",...v,disabled:c||f})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:p.control,name:"display_order",render:({field:v})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Urutan Tampil"}),s.jsx(ze,{children:s.jsx(at,{type:"number",min:"1",placeholder:"1",...v,onChange:y=>v.onChange(parseInt(y.target.value)||1),onFocus:y=>{y.target.value==="1"&&y.target.select()},disabled:c||f})}),s.jsx(fa,{children:"Urutan tampil di website (1 = paling atas)"}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:p.control,name:"description",render:({field:v})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Deskripsi"}),s.jsx(ze,{children:s.jsx(md,{value:v.value||"",onChange:v.onChange,placeholder:"Masukkan deskripsi grup (opsional)",disabled:c||f})}),s.jsx(fa,{children:"Deskripsi singkat tentang grup (opsional)"}),s.jsx(Ke,{})]})}),s.jsxs(Js,{children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:c,children:f?"Tutup":"Batal"}),!f&&s.jsx(pe,{type:"submit",disabled:c,children:c?"Menyimpan...":h?"Perbarui":"Simpan"})]})]})})]})})},uie=()=>{const{isAdmin:t}=us(),{toast:e}=Lt(),{updateURL:n,getCurrentFilters:a}=xa({defaults:{search:"",page:1,size:10},cleanDefaults:!0}),i=a(),[o,c]=x.useState([]),[u,h]=x.useState(!0),[f,p]=x.useState(!1),[g,v]=x.useState(!1),[y,w]=x.useState(null),[j,k]=x.useState(null),[S,E]=x.useState(null),[A,T]=x.useState([]),[_,M]=x.useState(!0),[P,O]=x.useState(0),[H,Y]=x.useState(0),[R,X]=x.useState(!1),[z,Q]=x.useState(!1),[ne,L]=x.useState(null),[F,V]=x.useState(null),[K,ae]=x.useState(null),G=x.useMemo(()=>t(),[t]),B=x.useCallback(async()=>{h(!0);try{const Re={page:1,size:50},Je=await ci.getBoardGroups(Re);c(Je.items)}catch(Re){console.error("Failed to fetch board groups:",Re),e({title:"Error",description:"Gagal memuat data Grup Dewan. Silakan coba lagi.",variant:"destructive"})}finally{h(!1)}},[]),W=x.useCallback(async()=>{M(!0);try{const Re={page:i.page,size:i.size,search:i.search||void 0},Je=await ci.getBoardMembers(Re);T(Je.items),O(Je.total),Y(Je.pages)}catch(Re){console.error("Failed to fetch board members:",Re),e({title:"Error",description:"Gagal memuat data Anggota Dewan. Silakan coba lagi.",variant:"destructive"})}finally{M(!1)}},[i.page,i.size,i.search]);x.useEffect(()=>{G&&(B(),W())},[B,W,G]);const $=Re=>{k(Re),v(!0)},q=Re=>{w(Re),p(!0)},ee=Re=>{E(Re)},te=()=>{w(null),p(!0)},ie=async Re=>{try{y?await ci.updateBoardGroup(y.id,Re):await ci.createBoardGroup(Re),p(!1),w(null),B()}catch(Je){console.error("Failed to save board group:",Je);const Zt=(Je==null?void 0:Je.message)||"Gagal menyimpan grup. Silakan coba lagi.";throw new Error(Zt)}},de=async()=>{if(S)try{await ci.deleteBoardGroup(S.id),E(null),B(),e({title:"Grup berhasil dihapus",description:`Grup ${S.title} telah dihapus dari sistem.`})}catch(Re){console.error("Failed to delete board group:",Re);const Je=(Re==null?void 0:Re.message)||"Gagal menghapus grup. Silakan coba lagi.";e({title:"Error",description:Je,variant:"destructive"})}},re=Re=>{V(Re),Q(!0)},he=Re=>{L(Re),X(!0)},ce=Re=>{ae(Re)},Ee=()=>{L(null),X(!0)},be=async()=>{if(K)try{await ci.deleteBoardMember(K.id),ae(null),W(),e({title:"Anggota Dewan berhasil dihapus",description:`Anggota Dewan ${K.name} telah dihapus dari sistem.`})}catch(Re){console.error("Failed to delete board member:",Re);const Je=(Re==null?void 0:Re.message)||"Gagal menghapus Anggota Dewan. Silakan coba lagi.";e({title:"Error",description:Je,variant:"destructive"})}},De=async(Re,Je)=>{try{if(ne)await ci.updateBoardMember(ne.id,Re,Je);else{if(!Je)throw new Error("Gambar wajib diupload untuk anggota baru");await ci.createBoardMember(Re,Je)}X(!1),L(null),W()}catch(Zt){console.error("Failed to save board member:",Zt);const An=(Zt==null?void 0:Zt.message)||"Gagal menyimpan anggota. Silakan coba lagi.";throw new Error(An)}},Te=Re=>{n({size:parseInt(Re),page:1})},Oe=x.useCallback(Re=>{Re!==i.search&&n({search:Re,page:1})},[n,i.search]),Ze=Re=>{n({page:Re})},qe=()=>{let Re="Daftar Grup Dewan";const Je=[];return Je.length>0&&(Re+=" - "+Je.join(" - ")),Re},He=()=>{let Re="Daftar Anggota Dewan";const Je=[];return Je.length>0&&(Re+=" - "+Je.join(" - ")),Re};return G?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ms,{title:"Manajemen Dewan",description:"Kelola grup dan anggota dewan serta atur urutan tampilan",actions:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(pe,{onClick:te,children:[s.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Tambah Grup"]}),s.jsxs(pe,{onClick:Ee,children:[s.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Tambah Anggota"]})]})}),s.jsx(Ne,{children:s.jsx(Se,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(hr,{title:qe(),subtitle:"Kelola grup dewan dan atur urutan tampilan"}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(oie,{boardGroups:o,loading:u,onView:$,onEdit:q,onDelete:ee})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(lie,{boardGroups:o,loading:u,onView:$,onEdit:q,onDelete:ee})})]})})}),s.jsx(Ne,{children:s.jsx(Se,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(hr,{title:He(),subtitle:"Kelola anggota dewan dan atur urutan tampilan"}),s.jsx(Hr,{searchQuery:i.search,onSearchChange:Oe,placeholder:"Cari anggota berdasarkan nama..."}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(aie,{boardMembers:A,loading:_,onView:re,onEdit:he,onDelete:ce,boardGroups:o})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(rie,{boardMembers:A,loading:_,onView:re,onEdit:he,onDelete:ce,boardGroups:o})}),H>1&&s.jsx(Ua,{currentPage:i.page,totalPages:H,itemsPerPage:i.size,totalItems:P,onPageChange:Ze,onItemsPerPageChange:Te})]})})}),s.jsx(kC,{open:f,onOpenChange:p,editingBoardGroup:y,onSave:ie,mode:y?"edit":"create"}),s.jsx(kC,{open:g,onOpenChange:v,editingBoardGroup:j,onSave:()=>{},mode:"view"}),s.jsx(SC,{open:R,onOpenChange:X,editingBoardMember:ne,onSave:De,mode:ne?"edit":"create",boardGroups:o}),s.jsx(SC,{open:z,onOpenChange:Q,editingBoardMember:F,onSave:()=>{},mode:"view",boardGroups:o}),s.jsx(cs,{open:!!S,onOpenChange:()=>E(null),children:s.jsxs(Wn,{children:[s.jsxs(Zn,{children:[s.jsx(Jn,{children:"Konfirmasi Hapus Grup"}),s.jsxs(es,{children:["Tindakan ini tidak dapat dibatalkan. Grup"," ",s.jsx("span",{className:"font-semibold",children:S==null?void 0:S.title})," akan dihapus secara permanen dari sistem."]})]}),s.jsxs(Qn,{children:[s.jsx(ns,{children:"Batal"}),s.jsx(ts,{onClick:de,className:"bg-red-600 hover:bg-red-700",children:"Hapus Grup"})]})]})}),s.jsx(cs,{open:!!K,onOpenChange:()=>ae(null),children:s.jsxs(Wn,{children:[s.jsxs(Zn,{children:[s.jsx(Jn,{children:"Konfirmasi Hapus Anggota"}),s.jsxs(es,{children:["Tindakan ini tidak dapat dibatalkan. Anggota Dewan"," ",s.jsx("span",{className:"font-semibold",children:K==null?void 0:K.name})," akan dihapus secara permanen dari sistem."]})]}),s.jsxs(Qn,{children:[s.jsx(ns,{children:"Batal"}),s.jsx(ts,{onClick:be,className:"bg-red-600 hover:bg-red-700",children:"Hapus Anggota"})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki akses untuk melihat halaman ini."})]})})};class die extends Qs{constructor(){super("/articles")}async getArticles(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/?${n.toString()}`:"/";return this.get(a)}async getPublishedArticles(e){const n=new URLSearchParams;e&&n.append("limit",e.toString());const a=n.toString()?`/published?${n.toString()}`:"/published";return this.get(a)}async getDraftArticles(e){const n=new URLSearchParams;e&&n.append("limit",e.toString());const a=n.toString()?`/drafts?${n.toString()}`:"/drafts";return this.get(a)}async getCategories(){return this.get("/categories")}async getArticlesByCategory(e,n,a=!0){const i=new URLSearchParams;return n&&i.append("limit",n.toString()),i.append("published_only",a.toString()),this.get(`/categories/${encodeURIComponent(e)}?${i.toString()}`)}async getLatestArticles(e=5,n=!0){const a=new URLSearchParams;return a.append("limit",e.toString()),a.append("published_only",n.toString()),this.get(`/latest?${a.toString()}`)}async searchArticles(e,n,a=!0){const i=new URLSearchParams;return i.append("q",e),n&&i.append("limit",n.toString()),i.append("published_only",a.toString()),this.get(`/search?${i.toString()}`)}async getArticleStatistics(){return this.get("/statistics")}async getArticleSummaries(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/summaries?${n.toString()}`:"/summaries";return this.get(a)}async createArticle(e,n){const a=new FormData;return a.append("data",JSON.stringify(e)),a.append("image",n),this.post("/",a,{headers:{"Content-Type":"multipart/form-data"}})}async getArticleById(e){return this.get(`/${e}`)}async getArticleBySlug(e){return this.get(`/slug/${encodeURIComponent(e)}`)}async updateArticle(e,n,a){const i=new FormData;return i.append("data",JSON.stringify(n)),a&&i.append("image",a),this.put(`/${e}`,i,{headers:{"Content-Type":"multipart/form-data"}})}async deleteArticle(e){return this.delete(`/${e}`)}async publishArticle(e,n){return this.post(`/${e}/publish`,n)}async duplicateArticle(e,n,a){const i={};return n&&(i.new_title=n),a&&(i.new_slug=a),this.post(`/${e}/duplicate`,i)}async bulkPublishArticles(e,n=!0){return this.post("/bulk/publish",{article_ids:e,is_published:n})}async bulkDeleteArticles(e){return this.post("/bulk/delete",{article_ids:e})}}const hi=new die,hie=({articles:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>{const o=c=>c?"Dipublikasikan":"Draft";return s.jsx("div",{className:"rounded-md border",children:s.jsxs(Gs,{children:[s.jsx(Ks,{children:s.jsxs(rt,{children:[s.jsx(_e,{children:"Judul"}),s.jsx(_e,{children:"Kategori"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Publikasi"}),s.jsx(_e,{children:"Dibuat"}),s.jsx(_e,{className:"text-right",children:"Aksi"})]})}),s.jsx(Xs,{children:e?s.jsx(rt,{children:s.jsx(Ae,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"Memuat Artikel..."})}):t.length===0?s.jsx(rt,{children:s.jsx(Ae,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"Tidak ada Artikel ditemukan"})}):t.map(c=>s.jsxs(rt,{children:[s.jsx(Ae,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("img",{src:rD(c.img_url),alt:c.title,className:"w-8 h-8 rounded object-cover"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:c.title}),s.jsx("div",{className:"text-xs text-muted-foreground",children:s.jsx(qn,{content:c.excerpt||c.description,isDetailView:!1,maxLength:60,fallback:"Tidak ada ringkasan"})})]})]})}),s.jsx(Ae,{children:c.category}),s.jsx(Ae,{children:o(c.is_published)}),s.jsx(Ae,{children:c.published_at?vn(new Date(c.published_at),"dd MMM yyyy",{locale:yn}):"-"}),s.jsx(Ae,{children:vn(new Date(c.created_at),"dd MMM yyyy",{locale:yn})}),s.jsx(Ae,{className:"text-right",children:s.jsx(gn,{onView:()=>i(c),onEdit:()=>n(c),onDelete:()=>a(c)})})]},c.id))})]})})},fie=({articles:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>{const o=c=>c?"Dipublikasikan":"Draft";return e?s.jsx("div",{className:"grid gap-4",children:[...Array(3)].map((c,u)=>s.jsx(Ne,{children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]})})},u))}):t.length===0?s.jsx(Ne,{children:s.jsx(Se,{className:"p-8 text-center text-muted-foreground",children:"Tidak ada Artikel ditemukan"})}):s.jsx("div",{className:"grid gap-4",children:t.map(c=>s.jsx(Ne,{children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start space-x-3 mb-2",children:[s.jsx("img",{src:rD(c.img_url),alt:c.title,className:"w-12 h-12 rounded object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-sm line-clamp-2",children:c.title}),s.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:s.jsx(qn,{content:c.excerpt||c.description,isDetailView:!1,maxLength:100,fallback:"Tidak ada ringkasan"})})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Kategori:"}),s.jsx("span",{children:c.category})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status:"}),s.jsx("span",{children:o(c.is_published)})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Dibuat:"}),s.jsx("span",{children:vn(new Date(c.created_at),"dd MMM yyyy",{locale:yn})})]}),c.published_at&&s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:"Publikasi:"}),s.jsx("span",{children:vn(new Date(c.published_at),"dd MMM yyyy",{locale:yn})})]})]})]}),s.jsx("div",{className:"ml-2",children:s.jsx(gn,{onView:()=>i(c),onEdit:()=>n(c),onDelete:()=>a(c)})})]})})},c.id))})},mie=Ws({title:ct().min(1,"Judul wajib diisi").max(255,"Judul maksimal 255 karakter"),slug:ct().min(1,"Slug wajib diisi").max(255,"Slug maksimal 255 karakter").regex(/^[a-z0-9-]+$/,"Slug hanya boleh mengandung huruf kecil, angka, dan tanda hubung"),description:ct().min(1,"Konten wajib diisi"),excerpt:ct().optional().or(ys("")),category:ct().min(1,"Kategori wajib diisi").max(100,"Kategori maksimal 100 karakter"),is_published:Ig()}),pie=["Berita","Pengumuman","Kegiatan","Prestasi","Akademik","Ekstrakurikuler","Umum"],gie=({open:t,onOpenChange:e,editingArticle:n,onSave:a})=>{const{toast:i}=Lt(),[o,c]=x.useState(!1),[u,h]=x.useState([]),[f,p]=x.useState(pie),[g,v]=x.useState(!1),[y,w]=x.useState(""),[j,k]=x.useState(!1),S=!!n,E=js({resolver:ws(mie),defaultValues:{title:"",slug:"",description:"",excerpt:"",category:"",is_published:!1}});x.useEffect(()=>{t&&A()},[t]);const A=async()=>{v(!0);try{const Y=await hi.getCategories();Y.categories&&Y.categories.length>0&&p(Y.categories)}catch(Y){console.error("Failed to fetch categories:",Y)}finally{v(!1)}};x.useEffect(()=>{t&&(n?(E.reset({title:n.title,slug:n.slug,description:n.description,excerpt:n.excerpt||"",category:n.category,is_published:n.is_published}),w(""),k(!f.includes(n.category))):(E.reset({title:"",slug:"",description:"",excerpt:"",category:"",is_published:!1}),w(""),k(!1)),h([]))},[t,n,E,f]);const T=Y=>Y.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,""),_=E.watch("title");x.useEffect(()=>{if(_){const Y=T(_);E.setValue("slug",Y)}},[_,E]);const M=async Y=>{if(!S&&u.length===0){i({title:"Error",description:"Gambar artikel wajib diupload",variant:"destructive"});return}c(!0);try{const R={title:Y.title,slug:Y.slug,description:Y.description,excerpt:Y.excerpt||void 0,category:Y.category,is_published:Y.is_published,published_at:Y.is_published?new Date().toISOString():void 0},X=u.length>0?u[0]:void 0;await a(R,X),e(!1),E.reset(),h([])}catch(R){console.error("Error saving article:",R),i({title:"Error",description:R.message||"Gagal menyimpan artikel",variant:"destructive"})}finally{c(!1)}},P=Y=>{h(Y)},O=Y=>{i({title:"Error",description:Y,variant:"destructive"})},H=n!=null&&n.img_url?[{name:`Current Image - ${n.title}`,url:n.img_url,viewUrl:n.img_url}]:[];return s.jsx(un,{open:t,onOpenChange:e,children:s.jsxs(dn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(hn,{children:s.jsx(fn,{children:S?"Edit Artikel":"Tambah Artikel Baru"})}),s.jsx(Hn,{...E,children:s.jsxs("form",{onSubmit:E.handleSubmit(M),className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx(Ue,{control:E.control,name:"title",render:({field:Y})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Judul Artikel"}),s.jsx(ze,{children:s.jsx(at,{placeholder:"Masukkan judul artikel",...Y,disabled:o})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:E.control,name:"slug",render:({field:Y})=>s.jsx($e,{className:"hidden",children:s.jsx(ze,{children:s.jsx(at,{...Y})})})})]}),s.jsx("div",{className:"flex flex-col gap-4",children:s.jsx(Ue,{control:E.control,name:"category",render:({field:Y})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Kategori"}),j?s.jsxs("div",{className:"space-y-2",children:[s.jsx(ze,{children:s.jsx(at,{placeholder:"Masukkan kategori baru",value:y,onChange:R=>{w(R.target.value),Y.onChange(R.target.value)},disabled:o})}),s.jsx(pe,{type:"button",variant:"outline",size:"sm",onClick:()=>{k(!1),w(""),Y.onChange("")},disabled:o,children:"Pilih dari daftar"})]}):s.jsx("div",{className:"space-y-2",children:s.jsxs(zt,{onValueChange:R=>{R==="__custom__"?(k(!0),w(""),Y.onChange("")):Y.onChange(R)},value:Y.value,disabled:o||g,children:[s.jsx(ze,{children:s.jsx(Pt,{children:s.jsx(Ut,{placeholder:g?"Memuat kategori...":"Pilih kategori artikel"})})}),s.jsxs(Ot,{children:[f.map(R=>s.jsx(Ie,{value:R,children:R},R)),s.jsx(Ie,{value:"__custom__",children:s.jsx("span",{className:"text-primary font-medium",children:"+ Tambah kategori baru"})})]})]})}),s.jsx(fa,{children:j?"Masukkan nama kategori baru":"Pilih kategori yang sudah ada atau tambah kategori baru"}),s.jsx(Ke,{})]})})}),s.jsx("div",{children:s.jsx(Sc,{label:"Gambar Artikel",description:"Upload gambar artikel (JPG, PNG, WebP, max 5MB)",accept:"image/*",maxSize:5*1024*1024,maxFiles:1,files:u,existingFiles:H,onFilesChange:P,onError:O,required:!S,disabled:o,showPreview:!0,allowRemove:!1})}),s.jsx(Ue,{control:E.control,name:"excerpt",render:({field:Y})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Ringkasan"}),s.jsx(ze,{children:s.jsx(vr,{placeholder:"Masukkan ringkasan artikel (opsional)",rows:3,...Y,disabled:o})}),s.jsx(fa,{children:"Ringkasan singkat artikel yang akan ditampilkan di daftar artikel"}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:E.control,name:"description",render:({field:Y})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Konten Artikel"}),s.jsx(ze,{children:s.jsx(md,{value:Y.value,onChange:Y.onChange,placeholder:"Masukkan konten lengkap artikel",disabled:o,variant:"full",minHeight:300})}),s.jsx(fa,{children:"Konten lengkap artikel dengan format rich text"}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:E.control,name:"is_published",render:({field:Y})=>s.jsxs($e,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Fe,{children:"Status Publikasi"}),s.jsx(fa,{children:"Artikel akan ditampilkan di website"})]}),s.jsx(ze,{children:s.jsx(Ax,{checked:Y.value,onCheckedChange:Y.onChange,disabled:o})})]})}),s.jsxs(Js,{children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:o,children:"Batal"}),s.jsx(pe,{type:"submit",disabled:o,children:o?"Menyimpan...":S?"Perbarui":"Simpan"})]})]})})]})})},xie=()=>{const{isAdmin:t}=us(),{toast:e}=Lt(),{updateURL:n,getCurrentFilters:a}=xa({defaults:{search:"",category:"all",is_published:"all",page:1,size:10},cleanDefaults:!0}),i=a(),[o,c]=x.useState([]),[u,h]=x.useState([]),[f,p]=x.useState(!0),[g,v]=x.useState(0),[y,w]=x.useState(0),[j,k]=x.useState(!1),[S,E]=x.useState(!1),[A,T]=x.useState(null),[_,M]=x.useState(null),[P,O]=x.useState(null),H=t(),Y=async()=>{p(!0);try{const $={page:i.page,size:i.size,search:i.search||void 0,category:i.category!=="all"?i.category:void 0,is_published:i.is_published!=="all"?i.is_published==="true":void 0},q=await hi.getArticles($);c(q.items),v(q.total),w(q.pages)}catch($){console.error("Failed to fetch articles:",$),e({title:"Error",description:"Gagal memuat data Artikel. Silakan coba lagi.",variant:"destructive"})}finally{p(!1)}},R=async()=>{try{const $=await hi.getCategories();h($.categories)}catch($){console.error("Failed to fetch categories:",$)}};x.useEffect(()=>{H&&Y()},[i.page,i.size,i.search,i.category,i.is_published,H]),x.useEffect(()=>{H&&R()},[H]);const X=$=>{M($),E(!0)},z=$=>{T($),k(!0)},Q=$=>{O($)},ne=async()=>{if(P)try{await hi.deleteArticle(P.id),O(null),Y(),e({title:"Artikel berhasil dihapus",description:`Artikel ${P.title} telah dihapus dari sistem.`})}catch($){console.error("Failed to delete article:",$);const q=($==null?void 0:$.message)||"Gagal menghapus Artikel. Silakan coba lagi.";e({title:"Error",description:q,variant:"destructive"})}},L=()=>{T(null),k(!0)},F=async($,q)=>{try{if(A)await hi.updateArticle(A.id,$,q),e({title:"Artikel berhasil diperbarui",description:`Artikel ${$.title} telah diperbarui.`});else{if(!q){e({title:"Gambar wajib diupload",description:"Silakan pilih gambar untuk artikel baru.",variant:"destructive"});return}await hi.createArticle($,q),e({title:"Artikel berhasil dibuat",description:`Artikel ${$.title} telah ditambahkan ke sistem.`})}k(!1),T(null),Y(),R()}catch(ee){console.error("Failed to save article:",ee);const te=(ee==null?void 0:ee.message)||"Gagal menyimpan Artikel. Silakan coba lagi.";e({title:"Error",description:te,variant:"destructive"})}},V=$=>{n({size:parseInt($),page:1})},K=x.useCallback($=>{$!==i.search&&n({search:$,page:1})},[n,i.search]),ae=x.useCallback($=>{$!==i.category&&n({category:$,page:1})},[n,i.category]),G=x.useCallback($=>{$!==i.is_published&&n({is_published:$,page:1})},[n,i.is_published]),B=$=>{n({page:$})},W=()=>{let $="Daftar Artikel";const q=[];return i.category!=="all"&&q.push(`Kategori: ${i.category}`),i.is_published!=="all"&&q.push(i.is_published==="true"?"Dipublikasikan":"Draft"),q.length>0&&($+=" - "+q.join(" - ")),$};return H?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ms,{title:"Manajemen Artikel",description:"Kelola artikel, publikasikan konten, dan atur kategori",actions:s.jsxs(pe,{onClick:L,children:[s.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Tambah Artikel"]})}),s.jsxs(Ur,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"category-filter",children:"Kategori"}),s.jsxs(zt,{value:i.category,onValueChange:ae,children:[s.jsx(Pt,{id:"category-filter",children:s.jsx(Ut,{placeholder:"Filter berdasarkan kategori"})}),s.jsxs(Ot,{children:[s.jsx(Ie,{value:"all",children:"Semua Kategori"}),u.map($=>s.jsx(Ie,{value:$,children:$},$))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"published-filter",children:"Status Publikasi"}),s.jsxs(zt,{value:i.is_published,onValueChange:G,children:[s.jsx(Pt,{id:"published-filter",children:s.jsx(Ut,{placeholder:"Filter berdasarkan status"})}),s.jsxs(Ot,{children:[s.jsx(Ie,{value:"all",children:"Semua Status"}),s.jsx(Ie,{value:"true",children:"Dipublikasikan"}),s.jsx(Ie,{value:"false",children:"Draft"})]})]})]})]}),s.jsx(Ne,{children:s.jsx(Se,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(hr,{title:W(),subtitle:"Kelola artikel dan konten website"}),s.jsx(Hr,{searchQuery:i.search,onSearchChange:K,placeholder:"Cari artikel berdasarkan judul, deskripsi, atau kategori..."}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(hie,{articles:o,loading:f,onView:X,onEdit:z,onDelete:Q})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(fie,{articles:o,loading:f,onView:X,onEdit:z,onDelete:Q})}),y>1&&s.jsx(Ua,{currentPage:i.page,totalPages:y,itemsPerPage:i.size,totalItems:g,onPageChange:B,onItemsPerPageChange:V})]})})}),s.jsx(gie,{open:j,onOpenChange:k,editingArticle:A,onSave:F}),_&&s.jsx(un,{open:S,onOpenChange:E,children:s.jsxs(dn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(hn,{children:s.jsx(fn,{children:"Detail Artikel"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Pe,{children:"Judul"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:_.title})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Slug"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:_.slug})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Kategori"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:_.category})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Status"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:_.is_published?"Dipublikasikan":"Draft"})]}),_.published_at&&s.jsxs("div",{children:[s.jsx(Pe,{children:"Tanggal Publikasi"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:new Date(_.published_at).toLocaleDateString("id-ID")})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Dibuat"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:new Date(_.created_at).toLocaleDateString("id-ID")})]})]}),_.img_url&&s.jsxs("div",{children:[s.jsx(Pe,{children:"Gambar"}),s.jsx("div",{className:"p-2 bg-muted rounded",children:s.jsx("img",{src:_.img_url,alt:_.title,className:"w-full max-w-md h-auto rounded"})})]}),_.excerpt&&s.jsxs("div",{children:[s.jsx(Pe,{children:"Ringkasan"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:_.excerpt})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Konten"}),s.jsx("div",{className:"p-4 bg-muted rounded text-sm max-h-96 overflow-y-auto",children:s.jsx("div",{dangerouslySetInnerHTML:{__html:_.description}})})]})]})]})}),s.jsx(cs,{open:!!P,onOpenChange:()=>O(null),children:s.jsxs(Wn,{children:[s.jsxs(Zn,{children:[s.jsx(Jn,{children:"Konfirmasi Hapus"}),s.jsxs(es,{children:["Tindakan ini tidak dapat dibatalkan. Artikel"," ",s.jsx("span",{className:"font-semibold",children:P==null?void 0:P.title})," akan dihapus secara permanen dari sistem."]})]}),s.jsxs(Qn,{children:[s.jsx(ns,{children:"Batal"}),s.jsx(ts,{onClick:ne,className:"bg-red-600 hover:bg-red-700",children:"Hapus Artikel"})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki akses untuk melihat halaman ini."})]})})};class vie extends Qs{constructor(){super("/galleries")}async getGalleries(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/?${n.toString()}`:"/";return this.get(a)}async getAllGalleries(e){const n=new URLSearchParams;e&&n.append("limit",e.toString());const a=n.toString()?`/all?${n.toString()}`:"/all";return this.get(a)}async searchGalleries(e,n){const a=new URLSearchParams;return a.append("q",e),n&&a.append("limit",n.toString()),this.get(`/search?${a.toString()}`)}async getGalleryStatistics(){return this.get("/statistics")}async getHighlightedGalleries(e){const n=new URLSearchParams;e&&n.append("limit",e.toString());const a=n.toString()?`/highlighted?${n.toString()}`:"/highlighted";return this.get(a)}async getNonHighlightedGalleries(e){const n=new URLSearchParams;e&&n.append("limit",e.toString());const a=n.toString()?`/non-highlighted?${n.toString()}`:"/non-highlighted";return this.get(a)}async getGallerySummaries(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/summaries?${n.toString()}`:"/summaries";return this.get(a)}async createGallery(e,n){const a=new FormData;return a.append("data",JSON.stringify(e)),a.append("image",n),this.post("/",a,{headers:{"Content-Type":"multipart/form-data"}})}async getGalleryById(e){return this.get(`/${e}`)}async updateGallery(e,n,a){const i=new FormData;return i.append("data",JSON.stringify(n)),a&&i.append("image",a),this.put(`/${e}`,i,{headers:{"Content-Type":"multipart/form-data"}})}async deleteGallery(e){return this.delete(`/${e}`)}async toggleGalleryHighlight(e,n){return this.patch(`/${e}/highlight`,n)}}const Mu=new vie,bie=({galleries:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>s.jsx("div",{className:"rounded-md border",children:s.jsxs(Gs,{children:[s.jsx(Ks,{children:s.jsxs(rt,{children:[s.jsx(_e,{children:"Gambar"}),s.jsx(_e,{children:"Judul"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Dibuat"}),s.jsx(_e,{className:"text-right",children:"Aksi"})]})}),s.jsx(Xs,{children:e?s.jsx(rt,{children:s.jsx(Ae,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Memuat Galeri..."})}):t.length===0?s.jsx(rt,{children:s.jsx(Ae,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Tidak ada Galeri ditemukan"})}):t.map(o=>s.jsxs(rt,{children:[s.jsx(Ae,{children:s.jsx("img",{src:dd(o.img_url,48),alt:o.title,className:"w-12 h-12 rounded object-cover"})}),s.jsxs(Ae,{children:[s.jsx("div",{className:"font-medium",children:o.title}),o.excerpt&&s.jsx("div",{className:"text-xs text-muted-foreground line-clamp-1 mt-1",children:o.short_excerpt})]}),s.jsx(Ae,{children:s.jsx("span",{className:"text-sm",children:o.is_highlight?"Unggulan":"Normal"})}),s.jsx(Ae,{children:vn(new Date(o.created_at),"dd MMM yyyy",{locale:yn})}),s.jsx(Ae,{className:"text-right",children:s.jsx(gn,{onView:()=>i(o),onEdit:()=>n(o),onDelete:()=>a(o)})})]},o.id))})]})}),yie=({galleries:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>e?s.jsx("div",{className:"grid gap-4",children:[...Array(3)].map((o,c)=>s.jsx(Ne,{children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})})},c))}):t.length===0?s.jsx(Ne,{children:s.jsx(Se,{className:"p-8 text-center text-muted-foreground",children:"Tidak ada Galeri ditemukan"})}):s.jsx("div",{className:"grid gap-4",children:t.map(o=>s.jsx(Ne,{children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[s.jsx("img",{src:dd(o.img_url,64),alt:o.title,className:"w-16 h-16 rounded object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-medium text-sm",children:o.title}),s.jsx("div",{className:"mt-1",children:s.jsxs("span",{className:"text-xs text-muted-foreground",children:["Status: ",o.is_highlight?"Unggulan":"Normal"]})})]})]}),s.jsx(gn,{onView:()=>i(o),onEdit:()=>n(o),onDelete:()=>a(o)})]})})},o.id))}),jie=Ws({title:ct().min(1,"Judul wajib diisi").max(255,"Judul maksimal 255 karakter"),excerpt:ct().optional().or(ys("")),is_highlight:Ig()}),wie=({open:t,onOpenChange:e,editingGallery:n,onSave:a})=>{const{toast:i}=Lt(),[o,c]=x.useState(!1),[u,h]=x.useState([]),f=!!n,p=js({resolver:ws(jie),defaultValues:{title:"",excerpt:"",is_highlight:!1}});x.useEffect(()=>{t&&(n?p.reset({title:n.title,excerpt:n.excerpt||"",is_highlight:n.is_highlight||!1}):p.reset({title:"",excerpt:"",is_highlight:!1}),h([]))},[t,n,p]);const g=async j=>{if(!f&&u.length===0){i({title:"Validasi gagal",description:"Gambar wajib diupload untuk galeri baru",variant:"destructive"});return}c(!0);try{const k={title:j.title,excerpt:j.excerpt||void 0,is_highlight:j.is_highlight},S=u.length>0?u[0]:void 0;await a(k,S),e(!1),p.reset(),h([])}catch(k){console.error("Error saving gallery:",k),i({title:"Terjadi kesalahan",description:k.message||"Gagal menyimpan galeri",variant:"destructive"})}finally{c(!1)}},v=j=>{h(j)},y=j=>{i({title:"Error file",description:j,variant:"destructive"})},w=n!=null&&n.img_url?[{name:`Current Image - ${n.title}`,url:n.img_url,viewUrl:n.img_url}]:[];return s.jsx(un,{open:t,onOpenChange:e,children:s.jsxs(dn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(hn,{children:s.jsx(fn,{children:f?"Edit Galeri":"Tambah Galeri Baru"})}),s.jsx(Hn,{...p,children:s.jsxs("form",{onSubmit:p.handleSubmit(g),className:"space-y-6",children:[s.jsx("div",{children:s.jsx(Sc,{label:"Gambar Galeri",description:"Upload gambar galeri (JPG, PNG, WebP, max 5MB)",accept:"image/*",maxSize:5*1024*1024,maxFiles:1,files:u,existingFiles:w,onFilesChange:v,onError:y,disabled:o})}),s.jsx(Ue,{control:p.control,name:"title",render:({field:j})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Judul"}),s.jsx(ze,{children:s.jsx(at,{placeholder:"Masukkan judul galeri",disabled:o,...j})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:p.control,name:"excerpt",render:({field:j})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Deskripsi"}),s.jsx(ze,{children:s.jsx(vr,{placeholder:"Masukkan deskripsi galeri (opsional)",disabled:o,rows:3,...j})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:p.control,name:"is_highlight",render:({field:j})=>s.jsxs($e,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx(Fe,{className:"text-base",children:"Jadikan galeri unggulan"}),s.jsx(fa,{children:"Galeri unggulan akan ditampilkan di posisi teratas"})]}),s.jsx(ze,{children:s.jsx(Ax,{checked:j.value,onCheckedChange:j.onChange,disabled:o})})]})})]})}),s.jsxs(Js,{children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:o,children:"Batal"}),s.jsx(pe,{onClick:p.handleSubmit(g),disabled:o,children:o?"Menyimpan...":f?"Perbarui Galeri":"Buat Galeri"})]})]})})},Nie=()=>{const{isAdmin:t}=us(),{toast:e}=Lt(),{updateURL:n,getCurrentFilters:a}=xa({defaults:{search:"",page:1,size:10,is_highlighted:""},cleanDefaults:!0}),i=a(),[o,c]=x.useState([]),[u,h]=x.useState(!0),[f,p]=x.useState(0),[g,v]=x.useState(0),[y,w]=x.useState(!1),[j,k]=x.useState(!1),[S,E]=x.useState(null),[A,T]=x.useState(null),[_,M]=x.useState(null),P=t(),O=async()=>{h(!0);try{const F={page:i.page,size:i.size,search:i.search||void 0,is_highlighted:i.is_highlighted==="true"?!0:i.is_highlighted==="false"?!1:void 0},V=await Mu.getGalleries(F);c(V.items),p(V.total),v(V.pages)}catch(F){console.error("Failed to fetch galleries:",F),e({title:"Error",description:"Gagal memuat data Galeri. Silakan coba lagi.",variant:"destructive"})}finally{h(!1)}};x.useEffect(()=>{P&&O()},[i.page,i.size,i.search,i.is_highlighted,P]);const H=F=>{T(F),k(!0)},Y=F=>{E(F),w(!0)},R=F=>{M(F)},X=async()=>{if(_)try{await Mu.deleteGallery(_.id),M(null),O(),e({title:"Galeri berhasil dihapus",description:`Galeri ${_.title} telah dihapus dari sistem.`})}catch(F){console.error("Failed to delete gallery:",F);const V=(F==null?void 0:F.message)||"Gagal menghapus Galeri. Silakan coba lagi.";e({title:"Error",description:V,variant:"destructive"})}},z=()=>{E(null),w(!0)},Q=async(F,V)=>{try{if(S)await Mu.updateGallery(S.id,F,V),e({title:"Galeri berhasil diperbarui",description:`Galeri ${F.title} telah diperbarui.`});else{if(!V){e({title:"Gambar wajib diupload",description:"Silakan pilih gambar untuk galeri baru.",variant:"destructive"});return}await Mu.createGallery(F,V),e({title:"Galeri berhasil dibuat",description:`Galeri ${F.title} telah ditambahkan ke sistem.`})}w(!1),E(null),O()}catch(K){console.error("Failed to save gallery:",K);const ae=(K==null?void 0:K.message)||"Gagal menyimpan Galeri. Silakan coba lagi.";e({title:"Error",description:ae,variant:"destructive"})}},ne=x.useCallback(F=>{F!==i.search&&n({search:F,page:1})},[n,i.search]),L=x.useCallback(F=>{n({is_highlighted:F==="all"?"":F,page:1})},[n]);return P?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ms,{title:"Manajemen Galeri",description:"Kelola galeri foto dan status unggulan",actions:s.jsxs(pe,{onClick:z,children:[s.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Tambah Galeri"]})}),s.jsx(Ne,{children:s.jsx(Se,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(hr,{title:"Daftar Galeri",subtitle:"Kelola galeri foto dan status unggulan"}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(Hr,{searchQuery:i.search,onSearchChange:ne,placeholder:"Cari galeri berdasarkan judul..."})}),s.jsx("div",{className:"w-full sm:w-48",children:s.jsxs(zt,{value:i.is_highlighted||"all",onValueChange:L,children:[s.jsxs(Pt,{children:[s.jsx(Fj,{className:"w-4 h-4 mr-2"}),s.jsx(Ut,{placeholder:"Filter status"})]}),s.jsxs(Ot,{children:[s.jsx(Ie,{value:"all",children:"Semua Galeri"}),s.jsx(Ie,{value:"true",children:"Hanya Unggulan"}),s.jsx(Ie,{value:"false",children:"Tidak Unggulan"})]})]})})]}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(bie,{galleries:o,loading:u,onView:H,onEdit:Y,onDelete:R})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(yie,{galleries:o,loading:u,onView:H,onEdit:Y,onDelete:R})}),g>1&&s.jsx(Ua,{currentPage:i.page,totalPages:g,itemsPerPage:i.size,totalItems:f,onPageChange:F=>n({page:F}),onItemsPerPageChange:F=>n({size:parseInt(F),page:1})})]})})}),s.jsx(wie,{open:y,onOpenChange:w,editingGallery:S,onSave:Q}),A&&s.jsx(un,{open:j,onOpenChange:k,children:s.jsxs(dn,{className:"max-w-2xl",children:[s.jsx(hn,{children:s.jsx(fn,{children:"Detail Galeri"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(Pe,{children:"Gambar"}),s.jsx("div",{className:"p-2 bg-muted rounded",children:s.jsx("img",{src:pg(A.img_url),alt:A.title,className:"w-full max-w-md h-auto rounded"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Pe,{children:"Judul"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:A.title})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Status"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:A.is_highlight?"Unggulan":"Normal"})]})]}),A.excerpt&&s.jsxs("div",{children:[s.jsx(Pe,{children:"Deskripsi"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:A.excerpt})]})]})]})}),s.jsx(cs,{open:!!_,onOpenChange:()=>M(null),children:s.jsxs(Wn,{children:[s.jsxs(Zn,{children:[s.jsx(Jn,{children:"Konfirmasi Hapus"}),s.jsxs(es,{children:["Tindakan ini tidak dapat dibatalkan. Galeri"," ",s.jsx("span",{className:"font-semibold",children:_==null?void 0:_.title})," akan dihapus secara permanen dari sistem."]})]}),s.jsxs(Qn,{children:[s.jsx(ns,{children:"Batal"}),s.jsx(ts,{onClick:X,className:"bg-red-600 hover:bg-red-700",children:"Hapus Galeri"})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki akses untuk melihat halaman ini."})]})})};class Sie extends Qs{constructor(){super("/messages")}async submitMessage(e){return this.post("/submit",e)}async getMessages(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/?${n.toString()}`:"/";return this.get(a)}async getUnreadMessages(e){const n=new URLSearchParams;e&&n.append("limit",e.toString());const a=n.toString()?`/unread?${n.toString()}`:"/unread";return this.get(a)}async getMessagesByEmail(e){return this.get(`/by-email/${encodeURIComponent(e)}`)}async searchMessages(e,n){const a=new URLSearchParams;return a.append("q",e),n&&a.append("limit",n.toString()),this.get(`/search?${a.toString()}`)}async getMessageStatistics(){return this.get("/statistics")}async getMessageSummaries(e){const n=new URLSearchParams;e&&Object.entries(e).forEach(([i,o])=>{o!=null&&n.append(i,o.toString())});const a=n.toString()?`/summaries?${n.toString()}`:"/summaries";return this.get(a)}async getMessageById(e,n=!1){const a=new URLSearchParams;n&&a.append("mark_as_read","true");const i=a.toString()?`/${e}?${a.toString()}`:`/${e}`;return this.get(i)}async updateMessage(e,n){return this.put(`/${e}`,n)}async deleteMessage(e){return this.delete(`/${e}`)}async updateMessageStatus(e,n){return this.patch(`/${e}/status`,n)}async markMessageAsRead(e){return this.post(`/${e}/mark-read`)}async archiveMessage(e){return this.post(`/${e}/archive`)}async bulkUpdateStatus(e,n){return this.post("/bulk/status",{message_ids:e,status:n})}async bulkDeleteMessages(e){return this.post("/bulk/delete",{message_ids:e})}async bulkMarkAsRead(e){return this.post("/bulk/mark-read",{message_ids:e})}async bulkArchiveMessages(e){return this.post("/bulk/archive",{message_ids:e})}}const ku=new Sie,kie=({messages:t,loading:e=!1,onView:n,onDelete:a,onMarkAsRead:i,onArchive:o})=>{const c=u=>{switch(u){case"UNREAD":return"Belum Dibaca";case"READ":return"Sudah Dibaca";case"ARCHIEVED":return"Diarsipkan";default:return u}};return s.jsx("div",{className:"rounded-md border",children:s.jsxs(Gs,{children:[s.jsx(Ks,{children:s.jsxs(rt,{children:[s.jsx(_e,{children:"Pengirim"}),s.jsx(_e,{children:"Judul"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Tanggal"}),s.jsx(_e,{className:"text-right",children:"Aksi"})]})}),s.jsx(Xs,{children:e?s.jsx(rt,{children:s.jsx(Ae,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Memuat Pesan..."})}):t.length===0?s.jsx(rt,{children:s.jsx(Ae,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Tidak ada Pesan ditemukan"})}):t.map(u=>s.jsxs(rt,{className:u.is_unread?"bg-blue-50":"",children:[s.jsx(Ae,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:u.name}),s.jsx("div",{className:"text-xs text-muted-foreground",children:u.email})]})}),s.jsxs(Ae,{children:[s.jsx("div",{className:"font-medium",children:u.short_title}),s.jsx("div",{className:"text-xs text-muted-foreground line-clamp-1",children:u.short_message})]}),s.jsx(Ae,{children:c(u.status)}),s.jsx(Ae,{children:vn(new Date(u.created_at),"dd MMM yyyy",{locale:yn})}),s.jsx(Ae,{className:"text-right",children:s.jsx(gn,{onView:()=>n(u),onDelete:()=>a(u),showView:!0,showEdit:!1,showDelete:!0,customActions:[...u.is_unread?[{label:"Tandai Dibaca",onClick:()=>i(u),icon:"Eye"}]:[],...u.status!=="ARCHIEVED"?[{label:"Arsipkan",onClick:()=>o(u),icon:"Archive"}]:[]]})})]},u.id))})]})})},Eie=({messages:t,loading:e=!1,onView:n,onDelete:a,onMarkAsRead:i,onArchive:o})=>{const c=u=>{switch(u){case"UNREAD":return"Belum Dibaca";case"READ":return"Sudah Dibaca";case"ARCHIEVED":return"Diarsipkan";default:return u}};return e?s.jsx("div",{className:"grid gap-4",children:[...Array(3)].map((u,h)=>s.jsx(Ne,{children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})})},h))}):t.length===0?s.jsx(Ne,{children:s.jsx(Se,{className:"p-8 text-center text-muted-foreground",children:"Tidak ada Pesan ditemukan"})}):s.jsx("div",{className:"grid gap-4",children:t.map(u=>s.jsx(Ne,{className:u.is_unread?"border-blue-200 bg-blue-50":"",children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("h3",{className:"font-medium text-sm",children:u.name}),c(u.status)]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:u.email})]}),s.jsx("span",{className:"text-xs text-muted-foreground",children:vn(new Date(u.created_at),"dd MMM yyyy",{locale:yn})})]}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-muted rounded-full",children:s.jsx(q_,{className:"w-4 h-4"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm mb-1",children:u.short_title}),s.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:u.short_message})]})]}),s.jsx(gn,{onView:()=>n(u),onDelete:()=>a(u),showView:!0,showEdit:!1,showDelete:!0,customActions:[...u.is_unread?[{label:"Tandai Dibaca",onClick:()=>i(u),icon:"Eye"}]:[],...u.status!=="ARCHIEVED"?[{label:"Arsipkan",onClick:()=>o(u),icon:"Archive"}]:[]]})]})]})})},u.id))})},Aie=()=>{const{isAdmin:t}=us(),{toast:e}=Lt(),{updateURL:n,getCurrentFilters:a}=xa({defaults:{search:"",status:"all",unread_only:"false",page:1,size:10},cleanDefaults:!0}),i=a(),[o,c]=x.useState([]),[u,h]=x.useState(!0),[f,p]=x.useState(0),[g,v]=x.useState(0),[y,w]=x.useState(!1),[j,k]=x.useState(null),[S,E]=x.useState(null),A=t(),T=async()=>{h(!0);try{const z={page:i.page,size:i.size,search:i.search||void 0,status:i.status!=="all"?i.status:void 0,unread_only:i.unread_only==="true"},Q=await ku.getMessages(z);c(Q.items),p(Q.total),v(Q.pages)}catch(z){console.error("Failed to fetch messages:",z),e({title:"Error",description:"Gagal memuat data Pesan. Silakan coba lagi.",variant:"destructive"})}finally{h(!1)}};x.useEffect(()=>{A&&T()},[i.page,i.size,i.search,i.status,i.unread_only,A]);const _=async z=>{try{const Q=await ku.getMessageById(z.id,!0);k(Q),w(!0),T()}catch(Q){console.error("Failed to view message:",Q),k(z),w(!0)}},M=z=>{E(z)},P=async()=>{if(S)try{await ku.deleteMessage(S.id),E(null),T(),e({title:"Pesan berhasil dihapus",description:`Pesan dari ${S.name} telah dihapus dari sistem.`})}catch(z){console.error("Failed to delete message:",z);const Q=(z==null?void 0:z.message)||"Gagal menghapus Pesan. Silakan coba lagi.";e({title:"Error",description:Q,variant:"destructive"})}},O=async z=>{try{await ku.markMessageAsRead(z.id),T(),e({title:"Pesan ditandai sebagai dibaca",description:`Pesan dari ${z.name} telah ditandai sebagai dibaca.`})}catch(Q){console.error("Failed to mark message as read:",Q),e({title:"Error",description:"Gagal menandai pesan sebagai dibaca.",variant:"destructive"})}},H=async z=>{try{await ku.archiveMessage(z.id),T(),e({title:"Pesan diarsipkan",description:`Pesan dari ${z.name} telah diarsipkan.`})}catch(Q){console.error("Failed to archive message:",Q),e({title:"Error",description:"Gagal mengarsipkan pesan.",variant:"destructive"})}},Y=x.useCallback(z=>{z!==i.search&&n({search:z,page:1})},[n,i.search]),R=x.useCallback(z=>{z!==i.status&&n({status:z,page:1})},[n,i.status]),X=x.useCallback(z=>{z!==i.unread_only&&n({unread_only:z,page:1})},[n,i.unread_only]);return A?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ms,{title:"Manajemen Pesan",description:"Kelola pesan masuk dari pengunjung website"}),s.jsxs(Ur,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"status-filter",children:"Status"}),s.jsxs(zt,{value:i.status,onValueChange:R,children:[s.jsx(Pt,{id:"status-filter",children:s.jsx(Ut,{placeholder:"Filter berdasarkan status"})}),s.jsxs(Ot,{children:[s.jsx(Ie,{value:"all",children:"Semua Status"}),s.jsx(Ie,{value:"UNREAD",children:"Belum Dibaca"}),s.jsx(Ie,{value:"READ",children:"Sudah Dibaca"}),s.jsx(Ie,{value:"ARCHIEVED",children:"Diarsipkan"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"unread-filter",children:"Tampilan"}),s.jsxs(zt,{value:i.unread_only,onValueChange:X,children:[s.jsx(Pt,{id:"unread-filter",children:s.jsx(Ut,{placeholder:"Filter tampilan"})}),s.jsxs(Ot,{children:[s.jsx(Ie,{value:"false",children:"Semua Pesan"}),s.jsx(Ie,{value:"true",children:"Hanya Belum Dibaca"})]})]})]})]}),s.jsx(Ne,{children:s.jsx(Se,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(hr,{title:"Daftar Pesan",subtitle:"Kelola pesan masuk dari pengunjung website"}),s.jsx(Hr,{searchQuery:i.search,onSearchChange:Y,placeholder:"Cari pesan berdasarkan nama, email, atau judul..."}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(kie,{messages:o,loading:u,onView:_,onDelete:M,onMarkAsRead:O,onArchive:H})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(Eie,{messages:o,loading:u,onView:_,onDelete:M,onMarkAsRead:O,onArchive:H})}),g>1&&s.jsx(Ua,{currentPage:i.page,totalPages:g,itemsPerPage:i.size,totalItems:f,onPageChange:z=>n({page:z}),onItemsPerPageChange:z=>n({size:parseInt(z),page:1})})]})})}),j&&s.jsx(un,{open:y,onOpenChange:w,children:s.jsxs(dn,{className:"max-w-2xl",children:[s.jsx(hn,{children:s.jsx(fn,{children:"Detail Pesan"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Pe,{children:"Nama Pengirim"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:j.name})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Email"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:j.email})]})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Judul"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:j.title})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Pesan"}),s.jsx("div",{className:"p-4 bg-muted rounded text-sm max-h-64 overflow-y-auto",children:j.message})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Pe,{children:"Status"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:j.status==="UNREAD"?"Belum Dibaca":j.status==="READ"?"Sudah Dibaca":"Diarsipkan"})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Tanggal"}),s.jsx("div",{className:"p-2 bg-muted rounded text-sm",children:new Date(j.created_at).toLocaleDateString("id-ID")})]})]})]})]})}),s.jsx(cs,{open:!!S,onOpenChange:()=>E(null),children:s.jsxs(Wn,{children:[s.jsxs(Zn,{children:[s.jsx(Jn,{children:"Konfirmasi Hapus"}),s.jsxs(es,{children:["Tindakan ini tidak dapat dibatalkan. Pesan dari"," ",s.jsx("span",{className:"font-semibold",children:S==null?void 0:S.name})," akan dihapus secara permanen dari sistem."]})]}),s.jsxs(Qn,{children:[s.jsx(ns,{children:"Batal"}),s.jsx(ts,{onClick:P,className:"bg-red-600 hover:bg-red-700",children:"Hapus Pesan"})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki akses untuk melihat halaman ini."})]})})};function Le({className:t,...e}){return s.jsx("div",{"data-slot":"skeleton",className:ge("bg-accent animate-pulse rounded-md",t),...e})}const Cie=()=>s.jsx(Xs,{children:Array.from({length:5}).map((t,e)=>s.jsxs(rt,{children:[s.jsx(Ae,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Le,{className:"w-16 h-12 rounded"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx(Le,{className:"h-4 w-32"}),s.jsx(Le,{className:"h-3 w-24"})]})]})}),s.jsx(Ae,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx(Le,{className:"h-4 w-full"}),s.jsx(Le,{className:"h-4 w-3/4"})]})}),s.jsx(Ae,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx(Le,{className:"h-4 w-full"}),s.jsx(Le,{className:"h-4 w-2/3"})]})}),s.jsx(Ae,{children:s.jsx(Le,{className:"h-4 w-20"})}),s.jsx(Ae,{children:s.jsx(Le,{className:"h-8 w-8 rounded"})})]},e))}),Tie=({programs:t,loading:e,onView:n,onEdit:a,onDelete:i})=>e?s.jsx("div",{className:"border rounded-lg",children:s.jsxs(Gs,{children:[s.jsx(Ks,{children:s.jsxs(rt,{children:[s.jsx(_e,{children:"Program"}),s.jsx(_e,{children:"Ringkasan"}),s.jsx(_e,{children:"Deskripsi"}),s.jsx(_e,{children:"Dibuat"}),s.jsx(_e,{className:"w-12"})]})}),s.jsx(Cie,{})]})}):t.length===0?s.jsx("div",{className:"border rounded-lg",children:s.jsxs(Gs,{children:[s.jsx(Ks,{children:s.jsxs(rt,{children:[s.jsx(_e,{children:"Program"}),s.jsx(_e,{children:"Ringkasan"}),s.jsx(_e,{children:"Deskripsi"}),s.jsx(_e,{children:"Dibuat"}),s.jsx(_e,{className:"w-12"})]})}),s.jsx(Xs,{children:s.jsx(rt,{children:s.jsxs(Ae,{colSpan:5,className:"text-center py-12",children:[s.jsx(il,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Tidak ada program ditemukan"}),s.jsx("p",{className:"text-muted-foreground",children:"Belum ada data program yang tersedia saat ini."})]})})})]})}):s.jsx("div",{className:"border rounded-lg",children:s.jsxs(Gs,{children:[s.jsx(Ks,{children:s.jsxs(rt,{children:[s.jsx(_e,{children:"Program"}),s.jsx(_e,{children:"Ringkasan"}),s.jsx(_e,{children:"Deskripsi"}),s.jsx(_e,{children:"Dibuat"}),s.jsx(_e,{className:"w-12"})]})}),s.jsx(Xs,{children:t.map(o=>s.jsxs(rt,{className:"hover:bg-muted/50",children:[s.jsx(Ae,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-16 h-12 relative overflow-hidden rounded bg-muted flex-shrink-0",children:o.img_url?s.jsx("img",{src:rc(o.img_url),alt:o.title,className:"w-full h-full object-cover",onError:c=>{const u=c.target;u.src=`https://picsum.photos/200/150?random=${o.id}`}}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(il,{className:"w-6 h-6 text-muted-foreground"})})}),s.jsx("div",{className:"min-w-0 flex-1",children:s.jsx("h3",{className:"truncate",children:o.title})})]})}),s.jsx(Ae,{className:"max-w-md",children:o.excerpt?s.jsx("div",{className:"line-clamp-2",children:o.excerpt}):s.jsx("span",{className:"italic",children:"Tidak ada ringkasan"})}),s.jsx(Ae,{className:"max-w-md",children:o.description?s.jsx(qn,{content:o.description}):s.jsx("span",{className:"italic",children:"Tidak ada deskripsi"})}),s.jsx(Ae,{children:vn(new Date(o.created_at),"dd MMM yyyy",{locale:yn})}),s.jsx(Ae,{children:s.jsx(gn,{onView:()=>n(o),onEdit:()=>a(o),onDelete:()=>i(o)})})]},o.id))})]})}),_ie=()=>s.jsxs(Ne,{children:[s.jsx("div",{className:"aspect-video relative overflow-hidden rounded-t-lg bg-muted",children:s.jsx(Le,{className:"w-full h-full"})}),s.jsxs(Se,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx(Le,{className:"h-5 w-3/4"}),s.jsx(Le,{className:"h-8 w-8 rounded"})]}),s.jsx(Le,{className:"h-4 w-full mb-2"}),s.jsx(Le,{className:"h-4 w-2/3 mb-3"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Le,{className:"h-4 w-4"}),s.jsx(Le,{className:"h-4 w-20"})]})]})]}),Rie=({programs:t,loading:e,onView:n,onEdit:a,onDelete:i})=>e?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((o,c)=>s.jsx(_ie,{},c))}):t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(il,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Tidak ada program ditemukan"}),s.jsx("p",{className:"text-muted-foreground",children:"Belum ada data program yang tersedia saat ini."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(o=>s.jsxs(Ne,{className:"group hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[s.jsx("div",{className:"aspect-video relative overflow-hidden rounded-t-lg bg-muted",children:o.img_url?s.jsx("img",{src:rc(o.img_url),alt:o.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:c=>{const u=c.target;u.src=`https://picsum.photos/400/225?random=${o.id}`}}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(il,{className:"w-12 h-12 text-muted-foreground"})})}),s.jsxs(Se,{className:"p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors line-clamp-1",children:o.title}),s.jsx(gn,{onView:()=>n(o),onEdit:()=>a(o),onDelete:()=>i(o)})]}),o.excerpt&&s.jsx("div",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:o.excerpt}),o.description&&s.jsx("div",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:s.jsx(qn,{content:o.description})}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[s.jsx(pr,{className:"w-4 h-4"}),s.jsx("span",{children:vn(new Date(o.created_at),"dd MMM yyyy",{locale:yn})})]})]})]},o.id))}),Die=Ws({title:ct().min(1,"Nama program wajib diisi").max(255,"Nama program maksimal 255 karakter"),excerpt:ct().optional().or(ys("")),description:ct().optional().or(ys(""))}),EC=({open:t,onOpenChange:e,editingProgram:n,onSave:a,mode:i="create"})=>{const{toast:o}=Lt(),[c,u]=x.useState(!1),[h,f]=x.useState([]),p=i==="edit",g=i==="view",v=js({resolver:ws(Die),defaultValues:{title:"",excerpt:"",description:""}});x.useEffect(()=>{t&&(n?v.reset({title:n.title,excerpt:n.excerpt||"",description:n.description||""}):v.reset({title:"",excerpt:"",description:""}),f([]))},[t,n,v]);const y=async S=>{u(!0);try{const E={title:S.title,excerpt:S.excerpt||void 0,description:S.description||void 0},A=h.length>0?h[0]:void 0;await a(E,A),e(!1),v.reset(),f([])}catch(E){console.error("Error saving program:",E),o({title:"Terjadi kesalahan",description:E.message||"Gagal menyimpan program",variant:"destructive"})}finally{u(!1)}},w=S=>{f(S)},j=S=>{o({title:"Error file",description:S,variant:"destructive"})},k=n!=null&&n.img_url?[{name:`Current Image - ${n.title}`,url:n.img_url,viewUrl:n.img_url}]:[];return s.jsx(un,{open:t,onOpenChange:e,children:s.jsxs(dn,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(hn,{children:s.jsx(fn,{children:g?"Detail Program":p?"Edit Program":"Tambah Program Baru"})}),s.jsx(Hn,{...v,children:s.jsxs("form",{onSubmit:v.handleSubmit(y),className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ue,{control:v.control,name:"title",render:({field:S})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Nama Program"}),s.jsx(ze,{children:s.jsx(at,{placeholder:"Masukkan nama program",...S,disabled:c||g})}),s.jsx(Ke,{})]})}),s.jsx("div",{children:s.jsx(Sc,{label:"Gambar Program",description:"Upload gambar program (JPG, PNG, WebP, max 5MB)",accept:"image/*",maxSize:5*1024*1024,maxFiles:1,files:h,existingFiles:k,onFilesChange:w,onError:j,required:!1,disabled:c||g,showPreview:!0,allowRemove:!1})}),s.jsx(Ue,{control:v.control,name:"excerpt",render:({field:S})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Ringkasan"}),s.jsx(ze,{children:s.jsx(vr,{placeholder:"Masukkan ringkasan program (opsional)",rows:3,...S,disabled:c||g})}),s.jsx(fa,{children:"Ringkasan singkat tentang program (opsional)"}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:v.control,name:"description",render:({field:S})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Deskripsi Detail"}),s.jsx(ze,{children:g?s.jsx("div",{className:"min-h-[200px] p-3 border rounded-md bg-muted/30",children:S.value?s.jsx(qn,{content:S.value}):s.jsx("span",{className:"text-muted-foreground italic",children:"Tidak ada deskripsi detail"})}):s.jsx(md,{value:S.value||"",onChange:S.onChange,placeholder:"Masukkan deskripsi detail program (opsional)",disabled:c})}),s.jsx(fa,{children:"Deskripsi lengkap tentang program, tujuan, manfaat, dll (opsional)"}),s.jsx(Ke,{})]})})]}),s.jsxs(Js,{children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:c,children:g?"Tutup":"Batal"}),!g&&s.jsx(pe,{type:"submit",disabled:c,children:c?"Menyimpan...":p?"Perbarui":"Simpan"})]})]})})]})})},Mie=()=>{const{isAdmin:t}=us(),{toast:e}=Lt(),{updateURL:n,getCurrentFilters:a}=xa({defaults:{search:"",page:1,size:10},cleanDefaults:!0}),i=a(),[o,c]=x.useState([]),[u,h]=x.useState(!0),[f,p]=x.useState(0),[g,v]=x.useState(0),[y,w]=x.useState(!1),[j,k]=x.useState(!1),[S,E]=x.useState(null),[A,T]=x.useState(null),[_,M]=x.useState(null),P=t(),O=async()=>{h(!0);try{const V={skip:(i.page-1)*i.size,limit:i.size,search:i.search||void 0},K=await Ch.getPrograms(V);c(K.items),p(K.total),v(K.pages)}catch(V){console.error("Failed to fetch programs:",V),e({title:"Error",description:"Gagal memuat data Program. Silakan coba lagi.",variant:"destructive"})}finally{h(!1)}};x.useEffect(()=>{P&&O()},[i.page,i.size,i.search,P]);const H=V=>{T(V),k(!0)},Y=V=>{E(V),w(!0)},R=V=>{M(V)},X=()=>{E(null),w(!0)},z=x.useCallback(async(V,K)=>{var ae,G;try{S?await Ch.updateProgram(S.id,V,K):await Ch.createProgram(V,K),await O()}catch(B){throw new Error(((G=(ae=B.response)==null?void 0:ae.data)==null?void 0:G.message)||"Gagal menyimpan program")}},[S]),Q=async()=>{var V,K;if(_)try{await Ch.deleteProgram(_.id),e({title:"Berhasil",description:"Program berhasil dihapus."}),await O()}catch(ae){console.error("Failed to delete program:",ae),e({title:"Error",description:((K=(V=ae.response)==null?void 0:V.data)==null?void 0:K.message)||"Gagal menghapus program.",variant:"destructive"})}finally{M(null)}},ne=x.useCallback(V=>{n({search:V,page:1})},[n]),L=x.useCallback(V=>{n({page:V})},[n]),F=x.useCallback(V=>{n({size:V,page:1})},[n]);return P?s.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[s.jsx(Ms,{title:"Manajemen Program",description:"Kelola data program dan kegiatan yayasan",actions:s.jsxs(pe,{onClick:X,children:[s.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Tambah Program"]})}),s.jsx("div",{className:"space-y-4",children:s.jsx(Hr,{searchQuery:i.search,onSearchChange:ne,placeholder:"Cari program..."})}),s.jsx(hr,{title:"Daftar Program",subtitle:`${f} program ditemukan`}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"hidden lg:block",children:s.jsx(Tie,{programs:o,loading:u,onView:H,onEdit:Y,onDelete:R})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(Rie,{programs:o,loading:u,onView:H,onEdit:Y,onDelete:R})}),g>1&&s.jsx(Ua,{currentPage:i.page,totalPages:g,itemsPerPage:i.size,totalItems:f,onPageChange:L,onItemsPerPageChange:V=>F(parseInt(V))})]}),s.jsx(EC,{open:y,onOpenChange:w,editingProgram:S,onSave:z,mode:S?"edit":"create"}),s.jsx(un,{open:j,onOpenChange:k,children:s.jsxs(dn,{className:"max-w-4xl",children:[s.jsx(hn,{children:s.jsx(fn,{children:"Detail Program"})}),A&&s.jsx(EC,{open:j,onOpenChange:k,editingProgram:A,onSave:()=>{},mode:"view"})]})}),s.jsx(cs,{open:!!_,onOpenChange:()=>M(null),children:s.jsxs(Wn,{children:[s.jsxs(Zn,{children:[s.jsx(Jn,{children:"Hapus Program"}),s.jsxs(es,{children:['Apakah Anda yakin ingin menghapus program "',_==null?void 0:_.title,'"? Tindakan ini tidak dapat dibatalkan.']})]}),s.jsxs(Qn,{children:[s.jsx(ns,{children:"Batal"}),s.jsx(ts,{onClick:Q,className:"bg-destructive hover:bg-destructive/90",children:"Hapus"})]})]})})]}):s.jsx("div",{className:"container mx-auto py-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-destructive mb-4",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki izin untuk mengakses halaman ini."})]})})};function Pie(t){return Object.prototype.toString.call(t)==="[object Object]"}function AC(t){return Pie(t)||Array.isArray(t)}function Oie(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function dw(t,e){const n=Object.keys(t),a=Object.keys(e);if(n.length!==a.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),o=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==o?!1:n.every(c=>{const u=t[c],h=e[c];return typeof u=="function"?`${u}`==`${h}`:!AC(u)||!AC(h)?u===h:dw(u,h)})}function CC(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function Lie(t,e){if(t.length!==e.length)return!1;const n=CC(t),a=CC(e);return n.every((i,o)=>{const c=a[o];return dw(i,c)})}function hw(t){return typeof t=="number"}function ij(t){return typeof t=="string"}function Ix(t){return typeof t=="boolean"}function TC(t){return Object.prototype.toString.call(t)==="[object Object]"}function kn(t){return Math.abs(t)}function fw(t){return Math.sign(t)}function Zh(t,e){return kn(t-e)}function Iie(t,e){if(t===0||e===0||kn(t)<=kn(e))return 0;const n=Zh(kn(t),kn(e));return kn(n/t)}function Bie(t){return Math.round(t*100)/100}function Af(t){return Cf(t).map(Number)}function Lr(t){return t[am(t)]}function am(t){return Math.max(0,t.length-1)}function mw(t,e){return e===am(t)}function _C(t,e=0){return Array.from(Array(t),(n,a)=>e+a)}function Cf(t){return Object.keys(t)}function M3(t,e){return[t,e].reduce((n,a)=>(Cf(a).forEach(i=>{const o=n[i],c=a[i],u=TC(o)&&TC(c);n[i]=u?M3(o,c):c}),n),{})}function oj(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function zie(t,e){const n={start:a,center:i,end:o};function a(){return 0}function i(h){return o(h)/2}function o(h){return e-h}function c(h,f){return ij(t)?n[t](h):t(e,h,f)}return{measure:c}}function Tf(){let t=[];function e(i,o,c,u={passive:!0}){let h;if("addEventListener"in i)i.addEventListener(o,c,u),h=()=>i.removeEventListener(o,c,u);else{const f=i;f.addListener(c),h=()=>f.removeListener(c)}return t.push(h),a}function n(){t=t.filter(i=>i())}const a={add:e,clear:n};return a}function Uie(t,e,n,a){const i=Tf(),o=1e3/60;let c=null,u=0,h=0;function f(){i.add(t,"visibilitychange",()=>{t.hidden&&w()})}function p(){y(),i.clear()}function g(k){if(!h)return;c||(c=k,n(),n());const S=k-c;for(c=k,u+=S;u>=o;)n(),u-=o;const E=u/o;a(E),h&&(h=e.requestAnimationFrame(g))}function v(){h||(h=e.requestAnimationFrame(g))}function y(){e.cancelAnimationFrame(h),c=null,u=0,h=0}function w(){c=null,u=0}return{init:f,destroy:p,start:v,stop:y,update:n,render:a}}function $ie(t,e){const n=e==="rtl",a=t==="y",i=a?"y":"x",o=a?"x":"y",c=!a&&n?-1:1,u=p(),h=g();function f(w){const{height:j,width:k}=w;return a?j:k}function p(){return a?"top":n?"right":"left"}function g(){return a?"bottom":n?"left":"right"}function v(w){return w*c}return{scroll:i,cross:o,startEdge:u,endEdge:h,measureSize:f,direction:v}}function hc(t=0,e=0){const n=kn(t-e);function a(f){return f<t}function i(f){return f>e}function o(f){return a(f)||i(f)}function c(f){return o(f)?a(f)?t:e:f}function u(f){return n?f-n*Math.ceil((f-e)/n):f}return{length:n,max:e,min:t,constrain:c,reachedAny:o,reachedMax:i,reachedMin:a,removeOffset:u}}function P3(t,e,n){const{constrain:a}=hc(0,t),i=t+1;let o=c(e);function c(v){return n?kn((i+v)%i):a(v)}function u(){return o}function h(v){return o=c(v),g}function f(v){return p().set(u()+v)}function p(){return P3(t,u(),n)}const g={get:u,set:h,add:f,clone:p};return g}function Fie(t,e,n,a,i,o,c,u,h,f,p,g,v,y,w,j,k,S,E){const{cross:A,direction:T}=t,_=["INPUT","SELECT","TEXTAREA"],M={passive:!1},P=Tf(),O=Tf(),H=hc(50,225).constrain(y.measure(20)),Y={mouse:300,touch:400},R={mouse:500,touch:600},X=w?43:25;let z=!1,Q=0,ne=0,L=!1,F=!1,V=!1,K=!1;function ae(ce){if(!E)return;function Ee(De){(Ix(E)||E(ce,De))&&ee(De)}const be=e;P.add(be,"dragstart",De=>De.preventDefault(),M).add(be,"touchmove",()=>{},M).add(be,"touchend",()=>{}).add(be,"touchstart",Ee).add(be,"mousedown",Ee).add(be,"touchcancel",ie).add(be,"contextmenu",ie).add(be,"click",de,!0)}function G(){P.clear(),O.clear()}function B(){const ce=K?n:e;O.add(ce,"touchmove",te,M).add(ce,"touchend",ie).add(ce,"mousemove",te,M).add(ce,"mouseup",ie)}function W(ce){const Ee=ce.nodeName||"";return _.includes(Ee)}function $(){return(w?R:Y)[K?"mouse":"touch"]}function q(ce,Ee){const be=g.add(fw(ce)*-1),De=p.byDistance(ce,!w).distance;return w||kn(ce)<H?De:k&&Ee?De*.5:p.byIndex(be.get(),0).distance}function ee(ce){const Ee=oj(ce,a);K=Ee,V=w&&Ee&&!ce.buttons&&z,z=Zh(i.get(),c.get())>=2,!(Ee&&ce.button!==0)&&(W(ce.target)||(L=!0,o.pointerDown(ce),f.useFriction(0).useDuration(0),i.set(c),B(),Q=o.readPoint(ce),ne=o.readPoint(ce,A),v.emit("pointerDown")))}function te(ce){if(!oj(ce,a)&&ce.touches.length>=2)return ie(ce);const be=o.readPoint(ce),De=o.readPoint(ce,A),Te=Zh(be,Q),Oe=Zh(De,ne);if(!F&&!K&&(!ce.cancelable||(F=Te>Oe,!F)))return ie(ce);const Ze=o.pointerMove(ce);Te>j&&(V=!0),f.useFriction(.3).useDuration(.75),u.start(),i.add(T(Ze)),ce.preventDefault()}function ie(ce){const be=p.byDistance(0,!1).index!==g.get(),De=o.pointerUp(ce)*$(),Te=q(T(De),be),Oe=Iie(De,Te),Ze=X-10*Oe,qe=S+Oe/50;F=!1,L=!1,O.clear(),f.useDuration(Ze).useFriction(qe),h.distance(Te,!w),K=!1,v.emit("pointerUp")}function de(ce){V&&(ce.stopPropagation(),ce.preventDefault(),V=!1)}function re(){return L}return{init:ae,destroy:G,pointerDown:re}}function Vie(t,e){let a,i;function o(g){return g.timeStamp}function c(g,v){const w=`client${(v||t.scroll)==="x"?"X":"Y"}`;return(oj(g,e)?g:g.touches[0])[w]}function u(g){return a=g,i=g,c(g)}function h(g){const v=c(g)-c(i),y=o(g)-o(a)>170;return i=g,y&&(a=g),v}function f(g){if(!a||!i)return 0;const v=c(i)-c(a),y=o(g)-o(a),w=o(g)-o(i)>170,j=v/y;return y&&!w&&kn(j)>.1?j:0}return{pointerDown:u,pointerMove:h,pointerUp:f,readPoint:c}}function qie(){function t(n){const{offsetTop:a,offsetLeft:i,offsetWidth:o,offsetHeight:c}=n;return{top:a,right:i+o,bottom:a+c,left:i,width:o,height:c}}return{measure:t}}function Hie(t){function e(a){return t*(a/100)}return{measure:e}}function Gie(t,e,n,a,i,o,c){const u=[t].concat(a);let h,f,p=[],g=!1;function v(k){return i.measureSize(c.measure(k))}function y(k){if(!o)return;f=v(t),p=a.map(v);function S(E){for(const A of E){if(g)return;const T=A.target===t,_=a.indexOf(A.target),M=T?f:p[_],P=v(T?t:a[_]);if(kn(P-M)>=.5){k.reInit(),e.emit("resize");break}}}h=new ResizeObserver(E=>{(Ix(o)||o(k,E))&&S(E)}),n.requestAnimationFrame(()=>{u.forEach(E=>h.observe(E))})}function w(){g=!0,h&&h.disconnect()}return{init:y,destroy:w}}function Kie(t,e,n,a,i,o){let c=0,u=0,h=i,f=o,p=t.get(),g=0;function v(){const M=a.get()-t.get(),P=!h;let O=0;return P?(c=0,n.set(a),t.set(a),O=M):(n.set(t),c+=M/h,c*=f,p+=c,t.add(c),O=p-g),u=fw(O),g=p,_}function y(){const M=a.get()-e.get();return kn(M)<.001}function w(){return h}function j(){return u}function k(){return c}function S(){return A(i)}function E(){return T(o)}function A(M){return h=M,_}function T(M){return f=M,_}const _={direction:j,duration:w,velocity:k,seek:v,settled:y,useBaseFriction:E,useBaseDuration:S,useFriction:T,useDuration:A};return _}function Yie(t,e,n,a,i){const o=i.measure(10),c=i.measure(50),u=hc(.1,.99);let h=!1;function f(){return!(h||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function p(y){if(!f())return;const w=t.reachedMin(e.get())?"min":"max",j=kn(t[w]-e.get()),k=n.get()-e.get(),S=u.constrain(j/c);n.subtract(k*S),!y&&kn(k)<o&&(n.set(t.constrain(n.get())),a.useDuration(25).useBaseFriction())}function g(y){h=!y}return{shouldConstrain:f,constrain:p,toggleActive:g}}function Xie(t,e,n,a,i){const o=hc(-e+t,0),c=g(),u=p(),h=v();function f(w,j){return Zh(w,j)<=1}function p(){const w=c[0],j=Lr(c),k=c.lastIndexOf(w),S=c.indexOf(j)+1;return hc(k,S)}function g(){return n.map((w,j)=>{const{min:k,max:S}=o,E=o.constrain(w),A=!j,T=mw(n,j);return A?S:T||f(k,E)?k:f(S,E)?S:E}).map(w=>parseFloat(w.toFixed(3)))}function v(){if(e<=t+i)return[o.max];if(a==="keepSnaps")return c;const{min:w,max:j}=u;return c.slice(w,j)}return{snapsContained:h,scrollContainLimit:u}}function Wie(t,e,n){const a=e[0],i=n?a-t:Lr(e);return{limit:hc(i,a)}}function Zie(t,e,n,a){const o=e.min+.1,c=e.max+.1,{reachedMin:u,reachedMax:h}=hc(o,c);function f(v){return v===1?h(n.get()):v===-1?u(n.get()):!1}function p(v){if(!f(v))return;const y=t*(v*-1);a.forEach(w=>w.add(y))}return{loop:p}}function Qie(t){const{max:e,length:n}=t;function a(o){const c=o-e;return n?c/-n:0}return{get:a}}function Jie(t,e,n,a,i){const{startEdge:o,endEdge:c}=t,{groupSlides:u}=i,h=g().map(e.measure),f=v(),p=y();function g(){return u(a).map(j=>Lr(j)[c]-j[0][o]).map(kn)}function v(){return a.map(j=>n[o]-j[o]).map(j=>-kn(j))}function y(){return u(f).map(j=>j[0]).map((j,k)=>j+h[k])}return{snaps:f,snapsAligned:p}}function eoe(t,e,n,a,i,o){const{groupSlides:c}=i,{min:u,max:h}=a,f=p();function p(){const v=c(o),y=!t||e==="keepSnaps";return n.length===1?[o]:y?v:v.slice(u,h).map((w,j,k)=>{const S=!j,E=mw(k,j);if(S){const A=Lr(k[0])+1;return _C(A)}if(E){const A=am(o)-Lr(k)[0]+1;return _C(A,Lr(k)[0])}return w})}return{slideRegistry:f}}function toe(t,e,n,a,i){const{reachedAny:o,removeOffset:c,constrain:u}=a;function h(w){return w.concat().sort((j,k)=>kn(j)-kn(k))[0]}function f(w){const j=t?c(w):u(w),k=e.map((E,A)=>({diff:p(E-j,0),index:A})).sort((E,A)=>kn(E.diff)-kn(A.diff)),{index:S}=k[0];return{index:S,distance:j}}function p(w,j){const k=[w,w+n,w-n];if(!t)return w;if(!j)return h(k);const S=k.filter(E=>fw(E)===j);return S.length?h(S):Lr(k)-n}function g(w,j){const k=e[w]-i.get(),S=p(k,j);return{index:w,distance:S}}function v(w,j){const k=i.get()+w,{index:S,distance:E}=f(k),A=!t&&o(k);if(!j||A)return{index:S,distance:w};const T=e[S]-E,_=w+p(T,0);return{index:S,distance:_}}return{byDistance:v,byIndex:g,shortcut:p}}function noe(t,e,n,a,i,o,c){function u(g){const v=g.distance,y=g.index!==e.get();o.add(v),v&&(a.duration()?t.start():(t.update(),t.render(1),t.update())),y&&(n.set(e.get()),e.set(g.index),c.emit("select"))}function h(g,v){const y=i.byDistance(g,v);u(y)}function f(g,v){const y=e.clone().set(g),w=i.byIndex(y.get(),v);u(w)}return{distance:h,index:f}}function soe(t,e,n,a,i,o,c,u){const h={passive:!0,capture:!0};let f=0;function p(y){if(!u)return;function w(j){if(new Date().getTime()-f>10)return;c.emit("slideFocusStart"),t.scrollLeft=0;const E=n.findIndex(A=>A.includes(j));hw(E)&&(i.useDuration(0),a.index(E,0),c.emit("slideFocus"))}o.add(document,"keydown",g,!1),e.forEach((j,k)=>{o.add(j,"focus",S=>{(Ix(u)||u(y,S))&&w(k)},h)})}function g(y){y.code==="Tab"&&(f=new Date().getTime())}return{init:p}}function Oh(t){let e=t;function n(){return e}function a(h){e=c(h)}function i(h){e+=c(h)}function o(h){e-=c(h)}function c(h){return hw(h)?h:h.get()}return{get:n,set:a,add:i,subtract:o}}function O3(t,e){const n=t.scroll==="x"?c:u,a=e.style;let i=null,o=!1;function c(v){return`translate3d(${v}px,0px,0px)`}function u(v){return`translate3d(0px,${v}px,0px)`}function h(v){if(o)return;const y=Bie(t.direction(v));y!==i&&(a.transform=n(y),i=y)}function f(v){o=!v}function p(){o||(a.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:p,to:h,toggleActive:f}}function aoe(t,e,n,a,i,o,c,u,h){const p=Af(i),g=Af(i).reverse(),v=S().concat(E());function y(P,O){return P.reduce((H,Y)=>H-i[Y],O)}function w(P,O){return P.reduce((H,Y)=>y(H,O)>0?H.concat([Y]):H,[])}function j(P){return o.map((O,H)=>({start:O-a[H]+.5+P,end:O+e-.5+P}))}function k(P,O,H){const Y=j(O);return P.map(R=>{const X=H?0:-n,z=H?n:0,Q=H?"end":"start",ne=Y[R][Q];return{index:R,loopPoint:ne,slideLocation:Oh(-1),translate:O3(t,h[R]),target:()=>u.get()>ne?X:z}})}function S(){const P=c[0],O=w(g,P);return k(O,n,!1)}function E(){const P=e-c[0]-1,O=w(p,P);return k(O,-n,!0)}function A(){return v.every(({index:P})=>{const O=p.filter(H=>H!==P);return y(O,e)<=.1})}function T(){v.forEach(P=>{const{target:O,translate:H,slideLocation:Y}=P,R=O();R!==Y.get()&&(H.to(R),Y.set(R))})}function _(){v.forEach(P=>P.translate.clear())}return{canLoop:A,clear:_,loop:T,loopPoints:v}}function roe(t,e,n){let a,i=!1;function o(h){if(!n)return;function f(p){for(const g of p)if(g.type==="childList"){h.reInit(),e.emit("slidesChanged");break}}a=new MutationObserver(p=>{i||(Ix(n)||n(h,p))&&f(p)}),a.observe(t,{childList:!0})}function c(){a&&a.disconnect(),i=!0}return{init:o,destroy:c}}function ioe(t,e,n,a){const i={};let o=null,c=null,u,h=!1;function f(){u=new IntersectionObserver(w=>{h||(w.forEach(j=>{const k=e.indexOf(j.target);i[k]=j}),o=null,c=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:a}),e.forEach(w=>u.observe(w))}function p(){u&&u.disconnect(),h=!0}function g(w){return Cf(i).reduce((j,k)=>{const S=parseInt(k),{isIntersecting:E}=i[S];return(w&&E||!w&&!E)&&j.push(S),j},[])}function v(w=!0){if(w&&o)return o;if(!w&&c)return c;const j=g(w);return w&&(o=j),w||(c=j),j}return{init:f,destroy:p,get:v}}function ooe(t,e,n,a,i,o){const{measureSize:c,startEdge:u,endEdge:h}=t,f=n[0]&&i,p=w(),g=j(),v=n.map(c),y=k();function w(){if(!f)return 0;const E=n[0];return kn(e[u]-E[u])}function j(){if(!f)return 0;const E=o.getComputedStyle(Lr(a));return parseFloat(E.getPropertyValue(`margin-${h}`))}function k(){return n.map((E,A,T)=>{const _=!A,M=mw(T,A);return _?v[A]+p:M?v[A]+g:T[A+1][u]-E[u]}).map(kn)}return{slideSizes:v,slideSizesWithGaps:y,startGap:p,endGap:g}}function loe(t,e,n,a,i,o,c,u,h){const{startEdge:f,endEdge:p,direction:g}=t,v=hw(n);function y(S,E){return Af(S).filter(A=>A%E===0).map(A=>S.slice(A,A+E))}function w(S){return S.length?Af(S).reduce((E,A,T)=>{const _=Lr(E)||0,M=_===0,P=A===am(S),O=i[f]-o[_][f],H=i[f]-o[A][p],Y=!a&&M?g(c):0,R=!a&&P?g(u):0,X=kn(H-R-(O+Y));return T&&X>e+h&&E.push(A),P&&E.push(S.length),E},[]).map((E,A,T)=>{const _=Math.max(T[A-1]||0);return S.slice(_,E)}):[]}function j(S){return v?y(S,n):w(S)}return{groupSlides:j}}function coe(t,e,n,a,i,o,c){const{align:u,axis:h,direction:f,startIndex:p,loop:g,duration:v,dragFree:y,dragThreshold:w,inViewThreshold:j,slidesToScroll:k,skipSnaps:S,containScroll:E,watchResize:A,watchSlides:T,watchDrag:_,watchFocus:M}=o,P=2,O=qie(),H=O.measure(e),Y=n.map(O.measure),R=$ie(h,f),X=R.measureSize(H),z=Hie(X),Q=zie(u,X),ne=!g&&!!E,L=g||!!E,{slideSizes:F,slideSizesWithGaps:V,startGap:K,endGap:ae}=ooe(R,H,Y,n,L,i),G=loe(R,X,k,g,H,Y,K,ae,P),{snaps:B,snapsAligned:W}=Jie(R,Q,H,Y,G),$=-Lr(B)+Lr(V),{snapsContained:q,scrollContainLimit:ee}=Xie(X,$,W,E,P),te=ne?q:W,{limit:ie}=Wie($,te,g),de=P3(am(te),p,g),re=de.clone(),he=Af(n),ce=({dragHandler:Ht,scrollBody:Cn,scrollBounds:Gn,options:{loop:Ns}})=>{Ns||Gn.constrain(Ht.pointerDown()),Cn.seek()},Ee=({scrollBody:Ht,translate:Cn,location:Gn,offsetLocation:Ns,previousLocation:Ps,scrollLooper:jn,slideLooper:Ss,dragHandler:hs,animation:fs,eventHandler:Qt,scrollBounds:ta,options:{loop:Os}},Ct)=>{const sn=Ht.settled(),Ve=!ta.shouldConstrain(),vt=Os?sn:sn&&Ve,gt=vt&&!hs.pointerDown();gt&&fs.stop();const bt=Gn.get()*Ct+Ps.get()*(1-Ct);Ns.set(bt),Os&&(jn.loop(Ht.direction()),Ss.loop()),Cn.to(Ns.get()),gt&&Qt.emit("settle"),vt||Qt.emit("scroll")},be=Uie(a,i,()=>ce(Ft),Ht=>Ee(Ft,Ht)),De=.68,Te=te[de.get()],Oe=Oh(Te),Ze=Oh(Te),qe=Oh(Te),He=Oh(Te),Re=Kie(Oe,qe,Ze,He,v,De),Je=toe(g,te,$,ie,He),Zt=noe(be,de,re,Re,Je,He,c),An=Qie(ie),ea=Tf(),ds=ioe(e,n,c,j),{slideRegistry:$t}=eoe(ne,E,te,ee,G,he),nn=soe(t,n,$t,Zt,Re,ea,c,M),Ft={ownerDocument:a,ownerWindow:i,eventHandler:c,containerRect:H,slideRects:Y,animation:be,axis:R,dragHandler:Fie(R,t,a,i,He,Vie(R,i),Oe,be,Zt,Re,Je,de,c,z,y,w,S,De,_),eventStore:ea,percentOfView:z,index:de,indexPrevious:re,limit:ie,location:Oe,offsetLocation:qe,previousLocation:Ze,options:o,resizeHandler:Gie(e,c,i,n,R,A,O),scrollBody:Re,scrollBounds:Yie(ie,qe,He,Re,z),scrollLooper:Zie($,ie,qe,[Oe,qe,Ze,He]),scrollProgress:An,scrollSnapList:te.map(An.get),scrollSnaps:te,scrollTarget:Je,scrollTo:Zt,slideLooper:aoe(R,X,$,F,V,B,te,qe,n),slideFocus:nn,slidesHandler:roe(e,c,T),slidesInView:ds,slideIndexes:he,slideRegistry:$t,slidesToScroll:G,target:He,translate:O3(R,e)};return Ft}function uoe(){let t={},e;function n(f){e=f}function a(f){return t[f]||[]}function i(f){return a(f).forEach(p=>p(e,f)),h}function o(f,p){return t[f]=a(f).concat([p]),h}function c(f,p){return t[f]=a(f).filter(g=>g!==p),h}function u(){t={}}const h={init:n,emit:i,off:c,on:o,clear:u};return h}const doe={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function hoe(t){function e(o,c){return M3(o,c||{})}function n(o){const c=o.breakpoints||{},u=Cf(c).filter(h=>t.matchMedia(h).matches).map(h=>c[h]).reduce((h,f)=>e(h,f),{});return e(o,u)}function a(o){return o.map(c=>Cf(c.breakpoints||{})).reduce((c,u)=>c.concat(u),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:a}}function foe(t){let e=[];function n(o,c){return e=c.filter(({options:u})=>t.optionsAtMedia(u).active!==!1),e.forEach(u=>u.init(o,t)),c.reduce((u,h)=>Object.assign(u,{[h.name]:h}),{})}function a(){e=e.filter(o=>o.destroy())}return{init:n,destroy:a}}function Pg(t,e,n){const a=t.ownerDocument,i=a.defaultView,o=hoe(i),c=foe(o),u=Tf(),h=uoe(),{mergeOptions:f,optionsAtMedia:p,optionsMediaQueries:g}=o,{on:v,off:y,emit:w}=h,j=R;let k=!1,S,E=f(doe,Pg.globalOptions),A=f(E),T=[],_,M,P;function O(){const{container:he,slides:ce}=A;M=(ij(he)?t.querySelector(he):he)||t.children[0];const be=ij(ce)?M.querySelectorAll(ce):ce;P=[].slice.call(be||M.children)}function H(he){const ce=coe(t,M,P,a,i,he,h);if(he.loop&&!ce.slideLooper.canLoop()){const Ee=Object.assign({},he,{loop:!1});return H(Ee)}return ce}function Y(he,ce){k||(E=f(E,he),A=p(E),T=ce||T,O(),S=H(A),g([E,...T.map(({options:Ee})=>Ee)]).forEach(Ee=>u.add(Ee,"change",R)),A.active&&(S.translate.to(S.location.get()),S.animation.init(),S.slidesInView.init(),S.slideFocus.init(re),S.eventHandler.init(re),S.resizeHandler.init(re),S.slidesHandler.init(re),S.options.loop&&S.slideLooper.loop(),M.offsetParent&&P.length&&S.dragHandler.init(re),_=c.init(re,T)))}function R(he,ce){const Ee=G();X(),Y(f({startIndex:Ee},he),ce),h.emit("reInit")}function X(){S.dragHandler.destroy(),S.eventStore.clear(),S.translate.clear(),S.slideLooper.clear(),S.resizeHandler.destroy(),S.slidesHandler.destroy(),S.slidesInView.destroy(),S.animation.destroy(),c.destroy(),u.clear()}function z(){k||(k=!0,u.clear(),X(),h.emit("destroy"),h.clear())}function Q(he,ce,Ee){!A.active||k||(S.scrollBody.useBaseFriction().useDuration(ce===!0?0:A.duration),S.scrollTo.index(he,Ee||0))}function ne(he){const ce=S.index.add(1).get();Q(ce,he,-1)}function L(he){const ce=S.index.add(-1).get();Q(ce,he,1)}function F(){return S.index.add(1).get()!==G()}function V(){return S.index.add(-1).get()!==G()}function K(){return S.scrollSnapList}function ae(){return S.scrollProgress.get(S.offsetLocation.get())}function G(){return S.index.get()}function B(){return S.indexPrevious.get()}function W(){return S.slidesInView.get()}function $(){return S.slidesInView.get(!1)}function q(){return _}function ee(){return S}function te(){return t}function ie(){return M}function de(){return P}const re={canScrollNext:F,canScrollPrev:V,containerNode:ie,internalEngine:ee,destroy:z,off:y,on:v,emit:w,plugins:q,previousScrollSnap:B,reInit:j,rootNode:te,scrollNext:ne,scrollPrev:L,scrollProgress:ae,scrollSnapList:K,scrollTo:Q,selectedScrollSnap:G,slideNodes:de,slidesInView:W,slidesNotInView:$};return Y(e,n),setTimeout(()=>h.emit("init"),0),re}Pg.globalOptions=void 0;function pw(t={},e=[]){const n=x.useRef(t),a=x.useRef(e),[i,o]=x.useState(),[c,u]=x.useState(),h=x.useCallback(()=>{i&&i.reInit(n.current,a.current)},[i]);return x.useEffect(()=>{dw(n.current,t)||(n.current=t,h())},[t,h]),x.useEffect(()=>{Lie(a.current,e)||(a.current=e,h())},[e,h]),x.useEffect(()=>{if(Oie()&&c){Pg.globalOptions=pw.globalOptions;const f=Pg(c,n.current,a.current);return o(f),()=>f.destroy()}else o(void 0)},[c,o]),[u,i]}pw.globalOptions=void 0;const L3=x.createContext(null);function Bx(){const t=x.useContext(L3);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}function gw({orientation:t="horizontal",opts:e,setApi:n,plugins:a,className:i,children:o,...c}){const[u,h]=pw({...e,axis:t==="horizontal"?"x":"y"},a),[f,p]=x.useState(!1),[g,v]=x.useState(!1),y=x.useCallback(S=>{S&&(p(S.canScrollPrev()),v(S.canScrollNext()))},[]),w=x.useCallback(()=>{h==null||h.scrollPrev()},[h]),j=x.useCallback(()=>{h==null||h.scrollNext()},[h]),k=x.useCallback(S=>{S.key==="ArrowLeft"?(S.preventDefault(),w()):S.key==="ArrowRight"&&(S.preventDefault(),j())},[w,j]);return x.useEffect(()=>{!h||!n||n(h)},[h,n]),x.useEffect(()=>{if(h)return y(h),h.on("reInit",y),h.on("select",y),()=>{h==null||h.off("select",y)}},[h,y]),s.jsx(L3.Provider,{value:{carouselRef:u,api:h,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:w,scrollNext:j,canScrollPrev:f,canScrollNext:g},children:s.jsx("div",{onKeyDownCapture:k,className:ge("relative",i),role:"region","aria-roledescription":"carousel","data-slot":"carousel",...c,children:o})})}function xw({className:t,...e}){const{carouselRef:n,orientation:a}=Bx();return s.jsx("div",{ref:n,className:"overflow-hidden","data-slot":"carousel-content",children:s.jsx("div",{className:ge("flex",a==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})}function vw({className:t,...e}){const{orientation:n}=Bx();return s.jsx("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:ge("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",t),...e})}function I3({className:t,variant:e="outline",size:n="icon",...a}){const{orientation:i,scrollPrev:o,canScrollPrev:c}=Bx();return s.jsxs(pe,{"data-slot":"carousel-previous",variant:e,size:n,className:ge("absolute size-8 rounded-full",i==="horizontal"?"top-1/2 -left-12 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!c,onClick:o,...a,children:[s.jsx(S9,{}),s.jsx("span",{className:"sr-only",children:"Previous slide"})]})}function B3({className:t,variant:e="outline",size:n="icon",...a}){const{orientation:i,scrollNext:o,canScrollNext:c}=Bx();return s.jsxs(pe,{"data-slot":"carousel-next",variant:e,size:n,className:ge("absolute size-8 rounded-full",i==="horizontal"?"top-1/2 -right-12 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!c,onClick:o,...a,children:[s.jsx(E9,{}),s.jsx("span",{className:"sr-only",children:"Next slide"})]})}function moe({items:t,renderItem:e,autoScrollInterval:n=5e3,showControls:a=!0,showDots:i=!0,pauseOnHover:o=!0,fadeTransition:c=!1,className:u,controlsClassName:h,dotsClassName:f}){const[p,g]=x.useState(),[v,y]=x.useState(0),[w,j]=x.useState(!1),k=x.useRef(null);x.useEffect(()=>{p&&(y(p.selectedScrollSnap()),p.on("select",()=>{y(p.selectedScrollSnap())}))},[p]),x.useEffect(()=>{if(!p||t.length<=1)return;const A=()=>{k.current!==null&&clearTimeout(k.current),k.current=window.setTimeout(()=>{(!w||!o)&&(p.canScrollNext()?p.scrollNext():p.scrollTo(0)),A()},n)};return A(),()=>{k.current!==null&&clearTimeout(k.current)}},[p,w,n,t.length,o]);const S=()=>{p&&(p.canScrollPrev()?p.scrollPrev():p.scrollTo(t.length-1))},E=()=>{p&&(p.canScrollNext()?p.scrollNext():p.scrollTo(0))};return t.length===0?null:s.jsxs("div",{className:ge("relative",u),onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1),children:[s.jsx(gw,{setApi:g,opts:{align:"start",loop:!0,skipSnaps:!1,dragFree:!1},className:"w-full h-full",children:s.jsx(xw,{className:"-ml-0",children:t.map((A,T)=>s.jsx(vw,{className:"pl-0 basis-full",children:s.jsx("div",{className:ge("w-full h-full",c&&"transition-opacity duration-1000",c&&T!==v&&"opacity-0"),children:e(A,T,T===v)})},T))})}),a&&t.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:S,className:ge("absolute left-4 top-1/2 -translate-y-1/2 z-20","bg-black/20 hover:bg-black/40 text-white p-2 rounded-full","transition-all duration-200",h),"aria-label":"Previous slide",children:s.jsx(zj,{className:"w-6 h-6"})}),s.jsx("button",{onClick:E,className:ge("absolute right-4 top-1/2 -translate-y-1/2 z-20","bg-black/20 hover:bg-black/40 text-white p-2 rounded-full","transition-all duration-200",h),"aria-label":"Next slide",children:s.jsx(Uj,{className:"w-6 h-6"})})]}),i&&t.length>1&&s.jsx("div",{className:ge("absolute bottom-8 left-1/2 -translate-x-1/2 z-20 flex space-x-2",f),children:t.map((A,T)=>s.jsx("button",{onClick:()=>p==null?void 0:p.scrollTo(T),className:ge("w-3 h-3 rounded-full transition-all duration-200",T===v?"bg-white":"bg-white/40 hover:bg-white/60"),"aria-label":`Go to slide ${T+1}`},T))})]})}const poe=({galleries:t,loading:e})=>{if(e||!t.length)return s.jsx("section",{className:"relative h-screen flex items-center justify-center bg-muted/20",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Memuat galeri unggulan..."})]})});const n=(a,i)=>s.jsxs("div",{className:"relative h-screen overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:pg(a.img_url)||`https://picsum.photos/1920/1080?random=${i+1}`,alt:a.title,className:"w-full h-full object-cover transition-opacity duration-1000"}),s.jsx("div",{className:"absolute inset-0 bg-black/20"})]}),s.jsx("div",{className:"relative z-10 h-full flex items-center pt-24",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4 w-full",children:s.jsxs("div",{className:"max-w-3xl text-white",children:[s.jsx(Mt,{variant:"secondary",className:"mb-6 bg-white/10 text-white border-white/20 hover:bg-white/20",children:"Yayasan Baitul Muslim Lampung Timur"}),s.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6 leading-tight",children:a.title}),s.jsx("div",{className:"text-lg md:text-xl mb-8 text-white/90 leading-relaxed max-w-2xl",children:s.jsx(qn,{content:a.excerpt||a.short_excerpt,fallback:"Pendidikan Islam Terpadu yang menggabungkan ilmu agama dan umum dengan pendekatan modern dan holistik.",className:"text-white/90"})})]})})})]});return s.jsx(moe,{items:t,renderItem:n,autoScrollInterval:5e3,showControls:!0,showDots:!0,pauseOnHover:!0,fadeTransition:!1,className:"h-screen"})},goe=()=>{const[t,e]=x.useState([]),[n,a]=x.useState(!0);return x.useEffect(()=>{(async()=>{try{const o=await Th.getPublicStatistics();e(o)}catch(o){console.error("Failed to fetch statistics:",o)}finally{a(!1)}})()},[]),n?s.jsx("section",{className:"py-16 bg-muted/50",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:Array.from({length:4}).map((i,o)=>s.jsx(Ne,{className:"text-center",children:s.jsxs(Se,{className:"p-6",children:[s.jsx("div",{className:"bg-muted w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:s.jsx("div",{className:"w-8 h-8 bg-muted-foreground/20 rounded"})}),s.jsx("div",{className:"h-8 bg-muted animate-pulse rounded mb-2"}),s.jsx("div",{className:"h-5 bg-muted animate-pulse rounded mb-1"}),s.jsx("div",{className:"h-4 bg-muted animate-pulse rounded"})]})},o))})})}):t.length===0?null:s.jsx("section",{className:"py-16 bg-muted/50",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4",children:s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(i=>s.jsx(Ne,{className:"text-center hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:s.jsxs(Se,{className:"p-6",children:[i.img_url&&s.jsx("div",{className:"w-16 h-16 flex items-center justify-center mx-auto mb-4  overflow-hidden",children:s.jsx("img",{src:gr(i.img_url),alt:i.title,className:"w-full h-full object-cover"})}),s.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:i.stats}),s.jsx("div",{className:"font-semibold text-foreground mb-1",children:i.title}),i.description&&s.jsx("div",{className:"text-sm text-muted-foreground",children:i.description})]})},i.id))})})})},z3="/assets/yayasan-BthUfx1y.webp",xoe=[{icon:pr,title:"Berdiri Sejak 1993",description:"Lebih dari 30 tahun pengalaman dalam pendidikan Islam"},{icon:ax,title:"Lokasi Strategis",description:"Jl. Ir. H. Djuanda No. 19, Way Jepara, Lampung Timur"},{icon:Ds,title:"Pendidikan Holistik",description:"Menggabungkan ilmu agama dan umum dengan pendekatan modern"}],voe=()=>s.jsx("section",{className:"py-16",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{children:[s.jsx(Mt,{variant:"outline",className:"mb-4 border-primary text-primary",children:"Tentang Kami"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-foreground",children:"Yayasan Baitul Muslim Lampung Timur"}),s.jsx("p",{className:"text-lg text-muted-foreground mb-6 leading-relaxed",children:"Yayasan Baitul Muslim Lampung Timur adalah lembaga pendidikan dan dakwah Islam yang telah berdiri sejak 15 Juli 1993. Kami menyelenggarakan pendidikan Islam terpadu berkualitas dari tingkat TKIT hingga Pondok Pesantren Tahfidz Qur'an."}),s.jsx("p",{className:"text-lg text-muted-foreground mb-8 leading-relaxed",children:"Berlokasi di Way Jepara, Lampung Timur, kami berkomitmen memberikan pendidikan yang menggabungkan ilmu agama dan umum dengan pendekatan yang holistik dan modern."}),s.jsx("div",{className:"grid gap-4 mb-8",children:xoe.map((t,e)=>{const n=t.icon;return s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:s.jsx(n,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground",children:t.title}),s.jsx("p",{className:"text-muted-foreground text-sm",children:t.description})]})]},e)})}),s.jsx(Da,{to:"/about",children:s.jsxs(pe,{className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:["Pelajari Lebih Lanjut",s.jsx(sc,{className:"w-4 h-4 ml-2"})]})})]}),s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"relative",children:s.jsx("img",{src:z3,alt:"Yayasan Baitul Muslim",className:"rounded-lg shadow-lg w-full"})})})]})})});function zx({items:t,renderItem:e,autoScrollInterval:n=5e3,showControls:a=!0,showDots:i=!1,pauseOnHover:o=!0,loop:c=!0,itemsPerView:u={mobile:1,tablet:2,desktop:3,large:4},className:h,contentClassName:f,itemClassName:p,spacing:g="-ml-2 md:-ml-4"}){const[v,y]=x.useState(),[w,j]=x.useState(0),[k,S]=x.useState(0),[E,A]=x.useState(!1),T=x.useRef(null);x.useEffect(()=>{v&&(S(v.scrollSnapList().length),j(v.selectedScrollSnap()+1),v.on("select",()=>{j(v.selectedScrollSnap()+1)}))},[v]),x.useEffect(()=>{if(!v||t.length===0)return;const M=()=>{T.current!==null&&clearTimeout(T.current),T.current=window.setTimeout(()=>{(!E||!o)&&(v.canScrollNext()?v.scrollNext():c&&v.scrollTo(0)),M()},n)};return M(),()=>{T.current!==null&&clearTimeout(T.current)}},[v,E,n,t.length,c,o]);const _=()=>{const M=["pl-2 md:pl-4"];return u.mobile===1?M.push("basis-full"):u.mobile===2&&M.push("basis-1/2"),u.tablet&&(u.tablet===1?M.push("sm:basis-full"):u.tablet===2?M.push("sm:basis-1/2"):u.tablet===3&&M.push("sm:basis-1/3")),u.desktop&&(u.desktop===1?M.push("md:basis-full"):u.desktop===2?M.push("md:basis-1/2"):u.desktop===3?M.push("md:basis-1/3"):u.desktop===4&&M.push("md:basis-1/4")),u.large&&(u.large===1?M.push("lg:basis-full"):u.large===2?M.push("lg:basis-1/2"):u.large===3?M.push("lg:basis-1/3"):u.large===4?M.push("lg:basis-1/4"):u.large===5&&M.push("lg:basis-1/5")),ge(M,p)};return t.length===0?null:s.jsxs("div",{className:ge("relative",h),onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),children:[s.jsxs(gw,{setApi:y,opts:{align:"start",loop:c,skipSnaps:!1,dragFree:!0},className:"w-full",children:[s.jsx(xw,{className:ge(g,f),children:t.map((M,P)=>s.jsx(vw,{className:_(),children:e(M,P)},P))}),a&&t.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(I3,{className:"hidden md:flex"}),s.jsx(B3,{className:"hidden md:flex"})]})]}),i&&k>1&&s.jsx("div",{className:"flex justify-center mt-4 gap-2",children:Array.from({length:k}).map((M,P)=>s.jsx("button",{className:ge("w-2 h-2 rounded-full transition-all duration-300",P===w-1?"bg-primary w-6":"bg-muted-foreground/30 hover:bg-muted-foreground/50"),onClick:()=>v==null?void 0:v.scrollTo(P),"aria-label":`Go to slide ${P+1}`},P))})]})}const boe=({articles:t,loading:e})=>{const n=()=>s.jsxs(Ne,{children:[s.jsx("div",{className:"aspect-video relative overflow-hidden rounded-t-lg",children:s.jsx(Le,{className:"w-full h-full"})}),s.jsxs(lt,{children:[s.jsx(Le,{className:"h-4 w-3/4"}),s.jsx(Le,{className:"h-4 w-1/2"})]}),s.jsxs(Se,{children:[s.jsx(Le,{className:"h-4 w-full mb-2"}),s.jsx(Le,{className:"h-4 w-full mb-2"}),s.jsx(Le,{className:"h-4 w-2/3"})]}),s.jsx(ga,{children:s.jsx(Le,{className:"h-9 w-24"})})]}),a=(i,o)=>s.jsxs(Ne,{className:"hover:shadow-lg transition-all duration-300 hover:-translate-y-1 group pt-0 h-full flex flex-col",children:[s.jsxs("div",{className:"aspect-video relative overflow-hidden rounded-t-lg bg-muted",children:[s.jsx("img",{src:rc(i.img_url)||`https://picsum.photos/400/240?random=${o+1}`,alt:i.title,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300"}),s.jsx(Mt,{className:"absolute top-3 left-3 bg-primary hover:bg-primary/90",children:i.category})]}),s.jsxs(lt,{className:"pb-3",children:[s.jsx(pt,{className:"line-clamp-2 group-hover:text-primary transition-colors",children:i.title}),s.jsx("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:i.published_at&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pr,{className:"w-3 h-3"}),s.jsx("span",{children:new Date(i.published_at).toLocaleDateString("id-ID")})]})})]}),s.jsx(Se,{className:"pb-4 flex-grow",children:s.jsx("div",{className:"text-muted-foreground line-clamp-3 leading-relaxed",children:s.jsx(qn,{content:i.display_excerpt||i.excerpt,fallback:"Deskripsi artikel yang menarik dan informatif tentang berbagai topik pendidikan dan kegiatan yayasan.",maxLength:120,className:"text-muted-foreground"})})}),s.jsx(ga,{children:s.jsx(aa,{to:`/articles/${i.id}`,className:"w-full",children:s.jsxs(pe,{variant:"outline",size:"sm",className:"w-full group-hover:bg-primary group-hover:text-primary-foreground group-hover:border-primary",children:["Baca Selengkapnya",s.jsx(sc,{className:"w-3 h-3 ml-1"})]})})})]});return s.jsx("section",{className:"py-16 bg-muted/30",children:s.jsxs("div",{className:"max-w-screen-xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(Mt,{variant:"outline",className:"mb-4 border-primary text-primary",children:"Artikel & Berita"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-foreground",children:"Artikel Terbaru"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Berita dan informasi terkini seputar pendidikan dan kegiatan yayasan"})]}),e?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:Array.from({length:6}).map((i,o)=>s.jsx(n,{},o))}):t.length>3?s.jsx("div",{className:"mb-8",children:s.jsx(zx,{items:t.slice(0,6),renderItem:a,autoScrollInterval:7e3,showControls:!0,itemsPerView:{mobile:1,tablet:2,desktop:3,large:3}})}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:t.slice(0,5).map((i,o)=>s.jsx("div",{children:a(i,o)},i.id))}),s.jsx("div",{className:"text-center",children:s.jsx(aa,{to:"/articles",children:s.jsxs(pe,{variant:"outline",size:"lg",className:"hover:bg-primary hover:text-primary-foreground hover:border-primary",children:["Lihat Semua Artikel",s.jsx(sc,{className:"w-4 h-4 ml-2"})]})})})]})})},yoe=({organizations:t,loading:e})=>{const n=()=>s.jsxs(Ne,{children:[s.jsx("div",{className:"aspect-video relative overflow-hidden rounded-t-lg",children:s.jsx(Le,{className:"w-full h-full"})}),s.jsxs(lt,{children:[s.jsx(Le,{className:"h-4 w-3/4"}),s.jsx(Le,{className:"h-4 w-1/2"})]}),s.jsxs(Se,{children:[s.jsx(Le,{className:"h-4 w-full mb-2"}),s.jsx(Le,{className:"h-4 w-full mb-2"}),s.jsx(Le,{className:"h-4 w-2/3"})]}),s.jsx(ga,{children:s.jsx(Le,{className:"h-9 w-24"})})]}),a=(i,o)=>s.jsxs(Ne,{className:"hover:shadow-lg transition-all duration-300 hover:-translate-y-1 group h-full",children:[s.jsxs("div",{className:"aspect-video relative overflow-hidden rounded-t-lg bg-muted",children:[s.jsx("img",{src:gg(i.img_url)||`https://picsum.photos/400/240?random=${o+10}`,alt:i.name,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300"}),s.jsx(Mt,{className:"absolute top-3 left-3 bg-primary hover:bg-primary/90",children:"Organisasi"})]}),s.jsxs(lt,{className:"pb-3",children:[s.jsx(pt,{className:"line-clamp-2 group-hover:text-primary transition-colors",children:i.display_name}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[i.user_count>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ds,{className:"w-3 h-3"}),s.jsxs("span",{children:[i.user_count," anggota"]})]}),i.head_name&&s.jsxs("div",{className:"text-xs",children:["Kepala: ",i.head_name]})]})]}),s.jsx(Se,{className:"pb-4 flex-grow",children:s.jsx("div",{className:"text-muted-foreground line-clamp-3 leading-relaxed",children:s.jsx(qn,{content:i.description||i.excerpt,fallback:`Informasi tentang organisasi ${i.name}.`,maxLength:120,className:"text-muted-foreground"})})}),s.jsx(ga,{children:s.jsx(aa,{to:`/organizations/${i.id}`,className:"w-full",children:s.jsxs(pe,{variant:"outline",size:"sm",className:"w-full group-hover:bg-primary group-hover:text-primary-foreground group-hover:border-primary",children:["Lihat Detail",s.jsx(sc,{className:"w-3 h-3 ml-1"})]})})})]});return s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"max-w-screen-xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(Mt,{variant:"outline",className:"mb-4 border-primary text-primary",children:"Lembaga Pendidikan"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4 text-foreground",children:"Jenjang Pendidikan"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Berbagai jenjang pendidikan yang tersedia di Yayasan Baitul Muslim dengan fasilitas lengkap dan berkualitas"})]}),e?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:Array.from({length:6}).map((i,o)=>s.jsx(n,{},o))}):t.length>3?s.jsx("div",{className:"mb-8",children:s.jsx(zx,{items:t.slice(0,6),renderItem:a,autoScrollInterval:6e3,showControls:!0,itemsPerView:{mobile:1,tablet:2,desktop:3,large:3}})}):s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:t.slice(0,5).map((i,o)=>s.jsx("div",{children:a(i,o)},i.id))}),s.jsx("div",{className:"text-center",children:s.jsx(aa,{to:"/schools",children:s.jsxs(pe,{variant:"outline",size:"lg",className:"hover:bg-primary hover:text-primary-foreground hover:border-primary",children:["Lihat Semua Lembaga",s.jsx(sc,{className:"w-4 h-4 ml-2"})]})})})]})})},RC=()=>{const[t,e]=x.useState([]),[n,a]=x.useState([]),[i,o]=x.useState([]),[c,u]=x.useState(!0);return x.useEffect(()=>{(async()=>{try{const f=await Mu.getHighlightedGalleries(),p=await hi.getArticles({size:5,is_published:!0,sort_by:"published_at",sort_order:"desc"}),g=await Pr.getOrganizations({size:5,sort_by:"name",sort_order:"asc"});e(f),a(p.items),o(g.items)}catch(f){console.error("Error loading data:",f)}finally{u(!1)}})()},[]),c?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Memuat halaman..."})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(poe,{galleries:t,loading:c}),s.jsx(goe,{}),s.jsx(voe,{}),s.jsx(boe,{articles:n,loading:c}),s.jsx(yoe,{organizations:i,loading:c})]})},joe="/assets/bg-artikel-DR0yWvo_.webp",woe=()=>{const[t,e]=Og(),[n,a]=x.useState([]),[i,o]=x.useState(!0),[c,u]=x.useState(1),[h,f]=x.useState(0),[p,g]=x.useState(parseInt(t.get("size")||"10")),v=parseInt(t.get("page")||"1"),y=t.get("search")||"",w=t.get("category")||"",j=t.get("sort_by")||"published_at",k=t.get("sort_order")||"desc",[S,E]=x.useState(y),[A,T]=x.useState(w||"all"),_=["Pendidikan","Kegiatan","Prestasi","Pengumuman","Berita"],M=()=>s.jsxs(Ne,{children:[s.jsx("div",{className:"aspect-video relative overflow-hidden rounded-t-lg bg-muted",children:s.jsx(Le,{className:"w-full h-full"})}),s.jsxs(lt,{children:[s.jsx(Le,{className:"h-4 w-3/4"}),s.jsx(Le,{className:"h-4 w-1/2"})]}),s.jsxs(Se,{children:[s.jsx(Le,{className:"h-4 w-full mb-2"}),s.jsx(Le,{className:"h-4 w-full mb-2"}),s.jsx(Le,{className:"h-4 w-2/3"})]}),s.jsx(ga,{children:s.jsx(Le,{className:"h-9 w-24"})})]});x.useEffect(()=>{(async()=>{o(!0);try{const Q=await hi.getArticles({page:v,size:p,search:y||void 0,category:w||void 0,is_published:!0,sort_by:j,sort_order:k});a(Q.items),u(Q.pages),f(Q.total)}catch(Q){console.error("Error loading articles:",Q)}finally{o(!1)}})()},[v,y,w,j,k,p]);const P=z=>{const Q=new URLSearchParams(t);Object.entries(z).forEach(([ne,L])=>{L?Q.set(ne,L):Q.delete(ne)}),("search"in z||"category"in z)&&Q.set("page","1"),e(Q)},O=()=>{P({search:S||null,category:A==="all"?null:A||null})},H=z=>{P({page:z.toString()})},Y=z=>{const Q=parseInt(z);g(Q),P({size:z,page:"1"})},R=z=>{const[Q,ne]=z.split("-");P({sort_by:Q,sort_order:ne})},X=()=>{E(""),T("all"),P({search:null,category:null,page:"1"})};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("section",{className:"relative h-96 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:joe,alt:"Artikel & Berita",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/40"})]}),s.jsx("div",{className:"relative z-10 h-full flex items-center pt-24",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4 w-full",children:s.jsxs("div",{className:"max-w-3xl text-white",children:[s.jsx(Mt,{variant:"secondary",className:"mb-6 bg-white/10 text-white border-white/20 hover:bg-white/20",children:"Yayasan Baitul Muslim Lampung Timur"}),s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-6 leading-tight",children:"Artikel & Berita"}),s.jsx("p",{className:"text-lg md:text-xl mb-8 text-white/90 leading-relaxed max-w-2xl",children:"Temukan berbagai artikel dan berita terbaru seputar pendidikan dan kegiatan yayasan"})]})})})]}),s.jsx("div",{className:"py-8 border-b bg-muted/20",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Vj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(at,{placeholder:"Cari artikel...",value:S,onChange:z=>E(z.target.value),onKeyDown:z=>z.key==="Enter"&&O(),className:"pl-10"})]}),s.jsxs(zt,{value:A,onValueChange:T,children:[s.jsxs(Pt,{className:"w-full sm:w-48",children:[s.jsx(Fj,{className:"w-4 h-4 mr-2"}),s.jsx(Ut,{placeholder:"Semua Kategori"})]}),s.jsxs(Ot,{children:[s.jsx(Ie,{value:"all",children:"Semua Kategori"}),_.map(z=>s.jsx(Ie,{value:z,children:z},z))]})]}),s.jsx(pe,{onClick:O,className:"w-full sm:w-auto",children:"Cari"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(zt,{value:`${j}-${k}`,onValueChange:R,children:[s.jsx(Pt,{className:"w-48",children:s.jsx(Ut,{placeholder:"Urutkan"})}),s.jsxs(Ot,{children:[s.jsx(Ie,{value:"published_at-desc",children:"Terbaru"}),s.jsx(Ie,{value:"published_at-asc",children:"Terlama"}),s.jsx(Ie,{value:"title-asc",children:"Judul A-Z"}),s.jsx(Ie,{value:"title-desc",children:"Judul Z-A"})]})]}),(y||w)&&s.jsx(pe,{variant:"outline",onClick:X,children:"Reset Filter"})]})]})})}),s.jsx("div",{className:"py-12",children:s.jsxs("div",{className:"max-w-screen-xl mx-auto px-4",children:[s.jsx("div",{className:"mb-8",children:s.jsx("p",{className:"text-muted-foreground",children:i?"Memuat...":`Menampilkan ${n.length} dari ${h} artikel`})}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:i?Array.from({length:p}).map((z,Q)=>s.jsx(M,{},Q)):n.length>0?n.map((z,Q)=>s.jsxs(Ne,{className:"hover:shadow-lg transition-all duration-300 hover:-translate-y-1 group",children:[s.jsxs("div",{className:"aspect-video relative overflow-hidden rounded-t-lg bg-muted",children:[s.jsx("img",{src:rc(z.img_url)||`https://picsum.photos/400/240?random=${Q+1}`,alt:z.title,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300"}),s.jsx(Mt,{className:"absolute top-3 left-3 bg-primary hover:bg-primary/90",children:z.category})]}),s.jsxs(lt,{className:"pb-3",children:[s.jsx(pt,{className:"line-clamp-2 group-hover:text-primary transition-colors",children:z.title}),s.jsx("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:z.published_at&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pr,{className:"w-3 h-3"}),s.jsx("span",{children:new Date(z.published_at).toLocaleDateString("id-ID")})]})})]}),s.jsx(Se,{className:"pb-4",children:s.jsx("div",{className:"text-muted-foreground line-clamp-3 leading-relaxed",children:s.jsx(qn,{content:z.display_excerpt||z.excerpt,fallback:"Deskripsi artikel yang menarik dan informatif.",maxLength:100,className:"text-muted-foreground"})})}),s.jsx(ga,{children:s.jsx(aa,{to:`/articles/${z.id}`,className:"w-full",children:s.jsxs(pe,{variant:"outline",size:"sm",className:"w-full group-hover:bg-primary group-hover:text-primary-foreground group-hover:border-primary",children:["Baca Selengkapnya",s.jsx(sc,{className:"w-3 h-3 ml-1"})]})})})]},z.id)):s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx("p",{className:"text-muted-foreground text-lg",children:"Tidak ada artikel yang ditemukan."}),(y||w)&&s.jsx(pe,{variant:"outline",onClick:X,className:"mt-4",children:"Reset Filter"})]})}),c>1&&s.jsx("div",{className:"flex justify-center",children:s.jsx(Ua,{currentPage:v,totalPages:c,itemsPerPage:p,totalItems:h,onPageChange:H,onItemsPerPageChange:Y})})]})})]})};function U3({onShare:t,shareLabel:e="Bagikan",backPath:n,backLabel:a,showShare:i=!0}){return s.jsx("footer",{className:"border-t pt-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[i&&t&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Bagikan:"}),s.jsxs(pe,{variant:"outline",size:"sm",onClick:t,children:[s.jsx(l7,{className:"w-4 h-4 mr-2"}),e]})]}),s.jsx(aa,{to:n,className:!i||!t?"ml-auto":"",children:s.jsx(pe,{variant:"outline",children:a})})]})})}function $3(){return x.useCallback(async e=>{const n={title:e.title,text:e.text||"",url:e.url||window.location.href};if(navigator.share)try{await navigator.share(n)}catch{navigator.clipboard.writeText(n.url)}else navigator.clipboard.writeText(n.url)},[])}const Noe=()=>{const{id:t}=Lg(),[e,n]=x.useState(null),[a,i]=x.useState(!0),[o,c]=x.useState(null),[u,h]=x.useState([]),f=$3();x.useEffect(()=>{if(!t)return;(async()=>{i(!0),c(null);try{const v=await hi.getArticleById(parseInt(t));if(v){n(v);const w=(await hi.getArticles({is_published:!0,size:10,sort_by:"published_at",sort_order:"desc"})).items.filter(j=>j.id!==v.id).slice(0,9);h(w)}else c("Artikel tidak ditemukan")}catch(v){console.error("Error loading article:",v),c("Gagal memuat artikel")}finally{i(!1)}})()},[t]);const p=()=>{e&&f({title:e.title,text:e.display_excerpt||e.excerpt})};return a?s.jsx("div",{className:"min-h-screen bg-background pt-24",children:s.jsxs("div",{className:"mx-auto px-4 lg:px-12 py-8",children:[s.jsx(Le,{className:"h-8 w-32 mb-6"}),s.jsx(Le,{className:"h-10 w-3/4 mb-4"}),s.jsx(Le,{className:"h-6 w-1/2 mb-8"}),s.jsx(Le,{className:"h-64 w-full mb-8 rounded-lg"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Le,{className:"h-4 w-full"}),s.jsx(Le,{className:"h-4 w-full"}),s.jsx(Le,{className:"h-4 w-3/4"})]})]})}):o||!e?s.jsx("div",{className:"min-h-screen bg-background pt-24 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:o||"Artikel Tidak Ditemukan"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Artikel yang Anda cari tidak tersedia atau telah dihapus."}),s.jsx(aa,{to:"/articles",children:s.jsxs(pe,{children:[s.jsx(rl,{className:"w-4 h-4 mr-2"}),"Kembali ke Artikel"]})})]})}):s.jsxs("div",{className:"min-h-screen bg-background pt-24",children:[s.jsxs("article",{className:"px-4 lg:px-12 py-8",children:[s.jsxs("header",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-2 mb-4",children:s.jsx(Mt,{variant:"secondary",className:"bg-primary/10 text-primary",children:e.category})}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:e.title}),s.jsx("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground mb-6",children:e.published_at&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pr,{className:"w-4 h-4"}),s.jsx("span",{children:new Date(e.published_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})})]})}),(e.display_excerpt||e.excerpt)&&s.jsx("div",{className:"text-lg text-muted-foreground leading-relaxed mb-8 p-4 bg-muted/30 rounded-lg",children:s.jsx(qn,{content:e.display_excerpt||e.excerpt,className:"text-muted-foreground"})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-12",children:[e.img_url?s.jsx("div",{className:"aspect-[4/3] relative overflow-hidden rounded-lg bg-muted",children:s.jsx("img",{src:rc(e.img_url),alt:e.title,className:"w-full h-full object-cover"})}):s.jsx("div",{className:"aspect-[4/3] bg-muted rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-muted-foreground",children:"Tidak ada gambar"})}),s.jsx("div",{className:"prose prose-lg max-w-none",children:s.jsx(qn,{content:e.description,isDetailView:!0,fallback:"Konten artikel tidak tersedia."})})]}),s.jsx(U3,{onShare:p,shareLabel:"Bagikan Artikel",backPath:"/articles",backLabel:"Lihat Artikel Lainnya"})]}),u.length>0&&s.jsx("section",{className:"bg-muted/20 py-16",children:s.jsxs("div",{className:"px-4 lg:px-12",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Artikel Terbaru"})}),s.jsx(zx,{items:u,autoScrollInterval:4e3,showControls:!0,itemsPerView:{mobile:1,tablet:2,desktop:3,large:3},className:"mb-8",renderItem:(g,v)=>s.jsxs(Ne,{className:"hover:shadow-lg transition-all duration-300 hover:-translate-y-1 group h-full",children:[s.jsxs("div",{className:"aspect-video relative overflow-hidden rounded-t-lg bg-muted",children:[s.jsx("img",{src:rc(g.img_url)||`https://picsum.photos/300/200?random=${v+100}`,alt:g.title,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300"}),s.jsx(Mt,{className:"absolute top-3 left-3 bg-primary hover:bg-primary/90",children:g.category})]}),s.jsxs(Se,{className:"p-3 flex flex-col h-32",children:[s.jsx("h3",{className:"font-medium text-foreground mb-1 line-clamp-2 group-hover:text-primary transition-colors text-sm flex-grow",children:g.title}),s.jsx("div",{className:"text-muted-foreground line-clamp-1 text-xs mb-3",children:s.jsx(qn,{content:g.display_excerpt||g.excerpt,fallback:"Deskripsi artikel...",maxLength:40,className:"text-muted-foreground"})}),s.jsx(aa,{to:`/articles/${g.id}`,className:"mt-auto",children:s.jsx(pe,{variant:"outline",size:"sm",className:"w-full group-hover:bg-primary group-hover:text-primary-foreground group-hover:border-primary text-xs",children:"Baca"})})]})]})})]})})]})},Soe="/assets/bg-sekolah-DbJZtj6g.webp",koe=()=>{const[t,e]=x.useState([]),[n,a]=x.useState(!0),i=()=>s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 py-12",children:[s.jsx("div",{className:"lg:w-1/2",children:s.jsx(Le,{className:"w-full h-64 rounded-lg"})}),s.jsxs("div",{className:"lg:w-1/2",children:[s.jsx(Le,{className:"h-8 w-3/4 mb-4"}),s.jsx(Le,{className:"h-4 w-1/2 mb-6"}),s.jsx(Le,{className:"h-4 w-full mb-2"}),s.jsx(Le,{className:"h-4 w-full mb-2"}),s.jsx(Le,{className:"h-4 w-2/3 mb-8"}),s.jsx(Le,{className:"h-10 w-32"})]})]});return x.useEffect(()=>{(async()=>{a(!0);try{const c=await Pr.getOrganizations({page:1,size:100});e(c.items)}catch(c){console.error("Error loading organizations:",c)}finally{a(!1)}})()},[]),s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("section",{className:"relative h-96 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:Soe,alt:"Jenjang Pendidikan",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/40"})]}),s.jsx("div",{className:"relative z-10 h-full flex items-center pt-24",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4 w-full",children:s.jsxs("div",{className:"max-w-3xl text-white",children:[s.jsx(Mt,{variant:"secondary",className:"mb-6 bg-white/10 text-white border-white/20 hover:bg-white/20",children:"Yayasan Baitul Muslim Lampung Timur"}),s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-6 leading-tight",children:"Jenjang Pendidikan"}),s.jsx("p",{className:"text-lg md:text-xl mb-8 text-white/90 leading-relaxed max-w-2xl",children:"Berbagai jenjang pendidikan yang tersedia di Yayasan Baitul Muslim dengan fasilitas lengkap dan berkualitas"})]})})})]}),s.jsx("div",{className:"py-12",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4",children:s.jsx("div",{className:"divide-y divide-border",children:n?Array.from({length:3}).map((o,c)=>s.jsx(i,{},c)):t.length>0?t.map((o,c)=>{const u=c%2===0;return s.jsx("div",{className:"py-12 first:pt-0 last:pb-0",children:s.jsxs("div",{className:`flex flex-col lg:flex-row gap-8 items-center ${u?"":"lg:flex-row-reverse"}`,children:[s.jsx("div",{className:"lg:w-1/2",children:s.jsxs("div",{className:"relative overflow-hidden rounded-lg bg-muted group",children:[s.jsx("img",{src:gg(o.img_url)||`https://picsum.photos/600/400?random=${c+10}`,alt:o.name,className:"w-full h-64 lg:h-80 object-cover object-center group-hover:scale-105 transition-transform duration-500"}),s.jsx(Mt,{className:"absolute top-4 left-4 bg-primary hover:bg-primary/90",children:"Lembaga"})]})}),s.jsxs("div",{className:"lg:w-1/2 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl lg:text-3xl font-bold mb-3 text-foreground",children:o.display_name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground mb-4",children:[o.user_count>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ds,{className:"w-4 h-4"}),s.jsxs("span",{children:[o.user_count," anggota"]})]}),o.head_name&&s.jsxs("div",{className:"text-muted-foreground",children:["Kepala: ",s.jsx("span",{className:"font-medium",children:o.head_name})]})]})]}),s.jsx("div",{className:"text-muted-foreground leading-relaxed",children:s.jsx(qn,{content:o.description||o.excerpt,fallback:`Informasi tentang ${o.name}.`,maxLength:200,className:"text-muted-foreground"})}),s.jsx("div",{children:s.jsx(aa,{to:`/schools/${o.id}`,children:s.jsxs(pe,{className:"group",children:["Lihat Detail",s.jsx(sc,{className:"w-4 h-4 ml-2 group-hover:translate-x-1 transition-transform"})]})})})]})]})},o.id)}):s.jsx("div",{className:"text-center py-20",children:s.jsx("p",{className:"text-muted-foreground text-lg",children:"Tidak ada lembaga yang ditemukan."})})})})})]})},Eoe=()=>{const{id:t}=Lg(),[e,n]=x.useState(null),[a,i]=x.useState(!0),[o,c]=x.useState(null),[u,h]=x.useState([]),f=$3();x.useEffect(()=>{if(!t)return;(async()=>{i(!0),c(null);try{const v=await Pr.getOrganizationById(parseInt(t));n(v);const w=(await Pr.getOrganizations({size:12})).items.filter(j=>j.id!==v.id).slice(0,9);h(w)}catch(v){console.error("Error loading organization:",v),c("Gagal memuat informasi lembaga")}finally{i(!1)}})()},[t]);const p=()=>{e&&f({title:e.display_name,text:e.description||e.excerpt})};return a?s.jsx("div",{className:"min-h-screen bg-background pt-24",children:s.jsxs("div",{className:"mx-auto px-4 lg:px-12 py-12",children:[s.jsx(Le,{className:"h-8 w-32 mb-6"}),s.jsx(Le,{className:"h-10 w-3/4 mb-4"}),s.jsx(Le,{className:"h-6 w-1/2 mb-8"}),s.jsx(Le,{className:"h-64 w-full mb-8 rounded-lg"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Le,{className:"h-4 w-full"}),s.jsx(Le,{className:"h-4 w-full"}),s.jsx(Le,{className:"h-4 w-3/4"})]})]})}):o||!e?s.jsx("div",{className:"min-h-screen bg-background pt-24 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground mb-4",children:o||"Lembaga Tidak Ditemukan"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Lembaga yang Anda cari tidak tersedia atau telah dihapus."}),s.jsx(aa,{to:"/schools",children:s.jsxs(pe,{children:[s.jsx(rl,{className:"w-4 h-4 mr-2"}),"Kembali ke Lembaga"]})})]})}):s.jsxs("div",{className:"min-h-screen bg-background pt-24",children:[s.jsxs("div",{className:"mx-auto px-4 lg:px-12 py-8",children:[s.jsxs("header",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center gap-2 mb-4",children:s.jsx(Mt,{variant:"secondary",className:"bg-primary/10 text-primary",children:"Lembaga Pendidikan"})}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-4",children:e.display_name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground mb-6",children:[e.user_count>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ds,{className:"w-4 h-4"}),s.jsxs("span",{children:[e.user_count," anggota"]})]}),e.created_at&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pr,{className:"w-4 h-4"}),s.jsxs("span",{children:["Dibuat ",new Date(e.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})]})]})]}),e.head_name&&s.jsx("div",{className:"mb-6",children:s.jsxs("p",{className:"text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:"Kepala Lembaga:"})," ",e.head_name]})})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[e.img_url?s.jsx("div",{className:"aspect-[4/3] relative overflow-hidden rounded-lg bg-muted",children:s.jsx("img",{src:gg(e.img_url),alt:e.name,className:"w-full h-full object-cover"})}):s.jsx("div",{className:"aspect-[4/3] bg-muted rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"text-muted-foreground",children:"Tidak ada gambar"})}),s.jsx("div",{className:"prose prose-sm max-w-none",children:s.jsx(qn,{content:e.description||e.excerpt,isDetailView:!0,fallback:`Informasi tentang ${e.name} belum tersedia.`})})]}),s.jsx("div",{className:"mt-12",children:s.jsx(U3,{onShare:p,shareLabel:"Bagikan Lembaga",backPath:"/schools",backLabel:"Lihat Lembaga Lainnya"})})]}),u.length>0&&s.jsx("section",{className:"bg-muted/20 py-16",children:s.jsxs("div",{className:"mx-auto px-4 lg:px-12",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Lembaga Lainnya"})}),s.jsx(zx,{items:u,autoScrollInterval:4500,showControls:!0,itemsPerView:{mobile:1,tablet:2,desktop:3,large:3},className:"mb-8",renderItem:(g,v)=>s.jsxs(Ne,{className:"hover:shadow-lg transition-all duration-300 hover:-translate-y-1 group h-full",children:[s.jsx("div",{className:"aspect-video relative overflow-hidden rounded-t-lg bg-muted",children:s.jsx("img",{src:gg(g.img_url)||`https://picsum.photos/320/180?random=${v+200}`,alt:g.name,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300"})}),s.jsxs(Se,{className:"p-4 flex flex-col h-32",children:[s.jsx("h3",{className:"font-medium text-foreground mb-2 line-clamp-2 group-hover:text-primary transition-colors text-sm flex-grow",children:g.display_name}),s.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-3",children:g.user_count>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ds,{className:"w-3 h-3"}),s.jsxs("span",{children:[g.user_count," anggota"]})]})}),s.jsx(aa,{to:`/schools/${g.id}`,className:"mt-auto",children:s.jsx(pe,{variant:"outline",size:"sm",className:"w-full group-hover:bg-primary group-hover:text-primary-foreground group-hover:border-primary text-xs",children:"Lihat Detail"})})]})]})})]})})]})},Aoe="/assets/bg-galeri-DqCtf6ge.webp",F3=({open:t,onOpenChange:e,image:n,description:a})=>s.jsx(un,{open:t,onOpenChange:e,children:s.jsxs(dn,{className:"max-h-[90vh] overflow-y-scroll p-0",children:[s.jsx(hn,{className:"p-6 pb-0",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsx(fn,{className:"text-lg font-semibold",children:n.title||n.alt})})}),s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"flex-1 flex items-center justify-center p-6 bg-muted/20",children:s.jsx("div",{className:"relative w-full h-full max-w-[30vw] lg:max-w-[50vw]",children:s.jsx("img",{src:n.src,alt:n.alt,className:"w-full h-full object-contain rounded-lg",loading:"lazy"})})}),a&&s.jsx("div",{className:"p-6 bg-background border-t lg:border-t-0 lg:border-l",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"Deskripsi"}),s.jsx("div",{className:"text-sm text-muted-foreground leading-relaxed",children:s.jsx(qn,{isDetailView:!0,content:a})})]})})]})]})}),Coe=()=>{const[t,e]=Og(),[n,a]=x.useState([]),[i,o]=x.useState(!0),[c,u]=x.useState(1),[h,f]=x.useState(0),[p,g]=x.useState(parseInt(t.get("size")||"10")),[v,y]=x.useState(null),[w,j]=x.useState(""),[k,S]=x.useState(!1),E=parseInt(t.get("page")||"1"),A=t.get("search")||"",T=t.get("sort_by")||"created_at",_=t.get("sort_order")||"desc",[M,P]=x.useState(A),O=()=>s.jsxs(Ne,{children:[s.jsx("div",{className:"aspect-square relative overflow-hidden rounded-t-lg bg-muted",children:s.jsx(Le,{className:"w-full h-full"})}),s.jsx(lt,{children:s.jsx(Le,{className:"h-4 w-3/4"})}),s.jsxs(Se,{children:[s.jsx(Le,{className:"h-4 w-full mb-2"}),s.jsx(Le,{className:"h-4 w-2/3"})]})]});x.useEffect(()=>{(async()=>{o(!0);try{const V=await Mu.getGalleries({page:E,size:p,search:A||void 0,sort_by:T,sort_order:_});a(V.items),u(V.pages),f(V.total)}catch(V){console.error("Error loading galleries:",V)}finally{o(!1)}})()},[E,A,T,_,p]);const H=F=>{const V=pg(F.img_url)||`https://picsum.photos/800/600?random=${F.id}`;y({src:V,alt:F.title,title:F.title}),j(F.excerpt||F.short_excerpt||"Dokumentasi kegiatan Yayasan Baitul Muslim Lampung Timur"),S(!0)},Y=F=>{S(F),F||(y(null),j(""))},R=F=>{const V=new URLSearchParams(t);Object.entries(F).forEach(([K,ae])=>{ae?V.set(K,ae):V.delete(K)}),"search"in F&&V.set("page","1"),e(V)},X=()=>{R({search:M||null})},z=F=>{R({page:F.toString()})},Q=F=>{const V=parseInt(F);g(V),R({size:F,page:"1"})},ne=F=>{const[V,K]=F.split("-");R({sort_by:V,sort_order:K})},L=()=>{P(""),R({search:null,page:"1"})};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("section",{className:"relative h-96 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:Aoe,alt:"Galeri Foto",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/40"})]}),s.jsx("div",{className:"relative z-10 h-full flex items-center pt-24",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4 w-full",children:s.jsxs("div",{className:"max-w-3xl text-white",children:[s.jsx(Mt,{variant:"secondary",className:"mb-6 bg-white/10 text-white border-white/20 hover:bg-white/20",children:"Yayasan Baitul Muslim Lampung Timur"}),s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-6 leading-tight",children:"Galeri Foto"}),s.jsx("p",{className:"text-lg md:text-xl mb-8 text-white/90 leading-relaxed max-w-2xl",children:"Kumpulan foto dan dokumentasi kegiatan Yayasan Baitul Muslim Lampung Timur"})]})})})]}),s.jsx("div",{className:"py-8 border-b bg-muted/20",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 flex-1",children:[s.jsxs("div",{className:"relative flex-1 max-w-md",children:[s.jsx(Vj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),s.jsx(at,{placeholder:"Cari galeri...",value:M,onChange:F=>P(F.target.value),onKeyDown:F=>F.key==="Enter"&&X(),className:"pl-10"})]}),s.jsx(pe,{onClick:X,className:"w-full sm:w-auto",children:"Cari"})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(zt,{value:`${T}-${_}`,onValueChange:ne,children:[s.jsx(Pt,{className:"w-48",children:s.jsx(Ut,{placeholder:"Urutkan"})}),s.jsxs(Ot,{children:[s.jsx(Ie,{value:"created_at-desc",children:"Terbaru"}),s.jsx(Ie,{value:"created_at-asc",children:"Terlama"}),s.jsx(Ie,{value:"title-asc",children:"Judul A-Z"}),s.jsx(Ie,{value:"title-desc",children:"Judul Z-A"})]})]}),A&&s.jsx(pe,{variant:"outline",onClick:L,children:"Reset Filter"})]})]})})}),s.jsx("div",{className:"py-12",children:s.jsxs("div",{className:"max-w-screen-xl mx-auto px-4",children:[s.jsx("div",{className:"mb-8",children:s.jsx("p",{className:"text-muted-foreground",children:i?"Memuat...":`Menampilkan ${n.length} dari ${h} galeri`})}),s.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-6 mb-12",children:i?Array.from({length:p}).map((F,V)=>s.jsx(O,{},V)):n.length>0?n.map((F,V)=>s.jsxs(Ne,{className:"hover:shadow-lg transition-all duration-300 hover:-translate-y-1 group",children:[s.jsxs("div",{className:"aspect-square relative overflow-hidden rounded-t-lg bg-muted cursor-pointer",onClick:()=>H(F),children:[s.jsx("img",{src:pg(F.img_url)||`https://picsum.photos/300/300?random=${V+1}`,alt:F.title,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300"}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300 flex items-center justify-center",children:s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:s.jsx(z_,{className:"w-8 h-8 text-white"})})}),s.jsxs(Mt,{className:"absolute top-3 left-3 bg-primary hover:bg-primary/90",children:[s.jsx($_,{className:"w-3 h-3 mr-1"}),"Foto"]})]}),s.jsx(lt,{className:"pb-3",children:s.jsx(pt,{className:"line-clamp-2 group-hover:text-primary transition-colors text-sm",children:F.title})}),s.jsx(Se,{className:"pb-4",children:s.jsx("div",{className:"text-muted-foreground line-clamp-2 leading-relaxed text-xs",children:s.jsx(qn,{content:F.excerpt||F.short_excerpt,fallback:"Dokumentasi kegiatan yayasan.",maxLength:60,className:"text-muted-foreground"})})})]},F.id)):s.jsxs("div",{className:"col-span-full text-center py-12",children:[s.jsx("p",{className:"text-muted-foreground text-lg",children:"Tidak ada galeri yang ditemukan."}),A&&s.jsx(pe,{variant:"outline",onClick:L,className:"mt-4",children:"Reset Filter"})]})}),c>1&&s.jsx("div",{className:"flex justify-center",children:s.jsx(Ua,{currentPage:E,totalPages:c,itemsPerPage:p,totalItems:h,onPageChange:z,onItemsPerPageChange:Q})})]})}),v&&s.jsx(F3,{open:k,onOpenChange:Y,image:v,description:w})]})},Toe="/assets/bg-tentang-DLVmIEIN.webp";var Ux="Collapsible",[_oe,kle]=Zs(Ux),[Roe,bw]=_oe(Ux),V3=x.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:a,defaultOpen:i,disabled:o,onOpenChange:c,...u}=t,[h,f]=zr({prop:a,defaultProp:i??!1,onChange:c,caller:Ux});return s.jsx(Roe,{scope:n,disabled:o,contentId:ls(),open:h,onOpenToggle:x.useCallback(()=>f(p=>!p),[f]),children:s.jsx(Be.div,{"data-state":jw(h),"data-disabled":o?"":void 0,...u,ref:e})})});V3.displayName=Ux;var q3="CollapsibleTrigger",H3=x.forwardRef((t,e)=>{const{__scopeCollapsible:n,...a}=t,i=bw(q3,n);return s.jsx(Be.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":jw(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...a,ref:e,onClick:Ce(t.onClick,i.onOpenToggle)})});H3.displayName=q3;var yw="CollapsibleContent",G3=x.forwardRef((t,e)=>{const{forceMount:n,...a}=t,i=bw(yw,t.__scopeCollapsible);return s.jsx(Ln,{present:n||i.open,children:({present:o})=>s.jsx(Doe,{...a,ref:e,present:o})})});G3.displayName=yw;var Doe=x.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:a,children:i,...o}=t,c=bw(yw,n),[u,h]=x.useState(a),f=x.useRef(null),p=ht(e,f),g=x.useRef(0),v=g.current,y=x.useRef(0),w=y.current,j=c.open||u,k=x.useRef(j),S=x.useRef(void 0);return x.useEffect(()=>{const E=requestAnimationFrame(()=>k.current=!1);return()=>cancelAnimationFrame(E)},[]),bn(()=>{const E=f.current;if(E){S.current=S.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const A=E.getBoundingClientRect();g.current=A.height,y.current=A.width,k.current||(E.style.transitionDuration=S.current.transitionDuration,E.style.animationName=S.current.animationName),h(a)}},[c.open,a]),s.jsx(Be.div,{"data-state":jw(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!j,...o,ref:p,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...t.style},children:j&&i})});function jw(t){return t?"open":"closed"}var Moe=V3;const Poe=Moe,Ooe=H3,Loe=G3,Ioe=()=>s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx("div",{className:"grid gap-8 mb-8",children:s.jsx("div",{className:"max-w-sm mx-auto w-full",children:s.jsxs(Ne,{children:[s.jsx("div",{className:"relative overflow-hidden rounded-t-lg bg-muted h-80",children:s.jsx(Le,{className:"w-full h-full"})}),s.jsxs(Se,{className:"p-6 text-center",children:[s.jsx(Le,{className:"h-6 w-32 mx-auto mb-2"}),s.jsx(Le,{className:"h-4 w-24 mx-auto mb-4"}),s.jsx(Le,{className:"h-16 w-full"})]})]})})}),s.jsx("div",{className:"grid md:grid-cols-2 gap-8",children:Array.from({length:2}).map((t,e)=>s.jsxs(Ne,{children:[s.jsx("div",{className:"relative overflow-hidden rounded-t-lg bg-muted h-80",children:s.jsx(Le,{className:"w-full h-full"})}),s.jsxs(Se,{className:"p-6 text-center",children:[s.jsx(Le,{className:"h-5 w-28 mx-auto mb-2"}),s.jsx(Le,{className:"h-4 w-20 mx-auto mb-4"}),s.jsx(Le,{className:"h-12 w-full"})]})]},e))})]}),Boe=()=>{const[t,e]=x.useState([]),[n,a]=x.useState([]),[i,o]=x.useState([]),[c,u]=x.useState(!0),[h,f]=x.useState(!0),[p,g]=x.useState(null),[v,y]=x.useState(""),[w,j]=x.useState(!1);x.useEffect(()=>{const T=async()=>{try{const M=await ci.getBoardGroups({size:50,sort_by:"display_order",sort_order:"asc"});a(M.items);const P=await ci.getBoardMembers({size:50,sort_by:"member_order",sort_order:"asc"});e(P.items)}catch(M){console.error("Error loading board data:",M)}finally{u(!1)}},_=async()=>{try{const M=await Ch.getPrograms({limit:50});o(M.items)}catch(M){console.error("Error loading program data:",M)}finally{f(!1)}};T(),_()},[]);const k=T=>{const _=OE(T.img_url)||`https://picsum.photos/400/500?random=${T.id}`;g({src:_,alt:T.name,title:`${T.name} - ${T.position}`}),y(T.description||T.short_description||"Pengurus Yayasan Baitul Muslim Lampung Timur"),j(!0)},S=T=>{j(T),T||(g(null),y(""))},E=T=>s.jsxs(Ne,{className:"h-full hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[s.jsx("div",{className:"relative overflow-hidden rounded-t-lg bg-muted",children:T.img_url?s.jsx("img",{src:rc(T.img_url),alt:T.title,className:"w-full h-full object-cover",onError:_=>{const M=_.target;M.src=`https://picsum.photos/400/300?random=${T.id}`}}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Gp,{className:"w-12 h-12 text-muted-foreground"})})}),s.jsxs(Se,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx("div",{className:"bg-primary/10 p-2 rounded-lg flex-shrink-0",children:s.jsx(il,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg text-foreground mb-2",children:T.title}),T.excerpt&&s.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:T.excerpt})]})]}),T.description&&s.jsxs(Poe,{children:[s.jsxs(Ooe,{className:"flex items-center justify-between w-full p-3 bg-muted/50 rounded-lg hover:bg-muted transition-colors",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Lihat Detail Program"}),s.jsx(sx,{className:"w-4 h-4 text-muted-foreground transition-transform [&[data-state=open]]:rotate-180"})]}),s.jsx(Loe,{className:"mt-3",children:s.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground",children:s.jsx(qn,{content:T.description})})})]})]})]},T.id),A=(T,_=!1)=>s.jsxs(Ne,{className:"hover:shadow-lg transition-all duration-300 hover:-translate-y-1 group w-full",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-t-lg bg-muted h-80 cursor-pointer",onClick:()=>k(T),children:[s.jsx("img",{src:OE(T.img_url)||`https://picsum.photos/400/500?random=${T.id}`,alt:T.name,className:"w-full h-full object-cover object-center group-hover:scale-105 transition-transform duration-300"}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300 flex items-center justify-center",children:s.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:s.jsx(z_,{className:"w-8 h-8 text-white"})})}),s.jsx("div",{className:"absolute top-3 right-3 bg-primary text-primary-foreground rounded-full w-8 h-8 flex items-center justify-center font-bold text-sm shadow-lg",children:T.member_order})]}),s.jsxs(Se,{className:"p-6 text-center",children:[s.jsx("h3",{className:`font-bold text-foreground mb-2 group-hover:text-primary transition-colors ${_?"text-xl":"text-lg"}`,children:T.name}),s.jsx(Mt,{variant:"secondary",className:"mb-4",children:T.position}),s.jsx("div",{className:"text-muted-foreground leading-relaxed text-sm",children:T.description?s.jsx(qn,{content:T.description}):T.short_description?s.jsx("p",{children:T.short_description}):s.jsx("p",{children:"Pengurus Yayasan Baitul Muslim Lampung Timur"})})]})]},T.id);return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("section",{className:"relative h-96 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:Toe,alt:"Tentang Yayasan",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/40"})]}),s.jsx("div",{className:"relative z-10 h-full flex items-center pt-24",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4 w-full",children:s.jsxs("div",{className:"max-w-3xl text-white",children:[s.jsx(Mt,{variant:"secondary",className:"mb-6 bg-white/10 text-white border-white/20 hover:bg-white/20",children:"Yayasan Baitul Muslim Lampung Timur"}),s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-6 leading-tight",children:"Tentang Yayasan"}),s.jsx("p",{className:"text-lg md:text-xl mb-8 text-white/90 leading-relaxed max-w-2xl",children:"Mengenal lebih dekat Yayasan Baitul Muslim Lampung Timur, visi misi, dan pengurus yayasan"})]})})})]}),s.jsx("section",{className:"py-16",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4",children:s.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{children:[s.jsx(Mt,{variant:"outline",className:"mb-4 border-primary text-primary",children:"Sejarah Kami"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-foreground",children:"Yayasan Baitul Muslim Lampung Timur"}),s.jsx("p",{className:"text-lg text-muted-foreground mb-6 leading-relaxed",children:"Yayasan Baitul Muslim Lampung Timur adalah lembaga pendidikan dan dakwah Islam yang telah berdiri sejak 15 Juli 1993. Kami menyelenggarakan pendidikan Islam terpadu berkualitas dari tingkat TKIT hingga Pondok Pesantren Tahfidz Qur'an."}),s.jsx("p",{className:"text-lg text-muted-foreground mb-8 leading-relaxed",children:"Berlokasi di Way Jepara, Lampung Timur, kami berkomitmen memberikan pendidikan yang menggabungkan ilmu agama dan umum dengan pendekatan yang holistik dan modern."}),s.jsx("div",{className:"grid gap-4",children:[{icon:pr,title:"Berdiri Sejak 1993",description:"Lebih dari 30 tahun pengalaman dalam pendidikan Islam"},{icon:ax,title:"Lokasi Strategis",description:"Jl. Ir. H. Djuanda No. 19, Way Jepara, Lampung Timur"},{icon:Ds,title:"Pendidikan Holistik",description:"Menggabungkan ilmu agama dan umum dengan pendekatan modern"}].map((T,_)=>{const M=T.icon;return s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-primary/10 p-2 rounded-lg",children:s.jsx(M,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-foreground",children:T.title}),s.jsx("p",{className:"text-muted-foreground text-sm",children:T.description})]})]},_)})})]}),s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"relative",children:s.jsx("img",{src:z3,alt:"Yayasan Baitul Muslim",className:"rounded-lg shadow-lg w-full"})})})]})})}),s.jsx("section",{className:"py-16 bg-muted/20",children:s.jsxs("div",{className:"max-w-screen-xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(Mt,{variant:"outline",className:"mb-4 border-primary text-primary",children:"Kepemimpinan"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-foreground",children:"Pengurus Yayasan"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Para pengurus yang berdedikasi memimpin dan mengembangkan Yayasan Baitul Muslim Lampung Timur"})]}),c?s.jsx(Ioe,{}):n.length>0?s.jsx("div",{className:"max-w-6xl mx-auto space-y-12",children:n.map(T=>{const _=t.filter(M=>M.group_id===T.id).sort((M,P)=>M.member_order-P.member_order);return _.length===0?null:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-2xl font-bold text-foreground mb-2",children:T.title}),T.description&&s.jsx("div",{className:"text-muted-foreground",children:s.jsx(qn,{content:T.description})})]}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(M=>s.jsx("div",{className:"w-full",children:A(M,!1)},M.id))})]},T.id)})}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ds,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Data pengurus belum tersedia."})]})]})}),s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"max-w-screen-xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(Mt,{variant:"outline",className:"mb-4 border-primary text-primary",children:"Visi & Misi"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-foreground",children:"Visi dan Misi Kami"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Komitmen kami dalam mencerdaskan bangsa melalui pendidikan Islam yang berkualitas"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[s.jsxs(Ne,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-primary to-primary/60"}),s.jsxs(Se,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:s.jsx(Fs,{className:"w-8 h-8 text-primary"})}),s.jsx("h3",{className:"text-2xl font-bold text-foreground",children:"Visi"})]}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"Menjadi lembaga pendidikan Islam terpadu yang unggul, berkarakter, dan berwawasan global, yang mampu mencetak generasi Qur'ani yang beriman, bertakwa, berilmu, dan berakhlak mulia."})]})]}),s.jsxs(Ne,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-primary/60 to-primary"}),s.jsxs(Se,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"bg-primary/10 p-3 rounded-lg",children:s.jsx(Gp,{className:"w-8 h-8 text-primary"})}),s.jsx("h3",{className:"text-2xl font-bold text-foreground",children:"Misi"})]}),s.jsx("div",{className:"space-y-4",children:["Menyelenggarakan pendidikan Islam terpadu yang berkualitas dengan kurikulum yang seimbang antara ilmu agama dan umum","Membentuk generasi yang memiliki akhlak mulia, berkarakter Islami, dan berwawasan global","Mengembangkan potensi peserta didik secara optimal dalam aspek spiritual, intelektual, emosional, dan sosial","Menciptakan lingkungan pembelajaran yang kondusif, inovatif, dan berbasis teknologi modern","Membangun kemitraan strategis dengan berbagai pihak untuk kemajuan pendidikan Islam"].map((T,_)=>s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"bg-primary/20 text-primary rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:_+1}),s.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm",children:T})]},_))})]})]})]})]})}),s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"max-w-screen-xl mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(Mt,{variant:"outline",className:"mb-4 border-primary text-primary",children:"Program Kami"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6 text-foreground",children:"Program Yayasan"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Berbagai program unggulan yang dijalankan untuk kemajuan pendidikan dan kesejahteraan umat"})]}),s.jsx("div",{className:"relative max-w-6xl mx-auto",children:h?s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((T,_)=>s.jsxs(Ne,{children:[s.jsx("div",{className:"relative overflow-hidden rounded-t-lg bg-muted h-48",children:s.jsx(Le,{className:"w-full h-full"})}),s.jsxs(Se,{className:"p-6",children:[s.jsx(Le,{className:"h-6 w-32 mb-2"}),s.jsx(Le,{className:"h-4 w-full mb-2"}),s.jsx(Le,{className:"h-4 w-3/4"})]})]},_))}):i.length>0?s.jsxs(gw,{opts:{align:"start",loop:!0},className:"w-full",children:[s.jsx(xw,{className:"-ml-2 md:-ml-4",children:i.map(T=>s.jsx(vw,{className:"pl-2 md:pl-4",children:E(T)},T.id))}),s.jsx(I3,{className:"hidden md:flex"}),s.jsx(B3,{className:"hidden md:flex"})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Gp,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Belum ada data program yang tersedia."})]})})]})}),p&&s.jsx(F3,{open:w,onOpenChange:S,image:p,description:v})]})},zoe="/assets/bg-kontak-CuALTcQc.webp",Uoe=()=>{const[t,e]=x.useState({name:"",email:"",title:"",message:""}),[n,a]=x.useState(!1),[i,o]=x.useState(!1),{error:c,success:u}=Lt(),h=g=>{const{name:v,value:y}=g.target;e(w=>({...w,[v]:y}))},f=async g=>{if(g.preventDefault(),!t.name.trim()||!t.email.trim()||!t.title.trim()||!t.message.trim()){c({title:"Semua field harus diisi"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)){c({title:"Format email tidak valid"});return}a(!0);try{const y={name:t.name.trim(),email:t.email.trim(),title:t.title.trim(),message:t.message.trim()};await ku.submitMessage(y),o(!0),e({name:"",email:"",title:"",message:""}),u({title:"Pesan berhasil dikirim! Kami akan segera merespons."})}catch(y){console.error("Error submitting message:",y)}finally{a(!1)}},p=()=>{o(!1),e({name:"",email:"",title:"",message:""})};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsxs("section",{className:"relative h-96 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:zoe,alt:"Kontak Kami",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/40"})]}),s.jsx("div",{className:"relative z-10 h-full flex items-center pt-24",children:s.jsx("div",{className:"max-w-screen-xl mx-auto px-4 w-full",children:s.jsxs("div",{className:"max-w-3xl text-white",children:[s.jsx(Mt,{variant:"secondary",className:"mb-6 bg-white/10 text-white border-white/20 hover:bg-white/20",children:"Yayasan Baitul Muslim Lampung Timur"}),s.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold mb-6 leading-tight",children:"Kontak Kami"}),s.jsx("p",{className:"text-lg md:text-xl mb-8 text-white/90 leading-relaxed max-w-2xl",children:"Hubungi kami untuk informasi lebih lanjut tentang pendidikan, program, atau pertanyaan lainnya"})]})})})]}),s.jsx("section",{className:"py-16",children:s.jsx("div",{className:"px-4 max-w-screen-xl lg:px-8 mx-auto px-4",children:s.jsx("div",{className:"flex flex-col gap-12",children:s.jsxs("div",{children:[s.jsxs("div",{className:"mb-8",children:[s.jsx(Mt,{variant:"outline",className:"mb-4 border-primary text-primary",children:"Kirim Pesan"}),s.jsx("h2",{className:"text-3xl font-bold mb-4 text-foreground",children:"Hubungi Kami"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Isi form di bawah ini untuk mengirim pesan kepada kami. Kami akan merespons dalam 1x24 jam."})]}),i?s.jsx(Ne,{className:"border-green-200 bg-green-50 border-2",children:s.jsxs(Se,{className:"p-8 text-center",children:[s.jsx(Qi,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:"Pesan Terkirim!"}),s.jsx("p",{className:"text-green-700 mb-6",children:"Terima kasih telah menghubungi kami. Pesan Anda telah berhasil dikirim dan akan segera kami proses."}),s.jsx(pe,{onClick:p,variant:"outline",className:"border-green-600 text-green-600 hover:bg-green-600 hover:text-white",children:"Kirim Pesan Lain"})]})}):s.jsx(Ne,{children:s.jsx(Se,{className:"p-6",children:s.jsxs("form",{onSubmit:f,className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"name",children:"Nama Lengkap *"}),s.jsx(at,{id:"name",name:"name",type:"text",placeholder:"Masukkan nama lengkap",value:t.name,onChange:h,required:!0,disabled:n})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"email",children:"Email *"}),s.jsx(at,{id:"email",name:"email",type:"email",placeholder:"nama@email.com",value:t.email,onChange:h,required:!0,disabled:n})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"title",children:"Subjek *"}),s.jsx(at,{id:"title",name:"title",type:"text",placeholder:"Subjek pesan",value:t.title,onChange:h,required:!0,disabled:n})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(Pe,{htmlFor:"message",children:"Pesan *"}),s.jsx(vr,{id:"message",name:"message",placeholder:"Tulis pesan Anda di sini...",value:t.message,onChange:h,required:!0,disabled:n,rows:6})]}),s.jsx(pe,{type:"submit",className:"w-full",disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Mengirim..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Wy,{className:"w-4 h-4 mr-2"}),"Kirim Pesan"]})})]})})})]})})})})]})},$oe=({statistics:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>s.jsx("div",{className:"rounded-md border",children:s.jsxs(Gs,{children:[s.jsx(Ks,{children:s.jsxs(rt,{children:[s.jsx(_e,{children:"Judul"}),s.jsx(_e,{children:"Nilai"}),s.jsx(_e,{children:"Urutan"}),s.jsx(_e,{children:"Dibuat"}),s.jsx(_e,{className:"text-right",children:"Aksi"})]})}),s.jsx(Xs,{children:e?s.jsx(rt,{children:s.jsx(Ae,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Memuat Statistik..."})}):t.length===0?s.jsx(rt,{children:s.jsx(Ae,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"Tidak ada Statistik ditemukan"})}):t.map(o=>s.jsxs(rt,{children:[s.jsx(Ae,{children:s.jsxs("div",{className:"flex items-center space-x-3",children:[o.img_url&&s.jsx("img",{src:gr(o.img_url),alt:o.title,className:"w-8 h-8 rounded object-cover"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:o.title}),o.description&&s.jsx("div",{className:"text-muted-foreground",children:o.description.length>60?`${o.description.substring(0,60)}...`:o.description})]})]})}),s.jsx(Ae,{children:o.stats}),s.jsx(Ae,{children:o.display_order}),s.jsx(Ae,{children:vn(new Date(o.created_at),"dd MMM yyyy",{locale:yn})}),s.jsx(Ae,{className:"text-right",children:s.jsx(gn,{onView:()=>i(o),onEdit:()=>n(o),onDelete:()=>a(o)})})]},o.id))})]})}),Foe=({statistics:t,loading:e=!1,onEdit:n,onDelete:a,onView:i})=>e?s.jsx("div",{className:"space-y-4",children:[...Array(3)].map((o,c)=>s.jsx(Ne,{className:"animate-pulse",children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-muted rounded"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-32"}),s.jsx("div",{className:"h-3 bg-muted rounded w-24"})]})]}),s.jsx("div",{className:"w-8 h-8 bg-muted rounded-full"})]})})},c))}):t.length===0?s.jsx(Ne,{children:s.jsx(Se,{className:"p-8 text-center text-muted-foreground",children:"Tidak ada Statistik ditemukan"})}):s.jsx("div",{className:"space-y-4",children:t.map(o=>s.jsx(Ne,{className:"hover:shadow-md transition-shadow",children:s.jsx(Se,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[o.img_url&&s.jsx("img",{src:gr(o.img_url),alt:o.title,className:"w-12 h-12 rounded-lg object-cover flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx("h3",{className:"font-medium truncate",children:o.title}),s.jsxs(Mt,{variant:"secondary",children:["#",o.display_order]})]}),s.jsx("div",{className:"font-semibold mb-1",children:o.stats}),o.description&&s.jsx("p",{className:"text-muted-foreground line-clamp-2",children:o.description}),s.jsxs("div",{className:"text-muted-foreground mt-2",children:["Dibuat: ",vn(new Date(o.created_at),"dd MMM yyyy",{locale:yn})]})]})]}),s.jsx("div",{className:"ml-4",children:s.jsx(gn,{onView:()=>i(o),onEdit:()=>n(o),onDelete:()=>a(o)})})]})})},o.id))}),Voe=Ws({title:ct().min(1,"Judul wajib diisi").max(255,"Judul maksimal 255 karakter"),description:ct().optional().or(ys("")),stats:ct().min(1,"Nilai statistik wajib diisi").max(255,"Nilai maksimal 255 karakter"),display_order:to().min(1,"Urutan minimal 1").optional()}),qoe=({open:t,onOpenChange:e,editingStatistic:n,onSave:a})=>{const[i,o]=x.useState(!1),[c,u]=x.useState([]),h=!!n,f=js({resolver:ws(Voe),defaultValues:{title:"",description:"",stats:"",display_order:void 0}});x.useEffect(()=>{t&&(n?f.reset({title:n.title,description:n.description||"",stats:n.stats,display_order:n.display_order}):f.reset({title:"",description:"",stats:"",display_order:void 0}),u([]))},[t,n,f]);const p=async y=>{o(!0);try{const w=c.length>0?c[0]:void 0;await a({title:y.title,description:y.description||void 0,stats:y.stats,display_order:y.display_order},w),e(!1),f.reset(),u([])}catch(w){console.error("Failed to save statistic:",w)}finally{o(!1)}},g=y=>{u(y)},v=y=>{u(w=>w.filter((j,k)=>k!==y))};return s.jsx(un,{open:t,onOpenChange:e,children:s.jsxs(dn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(hn,{children:s.jsx(fn,{children:h?"Edit Statistik":"Tambah Statistik"})}),s.jsx(Hn,{...f,children:s.jsxs("form",{onSubmit:f.handleSubmit(p),className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col gap-6",children:[s.jsx(Ue,{control:f.control,name:"title",render:({field:y})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Judul"}),s.jsx(ze,{children:s.jsx(at,{placeholder:"Contoh: Total Siswa",...y})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:f.control,name:"stats",render:({field:y})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Nilai Statistik"}),s.jsx(ze,{children:s.jsx(at,{placeholder:"Contoh: 1,250 atau 85% atau 2.5km",...y})}),s.jsx(fa,{children:"Nilai bisa berupa angka dengan suffix seperti %, km, atau hanya angka biasa"}),s.jsx(Ke,{})]})})]}),s.jsx(Ue,{control:f.control,name:"description",render:({field:y})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Deskripsi (Opsional)"}),s.jsx(ze,{children:s.jsx(vr,{placeholder:"Deskripsi singkat tentang statistik ini...",rows:3,...y})}),s.jsx(Ke,{})]})}),s.jsx(Ue,{control:f.control,name:"display_order",render:({field:y})=>s.jsxs($e,{children:[s.jsx(Fe,{children:"Urutan Tampilan (Opsional)"}),s.jsx(ze,{children:s.jsx(at,{type:"number",min:"1",placeholder:"Biarkan kosong untuk otomatis",...y,value:y.value||"",onChange:w=>y.onChange(w.target.value?parseInt(w.target.value):void 0)})}),s.jsx(fa,{children:"Urutan untuk menampilkan statistik. Biarkan kosong untuk menggunakan urutan otomatis."}),s.jsx(Ke,{})]})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block font-medium",children:"Icon Statistik (Opsional)"}),s.jsx(Sc,{accept:"image/*",maxFiles:1,maxSize:5*1024*1024,onFilesChange:g,onFileRemove:v,files:c,description:"Upload icon untuk statistik (maksimal 5MB)"}),h&&(n==null?void 0:n.img_url)&&c.length===0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"text-muted-foreground",children:"Icon saat ini:"}),s.jsx("img",{src:n.img_url,alt:n.title,className:"w-16 h-16 object-cover rounded mt-1"})]})]}),s.jsxs(Js,{children:[s.jsx(pe,{type:"button",variant:"outline",onClick:()=>e(!1),disabled:i,children:"Batal"}),s.jsx(pe,{type:"submit",disabled:i,children:i?"Menyimpan...":h?"Update":"Simpan"})]})]})})]})})},Hoe=()=>{const{isAdmin:t}=us(),{toast:e}=Lt(),{updateURL:n,getCurrentFilters:a}=xa({defaults:{search:"",page:1,size:10},cleanDefaults:!0}),i=a(),[o,c]=x.useState([]),[u,h]=x.useState(!0),[f,p]=x.useState(0),[g,v]=x.useState(0),[y,w]=x.useState(!1),[j,k]=x.useState(!1),[S,E]=x.useState(null),[A,T]=x.useState(null),[_,M]=x.useState(null),P=t(),O=async()=>{h(!0);try{const K={page:i.page,size:i.size,search:i.search||void 0,sort_by:"display_order",sort_order:"asc"},ae=await Th.getStatistics(K);c(ae.items),p(ae.total),v(ae.pages)}catch(K){console.error("Failed to fetch statistics:",K),e({title:"Error",description:"Gagal memuat data Statistik. Silakan coba lagi.",variant:"destructive"})}finally{h(!1)}};x.useEffect(()=>{P&&O()},[i.page,i.size,i.search,P]);const H=K=>{T(K),k(!0)},Y=K=>{E(K),w(!0)},R=K=>{M(K)},X=async()=>{if(_)try{await Th.deleteStatistic(_.id),M(null),O(),e({title:"Statistik berhasil dihapus",description:`Statistik ${_.title} telah dihapus dari sistem.`})}catch(K){console.error("Failed to delete statistic:",K);const ae=(K==null?void 0:K.message)||"Gagal menghapus Statistik. Silakan coba lagi.";e({title:"Error",description:ae,variant:"destructive"})}},z=()=>{E(null),w(!0)},Q=async(K,ae)=>{try{S?(await Th.updateStatistic(S.id,K,ae),e({title:"Statistik berhasil diperbarui",description:`Statistik ${K.title} telah diperbarui.`})):(await Th.createStatistic(K,ae),e({title:"Statistik berhasil dibuat",description:`Statistik ${K.title} telah ditambahkan ke sistem.`})),w(!1),E(null),O()}catch(G){console.error("Failed to save statistic:",G);const B=(G==null?void 0:G.message)||"Gagal menyimpan Statistik. Silakan coba lagi.";e({title:"Error",description:B,variant:"destructive"})}},ne=K=>{n({size:parseInt(K),page:1})},L=x.useCallback(K=>{K!==i.search&&n({search:K,page:1})},[n,i.search]),F=K=>{n({page:K})},V=()=>"Daftar Statistik";return P?s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ms,{title:"Manajemen Statistik",description:"Kelola statistik dan data tampilan untuk website",actions:s.jsxs(pe,{onClick:z,children:[s.jsx(Vs,{className:"w-4 h-4 mr-2"}),"Tambah Statistik"]})}),s.jsx(Ne,{children:s.jsx(Se,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(hr,{title:V(),subtitle:"Kelola statistik dan data yang ditampilkan di website"}),s.jsx(Hr,{searchQuery:i.search,onSearchChange:L,placeholder:"Cari statistik berdasarkan judul, deskripsi, atau nilai..."}),s.jsx("div",{className:"hidden lg:block",children:s.jsx($oe,{statistics:o,loading:u,onView:H,onEdit:Y,onDelete:R})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(Foe,{statistics:o,loading:u,onView:H,onEdit:Y,onDelete:R})}),g>1&&s.jsx(Ua,{currentPage:i.page,totalPages:g,itemsPerPage:i.size,totalItems:f,onPageChange:F,onItemsPerPageChange:ne})]})})}),s.jsx(qoe,{open:y,onOpenChange:w,editingStatistic:S,onSave:Q}),A&&s.jsx(un,{open:j,onOpenChange:k,children:s.jsxs(dn,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(hn,{children:s.jsx(fn,{children:"Detail Statistik"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(Pe,{children:"Judul"}),s.jsx("div",{className:"p-2 bg-muted rounded",children:A.title})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Nilai"}),s.jsx("div",{className:"p-2 bg-muted rounded font-semibold text-primary",children:A.stats})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Urutan Tampilan"}),s.jsxs("div",{className:"p-2 bg-muted rounded",children:["#",A.display_order]})]}),s.jsxs("div",{children:[s.jsx(Pe,{children:"Dibuat"}),s.jsx("div",{className:"p-2 bg-muted rounded",children:new Date(A.created_at).toLocaleDateString("id-ID")})]}),A.updated_at&&s.jsxs("div",{children:[s.jsx(Pe,{children:"Terakhir Diupdate"}),s.jsx("div",{className:"p-2 bg-muted rounded",children:new Date(A.updated_at).toLocaleDateString("id-ID")})]})]}),A.img_url&&s.jsxs("div",{children:[s.jsx(Pe,{children:"Icon"}),s.jsx("div",{className:"p-2 bg-muted rounded",children:s.jsx("img",{src:A.img_url,alt:A.title,className:"w-16 h-16 rounded object-cover"})})]}),A.description&&s.jsxs("div",{children:[s.jsx(Pe,{children:"Deskripsi"}),s.jsx("div",{className:"p-2 bg-muted rounded",children:A.description})]})]})]})}),s.jsx(cs,{open:!!_,onOpenChange:()=>M(null),children:s.jsxs(Wn,{children:[s.jsxs(Zn,{children:[s.jsx(Jn,{children:"Konfirmasi Hapus"}),s.jsxs(es,{children:["Tindakan ini tidak dapat dibatalkan. Statistik"," ",s.jsx("span",{className:"font-semibold",children:_==null?void 0:_.title})," akan dihapus secara permanen dari sistem."]})]}),s.jsxs(Qn,{children:[s.jsx(ns,{children:"Batal"}),s.jsx(ts,{onClick:X,className:"bg-red-600 hover:bg-red-700",children:"Hapus Statistik"})]})]})})]}):s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Akses Ditolak"}),s.jsx("p",{className:"text-muted-foreground",children:"Anda tidak memiliki akses untuk melihat halaman ini."})]})})},Goe=()=>{const t=ki(),{currentRole:e}=us(),{user:n}=fr(),{toast:a}=Lt();return e==="ADMIN"?s.jsx(eo,{to:"/rpp-submissions",replace:!0}):(x.useEffect(()=>{const i=async()=>{if(!(n!=null&&n.id)){console.error("User ID not available");return}try{const o=await Nn.getActivePeriod();o!=null&&o.id?t(`/teacher-evaluations/${n.id}?period_id=${o.id}`):a({title:"Periode Tidak Aktif",description:"Belum ada periode yang aktif saat ini. Hubungi administrator.",variant:"destructive"})}catch(o){console.error("Error getting active period:",o),a({title:"Error",description:"Gagal mengambil periode aktif. Silakan coba lagi.",variant:"destructive"})}};n!=null&&n.id&&i()},[n==null?void 0:n.id,t,a]),s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),s.jsx("p",{className:"text-muted-foreground",children:"Mengalihkan ke evaluasi Anda..."})]})}))};function Koe(){return s.jsx(VC,{children:s.jsx(i6,{store:Uh,children:s.jsx(dB,{children:s.jsx(LT,{loading:null,persistor:zT,children:s.jsx(xz,{children:s.jsx($L,{children:s.jsxs(pz,{children:[s.jsx(mz,{}),s.jsxs(FL,{children:[s.jsxs(Et,{path:"/",element:s.jsx(rV,{}),children:[s.jsx(Et,{index:!0,element:s.jsx(RC,{})}),s.jsx(Et,{path:"home",element:s.jsx(RC,{})}),s.jsx(Et,{path:"articles",element:s.jsx(woe,{})}),s.jsx(Et,{path:"articles/:id",element:s.jsx(Noe,{})}),s.jsx(Et,{path:"schools",element:s.jsx(koe,{})}),s.jsx(Et,{path:"schools/:id",element:s.jsx(Eoe,{})}),s.jsx(Et,{path:"galleries",element:s.jsx(Coe,{})}),s.jsx(Et,{path:"about",element:s.jsx(Boe,{})}),s.jsx(Et,{path:"contact",element:s.jsx(Uoe,{})})]}),s.jsxs(Et,{path:"/",children:[s.jsx(Et,{path:"login",element:s.jsx(Cp,{children:s.jsx(kF,{})})}),s.jsx(Et,{path:"forgot-password",element:s.jsx(Cp,{children:s.jsx(oV,{})})}),s.jsx(Et,{path:"callback",element:s.jsx(Cp,{children:s.jsx(lV,{})})}),s.jsx(Et,{path:"reset-password",element:s.jsx(Cp,{children:s.jsx(uV,{})})})]}),s.jsxs(Et,{path:"/",element:s.jsx(QQ,{children:s.jsx(fF,{})}),children:[s.jsx(Et,{index:!0,element:s.jsx($E,{})}),s.jsx(Et,{path:"dashboard",element:s.jsx($E,{})}),s.jsx(Et,{path:"profile",element:s.jsx(QV,{})}),s.jsx(Et,{path:"users",element:s.jsx(Ts,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(uH,{})})}),s.jsx(Et,{path:"cms/organizations",element:s.jsx(Ts,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(WQ,{})})}),s.jsx(Et,{path:"periods",element:s.jsx(Ts,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(lJ,{})})}),s.jsx(Et,{path:"evaluation-aspects",element:s.jsx(Ts,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(Cre,{})})}),s.jsx(Et,{path:"evaluations/reports",element:s.jsx(Ts,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(Fre,{})})}),s.jsx(Et,{path:"teacher-evaluations",element:s.jsx(Ts,{allowedRoles:["SUPER_ADMIN","ADMIN","KEPALA_SEKOLAH"],children:s.jsx(Pre,{})})}),s.jsx(Et,{path:"teacher-evaluations/:teacherId",element:s.jsx(Ts,{allowedRoles:["SUPER_ADMIN","ADMIN","KEPALA_SEKOLAH","GURU"],children:s.jsx(Bre,{})})}),s.jsx(Et,{path:"my-evaluations",element:s.jsx(Ts,{allowedRoles:["GURU","KEPALA_SEKOLAH"],children:s.jsx(Goe,{})})}),s.jsx(Et,{path:"my-rpp-submissions",element:s.jsx(Ts,{allowedRoles:["GURU","KEPALA_SEKOLAH"],children:s.jsx(Vre,{})})}),s.jsx(Et,{path:"rpp-submissions",element:s.jsx(Ts,{allowedRoles:["SUPER_ADMIN","ADMIN","KEPALA_SEKOLAH"],children:s.jsx(tie,{})})}),s.jsx(Et,{path:"rpp-submissions/teacher/:teacherId",element:s.jsx(Ts,{allowedRoles:["SUPER_ADMIN","ADMIN","KEPALA_SEKOLAH","GURU"],children:s.jsx(nie,{})})}),s.jsxs(Et,{path:"/cms",children:[s.jsx(Et,{path:"board-members",element:s.jsx(Ts,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(uie,{})})}),s.jsx(Et,{path:"articles",element:s.jsx(Ts,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(xie,{})})}),s.jsx(Et,{path:"galleries",element:s.jsx(Ts,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(Nie,{})})}),s.jsx(Et,{path:"messages",element:s.jsx(Ts,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(Aie,{})})}),s.jsx(Et,{path:"program",element:s.jsx(Ts,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(Mie,{})})}),s.jsx(Et,{path:"statistik",element:s.jsx(Ts,{allowedRoles:["SUPER_ADMIN","ADMIN"],children:s.jsx(Hoe,{})})})]})]})]})]})})})})})})})}S6.createRoot(document.getElementById("root")).render(s.jsx(ve.StrictMode,{children:s.jsx(VC,{children:s.jsx(Koe,{})})}))});export default Yoe();
